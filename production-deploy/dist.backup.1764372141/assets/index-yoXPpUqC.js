var R0=e=>{throw TypeError(e)};var Sf=(e,t,n)=>t.has(e)||R0("Cannot "+n);var te=(e,t,n)=>(Sf(e,t,"read from private field"),n?n.call(e):t.get(e)),$e=(e,t,n)=>t.has(e)?R0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Re=(e,t,n,a)=>(Sf(e,t,"write to private field"),a?a.call(e,n):t.set(e,n),n),pn=(e,t,n)=>(Sf(e,t,"access private method"),n);var zc=(e,t,n,a)=>({set _(i){Re(e,t,i,n)},get _(){return te(e,t,a)}});import{r as H,a as pN,g as mp,c as Lc,b as pp}from"./vendor-BOfUEBiL.js";import{l as gN,Z as _a,U as Rh,C as Cs,M as Vi,H as Es,S as Dh,P as Bu,B as D0,a as Da,L as gp,b as Mh,c as Qi,E as _f,d as wf,T as Rs,R as bN,e as xN,f as yN,X as vN,Y as SN,g as _N,h as wN,i as Ji,j as hv,k as fu,D as Zs,m as $t,n as mv,o as EN,p as Oh,I as bp,q as NN,r as M0,s as pv,t as hu,u as jl,A as gv,v as Dd,w as kN,x as co,y as bv,z as TN,F as jN,G as xv,J as AN,K as Al,Q as yv,N as vv,O as O0,V as CN,W as Sv,_ as RN,$ as _v,a0 as wv,a1 as I0,a2 as DN,a3 as Ev,a4 as MN,a5 as xp,a6 as yp,a7 as Nv,a8 as Ih,a9 as ON,aa as kv,ab as vp,ac as IN,ad as zN,ae as z0,af as L0,ag as U0,ah as Vr,ai as LN,aj as UN,ak as Tv,al as BN,am as PN,an as HN,ao as jv,ap as zh,aq as FN,ar as B0,as as GN,at as Av,au as qN}from"./libs-DOqAdg-N.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Cv={exports:{}},Md={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YN=Symbol.for("react.transitional.element"),VN=Symbol.for("react.fragment");function Rv(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:YN,type:e,key:a,ref:t!==void 0?t:null,props:n}}Md.Fragment=VN;Md.jsx=Rv;Md.jsxs=Rv;Cv.exports=Md;var o=Cv.exports,Dv={exports:{}},Od={},Mv={exports:{}},Ov={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,q){var V=F.length;F.push(q);e:for(;0<V;){var K=V-1>>>1,Z=F[K];if(0<i(Z,q))F[K]=q,F[V]=Z,V=K;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var q=F[0],V=F.pop();if(V!==q){F[0]=V;e:for(var K=0,Z=F.length,O=Z>>>1;K<O;){var L=2*(K+1)-1,ce=F[L],oe=L+1,re=F[oe];if(0>i(ce,V))oe<Z&&0>i(re,ce)?(F[K]=re,F[oe]=V,K=oe):(F[K]=ce,F[L]=V,K=L);else if(oe<Z&&0>i(re,V))F[K]=re,F[oe]=V,K=oe;else break e}}return q}function i(F,q){var V=F.sortIndex-q.sortIndex;return V!==0?V:F.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var c=[],u=[],m=1,d=null,h=3,f=!1,g=!1,b=!1,y=!1,p=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function w(F){for(var q=n(u);q!==null;){if(q.callback===null)a(u);else if(q.startTime<=F)a(u),q.sortIndex=q.expirationTime,t(c,q);else break;q=n(u)}}function E(F){if(b=!1,w(F),!g)if(n(c)!==null)g=!0,j||(j=!0,T());else{var q=n(u);q!==null&&R(E,q.startTime-F)}}var j=!1,N=-1,D=5,z=-1;function A(){return y?!0:!(e.unstable_now()-z<D)}function W(){if(y=!1,j){var F=e.unstable_now();z=F;var q=!0;try{e:{g=!1,b&&(b=!1,x(N),N=-1),f=!0;var V=h;try{t:{for(w(F),d=n(c);d!==null&&!(d.expirationTime>F&&A());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var Z=K(d.expirationTime<=F);if(F=e.unstable_now(),typeof Z=="function"){d.callback=Z,w(F),q=!0;break t}d===n(c)&&a(c),w(F)}else a(c);d=n(c)}if(d!==null)q=!0;else{var O=n(u);O!==null&&R(E,O.startTime-F),q=!1}}break e}finally{d=null,h=V,f=!1}q=void 0}}finally{q?T():j=!1}}}var T;if(typeof _=="function")T=function(){_(W)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,S=I.port2;I.port1.onmessage=W,T=function(){S.postMessage(null)}}else T=function(){p(W,0)};function R(F,q){N=p(function(){F(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var V=h;h=q;try{return F()}finally{h=V}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=h;h=F;try{return q()}finally{h=V}},e.unstable_scheduleCallback=function(F,q,V){var K=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=V+Z,F={id:m++,callback:q,priorityLevel:F,startTime:V,expirationTime:Z,sortIndex:-1},V>K?(F.sortIndex=V,t(u,F),n(c)===null&&F===n(u)&&(b?(x(N),N=-1):b=!0,R(E,V-K))):(F.sortIndex=Z,t(c,F),g||f||(g=!0,j||(j=!0,T()))),F},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(F){var q=h;return function(){var V=h;h=q;try{return F.apply(this,arguments)}finally{h=V}}}})(Ov);Mv.exports=Ov;var $N=Mv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=$N,Iv=H,KN=pN;function se(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ic(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function P0(e){if(ic(e)!==e)throw Error(se(188))}function WN(e){var t=e.alternate;if(!t){if(t=ic(e),t===null)throw Error(se(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return P0(i),e;if(s===a)return P0(i),t;s=s.sibling}throw Error(se(188))}if(n.return!==a.return)n=i,a=s;else{for(var r=!1,l=i.child;l;){if(l===n){r=!0,n=i,a=s;break}if(l===a){r=!0,a=i,n=s;break}l=l.sibling}if(!r){for(l=s.child;l;){if(l===n){r=!0,n=s,a=i;break}if(l===a){r=!0,a=s,n=i;break}l=l.sibling}if(!r)throw Error(se(189))}}if(n.alternate!==a)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?e:t}function Bv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Bv(e),t!==null)return t;e=e.sibling}return null}var _t=Object.assign,XN=Symbol.for("react.element"),Uc=Symbol.for("react.transitional.element"),rl=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),Pv=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),Hv=Symbol.for("react.consumer"),ii=Symbol.for("react.context"),Sp=Symbol.for("react.forward_ref"),Uh=Symbol.for("react.suspense"),Bh=Symbol.for("react.suspense_list"),_p=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),Ph=Symbol.for("react.activity"),ZN=Symbol.for("react.memo_cache_sentinel"),H0=Symbol.iterator;function Qo(e){return e===null||typeof e!="object"?null:(e=H0&&e[H0]||e["@@iterator"],typeof e=="function"?e:null)}var QN=Symbol.for("react.client.reference");function Hh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===QN?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ar:return"Fragment";case Lh:return"Profiler";case Pv:return"StrictMode";case Uh:return"Suspense";case Bh:return"SuspenseList";case Ph:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case rl:return"Portal";case ii:return e.displayName||"Context";case Hv:return(e._context.displayName||"Context")+".Consumer";case Sp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _p:return t=e.displayName||null,t!==null?t:Hh(e.type)||"Memo";case Di:t=e._payload,e=e._init;try{return Hh(e(t))}catch{}}return null}var ol=Array.isArray,Te=Iv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=KN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Hs={pending:!1,data:null,method:null,action:null},Fh=[],Cr=-1;function Ba(e){return{current:e}}function tn(e){0>Cr||(e.current=Fh[Cr],Fh[Cr]=null,Cr--)}function bt(e,t){Cr++,Fh[Cr]=e.current,e.current=t}var La=Ba(null),Cl=Ba(null),es=Ba(null),Pu=Ba(null);function Hu(e,t){switch(bt(es,t),bt(Cl,e),bt(La,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$b(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$b(t),e=ow(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}tn(La),bt(La,e)}function uo(){tn(La),tn(Cl),tn(es)}function Gh(e){e.memoizedState!==null&&bt(Pu,e);var t=La.current,n=ow(t,e.type);t!==n&&(bt(Cl,e),bt(La,n))}function Fu(e){Cl.current===e&&(tn(La),tn(Cl)),Pu.current===e&&(tn(Pu),Hl._currentValue=Hs)}var Ef,F0;function ks(e){if(Ef===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ef=t&&t[1]||"",F0=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ef+e+F0}var Nf=!1;function kf(e,t){if(!e||Nf)return"";Nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(f){var h=f}Reflect.construct(e,[],d)}else{try{d.call()}catch(f){h=f}e.call(d.prototype)}}else{try{throw Error()}catch(f){h=f}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(f){if(f&&h&&typeof f.stack=="string")return[f.stack,h.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),r=s[0],l=s[1];if(r&&l){var c=r.split(`
`),u=l.split(`
`);for(i=a=0;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(a===c.length||i===u.length)for(a=c.length-1,i=u.length-1;1<=a&&0<=i&&c[a]!==u[i];)i--;for(;1<=a&&0<=i;a--,i--)if(c[a]!==u[i]){if(a!==1||i!==1)do if(a--,i--,0>i||c[a]!==u[i]){var m=`
`+c[a].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=a&&0<=i);break}}}finally{Nf=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ks(n):""}function JN(e,t){switch(e.tag){case 26:case 27:case 5:return ks(e.type);case 16:return ks("Lazy");case 13:return e.child!==t&&t!==null?ks("Suspense Fallback"):ks("Suspense");case 19:return ks("SuspenseList");case 0:case 15:return kf(e.type,!1);case 11:return kf(e.type.render,!1);case 1:return kf(e.type,!0);case 31:return ks("Activity");default:return""}}function G0(e){try{var t="",n=null;do t+=JN(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var qh=Object.prototype.hasOwnProperty,wp=Kt.unstable_scheduleCallback,Tf=Kt.unstable_cancelCallback,ek=Kt.unstable_shouldYield,tk=Kt.unstable_requestPaint,qn=Kt.unstable_now,nk=Kt.unstable_getCurrentPriorityLevel,Fv=Kt.unstable_ImmediatePriority,Gv=Kt.unstable_UserBlockingPriority,Gu=Kt.unstable_NormalPriority,ak=Kt.unstable_LowPriority,qv=Kt.unstable_IdlePriority,ik=Kt.log,sk=Kt.unstable_setDisableYieldValue,sc=null,Yn=null;function $i(e){if(typeof ik=="function"&&sk(e),Yn&&typeof Yn.setStrictMode=="function")try{Yn.setStrictMode(sc,e)}catch{}}var Vn=Math.clz32?Math.clz32:lk,rk=Math.log,ok=Math.LN2;function lk(e){return e>>>=0,e===0?32:31-(rk(e)/ok|0)|0}var Bc=256,Pc=262144,Hc=4194304;function Ts(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Id(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~s,a!==0?i=Ts(a):(r&=l,r!==0?i=Ts(r):n||(n=l&~e,n!==0&&(i=Ts(n))))):(l=a&~s,l!==0?i=Ts(l):r!==0?i=Ts(r):n||(n=a&~e,n!==0&&(i=Ts(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function rc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ck(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yv(){var e=Hc;return Hc<<=1,!(Hc&62914560)&&(Hc=4194304),e}function jf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uk(e,t,n,a,i,s){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=r&~n;0<n;){var m=31-Vn(n),d=1<<m;l[m]=0,c[m]=-1;var h=u[m];if(h!==null)for(u[m]=null,m=0;m<h.length;m++){var f=h[m];f!==null&&(f.lane&=-536870913)}n&=~d}a!==0&&Vv(e,a,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function Vv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Vn(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function $v(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Vn(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function Kv(e,t){var n=t&-t;return n=n&42?1:Ep(n),n&(e.suspendedLanes|t)?0:n}function Ep(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Np(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Wv(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:xw(e.type))}function q0(e,t){var n=rt.p;try{return rt.p=e,t()}finally{rt.p=n}}var bs=Math.random().toString(36).slice(2),cn="__reactFiber$"+bs,Mn="__reactProps$"+bs,Ro="__reactContainer$"+bs,Yh="__reactEvents$"+bs,dk="__reactListeners$"+bs,fk="__reactHandles$"+bs,Y0="__reactResources$"+bs,lc="__reactMarker$"+bs;function kp(e){delete e[cn],delete e[Mn],delete e[Yh],delete e[dk],delete e[fk]}function Rr(e){var t=e[cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ro]||n[cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qb(e);e!==null;){if(n=e[cn])return n;e=Qb(e)}return t}e=n,n=e.parentNode}return null}function Do(e){if(e=e[cn]||e[Ro]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ll(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(se(33))}function $r(e){var t=e[Y0];return t||(t=e[Y0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function en(e){e[lc]=!0}var Xv=new Set,Zv={};function or(e,t){fo(e,t),fo(e+"Capture",t)}function fo(e,t){for(Zv[e]=t,e=0;e<t.length;e++)Xv.add(t[e])}var hk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),V0={},$0={};function mk(e){return qh.call($0,e)?!0:qh.call(V0,e)?!1:hk.test(e)?$0[e]=!0:(V0[e]=!0,!1)}function mu(e,t,n){if(mk(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Fc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function $a(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function aa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pk(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(r){n=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vh(e){if(!e._valueTracker){var t=Qv(e)?"checked":"value";e._valueTracker=pk(e,t,""+e[t])}}function Jv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Qv(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function qu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gk=/[\n"\\]/g;function ra(e){return e.replace(gk,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $h(e,t,n,a,i,s,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+aa(t)):e.value!==""+aa(t)&&(e.value=""+aa(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Kh(e,r,aa(t)):n!=null?Kh(e,r,aa(n)):a!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+aa(l):e.removeAttribute("name")}function eS(e,t,n,a,i,s,r,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Vh(e);return}n=n!=null?""+aa(n):"",t=t!=null?""+aa(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Vh(e)}function Kh(e,t,n){t==="number"&&qu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Kr(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+aa(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function tS(e,t,n){if(t!=null&&(t=""+aa(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+aa(n):""}function nS(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(se(92));if(ol(a)){if(1<a.length)throw Error(se(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=aa(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Vh(e)}function ho(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function K0(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||bk.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function aS(e,t,n){if(t!=null&&typeof t!="object")throw Error(se(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&K0(e,i,a)}else for(var s in t)t.hasOwnProperty(s)&&K0(e,s,t[s])}function Tp(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pu(e){return yk.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function si(){}var Wh=null;function jp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dr=null,Wr=null;function W0(e){var t=Do(e);if(t&&(e=t.stateNode)){var n=e[Mn]||null;e:switch(e=t.stateNode,t.type){case"input":if($h(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ra(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[Mn]||null;if(!i)throw Error(se(90));$h(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&Jv(a)}break e;case"textarea":tS(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Kr(e,!!n.multiple,t,!1)}}}var Af=!1;function iS(e,t,n){if(Af)return e(t,n);Af=!0;try{var a=e(t);return a}finally{if(Af=!1,(Dr!==null||Wr!==null)&&($d(),Dr&&(t=Dr,e=Wr,Wr=Dr=null,W0(t),e)))for(t=0;t<e.length;t++)W0(e[t])}}function Rl(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Mn]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(se(231,t,typeof n));return n}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xh=!1;if(mi)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Xh=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Xh=!1}var Ki=null,Ap=null,gu=null;function sS(){if(gu)return gu;var e,t=Ap,n=t.length,a,i="value"in Ki?Ki.value:Ki.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var r=n-e;for(a=1;a<=r&&t[n-a]===i[s-a];a++);return gu=i.slice(e,1<a?1-a:void 0)}function bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gc(){return!0}function X0(){return!1}function In(e){function t(n,a,i,s,r){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gc:X0,this.isPropagationStopped=X0,this}return _t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gc)},persist:function(){},isPersistent:Gc}),t}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zd=In(lr),cc=_t({},lr,{view:0,detail:0}),vk=In(cc),Cf,Rf,el,Ld=_t({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==el&&(el&&e.type==="mousemove"?(Cf=e.screenX-el.screenX,Rf=e.screenY-el.screenY):Rf=Cf=0,el=e),Cf)},movementY:function(e){return"movementY"in e?e.movementY:Rf}}),Z0=In(Ld),Sk=_t({},Ld,{dataTransfer:0}),_k=In(Sk),wk=_t({},cc,{relatedTarget:0}),Df=In(wk),Ek=_t({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Nk=In(Ek),kk=_t({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tk=In(kk),jk=_t({},lr,{data:0}),Q0=In(jk),Ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ck={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rk[e])?!!t[e]:!1}function Cp(){return Dk}var Mk=_t({},cc,{key:function(e){if(e.key){var t=Ak[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ck[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cp,charCode:function(e){return e.type==="keypress"?bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ok=In(Mk),Ik=_t({},Ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J0=In(Ik),zk=_t({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cp}),Lk=In(zk),Uk=_t({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bk=In(Uk),Pk=_t({},Ld,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hk=In(Pk),Fk=_t({},lr,{newState:0,oldState:0}),Gk=In(Fk),qk=[9,13,27,32],Rp=mi&&"CompositionEvent"in window,dl=null;mi&&"documentMode"in document&&(dl=document.documentMode);var Yk=mi&&"TextEvent"in window&&!dl,rS=mi&&(!Rp||dl&&8<dl&&11>=dl),eb=" ",tb=!1;function oS(e,t){switch(e){case"keyup":return qk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function Vk(e,t){switch(e){case"compositionend":return lS(t);case"keypress":return t.which!==32?null:(tb=!0,eb);case"textInput":return e=t.data,e===eb&&tb?null:e;default:return null}}function $k(e,t){if(Mr)return e==="compositionend"||!Rp&&oS(e,t)?(e=sS(),gu=Ap=Ki=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rS&&t.locale!=="ko"?null:t.data;default:return null}}var Kk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kk[e.type]:t==="textarea"}function cS(e,t,n,a){Dr?Wr?Wr.push(a):Wr=[a]:Dr=a,t=ld(t,"onChange"),0<t.length&&(n=new zd("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var fl=null,Dl=null;function Wk(e){iw(e,0)}function Ud(e){var t=ll(e);if(Jv(t))return e}function ab(e,t){if(e==="change")return t}var uS=!1;if(mi){var Mf;if(mi){var Of="oninput"in document;if(!Of){var ib=document.createElement("div");ib.setAttribute("oninput","return;"),Of=typeof ib.oninput=="function"}Mf=Of}else Mf=!1;uS=Mf&&(!document.documentMode||9<document.documentMode)}function sb(){fl&&(fl.detachEvent("onpropertychange",dS),Dl=fl=null)}function dS(e){if(e.propertyName==="value"&&Ud(Dl)){var t=[];cS(t,Dl,e,jp(e)),iS(Wk,t)}}function Xk(e,t,n){e==="focusin"?(sb(),fl=t,Dl=n,fl.attachEvent("onpropertychange",dS)):e==="focusout"&&sb()}function Zk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ud(Dl)}function Qk(e,t){if(e==="click")return Ud(t)}function Jk(e,t){if(e==="input"||e==="change")return Ud(t)}function eT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wn=typeof Object.is=="function"?Object.is:eT;function Ml(e,t){if(Wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!qh.call(t,i)||!Wn(e[i],t[i]))return!1}return!0}function rb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ob(e,t){var n=rb(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rb(n)}}function fS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hS(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qu(e.document)}return t}function Dp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var tT=mi&&"documentMode"in document&&11>=document.documentMode,Or=null,Zh=null,hl=null,Qh=!1;function lb(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qh||Or==null||Or!==qu(a)||(a=Or,"selectionStart"in a&&Dp(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),hl&&Ml(hl,a)||(hl=a,a=ld(Zh,"onSelect"),0<a.length&&(t=new zd("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Or)))}function Ns(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},If={},mS={};mi&&(mS=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function cr(e){if(If[e])return If[e];if(!Ir[e])return e;var t=Ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mS)return If[e]=t[n];return e}var pS=cr("animationend"),gS=cr("animationiteration"),bS=cr("animationstart"),nT=cr("transitionrun"),aT=cr("transitionstart"),iT=cr("transitioncancel"),xS=cr("transitionend"),yS=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Na(e,t){yS.set(e,t),or(t,[e])}var Yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},na=[],zr=0,Mp=0;function Bd(){for(var e=zr,t=Mp=zr=0;t<e;){var n=na[t];na[t++]=null;var a=na[t];na[t++]=null;var i=na[t];na[t++]=null;var s=na[t];if(na[t++]=null,a!==null&&i!==null){var r=a.pending;r===null?i.next=i:(i.next=r.next,r.next=i),a.pending=i}s!==0&&vS(n,i,s)}}function Pd(e,t,n,a){na[zr++]=e,na[zr++]=t,na[zr++]=n,na[zr++]=a,Mp|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Op(e,t,n,a){return Pd(e,t,n,a),Vu(e)}function ur(e,t){return Pd(e,null,null,t),Vu(e)}function vS(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-Vn(n),e=s.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),s):null}function Vu(e){if(50<_l)throw _l=0,vm=null,Error(se(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Lr={};function sT(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(e,t,n,a){return new sT(e,t,n,a)}function Ip(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oi(e,t){var n=e.alternate;return n===null?(n=Hn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function SS(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xu(e,t,n,a,i,s){var r=0;if(a=e,typeof e=="function")Ip(e)&&(r=1);else if(typeof e=="string")r=uj(e,n,La.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ph:return e=Hn(31,n,t,i),e.elementType=Ph,e.lanes=s,e;case Ar:return Fs(n.children,i,s,t);case Pv:r=8,i|=24;break;case Lh:return e=Hn(12,n,t,i|2),e.elementType=Lh,e.lanes=s,e;case Uh:return e=Hn(13,n,t,i),e.elementType=Uh,e.lanes=s,e;case Bh:return e=Hn(19,n,t,i),e.elementType=Bh,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ii:r=10;break e;case Hv:r=9;break e;case Sp:r=11;break e;case _p:r=14;break e;case Di:r=16,a=null;break e}r=29,n=Error(se(130,e===null?"null":typeof e,"")),a=null}return t=Hn(r,n,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function Fs(e,t,n,a){return e=Hn(7,e,a,t),e.lanes=n,e}function zf(e,t,n){return e=Hn(6,e,null,t),e.lanes=n,e}function _S(e){var t=Hn(18,null,null,0);return t.stateNode=e,t}function Lf(e,t,n){return t=Hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cb=new WeakMap;function oa(e,t){if(typeof e=="object"&&e!==null){var n=cb.get(e);return n!==void 0?n:(t={value:e,source:t,stack:G0(t)},cb.set(e,t),t)}return{value:e,source:t,stack:G0(t)}}var Ur=[],Br=0,$u=null,Ol=0,ia=[],sa=0,us=null,Ma=1,Oa="";function ti(e,t){Ur[Br++]=Ol,Ur[Br++]=$u,$u=e,Ol=t}function wS(e,t,n){ia[sa++]=Ma,ia[sa++]=Oa,ia[sa++]=us,us=e;var a=Ma;e=Oa;var i=32-Vn(a)-1;a&=~(1<<i),n+=1;var s=32-Vn(t)+i;if(30<s){var r=i-i%5;s=(a&(1<<r)-1).toString(32),a>>=r,i-=r,Ma=1<<32-Vn(t)+i|n<<i|a,Oa=s+e}else Ma=1<<s|n<<i|a,Oa=e}function zp(e){e.return!==null&&(ti(e,1),wS(e,1,0))}function Lp(e){for(;e===$u;)$u=Ur[--Br],Ur[Br]=null,Ol=Ur[--Br],Ur[Br]=null;for(;e===us;)us=ia[--sa],ia[sa]=null,Oa=ia[--sa],ia[sa]=null,Ma=ia[--sa],ia[sa]=null}function ES(e,t){ia[sa++]=Ma,ia[sa++]=Oa,ia[sa++]=us,Ma=t.id,Oa=t.overflow,us=e}var un=null,St=null,We=!1,ts=null,la=!1,em=Error(se(519));function ds(e){var t=Error(se(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(oa(t,e)),em}function ub(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[cn]=e,t[Mn]=a,n){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(n=0;n<Bl.length;n++)Ge(Bl[n],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),eS(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),nS(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||rw(t.textContent,n)?(a.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),a.onScroll!=null&&Ge("scroll",t),a.onScrollEnd!=null&&Ge("scrollend",t),a.onClick!=null&&(t.onclick=si),t=!0):t=!1,t||ds(e,!0)}function db(e){for(un=e.return;un;)switch(un.tag){case 5:case 31:case 13:la=!1;return;case 27:case 3:la=!0;return;default:un=un.return}}function Sr(e){if(e!==un)return!1;if(!We)return db(e),We=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Nm(e.type,e.memoizedProps)),n=!n),n&&St&&ds(e),db(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));St=Zb(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));St=Zb(e)}else t===27?(t=St,xs(e.type)?(e=Am,Am=null,St=e):St=t):St=un?ua(e.stateNode.nextSibling):null;return!0}function Qs(){St=un=null,We=!1}function Uf(){var e=ts;return e!==null&&(Cn===null?Cn=e:Cn.push.apply(Cn,e),ts=null),e}function Il(e){ts===null?ts=[e]:ts.push(e)}var tm=Ba(null),dr=null,ri=null;function zi(e,t,n){bt(tm,t._currentValue),t._currentValue=n}function li(e){e._currentValue=tm.current,tn(tm)}function nm(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function am(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var r=i.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),nm(s.return,n,e),a||(r=null);break e}s=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(se(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),nm(r,n,e),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===e){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function Mo(e,t,n,a){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(se(387));if(r=r.memoizedProps,r!==null){var l=i.type;Wn(i.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(i===Pu.current){if(r=i.alternate,r===null)throw Error(se(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Hl):e=[Hl])}i=i.return}e!==null&&am(t,e,n,a),t.flags|=262144}function Ku(e){for(e=e.firstContext;e!==null;){if(!Wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Js(e){dr=e,ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dn(e){return NS(dr,e)}function qc(e,t){return dr===null&&Js(e),NS(e,t)}function NS(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ri===null){if(e===null)throw Error(se(308));ri=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ri=ri.next=t;return n}var rT=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},oT=Kt.unstable_scheduleCallback,lT=Kt.unstable_NormalPriority,Ft={$$typeof:ii,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Up(){return{controller:new rT,data:new Map,refCount:0}}function uc(e){e.refCount--,e.refCount===0&&oT(lT,function(){e.controller.abort()})}var ml=null,im=0,mo=0,Xr=null;function cT(e,t){if(ml===null){var n=ml=[];im=0,mo=cg(),Xr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return im++,t.then(fb,fb),t}function fb(){if(--im===0&&ml!==null){Xr!==null&&(Xr.status="fulfilled");var e=ml;ml=null,mo=0,Xr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function uT(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var hb=Te.S;Te.S=function(e,t){B_=qn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&cT(e,t),hb!==null&&hb(e,t)};var Gs=Ba(null);function Bp(){var e=Gs.current;return e!==null?e:ht.pooledCache}function yu(e,t){t===null?bt(Gs,Gs.current):bt(Gs,t.pool)}function kS(){var e=Bp();return e===null?null:{parent:Ft._currentValue,pool:e}}var Oo=Error(se(460)),Pp=Error(se(474)),Hd=Error(se(542)),Wu={then:function(){}};function mb(e){return e=e.status,e==="fulfilled"||e==="rejected"}function TS(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(si,si),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gb(e),e;default:if(typeof t.status=="string")t.then(si,si);else{if(e=ht,e!==null&&100<e.shellSuspendCounter)throw Error(se(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,gb(e),e}throw qs=t,Oo}}function js(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(qs=n,Oo):n}}var qs=null;function pb(){if(qs===null)throw Error(se(459));var e=qs;return qs=null,e}function gb(e){if(e===Oo||e===Hd)throw Error(se(483))}var Zr=null,zl=0;function Yc(e){var t=zl;return zl+=1,Zr===null&&(Zr=[]),TS(Zr,e,t)}function tl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vc(e,t){throw t.$$typeof===XN?Error(se(525)):(e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jS(e){function t(p,x){if(e){var _=p.deletions;_===null?(p.deletions=[x],p.flags|=16):_.push(x)}}function n(p,x){if(!e)return null;for(;x!==null;)t(p,x),x=x.sibling;return null}function a(p){for(var x=new Map;p!==null;)p.key!==null?x.set(p.key,p):x.set(p.index,p),p=p.sibling;return x}function i(p,x){return p=oi(p,x),p.index=0,p.sibling=null,p}function s(p,x,_){return p.index=_,e?(_=p.alternate,_!==null?(_=_.index,_<x?(p.flags|=67108866,x):_):(p.flags|=67108866,x)):(p.flags|=1048576,x)}function r(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function l(p,x,_,w){return x===null||x.tag!==6?(x=zf(_,p.mode,w),x.return=p,x):(x=i(x,_),x.return=p,x)}function c(p,x,_,w){var E=_.type;return E===Ar?m(p,x,_.props.children,w,_.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Di&&js(E)===x.type)?(x=i(x,_.props),tl(x,_),x.return=p,x):(x=xu(_.type,_.key,_.props,null,p.mode,w),tl(x,_),x.return=p,x)}function u(p,x,_,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Lf(_,p.mode,w),x.return=p,x):(x=i(x,_.children||[]),x.return=p,x)}function m(p,x,_,w,E){return x===null||x.tag!==7?(x=Fs(_,p.mode,w,E),x.return=p,x):(x=i(x,_),x.return=p,x)}function d(p,x,_){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=zf(""+x,p.mode,_),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uc:return _=xu(x.type,x.key,x.props,null,p.mode,_),tl(_,x),_.return=p,_;case rl:return x=Lf(x,p.mode,_),x.return=p,x;case Di:return x=js(x),d(p,x,_)}if(ol(x)||Qo(x))return x=Fs(x,p.mode,_,null),x.return=p,x;if(typeof x.then=="function")return d(p,Yc(x),_);if(x.$$typeof===ii)return d(p,qc(p,x),_);Vc(p,x)}return null}function h(p,x,_,w){var E=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return E!==null?null:l(p,x,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Uc:return _.key===E?c(p,x,_,w):null;case rl:return _.key===E?u(p,x,_,w):null;case Di:return _=js(_),h(p,x,_,w)}if(ol(_)||Qo(_))return E!==null?null:m(p,x,_,w,null);if(typeof _.then=="function")return h(p,x,Yc(_),w);if(_.$$typeof===ii)return h(p,x,qc(p,_),w);Vc(p,_)}return null}function f(p,x,_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return p=p.get(_)||null,l(x,p,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Uc:return p=p.get(w.key===null?_:w.key)||null,c(x,p,w,E);case rl:return p=p.get(w.key===null?_:w.key)||null,u(x,p,w,E);case Di:return w=js(w),f(p,x,_,w,E)}if(ol(w)||Qo(w))return p=p.get(_)||null,m(x,p,w,E,null);if(typeof w.then=="function")return f(p,x,_,Yc(w),E);if(w.$$typeof===ii)return f(p,x,_,qc(x,w),E);Vc(x,w)}return null}function g(p,x,_,w){for(var E=null,j=null,N=x,D=x=0,z=null;N!==null&&D<_.length;D++){N.index>D?(z=N,N=null):z=N.sibling;var A=h(p,N,_[D],w);if(A===null){N===null&&(N=z);break}e&&N&&A.alternate===null&&t(p,N),x=s(A,x,D),j===null?E=A:j.sibling=A,j=A,N=z}if(D===_.length)return n(p,N),We&&ti(p,D),E;if(N===null){for(;D<_.length;D++)N=d(p,_[D],w),N!==null&&(x=s(N,x,D),j===null?E=N:j.sibling=N,j=N);return We&&ti(p,D),E}for(N=a(N);D<_.length;D++)z=f(N,p,D,_[D],w),z!==null&&(e&&z.alternate!==null&&N.delete(z.key===null?D:z.key),x=s(z,x,D),j===null?E=z:j.sibling=z,j=z);return e&&N.forEach(function(W){return t(p,W)}),We&&ti(p,D),E}function b(p,x,_,w){if(_==null)throw Error(se(151));for(var E=null,j=null,N=x,D=x=0,z=null,A=_.next();N!==null&&!A.done;D++,A=_.next()){N.index>D?(z=N,N=null):z=N.sibling;var W=h(p,N,A.value,w);if(W===null){N===null&&(N=z);break}e&&N&&W.alternate===null&&t(p,N),x=s(W,x,D),j===null?E=W:j.sibling=W,j=W,N=z}if(A.done)return n(p,N),We&&ti(p,D),E;if(N===null){for(;!A.done;D++,A=_.next())A=d(p,A.value,w),A!==null&&(x=s(A,x,D),j===null?E=A:j.sibling=A,j=A);return We&&ti(p,D),E}for(N=a(N);!A.done;D++,A=_.next())A=f(N,p,D,A.value,w),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?D:A.key),x=s(A,x,D),j===null?E=A:j.sibling=A,j=A);return e&&N.forEach(function(T){return t(p,T)}),We&&ti(p,D),E}function y(p,x,_,w){if(typeof _=="object"&&_!==null&&_.type===Ar&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Uc:e:{for(var E=_.key;x!==null;){if(x.key===E){if(E=_.type,E===Ar){if(x.tag===7){n(p,x.sibling),w=i(x,_.props.children),w.return=p,p=w;break e}}else if(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Di&&js(E)===x.type){n(p,x.sibling),w=i(x,_.props),tl(w,_),w.return=p,p=w;break e}n(p,x);break}else t(p,x);x=x.sibling}_.type===Ar?(w=Fs(_.props.children,p.mode,w,_.key),w.return=p,p=w):(w=xu(_.type,_.key,_.props,null,p.mode,w),tl(w,_),w.return=p,p=w)}return r(p);case rl:e:{for(E=_.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(p,x.sibling),w=i(x,_.children||[]),w.return=p,p=w;break e}else{n(p,x);break}else t(p,x);x=x.sibling}w=Lf(_,p.mode,w),w.return=p,p=w}return r(p);case Di:return _=js(_),y(p,x,_,w)}if(ol(_))return g(p,x,_,w);if(Qo(_)){if(E=Qo(_),typeof E!="function")throw Error(se(150));return _=E.call(_),b(p,x,_,w)}if(typeof _.then=="function")return y(p,x,Yc(_),w);if(_.$$typeof===ii)return y(p,x,qc(p,_),w);Vc(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,x!==null&&x.tag===6?(n(p,x.sibling),w=i(x,_),w.return=p,p=w):(n(p,x),w=zf(_,p.mode,w),w.return=p,p=w),r(p)):n(p,x)}return function(p,x,_,w){try{zl=0;var E=y(p,x,_,w);return Zr=null,E}catch(N){if(N===Oo||N===Hd)throw N;var j=Hn(29,N,null,p.mode);return j.lanes=w,j.return=p,j}finally{}}}var er=jS(!0),AS=jS(!1),Mi=!1;function Hp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function as(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,st&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Vu(e),vS(e,null,n),t}return Pd(e,a,t,n),Vu(e)}function pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,$v(e,n)}}function Bf(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var rm=!1;function gl(){if(rm){var e=Xr;if(e!==null)throw e}}function bl(e,t,n,a){rm=!1;var i=e.updateQueue;Mi=!1;var s=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,r===null?s=u:r.next=u,r=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==r&&(l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;r=0,m=u=c=null,l=s;do{var h=l.lane&-536870913,f=h!==l.lane;if(f?(Ye&h)===h:(a&h)===h){h!==0&&h===mo&&(rm=!0),m!==null&&(m=m.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var g=e,b=l;h=t;var y=n;switch(b.tag){case 1:if(g=b.payload,typeof g=="function"){d=g.call(y,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(y,d,h):g,h==null)break e;d=_t({},d,h);break e;case 2:Mi=!0}}h=l.callback,h!==null&&(e.flags|=64,f&&(e.flags|=8192),f=i.callbacks,f===null?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(u=m=f,c=d):m=m.next=f,r|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);m===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=m,s===null&&(i.shared.lanes=0),hs|=r,e.lanes=r,e.memoizedState=d}}function CS(e,t){if(typeof e!="function")throw Error(se(191,e));e.call(t)}function RS(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)CS(n[e],t)}var po=Ba(null),Xu=Ba(0);function bb(e,t){e=xi,bt(Xu,e),bt(po,t),xi=e|t.baseLanes}function om(){bt(Xu,xi),bt(po,po.current)}function Fp(){xi=Xu.current,tn(po),tn(Xu)}var Xn=Ba(null),ca=null;function Li(e){var t=e.alternate;bt(zt,zt.current&1),bt(Xn,e),ca===null&&(t===null||po.current!==null||t.memoizedState!==null)&&(ca=e)}function lm(e){bt(zt,zt.current),bt(Xn,e),ca===null&&(ca=e)}function DS(e){e.tag===22?(bt(zt,zt.current),bt(Xn,e),ca===null&&(ca=e)):Ui()}function Ui(){bt(zt,zt.current),bt(Xn,Xn.current)}function Pn(e){tn(Xn),ca===e&&(ca=null),tn(zt)}var zt=Ba(0);function Zu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Tm(n)||jm(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pi=0,ze=null,ft=null,Pt=null,Qu=!1,Qr=!1,tr=!1,Ju=0,Ll=0,Jr=null,dT=0;function Rt(){throw Error(se(321))}function Gp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wn(e[n],t[n]))return!1;return!0}function qp(e,t,n,a,i,s){return pi=s,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Te.H=e===null||e.memoizedState===null?c_:tg,tr=!1,s=n(a,i),tr=!1,Qr&&(s=OS(t,n,a,i)),MS(e),s}function MS(e){Te.H=Ul;var t=ft!==null&&ft.next!==null;if(pi=0,Pt=ft=ze=null,Qu=!1,Ll=0,Jr=null,t)throw Error(se(300));e===null||Gt||(e=e.dependencies,e!==null&&Ku(e)&&(Gt=!0))}function OS(e,t,n,a){ze=e;var i=0;do{if(Qr&&(Jr=null),Ll=0,Qr=!1,25<=i)throw Error(se(301));if(i+=1,Pt=ft=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Te.H=u_,s=t(n,a)}while(Qr);return s}function fT(){var e=Te.H,t=e.useState()[0];return t=typeof t.then=="function"?dc(t):t,e=e.useState()[0],(ft!==null?ft.memoizedState:null)!==e&&(ze.flags|=1024),t}function Yp(){var e=Ju!==0;return Ju=0,e}function Vp(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function $p(e){if(Qu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qu=!1}pi=0,Pt=ft=ze=null,Qr=!1,Ll=Ju=0,Jr=null}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ze.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Lt(){if(ft===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=Pt===null?ze.memoizedState:Pt.next;if(t!==null)Pt=t,ft=e;else{if(e===null)throw ze.alternate===null?Error(se(467)):Error(se(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Pt===null?ze.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dc(e){var t=Ll;return Ll+=1,Jr===null&&(Jr=[]),e=TS(Jr,e,t),t=ze,(Pt===null?t.memoizedState:Pt.next)===null&&(t=t.alternate,Te.H=t===null||t.memoizedState===null?c_:tg),e}function Gd(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dc(e);if(e.$$typeof===ii)return dn(e)}throw Error(se(438,String(e)))}function Kp(e){var t=null,n=ze.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=ze.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Fd(),ze.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=ZN;return t.index++,n}function gi(e,t){return typeof t=="function"?t(e):t}function vu(e){var t=Lt();return Wp(t,ft,e)}function Wp(e,t,n){var a=e.queue;if(a===null)throw Error(se(311));a.lastRenderedReducer=n;var i=e.baseQueue,s=a.pending;if(s!==null){if(i!==null){var r=i.next;i.next=s.next,s.next=r}t.baseQueue=i=s,a.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var l=r=null,c=null,u=t,m=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Ye&d)===d:(pi&d)===d){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===mo&&(m=!0);else if((pi&h)===h){u=u.next,h===mo&&(m=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=d,r=s):c=c.next=d,ze.lanes|=h,hs|=h;d=u.action,tr&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else h={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,r=s):c=c.next=h,ze.lanes|=d,hs|=d;u=u.next}while(u!==null&&u!==t);if(c===null?r=s:c.next=l,!Wn(s,e.memoizedState)&&(Gt=!0,m&&(n=Xr,n!==null)))throw n;e.memoizedState=s,e.baseState=r,e.baseQueue=c,a.lastRenderedState=s}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Pf(e){var t=Lt(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do s=e(s,r.action),r=r.next;while(r!==i);Wn(s,t.memoizedState)||(Gt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function IS(e,t,n){var a=ze,i=Lt(),s=We;if(s){if(n===void 0)throw Error(se(407));n=n()}else n=t();var r=!Wn((ft||i).memoizedState,n);if(r&&(i.memoizedState=n,Gt=!0),i=i.queue,Xp(US.bind(null,a,i,e),[e]),i.getSnapshot!==t||r||Pt!==null&&Pt.memoizedState.tag&1){if(a.flags|=2048,go(9,{destroy:void 0},LS.bind(null,a,i,n,t),null),ht===null)throw Error(se(349));s||pi&127||zS(a,t,n)}return n}function zS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t=Fd(),ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function LS(e,t,n,a){t.value=n,t.getSnapshot=a,BS(t)&&PS(e)}function US(e,t,n){return n(function(){BS(t)&&PS(e)})}function BS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wn(e,n)}catch{return!0}}function PS(e){var t=ur(e,2);t!==null&&Dn(t,e,2)}function cm(e){var t=yn();if(typeof e=="function"){var n=e;if(e=n(),tr){$i(!0);try{n()}finally{$i(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},t}function HS(e,t,n,a){return e.baseState=n,Wp(e,ft,typeof a=="function"?a:gi)}function hT(e,t,n,a,i){if(Yd(e))throw Error(se(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};Te.T!==null?n(!0):s.isTransition=!1,a(s),n=t.pending,n===null?(s.next=t.pending=s,FS(t,s)):(s.next=n.next,t.pending=n.next=s)}}function FS(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var s=Te.T,r={};Te.T=r;try{var l=n(i,a),c=Te.S;c!==null&&c(r,l),xb(e,t,l)}catch(u){um(e,t,u)}finally{s!==null&&r.types!==null&&(s.types=r.types),Te.T=s}}else try{s=n(i,a),xb(e,t,s)}catch(u){um(e,t,u)}}function xb(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){yb(e,t,a)},function(a){return um(e,t,a)}):yb(e,t,n)}function yb(e,t,n){t.status="fulfilled",t.value=n,GS(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,FS(e,n)))}function um(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,GS(t),t=t.next;while(t!==a)}e.action=null}function GS(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function qS(e,t){return t}function vb(e,t){if(We){var n=ht.formState;if(n!==null){e:{var a=ze;if(We){if(St){t:{for(var i=St,s=la;i.nodeType!==8;){if(!s){i=null;break t}if(i=ua(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){St=ua(i.nextSibling),a=i.data==="F!";break e}}ds(a)}a=!1}a&&(t=n[0])}}return n=yn(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qS,lastRenderedState:t},n.queue=a,n=r_.bind(null,ze,a),a.dispatch=n,a=cm(!1),s=eg.bind(null,ze,!1,a.queue),a=yn(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=hT.bind(null,ze,i,s,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function Sb(e){var t=Lt();return YS(t,ft,e)}function YS(e,t,n){if(t=Wp(e,t,qS)[0],e=vu(gi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=dc(t)}catch(r){throw r===Oo?Hd:r}else a=t;t=Lt();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(ze.flags|=2048,go(9,{destroy:void 0},mT.bind(null,i,n),null)),[a,s,e]}function mT(e,t){e.action=t}function _b(e){var t=Lt(),n=ft;if(n!==null)return YS(t,n,e);Lt(),t=t.memoizedState,n=Lt();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function go(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=ze.updateQueue,t===null&&(t=Fd(),ze.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function VS(){return Lt().memoizedState}function Su(e,t,n,a){var i=yn();ze.flags|=e,i.memoizedState=go(1|t,{destroy:void 0},n,a===void 0?null:a)}function qd(e,t,n,a){var i=Lt();a=a===void 0?null:a;var s=i.memoizedState.inst;ft!==null&&a!==null&&Gp(a,ft.memoizedState.deps)?i.memoizedState=go(t,s,n,a):(ze.flags|=e,i.memoizedState=go(1|t,s,n,a))}function wb(e,t){Su(8390656,8,e,t)}function Xp(e,t){qd(2048,8,e,t)}function pT(e){ze.flags|=4;var t=ze.updateQueue;if(t===null)t=Fd(),ze.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function $S(e){var t=Lt().memoizedState;return pT({ref:t,nextImpl:e}),function(){if(st&2)throw Error(se(440));return t.impl.apply(void 0,arguments)}}function KS(e,t){return qd(4,2,e,t)}function WS(e,t){return qd(4,4,e,t)}function XS(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZS(e,t,n){n=n!=null?n.concat([e]):null,qd(4,4,XS.bind(null,t,e),n)}function Zp(){}function QS(e,t){var n=Lt();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Gp(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function JS(e,t){var n=Lt();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Gp(t,a[1]))return a[0];if(a=e(),tr){$i(!0);try{e()}finally{$i(!1)}}return n.memoizedState=[a,t],a}function Qp(e,t,n){return n===void 0||pi&1073741824&&!(Ye&261930)?e.memoizedState=t:(e.memoizedState=n,e=H_(),ze.lanes|=e,hs|=e,n)}function e_(e,t,n,a){return Wn(n,t)?n:po.current!==null?(e=Qp(e,n,a),Wn(e,t)||(Gt=!0),e):!(pi&42)||pi&1073741824&&!(Ye&261930)?(Gt=!0,e.memoizedState=n):(e=H_(),ze.lanes|=e,hs|=e,t)}function t_(e,t,n,a,i){var s=rt.p;rt.p=s!==0&&8>s?s:8;var r=Te.T,l={};Te.T=l,eg(e,!1,t,n);try{var c=i(),u=Te.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=uT(c,a);xl(e,t,m,$n(e))}else xl(e,t,a,$n(e))}catch(d){xl(e,t,{then:function(){},status:"rejected",reason:d},$n())}finally{rt.p=s,r!==null&&l.types!==null&&(r.types=l.types),Te.T=r}}function gT(){}function dm(e,t,n,a){if(e.tag!==5)throw Error(se(476));var i=n_(e).queue;t_(e,i,t,Hs,n===null?gT:function(){return a_(e),n(a)})}function n_(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Hs,baseState:Hs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:Hs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function a_(e){var t=n_(e);t.next===null&&(t=e.alternate.memoizedState),xl(e,t.next.queue,{},$n())}function Jp(){return dn(Hl)}function i_(){return Lt().memoizedState}function s_(){return Lt().memoizedState}function bT(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=$n();e=ns(n);var a=as(t,e,n);a!==null&&(Dn(a,t,n),pl(a,t,n)),t={cache:Up()},e.payload=t;return}t=t.return}}function xT(e,t,n){var a=$n();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Yd(e)?o_(t,n):(n=Op(e,t,n,a),n!==null&&(Dn(n,e,a),l_(n,t,a)))}function r_(e,t,n){var a=$n();xl(e,t,n,a)}function xl(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yd(e))o_(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,l=s(r,n);if(i.hasEagerState=!0,i.eagerState=l,Wn(l,r))return Pd(e,t,i,0),ht===null&&Bd(),!1}catch{}finally{}if(n=Op(e,t,i,a),n!==null)return Dn(n,e,a),l_(n,t,a),!0}return!1}function eg(e,t,n,a){if(a={lane:2,revertLane:cg(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yd(e)){if(t)throw Error(se(479))}else t=Op(e,n,a,2),t!==null&&Dn(t,e,2)}function Yd(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function o_(e,t){Qr=Qu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function l_(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,$v(e,n)}}var Ul={readContext:dn,use:Gd,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};Ul.useEffectEvent=Rt;var c_={readContext:dn,use:Gd,useCallback:function(e,t){return yn().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:wb,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Su(4194308,4,XS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Su(4194308,4,e,t)},useInsertionEffect:function(e,t){Su(4,2,e,t)},useMemo:function(e,t){var n=yn();t=t===void 0?null:t;var a=e();if(tr){$i(!0);try{e()}finally{$i(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=yn();if(n!==void 0){var i=n(t);if(tr){$i(!0);try{n(t)}finally{$i(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=xT.bind(null,ze,e),[a.memoizedState,e]},useRef:function(e){var t=yn();return e={current:e},t.memoizedState=e},useState:function(e){e=cm(e);var t=e.queue,n=r_.bind(null,ze,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Zp,useDeferredValue:function(e,t){var n=yn();return Qp(n,e,t)},useTransition:function(){var e=cm(!1);return e=t_.bind(null,ze,e.queue,!0,!1),yn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=ze,i=yn();if(We){if(n===void 0)throw Error(se(407));n=n()}else{if(n=t(),ht===null)throw Error(se(349));Ye&127||zS(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,wb(US.bind(null,a,s,e),[e]),a.flags|=2048,go(9,{destroy:void 0},LS.bind(null,a,s,n,t),null),n},useId:function(){var e=yn(),t=ht.identifierPrefix;if(We){var n=Oa,a=Ma;n=(a&~(1<<32-Vn(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ju++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=dT++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Jp,useFormState:vb,useActionState:vb,useOptimistic:function(e){var t=yn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=eg.bind(null,ze,!0,n),n.dispatch=t,[e,t]},useMemoCache:Kp,useCacheRefresh:function(){return yn().memoizedState=bT.bind(null,ze)},useEffectEvent:function(e){var t=yn(),n={impl:e};return t.memoizedState=n,function(){if(st&2)throw Error(se(440));return n.impl.apply(void 0,arguments)}}},tg={readContext:dn,use:Gd,useCallback:QS,useContext:dn,useEffect:Xp,useImperativeHandle:ZS,useInsertionEffect:KS,useLayoutEffect:WS,useMemo:JS,useReducer:vu,useRef:VS,useState:function(){return vu(gi)},useDebugValue:Zp,useDeferredValue:function(e,t){var n=Lt();return e_(n,ft.memoizedState,e,t)},useTransition:function(){var e=vu(gi)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:dc(e),t]},useSyncExternalStore:IS,useId:i_,useHostTransitionStatus:Jp,useFormState:Sb,useActionState:Sb,useOptimistic:function(e,t){var n=Lt();return HS(n,ft,e,t)},useMemoCache:Kp,useCacheRefresh:s_};tg.useEffectEvent=$S;var u_={readContext:dn,use:Gd,useCallback:QS,useContext:dn,useEffect:Xp,useImperativeHandle:ZS,useInsertionEffect:KS,useLayoutEffect:WS,useMemo:JS,useReducer:Pf,useRef:VS,useState:function(){return Pf(gi)},useDebugValue:Zp,useDeferredValue:function(e,t){var n=Lt();return ft===null?Qp(n,e,t):e_(n,ft.memoizedState,e,t)},useTransition:function(){var e=Pf(gi)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:dc(e),t]},useSyncExternalStore:IS,useId:i_,useHostTransitionStatus:Jp,useFormState:_b,useActionState:_b,useOptimistic:function(e,t){var n=Lt();return ft!==null?HS(n,ft,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Kp,useCacheRefresh:s_};u_.useEffectEvent=$S;function Hf(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:_t({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fm={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=$n(),i=ns(a);i.payload=t,n!=null&&(i.callback=n),t=as(e,i,a),t!==null&&(Dn(t,e,a),pl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=$n(),i=ns(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=as(e,i,a),t!==null&&(Dn(t,e,a),pl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$n(),a=ns(n);a.tag=2,t!=null&&(a.callback=t),t=as(e,a,n),t!==null&&(Dn(t,e,n),pl(t,e,n))}};function Eb(e,t,n,a,i,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,r):t.prototype&&t.prototype.isPureReactComponent?!Ml(n,a)||!Ml(i,s):!0}function Nb(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&fm.enqueueReplaceState(t,t.state,null)}function nr(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=_t({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function d_(e){Yu(e)}function f_(e){console.error(e)}function h_(e){Yu(e)}function ed(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function kb(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function hm(e,t,n){return n=ns(n),n.tag=3,n.payload={element:null},n.callback=function(){ed(e,t)},n}function m_(e){return e=ns(e),e.tag=3,e}function p_(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=a.value;e.payload=function(){return i(s)},e.callback=function(){kb(t,n,a)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){kb(t,n,a),typeof i!="function"&&(is===null?is=new Set([this]):is.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function yT(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Mo(t,n,i,!0),n=Xn.current,n!==null){switch(n.tag){case 31:case 13:return ca===null?sd():n.alternate===null&&Mt===0&&(Mt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Wu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Qf(e,a,i)),!1;case 22:return n.flags|=65536,a===Wu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Qf(e,a,i)),!1}throw Error(se(435,n.tag))}return Qf(e,a,i),sd(),!1}if(We)return t=Xn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==em&&(e=Error(se(422),{cause:a}),Il(oa(e,n)))):(a!==em&&(t=Error(se(423),{cause:a}),Il(oa(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=oa(a,n),i=hm(e.stateNode,a,i),Bf(e,i),Mt!==4&&(Mt=2)),!1;var s=Error(se(520),{cause:a});if(s=oa(s,n),Sl===null?Sl=[s]:Sl.push(s),Mt!==4&&(Mt=2),t===null)return!0;a=oa(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=hm(n.stateNode,a,e),Bf(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(is===null||!is.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=m_(i),p_(i,e,n,a),Bf(n,i),!1}n=n.return}while(n!==null);return!1}var ng=Error(se(461)),Gt=!1;function ln(e,t,n,a){t.child=e===null?AS(t,null,n,a):er(t,e.child,n,a)}function Tb(e,t,n,a,i){n=n.render;var s=t.ref;if("ref"in a){var r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}else r=a;return Js(t),a=qp(e,t,n,r,s,i),l=Yp(),e!==null&&!Gt?(Vp(e,t,i),bi(e,t,i)):(We&&l&&zp(t),t.flags|=1,ln(e,t,a,i),t.child)}function jb(e,t,n,a,i){if(e===null){var s=n.type;return typeof s=="function"&&!Ip(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,g_(e,t,s,a,i)):(e=xu(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!ag(e,i)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ml,n(r,a)&&e.ref===t.ref)return bi(e,t,i)}return t.flags|=1,e=oi(s,a),e.ref=t.ref,e.return=t,t.child=e}function g_(e,t,n,a,i){if(e!==null){var s=e.memoizedProps;if(Ml(s,a)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=a=s,ag(e,i))e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,bi(e,t,i)}return mm(e,t,n,a,i)}function b_(e,t,n,a){var i=a.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~s}else a=0,t.child=null;return Ab(e,t,s,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&yu(t,s!==null?s.cachePool:null),s!==null?bb(t,s):om(),DS(t);else return a=t.lanes=536870912,Ab(e,t,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(yu(t,s.cachePool),bb(t,s),Ui(),t.memoizedState=null):(e!==null&&yu(t,null),om(),Ui());return ln(e,t,i,n),t.child}function cl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ab(e,t,n,a,i){var s=Bp();return s=s===null?null:{parent:Ft._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&yu(t,null),om(),DS(t),e!==null&&Mo(e,t,a,!0),t.childLanes=i,null}function _u(e,t){return t=td({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Cb(e,t,n){return er(t,e.child,null,n),e=_u(t,t.pendingProps),e.flags|=2,Pn(t),t.memoizedState=null,e}function vT(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(We){if(a.mode==="hidden")return e=_u(t,a),t.lanes=536870912,cl(null,e);if(lm(t),(e=St)?(e=cw(e,la),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:us!==null?{id:Ma,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},n=_S(e),n.return=t,t.child=n,un=t,St=null)):e=null,e===null)throw ds(t);return t.lanes=536870912,null}return _u(t,a)}var s=e.memoizedState;if(s!==null){var r=s.dehydrated;if(lm(t),i)if(t.flags&256)t.flags&=-257,t=Cb(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(se(558));else if(Gt||Mo(e,t,n,!1),i=(n&e.childLanes)!==0,Gt||i){if(a=ht,a!==null&&(r=Kv(a,n),r!==0&&r!==s.retryLane))throw s.retryLane=r,ur(e,r),Dn(a,e,r),ng;sd(),t=Cb(e,t,n)}else e=s.treeContext,St=ua(r.nextSibling),un=t,We=!0,ts=null,la=!1,e!==null&&ES(t,e),t=_u(t,a),t.flags|=4096;return t}return e=oi(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function wu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(se(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function mm(e,t,n,a,i){return Js(t),n=qp(e,t,n,a,void 0,i),a=Yp(),e!==null&&!Gt?(Vp(e,t,i),bi(e,t,i)):(We&&a&&zp(t),t.flags|=1,ln(e,t,n,i),t.child)}function Rb(e,t,n,a,i,s){return Js(t),t.updateQueue=null,n=OS(t,a,n,i),MS(e),a=Yp(),e!==null&&!Gt?(Vp(e,t,s),bi(e,t,s)):(We&&a&&zp(t),t.flags|=1,ln(e,t,n,s),t.child)}function Db(e,t,n,a,i){if(Js(t),t.stateNode===null){var s=Lr,r=n.contextType;typeof r=="object"&&r!==null&&(s=dn(r)),s=new n(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=fm,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},Hp(t),r=n.contextType,s.context=typeof r=="object"&&r!==null?dn(r):Lr,s.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Hf(t,n,r,a),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&fm.enqueueReplaceState(s,s.state,null),bl(t,a,s,i),gl(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,c=nr(n,l);s.props=c;var u=s.context,m=n.contextType;r=Lr,typeof m=="object"&&m!==null&&(r=dn(m));var d=n.getDerivedStateFromProps;m=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||u!==r)&&Nb(t,s,a,r),Mi=!1;var h=t.memoizedState;s.state=h,bl(t,a,s,i),gl(),u=t.memoizedState,l||h!==u||Mi?(typeof d=="function"&&(Hf(t,n,d,a),u=t.memoizedState),(c=Mi||Eb(t,n,c,a,h,u,r))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),s.props=a,s.state=u,s.context=r,a=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,sm(e,t),r=t.memoizedProps,m=nr(n,r),s.props=m,d=t.pendingProps,h=s.context,u=n.contextType,c=Lr,typeof u=="object"&&u!==null&&(c=dn(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==d||h!==c)&&Nb(t,s,a,c),Mi=!1,h=t.memoizedState,s.state=h,bl(t,a,s,i),gl();var f=t.memoizedState;r!==d||h!==f||Mi||e!==null&&e.dependencies!==null&&Ku(e.dependencies)?(typeof l=="function"&&(Hf(t,n,l,a),f=t.memoizedState),(m=Mi||Eb(t,n,m,a,h,f,c)||e!==null&&e.dependencies!==null&&Ku(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,f,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,f,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),s.props=a,s.state=f,s.context=c,a=m):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,wu(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=er(t,e.child,null,i),t.child=er(t,null,n,i)):ln(e,t,n,i),t.memoizedState=s.state,e=t.child):e=bi(e,t,i),e}function Mb(e,t,n,a){return Qs(),t.flags|=256,ln(e,t,n,a),t.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:kS()}}function qf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Gn),e}function x_(e,t,n){var a=t.pendingProps,i=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(zt.current&2)!==0),r&&(i=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(We){if(i?Li(t):Ui(),(e=St)?(e=cw(e,la),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:us!==null?{id:Ma,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},n=_S(e),n.return=t,t.child=n,un=t,St=null)):e=null,e===null)throw ds(t);return jm(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Ui(),i=t.mode,l=td({mode:"hidden",children:l},i),a=Fs(a,i,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=Gf(n),a.childLanes=qf(e,r,n),t.memoizedState=Ff,cl(null,a)):(Li(t),pm(t,l))}var c=e.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(s)t.flags&256?(Li(t),t.flags&=-257,t=Yf(e,t,n)):t.memoizedState!==null?(Ui(),t.child=e.child,t.flags|=128,t=null):(Ui(),l=a.fallback,i=t.mode,a=td({mode:"visible",children:a.children},i),l=Fs(l,i,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,er(t,e.child,null,n),a=t.child,a.memoizedState=Gf(n),a.childLanes=qf(e,r,n),t.memoizedState=Ff,t=cl(null,a));else if(Li(t),jm(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,a=Error(se(419)),a.stack="",a.digest=r,Il({value:a,source:null,stack:null}),t=Yf(e,t,n)}else if(Gt||Mo(e,t,n,!1),r=(n&e.childLanes)!==0,Gt||r){if(r=ht,r!==null&&(a=Kv(r,n),a!==0&&a!==c.retryLane))throw c.retryLane=a,ur(e,a),Dn(r,e,a),ng;Tm(l)||sd(),t=Yf(e,t,n)}else Tm(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,St=ua(l.nextSibling),un=t,We=!0,ts=null,la=!1,e!==null&&ES(t,e),t=pm(t,a.children),t.flags|=4096);return t}return i?(Ui(),l=a.fallback,i=t.mode,c=e.child,u=c.sibling,a=oi(c,{mode:"hidden",children:a.children}),a.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=oi(u,l):(l=Fs(l,i,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,cl(null,a),a=t.child,l=e.child.memoizedState,l===null?l=Gf(n):(i=l.cachePool,i!==null?(c=Ft._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=kS(),l={baseLanes:l.baseLanes|n,cachePool:i}),a.memoizedState=l,a.childLanes=qf(e,r,n),t.memoizedState=Ff,cl(e.child,a)):(Li(t),n=e.child,e=n.sibling,n=oi(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function pm(e,t){return t=td({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function td(e,t){return e=Hn(22,e,null,t),e.lanes=0,e}function Yf(e,t,n){return er(t,e.child,null,n),e=pm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ob(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),nm(e.return,t,n)}function Vf(e,t,n,a,i,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=i,r.treeForkCount=s)}function y_(e,t,n){var a=t.pendingProps,i=a.revealOrder,s=a.tail;a=a.children;var r=zt.current,l=(r&2)!==0;if(l?(r=r&1|2,t.flags|=128):r&=1,bt(zt,r),ln(e,t,a,n),a=We?Ol:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ob(e,n,t);else if(e.tag===19)Ob(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Zu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vf(t,!1,i,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Zu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vf(t,!0,n,null,s,a);break;case"together":Vf(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function bi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hs|=t.lanes,!(n&t.childLanes))if(e!==null){if(Mo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,n=oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ag(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ku(e)))}function ST(e,t,n){switch(t.tag){case 3:Hu(t,t.stateNode.containerInfo),zi(t,Ft,e.memoizedState.cache),Qs();break;case 27:case 5:Gh(t);break;case 4:Hu(t,t.stateNode.containerInfo);break;case 10:zi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,lm(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Li(t),t.flags|=128,null):n&t.child.childLanes?x_(e,t,n):(Li(t),e=bi(e,t,n),e!==null?e.sibling:null);Li(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Mo(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return y_(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bt(zt,zt.current),a)break;return null;case 22:return t.lanes=0,b_(e,t,n,t.pendingProps);case 24:zi(t,Ft,e.memoizedState.cache)}return bi(e,t,n)}function v_(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Gt=!0;else{if(!ag(e,n)&&!(t.flags&128))return Gt=!1,ST(e,t,n);Gt=!!(e.flags&131072)}else Gt=!1,We&&t.flags&1048576&&wS(t,Ol,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=js(t.elementType),t.type=e,typeof e=="function")Ip(e)?(a=nr(e,a),t.tag=1,t=Db(null,t,e,a,n)):(t.tag=0,t=mm(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===Sp){t.tag=11,t=Tb(null,t,e,a,n);break e}else if(i===_p){t.tag=14,t=jb(null,t,e,a,n);break e}}throw t=Hh(e)||e,Error(se(306,t,""))}}return t;case 0:return mm(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=nr(a,t.pendingProps),Db(e,t,a,i,n);case 3:e:{if(Hu(t,t.stateNode.containerInfo),e===null)throw Error(se(387));a=t.pendingProps;var s=t.memoizedState;i=s.element,sm(e,t),bl(t,a,null,n);var r=t.memoizedState;if(a=r.cache,zi(t,Ft,a),a!==s.cache&&am(t,[Ft],n,!0),gl(),a=r.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Mb(e,t,a,n);break e}else if(a!==i){i=oa(Error(se(424)),t),Il(i),t=Mb(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(St=ua(e.firstChild),un=t,We=!0,ts=null,la=!0,n=AS(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Qs(),a===i){t=bi(e,t,n);break e}ln(e,t,a,n)}t=t.child}return t;case 26:return wu(e,t),e===null?(n=ex(t.type,null,t.pendingProps,null))?t.memoizedState=n:We||(n=t.type,e=t.pendingProps,a=cd(es.current).createElement(n),a[cn]=t,a[Mn]=e,fn(a,n,e),en(a),t.stateNode=a):t.memoizedState=ex(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Gh(t),e===null&&We&&(a=t.stateNode=uw(t.type,t.pendingProps,es.current),un=t,la=!0,i=St,xs(t.type)?(Am=i,St=ua(a.firstChild)):St=i),ln(e,t,t.pendingProps.children,n),wu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&We&&((i=a=St)&&(a=ZT(a,t.type,t.pendingProps,la),a!==null?(t.stateNode=a,un=t,St=ua(a.firstChild),la=!1,i=!0):i=!1),i||ds(t)),Gh(t),i=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,Nm(i,s)?a=null:r!==null&&Nm(i,r)&&(t.flags|=32),t.memoizedState!==null&&(i=qp(e,t,fT,null,null,n),Hl._currentValue=i),wu(e,t),ln(e,t,a,n),t.child;case 6:return e===null&&We&&((e=n=St)&&(n=QT(n,t.pendingProps,la),n!==null?(t.stateNode=n,un=t,St=null,e=!0):e=!1),e||ds(t)),null;case 13:return x_(e,t,n);case 4:return Hu(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=er(t,null,a,n):ln(e,t,a,n),t.child;case 11:return Tb(e,t,t.type,t.pendingProps,n);case 7:return ln(e,t,t.pendingProps,n),t.child;case 8:return ln(e,t,t.pendingProps.children,n),t.child;case 12:return ln(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,zi(t,t.type,a.value),ln(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,Js(t),i=dn(i),a=a(i),t.flags|=1,ln(e,t,a,n),t.child;case 14:return jb(e,t,t.type,t.pendingProps,n);case 15:return g_(e,t,t.type,t.pendingProps,n);case 19:return y_(e,t,n);case 31:return vT(e,t,n);case 22:return b_(e,t,n,t.pendingProps);case 24:return Js(t),a=dn(Ft),e===null?(i=Bp(),i===null&&(i=ht,s=Up(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:a,cache:i},Hp(t),zi(t,Ft,i)):(e.lanes&n&&(sm(e,t),bl(t,null,null,n),gl()),i=e.memoizedState,s=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),zi(t,Ft,a)):(a=s.cache,zi(t,Ft,a),a!==i.cache&&am(t,[Ft],n,!0))),ln(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(se(156,t.tag))}function Ka(e){e.flags|=4}function $f(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(q_())e.flags|=8192;else throw qs=Wu,Pp}else e.flags&=-16777217}function Ib(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!hw(t))if(q_())e.flags|=8192;else throw qs=Wu,Pp}function $c(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Yv():536870912,e.lanes|=t,bo|=t)}function nl(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function _T(e,t,n){var a=t.pendingProps;switch(Lp(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return vt(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),li(Ft),uo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sr(t)?Ka(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Uf())),vt(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(Ka(t),s!==null?(vt(t),Ib(t,s)):(vt(t),$f(t,i,null,a,n))):s?s!==e.memoizedState?(Ka(t),vt(t),Ib(t,s)):(vt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ka(t),vt(t),$f(t,i,e,a,n)),null;case 27:if(Fu(t),n=es.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ka(t);else{if(!a){if(t.stateNode===null)throw Error(se(166));return vt(t),null}e=La.current,Sr(t)?ub(t):(e=uw(i,a,n),t.stateNode=e,Ka(t))}return vt(t),null;case 5:if(Fu(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ka(t);else{if(!a){if(t.stateNode===null)throw Error(se(166));return vt(t),null}if(s=La.current,Sr(t))ub(t);else{var r=cd(es.current);switch(s){case 1:s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=r.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=r.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=r.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?r.createElement(i,{is:a.is}):r.createElement(i)}}s[cn]=t,s[Mn]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=s;e:switch(fn(s,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ka(t)}}return vt(t),$f(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ka(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(se(166));if(e=es.current,Sr(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=un,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[cn]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||rw(e.nodeValue,n)),e||ds(t,!0)}else e=cd(e).createTextNode(a),e[cn]=t,t.stateNode=e}return vt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Sr(t),n!==null){if(e===null){if(!a)throw Error(se(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(557));e[cn]=t}else Qs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),e=!1}else n=Uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Pn(t),t):(Pn(t),null);if(t.flags&128)throw Error(se(558))}return vt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Sr(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[cn]=t}else Qs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),i=!1}else i=Uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Pn(t),t):(Pn(t),null)}return Pn(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),$c(t,t.updateQueue),vt(t),null);case 4:return uo(),e===null&&ug(t.stateNode.containerInfo),vt(t),null;case 10:return li(t.type),vt(t),null;case 19:if(tn(zt),a=t.memoizedState,a===null)return vt(t),null;if(i=(t.flags&128)!==0,s=a.rendering,s===null)if(i)nl(a,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Zu(e),s!==null){for(t.flags|=128,nl(a,!1),e=s.updateQueue,t.updateQueue=e,$c(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)SS(n,e),n=n.sibling;return bt(zt,zt.current&1|2),We&&ti(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&qn()>ad&&(t.flags|=128,i=!0,nl(a,!1),t.lanes=4194304)}else{if(!i)if(e=Zu(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,$c(t,e),nl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!We)return vt(t),null}else 2*qn()-a.renderingStartTime>ad&&n!==536870912&&(t.flags|=128,i=!0,nl(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=qn(),e.sibling=null,n=zt.current,bt(zt,i?n&1|2:n&1),We&&ti(t,a.treeForkCount),e):(vt(t),null);case 22:case 23:return Pn(t),Fp(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),n=t.updateQueue,n!==null&&$c(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&tn(Gs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),li(Ft),vt(t),null;case 25:return null;case 30:return null}throw Error(se(156,t.tag))}function wT(e,t){switch(Lp(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return li(Ft),uo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Fu(t),null;case 31:if(t.memoizedState!==null){if(Pn(t),t.alternate===null)throw Error(se(340));Qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Pn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));Qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tn(zt),null;case 4:return uo(),null;case 10:return li(t.type),null;case 22:case 23:return Pn(t),Fp(),e!==null&&tn(Gs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return li(Ft),null;case 25:return null;default:return null}}function S_(e,t){switch(Lp(t),t.tag){case 3:li(Ft),uo();break;case 26:case 27:case 5:Fu(t);break;case 4:uo();break;case 31:t.memoizedState!==null&&Pn(t);break;case 13:Pn(t);break;case 19:tn(zt);break;case 10:li(t.type);break;case 22:case 23:Pn(t),Fp(),e!==null&&tn(Gs);break;case 24:li(Ft)}}function fc(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var s=n.create,r=n.inst;a=s(),r.destroy=a}n=n.next}while(n!==i)}}catch(l){lt(t,t.return,l)}}function fs(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){var r=a.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=t;var c=n,u=l;try{u()}catch(m){lt(i,c,m)}}}a=a.next}while(a!==s)}}catch(m){lt(t,t.return,m)}}function __(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{RS(t,n)}catch(a){lt(e,e.return,a)}}}function w_(e,t,n){n.props=nr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){lt(e,t,a)}}function yl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){lt(e,t,i)}}function Ia(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){lt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){lt(e,t,i)}else n.current=null}function E_(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){lt(e,e.return,i)}}function Kf(e,t,n){try{var a=e.stateNode;YT(a,e.type,n,t),a[Mn]=t}catch(i){lt(e,e.return,i)}}function N_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function Wf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||N_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gm(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=si));else if(a!==4&&(a===27&&xs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(gm(e,t,n),e=e.sibling;e!==null;)gm(e,t,n),e=e.sibling}function nd(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&xs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(nd(e,t,n),e=e.sibling;e!==null;)nd(e,t,n),e=e.sibling}function k_(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fn(t,a,n),t[cn]=e,t[Mn]=n}catch(s){lt(e,e.return,s)}}var ai=!1,Ht=!1,Xf=!1,zb=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function ET(e,t){if(e=e.containerInfo,wm=hd,e=hS(e),Dp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var r=0,l=-1,c=-1,u=0,m=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(l=r+i),d!==s||a!==0&&d.nodeType!==3||(c=r+a),d.nodeType===3&&(r+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(l=r),h===s&&++m===a&&(c=r),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Em={focusedElem:e,selectionRange:n},hd=!1,Jt=t;Jt!==null;)if(t=Jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Jt=e;else for(;Jt!==null;){switch(t=Jt,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var g=nr(n.type,i);e=a.getSnapshotBeforeUpdate(g,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(b){lt(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)km(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":km(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(se(163))}if(e=t.sibling,e!==null){e.return=t.return,Jt=e;break}Jt=t.return}}function T_(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Xa(e,n),a&4&&fc(5,n);break;case 1:if(Xa(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){lt(n,n.return,r)}else{var i=nr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){lt(n,n.return,r)}}a&64&&__(n),a&512&&yl(n,n.return);break;case 3:if(Xa(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{RS(e,t)}catch(r){lt(n,n.return,r)}}break;case 27:t===null&&a&4&&k_(n);case 26:case 5:Xa(e,n),t===null&&a&4&&E_(n),a&512&&yl(n,n.return);break;case 12:Xa(e,n);break;case 31:Xa(e,n),a&4&&C_(e,n);break;case 13:Xa(e,n),a&4&&R_(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=MT.bind(null,n),JT(e,n))));break;case 22:if(a=n.memoizedState!==null||ai,!a){t=t!==null&&t.memoizedState!==null||Ht,i=ai;var s=Ht;ai=a,(Ht=t)&&!s?Qa(e,n,(n.subtreeFlags&8772)!==0):Xa(e,n),ai=i,Ht=s}break;case 30:break;default:Xa(e,n)}}function j_(e){var t=e.alternate;t!==null&&(e.alternate=null,j_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&kp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var kt=null,An=!1;function Wa(e,t,n){for(n=n.child;n!==null;)A_(e,t,n),n=n.sibling}function A_(e,t,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(sc,n)}catch{}switch(n.tag){case 26:Ht||Ia(n,t),Wa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ht||Ia(n,t);var a=kt,i=An;xs(n.type)&&(kt=n.stateNode,An=!1),Wa(e,t,n),wl(n.stateNode),kt=a,An=i;break;case 5:Ht||Ia(n,t);case 6:if(a=kt,i=An,kt=null,Wa(e,t,n),kt=a,An=i,kt!==null)if(An)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(n.stateNode)}catch(s){lt(n,t,s)}else try{kt.removeChild(n.stateNode)}catch(s){lt(n,t,s)}break;case 18:kt!==null&&(An?(e=kt,Wb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),So(e)):Wb(kt,n.stateNode));break;case 4:a=kt,i=An,kt=n.stateNode.containerInfo,An=!0,Wa(e,t,n),kt=a,An=i;break;case 0:case 11:case 14:case 15:fs(2,n,t),Ht||fs(4,n,t),Wa(e,t,n);break;case 1:Ht||(Ia(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&w_(n,t,a)),Wa(e,t,n);break;case 21:Wa(e,t,n);break;case 22:Ht=(a=Ht)||n.memoizedState!==null,Wa(e,t,n),Ht=a;break;default:Wa(e,t,n)}}function C_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{So(e)}catch(n){lt(t,t.return,n)}}}function R_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{So(e)}catch(n){lt(t,t.return,n)}}function NT(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zb),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zb),t;default:throw Error(se(435,e.tag))}}function Kc(e,t){var n=NT(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=OT.bind(null,e,a);a.then(i,i)}})}function kn(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],s=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(xs(l.type)){kt=l.stateNode,An=!1;break e}break;case 5:kt=l.stateNode,An=!1;break e;case 3:case 4:kt=l.stateNode.containerInfo,An=!0;break e}l=l.return}if(kt===null)throw Error(se(160));A_(s,r,i),kt=null,An=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)D_(t,e),t=t.sibling}var ya=null;function D_(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:kn(t,e),Tn(e),a&4&&(fs(3,e,e.return),fc(3,e),fs(5,e,e.return));break;case 1:kn(t,e),Tn(e),a&512&&(Ht||n===null||Ia(n,n.return)),a&64&&ai&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=ya;if(kn(t,e),Tn(e),a&512&&(Ht||n===null||Ia(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":s=i.getElementsByTagName("title")[0],(!s||s[lc]||s[cn]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(a),i.head.insertBefore(s,i.querySelector("head > title"))),fn(s,a,n),s[cn]=e,en(s),a=s;break e;case"link":var r=nx("link","href",i).get(a+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(s=r[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}s=i.createElement(a),fn(s,a,n),i.head.appendChild(s);break;case"meta":if(r=nx("meta","content",i).get(a+(n.content||""))){for(l=0;l<r.length;l++)if(s=r[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}s=i.createElement(a),fn(s,a,n),i.head.appendChild(s);break;default:throw Error(se(468,a))}s[cn]=e,en(s),a=s}e.stateNode=a}else ax(i,e.type,e.stateNode);else e.stateNode=tx(i,a,e.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?ax(i,e.type,e.stateNode):tx(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Kf(e,e.memoizedProps,n.memoizedProps)}break;case 27:kn(t,e),Tn(e),a&512&&(Ht||n===null||Ia(n,n.return)),n!==null&&a&4&&Kf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(kn(t,e),Tn(e),a&512&&(Ht||n===null||Ia(n,n.return)),e.flags&32){i=e.stateNode;try{ho(i,"")}catch(g){lt(e,e.return,g)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,Kf(e,i,n!==null?n.memoizedProps:i)),a&1024&&(Xf=!0);break;case 6:if(kn(t,e),Tn(e),a&4){if(e.stateNode===null)throw Error(se(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(g){lt(e,e.return,g)}}break;case 3:if(ku=null,i=ya,ya=ud(t.containerInfo),kn(t,e),ya=i,Tn(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{So(t.containerInfo)}catch(g){lt(e,e.return,g)}Xf&&(Xf=!1,M_(e));break;case 4:a=ya,ya=ud(e.stateNode.containerInfo),kn(t,e),Tn(e),ya=a;break;case 12:kn(t,e),Tn(e);break;case 31:kn(t,e),Tn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Kc(e,a)));break;case 13:kn(t,e),Tn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Vd=qn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Kc(e,a)));break;case 22:i=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=ai,m=Ht;if(ai=u||i,Ht=m||c,kn(t,e),Ht=m,ai=u,Tn(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||c||ai||Ht||As(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(s=c.stateNode,i)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(g){lt(c,c.return,g)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(g){lt(c,c.return,g)}}}else if(t.tag===18){if(n===null){c=t;try{var f=c.stateNode;i?Xb(f,!0):Xb(c.stateNode,!1)}catch(g){lt(c,c.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Kc(e,n))));break;case 19:kn(t,e),Tn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Kc(e,a)));break;case 30:break;case 21:break;default:kn(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(N_(a)){n=a;break}a=a.return}if(n==null)throw Error(se(160));switch(n.tag){case 27:var i=n.stateNode,s=Wf(e);nd(e,s,i);break;case 5:var r=n.stateNode;n.flags&32&&(ho(r,""),n.flags&=-33);var l=Wf(e);nd(e,l,r);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Wf(e);gm(e,u,c);break;default:throw Error(se(161))}}catch(m){lt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function M_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;M_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Xa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)T_(e,t.alternate,t),t=t.sibling}function As(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fs(4,t,t.return),As(t);break;case 1:Ia(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&w_(t,t.return,n),As(t);break;case 27:wl(t.stateNode);case 26:case 5:Ia(t,t.return),As(t);break;case 22:t.memoizedState===null&&As(t);break;case 30:As(t);break;default:As(t)}e=e.sibling}}function Qa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:Qa(i,s,n),fc(4,s);break;case 1:if(Qa(i,s,n),a=s,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){lt(a,a.return,u)}if(a=s,i=a.updateQueue,i!==null){var l=a.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)CS(c[i],l)}catch(u){lt(a,a.return,u)}}n&&r&64&&__(s),yl(s,s.return);break;case 27:k_(s);case 26:case 5:Qa(i,s,n),n&&a===null&&r&4&&E_(s),yl(s,s.return);break;case 12:Qa(i,s,n);break;case 31:Qa(i,s,n),n&&r&4&&C_(i,s);break;case 13:Qa(i,s,n),n&&r&4&&R_(i,s);break;case 22:s.memoizedState===null&&Qa(i,s,n),yl(s,s.return);break;case 30:break;default:Qa(i,s,n)}t=t.sibling}}function ig(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&uc(n))}function sg(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&uc(e))}function ma(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)O_(e,t,n,a),t=t.sibling}function O_(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ma(e,t,n,a),i&2048&&fc(9,t);break;case 1:ma(e,t,n,a);break;case 3:ma(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&uc(e)));break;case 12:if(i&2048){ma(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,l=s.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){lt(t,t.return,c)}}else ma(e,t,n,a);break;case 31:ma(e,t,n,a);break;case 13:ma(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?ma(e,t,n,a):vl(e,t):s._visibility&2?ma(e,t,n,a):(s._visibility|=2,Nr(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&ig(r,t);break;case 24:ma(e,t,n,a),i&2048&&sg(t.alternate,t);break;default:ma(e,t,n,a)}}function Nr(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,r=t,l=n,c=a,u=r.flags;switch(r.tag){case 0:case 11:case 15:Nr(s,r,l,c,i),fc(8,r);break;case 23:break;case 22:var m=r.stateNode;r.memoizedState!==null?m._visibility&2?Nr(s,r,l,c,i):vl(s,r):(m._visibility|=2,Nr(s,r,l,c,i)),i&&u&2048&&ig(r.alternate,r);break;case 24:Nr(s,r,l,c,i),i&&u&2048&&sg(r.alternate,r);break;default:Nr(s,r,l,c,i)}t=t.sibling}}function vl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:vl(n,a),i&2048&&ig(a.alternate,a);break;case 24:vl(n,a),i&2048&&sg(a.alternate,a);break;default:vl(n,a)}t=t.sibling}}var ul=8192;function _r(e,t,n){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)I_(e,t,n),e=e.sibling}function I_(e,t,n){switch(e.tag){case 26:_r(e,t,n),e.flags&ul&&e.memoizedState!==null&&dj(n,ya,e.memoizedState,e.memoizedProps);break;case 5:_r(e,t,n);break;case 3:case 4:var a=ya;ya=ud(e.stateNode.containerInfo),_r(e,t,n),ya=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=ul,ul=16777216,_r(e,t,n),ul=a):_r(e,t,n));break;default:_r(e,t,n)}}function z_(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function al(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Jt=a,U_(a,e)}z_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)L_(e),e=e.sibling}function L_(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&fs(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Eu(e)):al(e);break;default:al(e)}}function Eu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Jt=a,U_(a,e)}z_(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:fs(8,t,t.return),Eu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Eu(t));break;default:Eu(t)}e=e.sibling}}function U_(e,t){for(;Jt!==null;){var n=Jt;switch(n.tag){case 0:case 11:case 15:fs(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:uc(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Jt=a;else e:for(n=e;Jt!==null;){a=Jt;var i=a.sibling,s=a.return;if(j_(a),a===n){Jt=null;break e}if(i!==null){i.return=s,Jt=i;break e}Jt=s}}}var kT={getCacheForType:function(e){var t=dn(Ft),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return dn(Ft).controller.signal}},TT=typeof WeakMap=="function"?WeakMap:Map,st=0,ht=null,qe=null,Ye=0,ot=0,Un=null,Wi=!1,Io=!1,rg=!1,xi=0,Mt=0,hs=0,Ys=0,og=0,Gn=0,bo=0,Sl=null,Cn=null,bm=!1,Vd=0,B_=0,ad=1/0,id=null,is=null,Vt=0,ss=null,xo=null,ci=0,xm=0,ym=null,P_=null,_l=0,vm=null;function $n(){return st&2&&Ye!==0?Ye&-Ye:Te.T!==null?cg():Wv()}function H_(){if(Gn===0)if(!(Ye&536870912)||We){var e=Pc;Pc<<=1,!(Pc&3932160)&&(Pc=262144),Gn=e}else Gn=536870912;return e=Xn.current,e!==null&&(e.flags|=32),Gn}function Dn(e,t,n){(e===ht&&(ot===2||ot===9)||e.cancelPendingCommit!==null)&&(yo(e,0),Xi(e,Ye,Gn,!1)),oc(e,n),(!(st&2)||e!==ht)&&(e===ht&&(!(st&2)&&(Ys|=n),Mt===4&&Xi(e,Ye,Gn,!1)),Pa(e))}function F_(e,t,n){if(st&6)throw Error(se(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||rc(e,t),i=a?CT(e,t):Zf(e,t,!0),s=a;do{if(i===0){Io&&!a&&Xi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!jT(n)){i=Zf(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;i=Sl;var c=l.current.memoizedState.isDehydrated;if(c&&(yo(l,r).flags|=256),r=Zf(l,r,!1),r!==2){if(rg&&!c){l.errorRecoveryDisabledLanes|=s,Ys|=s,i=4;break e}s=Cn,Cn=i,s!==null&&(Cn===null?Cn=s:Cn.push.apply(Cn,s))}i=r}if(s=!1,i!==2)continue}}if(i===1){yo(e,0),Xi(e,t,0,!0);break}e:{switch(a=e,s=i,s){case 0:case 1:throw Error(se(345));case 4:if((t&4194048)!==t)break;case 6:Xi(a,t,Gn,!Wi);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(se(329))}if((t&62914560)===t&&(i=Vd+300-qn(),10<i)){if(Xi(a,t,Gn,!Wi),Id(a,0,!0)!==0)break e;ci=t,a.timeoutHandle=lw(Lb.bind(null,a,n,Cn,id,bm,t,Gn,Ys,bo,Wi,s,"Throttled",-0,0),i);break e}Lb(a,n,Cn,id,bm,t,Gn,Ys,bo,Wi,s,null,-0,0)}}break}while(!0);Pa(e)}function Lb(e,t,n,a,i,s,r,l,c,u,m,d,h,f){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},I_(t,s,d);var g=(s&62914560)===s?Vd-qn():(s&4194048)===s?B_-qn():0;if(g=fj(d,g),g!==null){ci=s,e.cancelPendingCommit=g(Bb.bind(null,e,t,s,n,a,i,r,l,c,m,d,null,h,f)),Xi(e,s,r,!u);return}}Bb(e,t,s,n,a,i,r,l,c)}function jT(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],s=i.getSnapshot;i=i.value;try{if(!Wn(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xi(e,t,n,a){t&=~og,t&=~Ys,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var s=31-Vn(i),r=1<<s;a[s]=-1,i&=~r}n!==0&&Vv(e,n,t)}function $d(){return st&6?!0:(hc(0),!1)}function lg(){if(qe!==null){if(ot===0)var e=qe.return;else e=qe,ri=dr=null,$p(e),Zr=null,zl=0,e=qe;for(;e!==null;)S_(e.alternate,e),e=e.return;qe=null}}function yo(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,KT(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ci=0,lg(),ht=e,qe=n=oi(e.current,null),Ye=t,ot=0,Un=null,Wi=!1,Io=rc(e,t),rg=!1,bo=Gn=og=Ys=hs=Mt=0,Cn=Sl=null,bm=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-Vn(a),s=1<<i;t|=e[i],a&=~s}return xi=t,Bd(),n}function G_(e,t){ze=null,Te.H=Ul,t===Oo||t===Hd?(t=pb(),ot=3):t===Pp?(t=pb(),ot=4):ot=t===ng?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Un=t,qe===null&&(Mt=1,ed(e,oa(t,e.current)))}function q_(){var e=Xn.current;return e===null?!0:(Ye&4194048)===Ye?ca===null:(Ye&62914560)===Ye||Ye&536870912?e===ca:!1}function Y_(){var e=Te.H;return Te.H=Ul,e===null?Ul:e}function V_(){var e=Te.A;return Te.A=kT,e}function sd(){Mt=4,Wi||(Ye&4194048)!==Ye&&Xn.current!==null||(Io=!0),!(hs&134217727)&&!(Ys&134217727)||ht===null||Xi(ht,Ye,Gn,!1)}function Zf(e,t,n){var a=st;st|=2;var i=Y_(),s=V_();(ht!==e||Ye!==t)&&(id=null,yo(e,t)),t=!1;var r=Mt;e:do try{if(ot!==0&&qe!==null){var l=qe,c=Un;switch(ot){case 8:lg(),r=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(t=!0);var u=ot;if(ot=0,Un=null,Pr(e,l,c,u),n&&Io){r=0;break e}break;default:u=ot,ot=0,Un=null,Pr(e,l,c,u)}}AT(),r=Mt;break}catch(m){G_(e,m)}while(!0);return t&&e.shellSuspendCounter++,ri=dr=null,st=a,Te.H=i,Te.A=s,qe===null&&(ht=null,Ye=0,Bd()),r}function AT(){for(;qe!==null;)$_(qe)}function CT(e,t){var n=st;st|=2;var a=Y_(),i=V_();ht!==e||Ye!==t?(id=null,ad=qn()+500,yo(e,t)):Io=rc(e,t);e:do try{if(ot!==0&&qe!==null){t=qe;var s=Un;t:switch(ot){case 1:ot=0,Un=null,Pr(e,t,s,1);break;case 2:case 9:if(mb(s)){ot=0,Un=null,Ub(t);break}t=function(){ot!==2&&ot!==9||ht!==e||(ot=7),Pa(e)},s.then(t,t);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:mb(s)?(ot=0,Un=null,Ub(t)):(ot=0,Un=null,Pr(e,t,s,7));break;case 5:var r=null;switch(qe.tag){case 26:r=qe.memoizedState;case 5:case 27:var l=qe;if(r?hw(r):l.stateNode.complete){ot=0,Un=null;var c=l.sibling;if(c!==null)qe=c;else{var u=l.return;u!==null?(qe=u,Kd(u)):qe=null}break t}}ot=0,Un=null,Pr(e,t,s,5);break;case 6:ot=0,Un=null,Pr(e,t,s,6);break;case 8:lg(),Mt=6;break e;default:throw Error(se(462))}}RT();break}catch(m){G_(e,m)}while(!0);return ri=dr=null,Te.H=a,Te.A=i,st=n,qe!==null?0:(ht=null,Ye=0,Bd(),Mt)}function RT(){for(;qe!==null&&!ek();)$_(qe)}function $_(e){var t=v_(e.alternate,e,xi);e.memoizedProps=e.pendingProps,t===null?Kd(e):qe=t}function Ub(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Rb(n,t,t.pendingProps,t.type,void 0,Ye);break;case 11:t=Rb(n,t,t.pendingProps,t.type.render,t.ref,Ye);break;case 5:$p(t);default:S_(n,t),t=qe=SS(t,xi),t=v_(n,t,xi)}e.memoizedProps=e.pendingProps,t===null?Kd(e):qe=t}function Pr(e,t,n,a){ri=dr=null,$p(t),Zr=null,zl=0;var i=t.return;try{if(yT(e,i,t,n,Ye)){Mt=1,ed(e,oa(n,e.current)),qe=null;return}}catch(s){if(i!==null)throw qe=i,s;Mt=1,ed(e,oa(n,e.current)),qe=null;return}t.flags&32768?(We||a===1?e=!0:Io||Ye&536870912?e=!1:(Wi=e=!0,(a===2||a===9||a===3||a===6)&&(a=Xn.current,a!==null&&a.tag===13&&(a.flags|=16384))),K_(t,e)):Kd(t)}function Kd(e){var t=e;do{if(t.flags&32768){K_(t,Wi);return}e=t.return;var n=_T(t.alternate,t,xi);if(n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);Mt===0&&(Mt=5)}function K_(e,t){do{var n=wT(e.alternate,e);if(n!==null){n.flags&=32767,qe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){qe=e;return}qe=e=n}while(e!==null);Mt=6,qe=null}function Bb(e,t,n,a,i,s,r,l,c){e.cancelPendingCommit=null;do Wd();while(Vt!==0);if(st&6)throw Error(se(327));if(t!==null){if(t===e.current)throw Error(se(177));if(s=t.lanes|t.childLanes,s|=Mp,uk(e,n,s,r,l,c),e===ht&&(qe=ht=null,Ye=0),xo=t,ss=e,ci=n,xm=s,ym=i,P_=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,IT(Gu,function(){return J_(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=Te.T,Te.T=null,i=rt.p,rt.p=2,r=st,st|=4;try{ET(e,t,n)}finally{st=r,rt.p=i,Te.T=a}}Vt=1,W_(),X_(),Z_()}}function W_(){if(Vt===1){Vt=0;var e=ss,t=xo,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Te.T,Te.T=null;var a=rt.p;rt.p=2;var i=st;st|=4;try{D_(t,e);var s=Em,r=hS(e.containerInfo),l=s.focusedElem,c=s.selectionRange;if(r!==l&&l&&l.ownerDocument&&fS(l.ownerDocument.documentElement,l)){if(c!==null&&Dp(l)){var u=c.start,m=c.end;if(m===void 0&&(m=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(m,l.value.length);else{var d=l.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),g=l.textContent.length,b=Math.min(c.start,g),y=c.end===void 0?b:Math.min(c.end,g);!f.extend&&b>y&&(r=y,y=b,b=r);var p=ob(l,b),x=ob(l,y);if(p&&x&&(f.rangeCount!==1||f.anchorNode!==p.node||f.anchorOffset!==p.offset||f.focusNode!==x.node||f.focusOffset!==x.offset)){var _=d.createRange();_.setStart(p.node,p.offset),f.removeAllRanges(),b>y?(f.addRange(_),f.extend(x.node,x.offset)):(_.setEnd(x.node,x.offset),f.addRange(_))}}}}for(d=[],f=l;f=f.parentNode;)f.nodeType===1&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<d.length;l++){var w=d[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}hd=!!wm,Em=wm=null}finally{st=i,rt.p=a,Te.T=n}}e.current=t,Vt=2}}function X_(){if(Vt===2){Vt=0;var e=ss,t=xo,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Te.T,Te.T=null;var a=rt.p;rt.p=2;var i=st;st|=4;try{T_(e,t.alternate,t)}finally{st=i,rt.p=a,Te.T=n}}Vt=3}}function Z_(){if(Vt===4||Vt===3){Vt=0,tk();var e=ss,t=xo,n=ci,a=P_;t.subtreeFlags&10256||t.flags&10256?Vt=5:(Vt=0,xo=ss=null,Q_(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(is=null),Np(n),t=t.stateNode,Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(sc,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=Te.T,i=rt.p,rt.p=2,Te.T=null;try{for(var s=e.onRecoverableError,r=0;r<a.length;r++){var l=a[r];s(l.value,{componentStack:l.stack})}}finally{Te.T=t,rt.p=i}}ci&3&&Wd(),Pa(e),i=e.pendingLanes,n&261930&&i&42?e===vm?_l++:(_l=0,vm=e):_l=0,hc(0)}}function Q_(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,uc(t)))}function Wd(){return W_(),X_(),Z_(),J_()}function J_(){if(Vt!==5)return!1;var e=ss,t=xm;xm=0;var n=Np(ci),a=Te.T,i=rt.p;try{rt.p=32>n?32:n,Te.T=null,n=ym,ym=null;var s=ss,r=ci;if(Vt=0,xo=ss=null,ci=0,st&6)throw Error(se(331));var l=st;if(st|=4,L_(s.current),O_(s,s.current,r,n),st=l,hc(0,!1),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(sc,s)}catch{}return!0}finally{rt.p=i,Te.T=a,Q_(e,t)}}function Pb(e,t,n){t=oa(n,t),t=hm(e.stateNode,t,2),e=as(e,t,2),e!==null&&(oc(e,2),Pa(e))}function lt(e,t,n){if(e.tag===3)Pb(e,e,n);else for(;t!==null;){if(t.tag===3){Pb(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(is===null||!is.has(a))){e=oa(n,e),n=m_(2),a=as(t,n,2),a!==null&&(p_(n,a,t,e),oc(a,2),Pa(a));break}}t=t.return}}function Qf(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new TT;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(rg=!0,i.add(n),e=DT.bind(null,e,t,n),t.then(e,e))}function DT(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ht===e&&(Ye&n)===n&&(Mt===4||Mt===3&&(Ye&62914560)===Ye&&300>qn()-Vd?!(st&2)&&yo(e,0):og|=n,bo===Ye&&(bo=0)),Pa(e)}function ew(e,t){t===0&&(t=Yv()),e=ur(e,t),e!==null&&(oc(e,t),Pa(e))}function MT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ew(e,n)}function OT(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(se(314))}a!==null&&a.delete(t),ew(e,n)}function IT(e,t){return wp(e,t)}var rd=null,kr=null,Sm=!1,od=!1,Jf=!1,Zi=0;function Pa(e){e!==kr&&e.next===null&&(kr===null?rd=kr=e:kr=kr.next=e),od=!0,Sm||(Sm=!0,LT())}function hc(e,t){if(!Jf&&od){Jf=!0;do for(var n=!1,a=rd;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var s=0;else{var r=a.suspendedLanes,l=a.pingedLanes;s=(1<<31-Vn(42|e)+1)-1,s&=i&~(r&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Hb(a,s))}else s=Ye,s=Id(a,a===ht?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(s&3)||rc(a,s)||(n=!0,Hb(a,s));a=a.next}while(n);Jf=!1}}function zT(){tw()}function tw(){od=Sm=!1;var e=0;Zi!==0&&$T()&&(e=Zi);for(var t=qn(),n=null,a=rd;a!==null;){var i=a.next,s=nw(a,t);s===0?(a.next=null,n===null?rd=i:n.next=i,i===null&&(kr=n)):(n=a,(e!==0||s&3)&&(od=!0)),a=i}Vt!==0&&Vt!==5||hc(e),Zi!==0&&(Zi=0)}function nw(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-Vn(s),l=1<<r,c=i[r];c===-1?(!(l&n)||l&a)&&(i[r]=ck(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}if(t=ht,n=Ye,n=Id(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(ot===2||ot===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Tf(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||rc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Tf(a),Np(n)){case 2:case 8:n=Gv;break;case 32:n=Gu;break;case 268435456:n=qv;break;default:n=Gu}return a=aw.bind(null,e),n=wp(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Tf(a),e.callbackPriority=2,e.callbackNode=null,2}function aw(e,t){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Wd()&&e.callbackNode!==n)return null;var a=Ye;return a=Id(e,e===ht?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(F_(e,a,t),nw(e,qn()),e.callbackNode!=null&&e.callbackNode===n?aw.bind(null,e):null)}function Hb(e,t){if(Wd())return null;F_(e,t,!0)}function LT(){WT(function(){st&6?wp(Fv,zT):tw()})}function cg(){if(Zi===0){var e=mo;e===0&&(e=Bc,Bc<<=1,!(Bc&261888)&&(Bc=256)),Zi=e}return Zi}function Fb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pu(""+e)}function Gb(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function UT(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var s=Fb((i[Mn]||null).action),r=a.submitter;r&&(t=(t=r[Mn]||null)?Fb(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var l=new zd("action","action",null,a,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Zi!==0){var c=r?Gb(i,r):new FormData(i);dm(n,{pending:!0,data:c,method:i.method,action:s},null,c)}}else typeof s=="function"&&(l.preventDefault(),c=r?Gb(i,r):new FormData(i),dm(n,{pending:!0,data:c,method:i.method,action:s},s,c))},currentTarget:i}]})}}for(var eh=0;eh<Jh.length;eh++){var th=Jh[eh],BT=th.toLowerCase(),PT=th[0].toUpperCase()+th.slice(1);Na(BT,"on"+PT)}Na(pS,"onAnimationEnd");Na(gS,"onAnimationIteration");Na(bS,"onAnimationStart");Na("dblclick","onDoubleClick");Na("focusin","onFocus");Na("focusout","onBlur");Na(nT,"onTransitionRun");Na(aT,"onTransitionStart");Na(iT,"onTransitionCancel");Na(xS,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function iw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var l=a[r],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=u;try{s(i)}catch(m){Yu(m)}i.currentTarget=null,s=c}else for(r=0;r<a.length;r++){if(l=a[r],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;s=l,i.currentTarget=u;try{s(i)}catch(m){Yu(m)}i.currentTarget=null,s=c}}}}function Ge(e,t){var n=t[Yh];n===void 0&&(n=t[Yh]=new Set);var a=e+"__bubble";n.has(a)||(sw(t,e,2,!1),n.add(a))}function nh(e,t,n){var a=0;t&&(a|=4),sw(n,e,a,t)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function ug(e){if(!e[Wc]){e[Wc]=!0,Xv.forEach(function(n){n!=="selectionchange"&&(HT.has(n)||nh(n,!1,e),nh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wc]||(t[Wc]=!0,nh("selectionchange",!1,t))}}function sw(e,t,n,a){switch(xw(t)){case 2:var i=pj;break;case 8:i=gj;break;default:i=mg}n=i.bind(null,t,n,e),i=void 0,!Xh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ah(e,t,n,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var l=a.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=a.return;r!==null;){var c=r.tag;if((c===3||c===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=Rr(l),r===null)return;if(c=r.tag,c===5||c===6||c===26||c===27){a=s=r;continue e}l=l.parentNode}}a=a.return}iS(function(){var u=s,m=jp(n),d=[];e:{var h=yS.get(e);if(h!==void 0){var f=zd,g=e;switch(e){case"keypress":if(bu(n)===0)break e;case"keydown":case"keyup":f=Ok;break;case"focusin":g="focus",f=Df;break;case"focusout":g="blur",f=Df;break;case"beforeblur":case"afterblur":f=Df;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Z0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=_k;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Lk;break;case pS:case gS:case bS:f=Nk;break;case xS:f=Bk;break;case"scroll":case"scrollend":f=vk;break;case"wheel":f=Hk;break;case"copy":case"cut":case"paste":f=Tk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=J0;break;case"toggle":case"beforetoggle":f=Gk}var b=(t&4)!==0,y=!b&&(e==="scroll"||e==="scrollend"),p=b?h!==null?h+"Capture":null:h;b=[];for(var x=u,_;x!==null;){var w=x;if(_=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||_===null||p===null||(w=Rl(x,p),w!=null&&b.push(Pl(x,w,_))),y)break;x=x.return}0<b.length&&(h=new f(h,g,null,n,m),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==Wh&&(g=n.relatedTarget||n.fromElement)&&(Rr(g)||g[Ro]))break e;if((f||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?Rr(g):null,g!==null&&(y=ic(g),b=g.tag,g!==y||b!==5&&b!==27&&b!==6)&&(g=null)):(f=null,g=u),f!==g)){if(b=Z0,w="onMouseLeave",p="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=J0,w="onPointerLeave",p="onPointerEnter",x="pointer"),y=f==null?h:ll(f),_=g==null?h:ll(g),h=new b(w,x+"leave",f,n,m),h.target=y,h.relatedTarget=_,w=null,Rr(m)===u&&(b=new b(p,x+"enter",g,n,m),b.target=_,b.relatedTarget=y,w=b),y=w,f&&g)t:{for(b=FT,p=f,x=g,_=0,w=p;w;w=b(w))_++;w=0;for(var E=x;E;E=b(E))w++;for(;0<_-w;)p=b(p),_--;for(;0<w-_;)x=b(x),w--;for(;_--;){if(p===x||x!==null&&p===x.alternate){b=p;break t}p=b(p),x=b(x)}b=null}else b=null;f!==null&&qb(d,h,f,b,!1),g!==null&&y!==null&&qb(d,y,g,b,!0)}}e:{if(h=u?ll(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var j=ab;else if(nb(h))if(uS)j=Jk;else{j=Zk;var N=Xk}else f=h.nodeName,!f||f.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Tp(u.elementType)&&(j=ab):j=Qk;if(j&&(j=j(e,u))){cS(d,j,n,m);break e}N&&N(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Kh(h,"number",h.value)}switch(N=u?ll(u):window,e){case"focusin":(nb(N)||N.contentEditable==="true")&&(Or=N,Zh=u,hl=null);break;case"focusout":hl=Zh=Or=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,lb(d,n,m);break;case"selectionchange":if(tT)break;case"keydown":case"keyup":lb(d,n,m)}var D;if(Rp)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Mr?oS(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(rS&&n.locale!=="ko"&&(Mr||z!=="onCompositionStart"?z==="onCompositionEnd"&&Mr&&(D=sS()):(Ki=m,Ap="value"in Ki?Ki.value:Ki.textContent,Mr=!0)),N=ld(u,z),0<N.length&&(z=new Q0(z,e,null,n,m),d.push({event:z,listeners:N}),D?z.data=D:(D=lS(n),D!==null&&(z.data=D)))),(D=Yk?Vk(e,n):$k(e,n))&&(z=ld(u,"onBeforeInput"),0<z.length&&(N=new Q0("onBeforeInput","beforeinput",null,n,m),d.push({event:N,listeners:z}),N.data=D)),UT(d,e,u,n,m)}iw(d,t)})}function Pl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ld(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Rl(e,n),i!=null&&a.unshift(Pl(e,i,s)),i=Rl(e,t),i!=null&&a.push(Pl(e,i,s))),e.tag===3)return a;e=e.return}return[]}function FT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qb(e,t,n,a,i){for(var s=t._reactName,r=[];n!==null&&n!==a;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===a)break;l!==5&&l!==26&&l!==27||u===null||(c=u,i?(u=Rl(n,s),u!=null&&r.unshift(Pl(n,u,c))):i||(u=Rl(n,s),u!=null&&r.push(Pl(n,u,c)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var GT=/\r\n?/g,qT=/\u0000|\uFFFD/g;function Yb(e){return(typeof e=="string"?e:""+e).replace(GT,`
`).replace(qT,"")}function rw(e,t){return t=Yb(t),Yb(e)===t}function dt(e,t,n,a,i,s){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ho(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ho(e,""+a);break;case"className":Fc(e,"class",a);break;case"tabIndex":Fc(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Fc(e,n,a);break;case"style":aS(e,a,s);break;case"data":if(t!=="object"){Fc(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=pu(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&dt(e,t,"name",i.name,i,null),dt(e,t,"formEncType",i.formEncType,i,null),dt(e,t,"formMethod",i.formMethod,i,null),dt(e,t,"formTarget",i.formTarget,i,null)):(dt(e,t,"encType",i.encType,i,null),dt(e,t,"method",i.method,i,null),dt(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=pu(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=si);break;case"onScroll":a!=null&&Ge("scroll",e);break;case"onScrollEnd":a!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(se(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(se(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=pu(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),mu(e,"popover",a);break;case"xlinkActuate":$a(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":$a(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":$a(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":$a(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":$a(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":$a(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":$a(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":$a(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":$a(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":mu(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=xk.get(n)||n,mu(e,n,a))}}function _m(e,t,n,a,i,s){switch(n){case"style":aS(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(se(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(se(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ho(e,a):(typeof a=="number"||typeof a=="bigint")&&ho(e,""+a);break;case"onScroll":a!=null&&Ge("scroll",e);break;case"onScrollEnd":a!=null&&Ge("scrollend",e);break;case"onClick":a!=null&&(e.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[Mn]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof a=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):mu(e,n,a)}}}function fn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var a=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(se(137,t));default:dt(e,t,s,r,n,null)}}i&&dt(e,t,"srcSet",n.srcSet,n,null),a&&dt(e,t,"src",n.src,n,null);return;case"input":Ge("invalid",e);var l=s=r=i=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var m=n[a];if(m!=null)switch(a){case"name":i=m;break;case"type":r=m;break;case"checked":c=m;break;case"defaultChecked":u=m;break;case"value":s=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(se(137,t));break;default:dt(e,t,a,m,n,null)}}eS(e,s,l,c,u,r,i,!1);return;case"select":Ge("invalid",e),a=r=s=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":s=l;break;case"defaultValue":r=l;break;case"multiple":a=l;default:dt(e,t,i,l,n,null)}t=s,n=r,e.multiple=!!a,t!=null?Kr(e,!!a,t,!1):n!=null&&Kr(e,!!a,n,!0);return;case"textarea":Ge("invalid",e),s=i=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":i=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(se(91));break;default:dt(e,t,r,l,n,null)}nS(e,a,i,s);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(a=n[c],a!=null))switch(c){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:dt(e,t,c,a,n,null)}return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Ge(Bl[a],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(se(137,t));default:dt(e,t,u,a,n,null)}return;default:if(Tp(t)){for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!==void 0&&_m(e,t,m,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&dt(e,t,l,a,n,null))}function YT(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,r=null,l=null,c=null,u=null,m=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&d!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":c=d;default:a.hasOwnProperty(f)||dt(e,t,f,null,a,d)}}for(var h in a){var f=a[h];if(d=n[h],a.hasOwnProperty(h)&&(f!=null||d!=null))switch(h){case"type":s=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":m=f;break;case"value":r=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(se(137,t));break;default:f!==d&&dt(e,t,h,f,a,d)}}$h(e,r,l,c,u,m,s,i);return;case"select":f=r=l=h=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":f=c;default:a.hasOwnProperty(s)||dt(e,t,s,null,a,c)}for(i in a)if(s=a[i],c=n[i],a.hasOwnProperty(i)&&(s!=null||c!=null))switch(i){case"value":h=s;break;case"defaultValue":l=s;break;case"multiple":r=s;default:s!==c&&dt(e,t,i,s,a,c)}t=l,n=r,a=f,h!=null?Kr(e,!!n,h,!1):!!a!=!!n&&(t!=null?Kr(e,!!n,t,!0):Kr(e,!!n,n?[]:"",!1));return;case"textarea":f=h=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:dt(e,t,l,null,a,i)}for(r in a)if(i=a[r],s=n[r],a.hasOwnProperty(r)&&(i!=null||s!=null))switch(r){case"value":h=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(se(91));break;default:i!==s&&dt(e,t,r,i,a,s)}tS(e,h,f);return;case"option":for(var g in n)if(h=n[g],n.hasOwnProperty(g)&&h!=null&&!a.hasOwnProperty(g))switch(g){case"selected":e.selected=!1;break;default:dt(e,t,g,null,a,h)}for(c in a)if(h=a[c],f=n[c],a.hasOwnProperty(c)&&h!==f&&(h!=null||f!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:dt(e,t,c,h,a,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!a.hasOwnProperty(b)&&dt(e,t,b,null,a,h);for(u in a)if(h=a[u],f=n[u],a.hasOwnProperty(u)&&h!==f&&(h!=null||f!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(se(137,t));break;default:dt(e,t,u,h,a,f)}return;default:if(Tp(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!==void 0&&!a.hasOwnProperty(y)&&_m(e,t,y,void 0,a,h);for(m in a)h=a[m],f=n[m],!a.hasOwnProperty(m)||h===f||h===void 0&&f===void 0||_m(e,t,m,h,a,f);return}}for(var p in n)h=n[p],n.hasOwnProperty(p)&&h!=null&&!a.hasOwnProperty(p)&&dt(e,t,p,null,a,h);for(d in a)h=a[d],f=n[d],!a.hasOwnProperty(d)||h===f||h==null&&f==null||dt(e,t,d,h,a,f)}function Vb(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],s=i.transferSize,r=i.initiatorType,l=i.duration;if(s&&l&&Vb(r)){for(r=0,l=i.responseEnd,a+=1;a<n.length;a++){var c=n[a],u=c.startTime;if(u>l)break;var m=c.transferSize,d=c.initiatorType;m&&Vb(d)&&(c=c.responseEnd,r+=m*(c<l?1:(l-u)/(c-u)))}if(--a,t+=8*(s+r)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wm=null,Em=null;function cd(e){return e.nodeType===9?e:e.ownerDocument}function $b(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ow(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Nm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ih=null;function $T(){var e=window.event;return e&&e.type==="popstate"?e===ih?!1:(ih=e,!0):(ih=null,!1)}var lw=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,Kb=typeof Promise=="function"?Promise:void 0,WT=typeof queueMicrotask=="function"?queueMicrotask:typeof Kb<"u"?function(e){return Kb.resolve(null).then(e).catch(XT)}:lw;function XT(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function Wb(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),So(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")wl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,wl(n);for(var s=n.firstChild;s;){var r=s.nextSibling,l=s.nodeName;s[lc]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=r}}else n==="body"&&wl(e.ownerDocument.body);n=i}while(n);So(t)}function Xb(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function km(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":km(n),kp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ZT(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[lc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=ua(e.nextSibling),e===null)break}return null}function QT(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ua(e.nextSibling),e===null))return null;return e}function cw(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ua(e.nextSibling),e===null))return null;return e}function Tm(e){return e.data==="$?"||e.data==="$~"}function jm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function JT(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function ua(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Am=null;function Zb(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return ua(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Qb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function uw(e,t,n){switch(t=cd(n),e){case"html":if(e=t.documentElement,!e)throw Error(se(452));return e;case"head":if(e=t.head,!e)throw Error(se(453));return e;case"body":if(e=t.body,!e)throw Error(se(454));return e;default:throw Error(se(451))}}function wl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);kp(e)}var fa=new Map,Jb=new Set;function ud(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ei=rt.d;rt.d={f:ej,r:tj,D:nj,C:aj,L:ij,m:sj,X:oj,S:rj,M:lj};function ej(){var e=Ei.f(),t=$d();return e||t}function tj(e){var t=Do(e);t!==null&&t.tag===5&&t.type==="form"?a_(t):Ei.r(e)}var zo=typeof document>"u"?null:document;function dw(e,t,n){var a=zo;if(a&&typeof t=="string"&&t){var i=ra(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Jb.has(i)||(Jb.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),fn(t,"link",e),en(t),a.head.appendChild(t)))}}function nj(e){Ei.D(e),dw("dns-prefetch",e,null)}function aj(e,t){Ei.C(e,t),dw("preconnect",e,t)}function ij(e,t,n){Ei.L(e,t,n);var a=zo;if(a&&e&&t){var i='link[rel="preload"][as="'+ra(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+ra(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+ra(n.imageSizes)+'"]')):i+='[href="'+ra(e)+'"]';var s=i;switch(t){case"style":s=vo(e);break;case"script":s=Lo(e)}fa.has(s)||(e=_t({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),fa.set(s,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(mc(s))||t==="script"&&a.querySelector(pc(s))||(t=a.createElement("link"),fn(t,"link",e),en(t),a.head.appendChild(t)))}}function sj(e,t){Ei.m(e,t);var n=zo;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+ra(a)+'"][href="'+ra(e)+'"]',s=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Lo(e)}if(!fa.has(s)&&(e=_t({rel:"modulepreload",href:e},t),fa.set(s,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(pc(s)))return}a=n.createElement("link"),fn(a,"link",e),en(a),n.head.appendChild(a)}}}function rj(e,t,n){Ei.S(e,t,n);var a=zo;if(a&&e){var i=$r(a).hoistableStyles,s=vo(e);t=t||"default";var r=i.get(s);if(!r){var l={loading:0,preload:null};if(r=a.querySelector(mc(s)))l.loading=5;else{e=_t({rel:"stylesheet",href:e,"data-precedence":t},n),(n=fa.get(s))&&dg(e,n);var c=r=a.createElement("link");en(c),fn(c,"link",e),c._p=new Promise(function(u,m){c.onload=u,c.onerror=m}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Nu(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(s,r)}}}function oj(e,t){Ei.X(e,t);var n=zo;if(n&&e){var a=$r(n).hoistableScripts,i=Lo(e),s=a.get(i);s||(s=n.querySelector(pc(i)),s||(e=_t({src:e,async:!0},t),(t=fa.get(i))&&fg(e,t),s=n.createElement("script"),en(s),fn(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function lj(e,t){Ei.M(e,t);var n=zo;if(n&&e){var a=$r(n).hoistableScripts,i=Lo(e),s=a.get(i);s||(s=n.querySelector(pc(i)),s||(e=_t({src:e,async:!0,type:"module"},t),(t=fa.get(i))&&fg(e,t),s=n.createElement("script"),en(s),fn(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(i,s))}}function ex(e,t,n,a){var i=(i=es.current)?ud(i):null;if(!i)throw Error(se(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=vo(n.href),n=$r(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=vo(n.href);var s=$r(i).hoistableStyles,r=s.get(e);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=i.querySelector(mc(e)))&&!s._p&&(r.instance=s,r.state.loading=5),fa.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},fa.set(e,n),s||cj(i,e,n,r.state))),t&&a===null)throw Error(se(528,""));return r}if(t&&a!==null)throw Error(se(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Lo(n),n=$r(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(se(444,e))}}function vo(e){return'href="'+ra(e)+'"'}function mc(e){return'link[rel="stylesheet"]['+e+"]"}function fw(e){return _t({},e,{"data-precedence":e.precedence,precedence:null})}function cj(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),fn(t,"link",n),en(t),e.head.appendChild(t))}function Lo(e){return'[src="'+ra(e)+'"]'}function pc(e){return"script[async]"+e}function tx(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+ra(n.href)+'"]');if(a)return t.instance=a,en(a),a;var i=_t({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),en(a),fn(a,"style",i),Nu(a,n.precedence,e),t.instance=a;case"stylesheet":i=vo(n.href);var s=e.querySelector(mc(i));if(s)return t.state.loading|=4,t.instance=s,en(s),s;a=fw(n),(i=fa.get(i))&&dg(a,i),s=(e.ownerDocument||e).createElement("link"),en(s);var r=s;return r._p=new Promise(function(l,c){r.onload=l,r.onerror=c}),fn(s,"link",a),t.state.loading|=4,Nu(s,n.precedence,e),t.instance=s;case"script":return s=Lo(n.src),(i=e.querySelector(pc(s)))?(t.instance=i,en(i),i):(a=n,(i=fa.get(s))&&(a=_t({},n),fg(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),en(i),fn(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(se(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Nu(a,n.precedence,e));return t.instance}function Nu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,s=i,r=0;r<a.length;r++){var l=a[r];if(l.dataset.precedence===t)s=l;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function dg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ku=null;function nx(e,t,n){if(ku===null){var a=new Map,i=ku=new Map;i.set(n,a)}else i=ku,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[lc]||s[cn]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var l=a.get(r);l?l.push(s):a.set(r,[s])}}return a}function ax(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function uj(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hw(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function dj(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=vo(a.href),s=t.querySelector(mc(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=dd.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,en(s);return}s=t.ownerDocument||t,a=fw(a),(i=fa.get(i))&&dg(a,i),s=s.createElement("link"),en(s);var r=s;r._p=new Promise(function(l,c){r.onload=l,r.onerror=c}),fn(s,"link",a),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=dd.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var sh=0;function fj(e,t){return e.stylesheets&&e.count===0&&Tu(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&Tu(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&sh===0&&(sh=62500*VT());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tu(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function dd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fd=null;function Tu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fd=new Map,t.forEach(hj,e),fd=null,dd.call(e))}function hj(e,t){if(!(t.state.loading&4)){var n=fd.get(e);if(n)var a=n.get(null);else{n=new Map,fd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var r=i[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),a=r)}a&&n.set(null,a)}i=t.instance,r=i.getAttribute("data-precedence"),s=n.get(r)||a,s===a&&n.set(null,i),n.set(r,i),this.count++,a=dd.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Hl={$$typeof:ii,Provider:null,Consumer:null,_currentValue:Hs,_currentValue2:Hs,_threadCount:0};function mj(e,t,n,a,i,s,r,l,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.hiddenUpdates=jf(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function mw(e,t,n,a,i,s,r,l,c,u,m,d){return e=new mj(e,t,n,r,c,u,m,d,l),t=1,s===!0&&(t|=24),s=Hn(3,null,null,t),e.current=s,s.stateNode=e,t=Up(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},Hp(s),e}function pw(e){return e?(e=Lr,e):Lr}function gw(e,t,n,a,i,s){i=pw(i),a.context===null?a.context=i:a.pendingContext=i,a=ns(t),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=as(e,a,t),n!==null&&(Dn(n,e,t),pl(n,e,t))}function ix(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hg(e,t){ix(e,t),(e=e.alternate)&&ix(e,t)}function bw(e){if(e.tag===13||e.tag===31){var t=ur(e,67108864);t!==null&&Dn(t,e,67108864),hg(e,67108864)}}function sx(e){if(e.tag===13||e.tag===31){var t=$n();t=Ep(t);var n=ur(e,t);n!==null&&Dn(n,e,t),hg(e,t)}}var hd=!0;function pj(e,t,n,a){var i=Te.T;Te.T=null;var s=rt.p;try{rt.p=2,mg(e,t,n,a)}finally{rt.p=s,Te.T=i}}function gj(e,t,n,a){var i=Te.T;Te.T=null;var s=rt.p;try{rt.p=8,mg(e,t,n,a)}finally{rt.p=s,Te.T=i}}function mg(e,t,n,a){if(hd){var i=Cm(a);if(i===null)ah(e,t,a,md,n),rx(e,a);else if(xj(i,e,t,n,a))a.stopPropagation();else if(rx(e,a),t&4&&-1<bj.indexOf(e)){for(;i!==null;){var s=Do(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=Ts(s.pendingLanes);if(r!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var c=1<<31-Vn(r);l.entanglements[1]|=c,r&=~c}Pa(s),!(st&6)&&(ad=qn()+500,hc(0))}}break;case 31:case 13:l=ur(s,2),l!==null&&Dn(l,s,2),$d(),hg(s,2)}if(s=Cm(a),s===null&&ah(e,t,a,md,n),s===i)break;i=s}i!==null&&a.stopPropagation()}else ah(e,t,a,null,n)}}function Cm(e){return e=jp(e),pg(e)}var md=null;function pg(e){if(md=null,e=Rr(e),e!==null){var t=ic(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Lv(t),e!==null)return e;e=null}else if(n===31){if(e=Uv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return md=e,null}function xw(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nk()){case Fv:return 2;case Gv:return 8;case Gu:case ak:return 32;case qv:return 268435456;default:return 32}default:return 32}}var Rm=!1,rs=null,os=null,ls=null,Fl=new Map,Gl=new Map,Bi=[],bj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rx(e,t){switch(e){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(t.pointerId)}}function il(e,t,n,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Do(t),t!==null&&bw(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xj(e,t,n,a,i){switch(t){case"focusin":return rs=il(rs,e,t,n,a,i),!0;case"dragenter":return os=il(os,e,t,n,a,i),!0;case"mouseover":return ls=il(ls,e,t,n,a,i),!0;case"pointerover":var s=i.pointerId;return Fl.set(s,il(Fl.get(s)||null,e,t,n,a,i)),!0;case"gotpointercapture":return s=i.pointerId,Gl.set(s,il(Gl.get(s)||null,e,t,n,a,i)),!0}return!1}function yw(e){var t=Rr(e.target);if(t!==null){var n=ic(t);if(n!==null){if(t=n.tag,t===13){if(t=Lv(n),t!==null){e.blockedOn=t,q0(e.priority,function(){sx(n)});return}}else if(t===31){if(t=Uv(n),t!==null){e.blockedOn=t,q0(e.priority,function(){sx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ju(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cm(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Wh=a,n.target.dispatchEvent(a),Wh=null}else return t=Do(n),t!==null&&bw(t),e.blockedOn=n,!1;t.shift()}return!0}function ox(e,t,n){ju(e)&&n.delete(t)}function yj(){Rm=!1,rs!==null&&ju(rs)&&(rs=null),os!==null&&ju(os)&&(os=null),ls!==null&&ju(ls)&&(ls=null),Fl.forEach(ox),Gl.forEach(ox)}function Xc(e,t){e.blockedOn===t&&(e.blockedOn=null,Rm||(Rm=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,yj)))}var Zc=null;function lx(e){Zc!==e&&(Zc=e,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,function(){Zc===e&&(Zc=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(pg(a||n)===null)continue;break}var s=Do(n);s!==null&&(e.splice(t,3),t-=3,dm(s,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function So(e){function t(c){return Xc(c,e)}rs!==null&&Xc(rs,e),os!==null&&Xc(os,e),ls!==null&&Xc(ls,e),Fl.forEach(t),Gl.forEach(t);for(var n=0;n<Bi.length;n++){var a=Bi[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)yw(n),n.blockedOn===null&&Bi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],s=n[a+1],r=i[Mn]||null;if(typeof s=="function")r||lx(n);else if(r){var l=null;if(s&&s.hasAttribute("formAction")){if(i=s,r=s[Mn]||null)l=r.formAction;else if(pg(i)!==null)continue}else l=r.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),lx(n)}}}function vw(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(r){return i=r})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function gg(e){this._internalRoot=e}Xd.prototype.render=gg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));var n=t.current,a=$n();gw(n,a,e,t,null,null)};Xd.prototype.unmount=gg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gw(e.current,2,null,e,null,null),$d(),t[Ro]=null}};function Xd(e){this._internalRoot=e}Xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bi.length&&t!==0&&t<Bi[n].priority;n++);Bi.splice(n,0,e),n===0&&yw(e)}};var cx=Iv.version;if(cx!=="19.2.0")throw Error(se(527,cx,"19.2.0"));rt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=WN(t),e=e!==null?Bv(e):null,e=e===null?null:e.stateNode,e};var vj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{sc=Qc.inject(vj),Yn=Qc}catch{}}Od.createRoot=function(e,t){if(!zv(e))throw Error(se(299));var n=!1,a="",i=d_,s=f_,r=h_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=mw(e,1,!1,null,null,n,a,null,i,s,r,vw),e[Ro]=t.current,ug(e),new gg(t)};Od.hydrateRoot=function(e,t,n){if(!zv(e))throw Error(se(299));var a=!1,i="",s=d_,r=f_,l=h_,c=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=mw(e,1,!0,t,n??null,a,i,c,s,r,l,vw),t.context=pw(null),n=t.current,a=$n(),a=Ep(a),i=ns(a),i.callback=null,as(n,i,a),n=a,t.current.lanes=n,oc(t,n),Pa(t),e[Ro]=t.current,ug(e),new Xd(t)};Od.version="19.2.0";function Sw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sw)}catch(e){console.error(e)}}Sw(),Dv.exports=Od;var Sj=Dv.exports;const _j=mp(Sj),ve=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Je=globalThis,Vs="10.27.0";function fr(){return Zd(Je),Je}function Zd(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Vs,t[Vs]=t[Vs]||{}}function Uo(e,t,n=Je){const a=n.__SENTRY__=n.__SENTRY__||{},i=a[Vs]=a[Vs]||{};return i[e]||(i[e]=t())}const wj=["debug","info","warn","error","log","assert","trace"],Ej="Sentry Logger ",pd={};function hr(e){if(!("console"in Je))return e();const t=Je.console,n={},a=Object.keys(pd);a.forEach(i=>{const s=pd[i];n[i]=t[i],t[i]=s});try{return e()}finally{a.forEach(i=>{t[i]=n[i]})}}function Nj(){xg().enabled=!0}function kj(){xg().enabled=!1}function _w(){return xg().enabled}function Tj(...e){bg("log",...e)}function jj(...e){bg("warn",...e)}function Aj(...e){bg("error",...e)}function bg(e,...t){ve&&_w()&&hr(()=>{Je.console[e](`${Ej}[${e}]:`,...t)})}function xg(){return ve?Uo("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const me={enable:Nj,disable:kj,isEnabled:_w,log:Tj,warn:jj,error:Aj},ww=50,ar="?",ux=/\(error: (.*)\)/,dx=/captureMessage|captureException/;function Ew(...e){const t=e.sort((n,a)=>n[0]-a[0]).map(n=>n[1]);return(n,a=0,i=0)=>{const s=[],r=n.split(`
`);for(let l=a;l<r.length;l++){let c=r[l];c.length>1024&&(c=c.slice(0,1024));const u=ux.test(c)?c.replace(ux,"$1"):c;if(!u.match(/\S*Error: /)){for(const m of t){const d=m(u);if(d){s.push(d);break}}if(s.length>=ww+i)break}}return Rj(s.slice(i))}}function Cj(e){return Array.isArray(e)?Ew(...e):e}function Rj(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Jc(t).function||"")&&t.pop(),t.reverse(),dx.test(Jc(t).function||"")&&(t.pop(),dx.test(Jc(t).function||"")&&t.pop()),t.slice(0,ww).map(n=>({...n,filename:n.filename||Jc(t).filename,function:n.function||ar}))}function Jc(e){return e[e.length-1]||{}}const rh="<anonymous>";function yi(e){try{return!e||typeof e!="function"?rh:e.name||rh}catch{return rh}}function fx(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(a=>{a.stacktrace.frames&&n.push(...a.stacktrace.frames)}),n}catch{return}}}function Nw(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Au={},hx={};function ys(e,t){Au[e]=Au[e]||[],Au[e].push(t)}function vs(e,t){if(!hx[e]){hx[e]=!0;try{t()}catch(n){ve&&me.error(`Error while instrumenting ${e}`,n)}}}function da(e,t){const n=e&&Au[e];if(n)for(const a of n)try{a(t)}catch(i){ve&&me.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${yi(a)}
Error:`,i)}}let oh=null;function kw(e){const t="error";ys(t,e),vs(t,Dj)}function Dj(){oh=Je.onerror,Je.onerror=function(e,t,n,a,i){return da("error",{column:a,error:i,line:n,msg:e,url:t}),oh?oh.apply(this,arguments):!1},Je.onerror.__SENTRY_INSTRUMENTED__=!0}let lh=null;function Tw(e){const t="unhandledrejection";ys(t,e),vs(t,Mj)}function Mj(){lh=Je.onunhandledrejection,Je.onunhandledrejection=function(e){return da("unhandledrejection",e),lh?lh.apply(this,arguments):!0},Je.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const jw=Object.prototype.toString;function yg(e){switch(jw.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return vi(e,Error)}}function Bo(e,t){return jw.call(e)===`[object ${t}]`}function Aw(e){return Bo(e,"ErrorEvent")}function mx(e){return Bo(e,"DOMError")}function Oj(e){return Bo(e,"DOMException")}function ui(e){return Bo(e,"String")}function vg(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function _o(e){return e===null||vg(e)||typeof e!="object"&&typeof e!="function"}function ql(e){return Bo(e,"Object")}function Qd(e){return typeof Event<"u"&&vi(e,Event)}function Ij(e){return typeof Element<"u"&&vi(e,Element)}function zj(e){return Bo(e,"RegExp")}function Po(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function Lj(e){return ql(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function vi(e,t){try{return e instanceof t}catch{return!1}}function Cw(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function Rw(e){return typeof Request<"u"&&vi(e,Request)}const Sg=Je,Uj=80;function On(e,t={}){if(!e)return"<unknown>";try{let n=e;const a=5,i=[];let s=0,r=0;const l=" > ",c=l.length;let u;const m=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Uj;for(;n&&s++<a&&(u=Bj(n,m),!(u==="html"||s>1&&r+i.length*c+u.length>=d));)i.push(u),r+=u.length,n=n.parentNode;return i.reverse().join(l)}catch{return"<unknown>"}}function Bj(e,t){const n=e,a=[];if(!(n!=null&&n.tagName))return"";if(Sg.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}a.push(n.tagName.toLowerCase());const i=t!=null&&t.length?t.filter(r=>n.getAttribute(r)).map(r=>[r,n.getAttribute(r)]):null;if(i!=null&&i.length)i.forEach(r=>{a.push(`[${r[0]}="${r[1]}"]`)});else{n.id&&a.push(`#${n.id}`);const r=n.className;if(r&&ui(r)){const l=r.split(/\s+/);for(const c of l)a.push(`.${c}`)}}const s=["aria-label","type","name","title","alt"];for(const r of s){const l=n.getAttribute(r);l&&a.push(`[${r}="${l}"]`)}return a.join("")}function Ho(){try{return Sg.document.location.href}catch{return""}}function Dw(e){if(!Sg.HTMLElement)return null;let t=e;const n=5;for(let a=0;a<n;a++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Rn(e,t,n){if(!(t in e))return;const a=e[t];if(typeof a!="function")return;const i=n(a);typeof i=="function"&&Mw(i,a);try{e[t]=i}catch{ve&&me.log(`Failed to replace method "${t}" in object`,e)}}function Zn(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{ve&&me.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Mw(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Zn(e,"__sentry_original__",t)}catch{}}function _g(e){return e.__sentry_original__}function Ow(e){if(yg(e))return{message:e.message,name:e.name,stack:e.stack,...gx(e)};if(Qd(e)){const t={type:e.type,target:px(e.target),currentTarget:px(e.currentTarget),...gx(e)};return typeof CustomEvent<"u"&&vi(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function px(e){try{return Ij(e)?On(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function gx(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Pj(e){const t=Object.keys(Ow(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}function Dm(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function bx(e,t){if(!Array.isArray(e))return"";const n=[];for(let a=0;a<e.length;a++){const i=e[a];try{Cw(i)?n.push(Nw(i)):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Cu(e,t,n=!1){return ui(e)?zj(t)?t.test(e):ui(t)?n?e===t:e.includes(t):!1:!1}function di(e,t=[],n=!1){return t.some(a=>Cu(e,a,n))}function Hj(){const e=Je;return e.crypto||e.msCrypto}let ch;function Fj(){return Math.random()*16}function Kn(e=Hj()){try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return ch||(ch="10000000100040008000"+1e11),ch.replace(/[018]/g,t=>(t^(Fj()&15)>>t/4).toString(16))}function Iw(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function Ds(e){const{message:t,event_id:n}=e;if(t)return t;const a=Iw(e);return a?a.type&&a.value?`${a.type}: ${a.value}`:a.type||a.value||n||"<unknown>":n||"<unknown>"}function Mm(e,t,n){const a=e.exception=e.exception||{},i=a.values=a.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function wo(e,t){const n=Iw(e);if(!n)return;const a={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...a,...i,...t},t&&"data"in t){const s={...i==null?void 0:i.data,...t.data};n.mechanism.data=s}}function xx(e){if(Gj(e))return!0;try{Zn(e,"__sentry_captured__",!0)}catch{}return!1}function Gj(e){try{return e.__sentry_captured__}catch{}}const zw=1e3;function mr(){return Date.now()/zw}function qj(){const{performance:e}=Je;if(!(e!=null&&e.now)||!e.timeOrigin)return mr;const t=e.timeOrigin;return()=>(t+e.now())/zw}let yx;function nn(){return(yx??(yx=qj()))()}let uh;function Yj(){var m;const{performance:e}=Je;if(!(e!=null&&e.now))return[void 0,"none"];const t=3600*1e3,n=e.now(),a=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-a):t,s=i<t,r=(m=e.timing)==null?void 0:m.navigationStart,c=typeof r=="number"?Math.abs(r+n-a):t,u=c<t;return s||u?i<=c?[e.timeOrigin,"timeOrigin"]:[r,"navigationStart"]:[a,"dateNow"]}function zn(){return uh||(uh=Yj()),uh[0]}function Vj(e){const t=nn(),n={sid:Kn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Kj(n)};return e&&Eo(n,e),n}function Eo(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||nn(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Kn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function $j(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Eo(e,n)}function Kj(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function gc(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const a={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=gc(a[i],t[i],n-1));return a}function Si(){return Kn()}function fi(){return Kn().substring(16)}const Om="_sentrySpan";function No(e,t){t?Zn(e,Om,t):delete e[Om]}function gd(e){return e[Om]}const Wj=100;class Ua{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Si(),sampleRand:Math.random()}}clone(){const t=new Ua;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,No(t,gd(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Eo(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,a=n instanceof Ua?n.getScopeData():ql(n)?t:void 0,{tags:i,attributes:s,extra:r,user:l,contexts:c,level:u,fingerprint:m=[],propagationContext:d}=a||{};return this._tags={...this._tags,...i},this._attributes={...this._attributes,...s},this._extra={...this._extra,...r},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),m.length&&(this._fingerprint=m),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,No(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Si(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var s;const a=typeof n=="number"?n:Wj;if(a<=0)return this;const i={timestamp:mr(),...t,message:t.message?Dm(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>a&&(this._breadcrumbs=this._breadcrumbs.slice(-a),(s=this._client)==null||s.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:gd(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=gc(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const a=(n==null?void 0:n.event_id)||Kn();if(!this._client)return ve&&me.warn("No client configured on scope - will not capture exception!"),a;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:a},this),a}captureMessage(t,n,a){const i=(a==null?void 0:a.event_id)||Kn();if(!this._client)return ve&&me.warn("No client configured on scope - will not capture message!"),i;const s=(a==null?void 0:a.syntheticException)??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...a,event_id:i},this),i}captureEvent(t,n){const a=(n==null?void 0:n.event_id)||Kn();return this._client?(this._client.captureEvent(t,{...n,event_id:a},this),a):(ve&&me.warn("No client configured on scope - will not capture event!"),a)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Xj(){return Uo("defaultCurrentScope",()=>new Ua)}function Zj(){return Uo("defaultIsolationScope",()=>new Ua)}class Qj{constructor(t,n){let a;t?a=t:a=new Ua;let i;n?i=n:i=new Ua,this._stack=[{scope:a}],this._isolationScope=i}withScope(t){const n=this._pushScope();let a;try{a=t(n)}catch(i){throw this._popScope(),i}return Po(a)?a.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),a)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function ko(){const e=fr(),t=Zd(e);return t.stack=t.stack||new Qj(Xj(),Zj())}function Jj(e){return ko().withScope(e)}function e2(e,t){const n=ko();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function vx(e){return ko().withScope(()=>e(ko().getIsolationScope()))}function t2(){return{withIsolationScope:vx,withScope:Jj,withSetScope:e2,withSetIsolationScope:(e,t)=>vx(t),getCurrentScope:()=>ko().getScope(),getIsolationScope:()=>ko().getIsolationScope()}}function Fo(e){const t=Zd(e);return t.acs?t.acs:t2()}function ct(){const e=fr();return Fo(e).getCurrentScope()}function Ha(){const e=fr();return Fo(e).getIsolationScope()}function n2(){return Uo("globalScope",()=>new Ua)}function Jd(...e){const t=fr(),n=Fo(t);if(e.length===2){const[a,i]=e;return a?n.withSetScope(a,i):n.withScope(i)}return n.withScope(e[0])}function Xe(){return ct().getClient()}function a2(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:a,propagationSpanId:i}=t,s={trace_id:n,span_id:i||fi()};return a&&(s.parent_span_id=a),s}const wa="sentry.source",wg="sentry.sample_rate",Lw="sentry.previous_trace_sample_rate",_i="sentry.op",Wt="sentry.origin",Yl="sentry.idle_span_finish_reason",bc="sentry.measurement_unit",xc="sentry.measurement_value",Sx="sentry.custom_span_name",Eg="sentry.profile_id",Go="sentry.exclusive_time",i2="sentry.link.type",s2=0,Ng=1,Yt=2;function r2(e){if(e<400&&e>=100)return{code:Ng};if(e>=400&&e<500)switch(e){case 401:return{code:Yt,message:"unauthenticated"};case 403:return{code:Yt,message:"permission_denied"};case 404:return{code:Yt,message:"not_found"};case 409:return{code:Yt,message:"already_exists"};case 413:return{code:Yt,message:"failed_precondition"};case 429:return{code:Yt,message:"resource_exhausted"};case 499:return{code:Yt,message:"cancelled"};default:return{code:Yt,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Yt,message:"unimplemented"};case 503:return{code:Yt,message:"unavailable"};case 504:return{code:Yt,message:"deadline_exceeded"};default:return{code:Yt,message:"internal_error"}}return{code:Yt,message:"internal_error"}}function Uw(e,t){e.setAttribute("http.response.status_code",t);const n=r2(t);n.message!=="unknown_error"&&e.setStatus(n)}const Bw="_sentryScope",Pw="_sentryIsolationScope";function o2(e){try{const t=Je.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function l2(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function c2(e,t,n){e&&(Zn(e,Pw,o2(n)),Zn(e,Bw,t))}function bd(e){const t=e;return{scope:t[Bw],isolationScope:l2(t[Pw])}}const kg="sentry-",u2=/^sentry-/,d2=8192;function Hw(e){const t=h2(e);if(!t)return;const n=Object.entries(t).reduce((a,[i,s])=>{if(i.match(u2)){const r=i.slice(kg.length);a[r]=s}return a},{});if(Object.keys(n).length>0)return n}function f2(e){if(!e)return;const t=Object.entries(e).reduce((n,[a,i])=>(i&&(n[`${kg}${a}`]=i),n),{});return m2(t)}function h2(e){if(!(!e||!ui(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const a=_x(n);return Object.entries(a).forEach(([i,s])=>{t[i]=s}),t},{}):_x(e)}function _x(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const a=t.slice(0,n),i=t.slice(n+1);return[a,i].map(s=>{try{return decodeURIComponent(s.trim())}catch{return}})}).reduce((t,[n,a])=>(n&&a&&(t[n]=a),t),{})}function m2(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,a],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(a)}`,r=i===0?s:`${t},${s}`;return r.length>d2?(ve&&me.warn(`Not adding key: ${n} with val: ${a} to baggage header due to exceeding baggage size limits.`),t):r},"")}const p2=/^o(\d+)\./,g2=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function b2(e){return e==="http"||e==="https"}function qo(e,t=!1){const{host:n,path:a,pass:i,port:s,projectId:r,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${a&&`${a}/`}${r}`}function x2(e){const t=g2.exec(e);if(!t){hr(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,a,i="",s="",r="",l=""]=t.slice(1);let c="",u=l;const m=u.split("/");if(m.length>1&&(c=m.slice(0,-1).join("/"),u=m.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return Fw({host:s,pass:i,path:c,projectId:u,port:r,protocol:n,publicKey:a})}function Fw(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function y2(e){if(!ve)return!0;const{port:t,projectId:n,protocol:a}=e;return["protocol","publicKey","host","projectId"].find(r=>e[r]?!1:(me.error(`Invalid Sentry Dsn: ${r} missing`),!0))?!1:n.match(/^\d+$/)?b2(a)?t&&isNaN(parseInt(t,10))?(me.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(me.error(`Invalid Sentry Dsn: Invalid protocol ${a}`),!1):(me.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function v2(e){const t=e.match(p2);return t==null?void 0:t[1]}function S2(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let a;return t.orgId?a=String(t.orgId):n&&(a=v2(n)),a}function _2(e){const t=typeof e=="string"?x2(e):Fw(e);if(!(!t||!y2(t)))return t}function ir(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const Gw=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function w2(e){if(!e)return;const t=e.match(Gw);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function E2(e,t){const n=w2(e),a=Hw(t);if(!(n!=null&&n.traceId))return{traceId:Si(),sampleRand:Math.random()};const i=N2(n,a);a&&(a.sample_rand=i.toString());const{traceId:s,parentSpanId:r,parentSampled:l}=n;return{traceId:s,parentSpanId:r,sampled:l,dsc:a||{},sampleRand:i}}function qw(e=Si(),t=fi(),n){let a="";return n!==void 0&&(a=n?"-1":"-0"),`${e}-${t}${a}`}function Yw(e=Si(),t=fi(),n){return`00-${e}-${t}-${n?"01":"00"}`}function N2(e,t){const n=ir(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const a=ir(t==null?void 0:t.sample_rate);return a&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*a:a+Math.random()*(1-a):Math.random()}const Vw=0,Tg=1;let wx=!1;function k2(e){const{spanId:t,traceId:n}=e.spanContext(),{data:a,op:i,parent_span_id:s,status:r,origin:l,links:c}=tt(e);return{parent_span_id:s,span_id:t,trace_id:n,data:a,op:i,status:r,origin:l,links:c}}function T2(e){const{spanId:t,traceId:n,isRemote:a}=e.spanContext(),i=a?t:tt(e).parent_span_id,s=bd(e).scope,r=a?(s==null?void 0:s.getPropagationContext().propagationSpanId)||fi():t;return{parent_span_id:i,span_id:r,trace_id:n}}function j2(e){const{traceId:t,spanId:n}=e.spanContext(),a=Ss(e);return qw(t,n,a)}function A2(e){const{traceId:t,spanId:n}=e.spanContext(),a=Ss(e);return Yw(t,n,a)}function $w(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:a,...i},attributes:s})=>({span_id:t,trace_id:n,sampled:a===Tg,attributes:s,...i}))}function $s(e){return typeof e=="number"?Ex(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ex(e.getTime()):nn()}function Ex(e){return e>9999999999?e/1e3:e}function tt(e){var a;if(R2(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(C2(e)){const{attributes:i,startTime:s,name:r,endTime:l,status:c,links:u}=e,m="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(a=e.parentSpanContext)==null?void 0:a.spanId:void 0;return{span_id:t,trace_id:n,data:i,description:r,parent_span_id:m,start_timestamp:$s(s),timestamp:$s(l)||void 0,status:Kw(c),op:i[_i],origin:i[Wt],links:$w(u)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function C2(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function R2(e){return typeof e.getSpanJSON=="function"}function Ss(e){const{traceFlags:t}=e.spanContext();return t===Tg}function Kw(e){if(!(!e||e.code===s2))return e.code===Ng?"ok":e.message||"internal_error"}const Ks="_sentryChildSpans",Im="_sentryRootSpan";function Ww(e,t){const n=e[Im]||e;Zn(t,Im,n),e[Ks]?e[Ks].add(t):Zn(e,Ks,new Set([t]))}function D2(e,t){e[Ks]&&e[Ks].delete(t)}function Ru(e){const t=new Set;function n(a){if(!t.has(a)&&Ss(a)){t.add(a);const i=a[Ks]?Array.from(a[Ks]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function gn(e){return e[Im]||e}function _n(){const e=fr(),t=Fo(e);return t.getActiveSpan?t.getActiveSpan():gd(ct())}function zm(){wx||(hr(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),wx=!0)}let Nx=!1;function M2(){if(Nx)return;function e(){const t=_n(),n=t&&gn(t);if(n){const a="internal_error";ve&&me.log(`[Tracing] Root span: ${a} -> Global error occurred`),n.setStatus({code:Yt,message:a})}}e.tag="sentry_tracingErrorCallback",Nx=!0,kw(e),Tw(e)}function Ea(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=Xe())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function kx(e){me.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function xd(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(I2(n)){if(Cu(e.description,n))return ve&&kx(e),!0;continue}if(!n.name&&!n.op)continue;const a=n.name?Cu(e.description,n.name):!0,i=n.op?e.op&&Cu(e.op,n.op):!0;if(a&&i)return ve&&kx(e),!0}return!1}function O2(e,t){const n=t.parent_span_id,a=t.span_id;if(n)for(const i of e)i.parent_span_id===a&&(i.parent_span_id=n)}function I2(e){return typeof e=="string"||e instanceof RegExp}const jg="production",Xw="_frozenDsc";function Du(e,t){Zn(e,Xw,t)}function Zw(e,t){const n=t.getOptions(),{publicKey:a}=t.getDsn()||{},i={environment:n.environment||jg,release:n.release,public_key:a,trace_id:e,org_id:S2(t)};return t.emit("createDsc",i),i}function Qw(e,t){const n=t.getPropagationContext();return n.dsc||Zw(n.traceId,e)}function wi(e){var g;const t=Xe();if(!t)return{};const n=gn(e),a=tt(n),i=a.data,s=n.spanContext().traceState,r=(s==null?void 0:s.get("sentry.sample_rate"))??i[wg]??i[Lw];function l(b){return(typeof r=="number"||typeof r=="string")&&(b.sample_rate=`${r}`),b}const c=n[Xw];if(c)return l(c);const u=s==null?void 0:s.get("sentry.dsc"),m=u&&Hw(u);if(m)return l(m);const d=Zw(e.spanContext().traceId,t),h=i[wa],f=a.description;return h!=="url"&&f&&(d.transaction=f),Ea()&&(d.sampled=String(Ss(n)),d.sample_rand=(s==null?void 0:s.get("sentry.sample_rand"))??((g=bd(n).scope)==null?void 0:g.getPropagationContext().sampleRand.toString())),l(d),t.emit("createDsc",d,n),d}class ms{constructor(t={}){this._traceId=t.traceId||Si(),this._spanId=t.spanId||fi()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Vw}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,a){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function va(e,t=100,n=1/0){try{return Lm("",e,t,n)}catch(a){return{ERROR:`**non-serializable** (${a})`}}}function Jw(e,t=3,n=100*1024){const a=va(e,t);return B2(a)>n?Jw(e,t-1,n):a}function Lm(e,t,n=1/0,a=1/0,i=P2()){const[s,r]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=z2(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return l.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return Lm("",f,c-1,a,i)}catch{}const m=Array.isArray(t)?[]:{};let d=0;const h=Ow(t);for(const f in h){if(!Object.prototype.hasOwnProperty.call(h,f))continue;if(d>=a){m[f]="[MaxProperties ~]";break}const g=h[f];m[f]=Lm(f,g,c-1,a,i),d++}return r(t),m}function z2(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Cw(t))return Nw(t);if(Lj(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${yi(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=L2(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function L2(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function U2(e){return~-encodeURI(e).split(/%..|./).length}function B2(e){return U2(JSON.stringify(e))}function P2(){const e=new WeakSet;function t(a){return e.has(a)?!0:(e.add(a),!1)}function n(a){e.delete(a)}return[t,n]}function _s(e,t=[]){return[e,t]}function H2(e,t){const[n,a]=e;return[n,[...a,t]]}function Tx(e,t){const n=e[1];for(const a of n){const i=a[0].type;if(t(a,i))return!0}return!1}function Um(e){const t=Zd(Je);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function F2(e){const[t,n]=e;let a=JSON.stringify(t);function i(s){typeof a=="string"?a=typeof s=="string"?a+s:[Um(a),s]:a.push(typeof s=="string"?Um(s):s)}for(const s of n){const[r,l]=s;if(i(`
${JSON.stringify(r)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(va(l))}i(c)}}return typeof a=="string"?a:G2(a)}function G2(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let a=0;for(const i of e)n.set(i,a),a+=i.length;return n}function q2(e){return[{type:"span"},e]}function Y2(e){const t=typeof e.data=="string"?Um(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const V2={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function jx(e){return V2[e]}function Ag(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function e1(e,t,n,a){var s;const i=(s=e.sdkProcessingMetadata)==null?void 0:s.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&a&&{dsn:qo(a)},...i&&{trace:i}}}function $2(e,t){var a,i,s,r;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((a=e.sdk)==null?void 0:a.integrations)||[],...t.integrations||[]],packages:[...((i=e.sdk)==null?void 0:i.packages)||[],...t.packages||[]],settings:(s=e.sdk)!=null&&s.settings||t.settings?{...(r=e.sdk)==null?void 0:r.settings,...t.settings}:void 0},e}function K2(e,t,n,a){const i=Ag(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!a&&t&&{dsn:qo(t)}},r="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return _s(s,[r])}function W2(e,t,n,a){const i=Ag(n),s=e.type&&e.type!=="replay_event"?e.type:"event";$2(e,n==null?void 0:n.sdk);const r=e1(e,i,a,t);return delete e.sdkProcessingMetadata,_s(r,[[{type:s},e]])}function X2(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const a=wi(e[0]),i=t==null?void 0:t.getDsn(),s=t==null?void 0:t.getOptions().tunnel,r={sent_at:new Date().toISOString(),...n(a)&&{trace:a},...!!s&&i&&{dsn:qo(i)}},{beforeSendSpan:l,ignoreSpans:c}=(t==null?void 0:t.getOptions())||{},u=c!=null&&c.length?e.filter(f=>!xd(tt(f),c)):e,m=e.length-u.length;m&&(t==null||t.recordDroppedEvent("before_send","span",m));const d=l?f=>{const g=tt(f),b=l(g);return b||(zm(),g)}:tt,h=[];for(const f of u){const g=d(f);g&&h.push(q2(g))}return _s(r,h)}function Z2(e){if(!ve)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:a}=tt(e),{spanId:i}=e.spanContext(),s=Ss(e),r=gn(e),l=r===e,c=`[Tracing] Starting ${s?"sampled":"unsampled"} ${l?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(a&&u.push(`parent ID: ${a}`),!l){const{op:m,description:d}=tt(r);u.push(`root ID: ${r.spanContext().spanId}`),m&&u.push(`root op: ${m}`),d&&u.push(`root description: ${d}`)}me.log(`${c}
  ${u.join(`
  `)}`)}function Q2(e){if(!ve)return;const{description:t="< unknown name >",op:n="< unknown op >"}=tt(e),{spanId:a}=e.spanContext(),s=gn(e)===e,r=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${a}`;me.log(r)}function J2(e,t,n,a=_n()){const i=a&&gn(a);i&&(ve&&me.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[xc]:t,[bc]:n}))}function Ax(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const a=n.attributes||{},i=a[bc],s=a[xc];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const Cx=1e3;class ef{constructor(t={}){this._traceId=t.traceId||Si(),this._spanId=t.spanId||fi(),this._startTime=t.startTimestamp||nn(),this._links=t.links,this._attributes={},this.setAttributes({[Wt]:"manual",[_i]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:a}=this;return{spanId:t,traceId:n,traceFlags:a?Tg:Vw}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=$s(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(wa,"custom"),this}end(t){this._endTime||(this._endTime=$s(t),Q2(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[_i],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Kw(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Wt],profile_id:this._attributes[Eg],exclusive_time:this._attributes[Go],measurements:Ax(this._events),is_segment:this._isStandaloneSpan&&gn(this)===this||void 0,segment_id:this._isStandaloneSpan?gn(this).spanContext().spanId:void 0,links:$w(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,a){ve&&me.log("[Tracing] Adding an event to span:",t);const i=Rx(n)?n:a||nn(),s=Rx(n)?{}:n||{},r={name:t,time:$s(i),attributes:s};return this._events.push(r),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Xe();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===gn(this)))return;if(this._isStandaloneSpan){this._sampled?tA(X2([this],t)):(ve&&me.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const a=this._convertSpanToTransaction();a&&(bd(this).scope||ct()).captureEvent(a)}_convertSpanToTransaction(){var m;if(!Dx(tt(this)))return;this._name||(ve&&me.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=bd(this),a=(m=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:m.normalizedRequest;if(this._sampled!==!0)return;const s=Ru(this).filter(d=>d!==this&&!eA(d)).map(d=>tt(d)).filter(Dx),r=this._attributes[wa];delete this._attributes[Sx],s.forEach(d=>{delete d.data[Sx]});const l={contexts:{trace:k2(this)},spans:s.length>Cx?s.sort((d,h)=>d.start_timestamp-h.start_timestamp).slice(0,Cx):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:wi(this)},request:a,...r&&{transaction_info:{source:r}}},c=Ax(this._events);return c&&Object.keys(c).length&&(ve&&me.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),l.measurements=c),l}}function Rx(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Dx(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function eA(e){return e instanceof ef&&e.isStandaloneSpan()}function tA(e){const t=Xe();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function nA(e,t,n=()=>{},a=()=>{}){let i;try{i=e()}catch(s){throw t(s),n(),s}return aA(i,t,n,a)}function aA(e,t,n,a){return Po(e)?e.then(i=>(n(),a(i),i),i=>{throw t(i),n(),i}):(n(),a(e),e)}function iA(e,t,n){if(!Ea(e))return[!1];let a,i;typeof e.tracesSampler=="function"?(i=e.tracesSampler({...t,inheritOrSampleWith:l=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):l}),a=!0):t.parentSampled!==void 0?i=t.parentSampled:typeof e.tracesSampleRate<"u"&&(i=e.tracesSampleRate,a=!0);const s=ir(i);if(s===void 0)return ve&&me.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!s)return ve&&me.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,a];const r=n<s;return r||ve&&me.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[r,s,a]}const t1="__SENTRY_SUPPRESS_TRACING__";function sA(e,t){const n=Rg();if(n.startSpan)return n.startSpan(e,t);const a=a1(e),{forceTransaction:i,parentSpan:s,scope:r}=e,l=r==null?void 0:r.clone();return Jd(l,()=>oA(s)(()=>{const u=ct(),m=i1(u,s),h=e.onlyIfParent&&!m?new ms:n1({parentSpan:m,spanArguments:a,forceTransaction:i,scope:u});return No(u,h),nA(()=>t(h),()=>{const{status:f}=tt(h);h.isRecording()&&(!f||f==="ok")&&h.setStatus({code:Yt,message:"internal_error"})},()=>{h.end()})}))}function Yo(e){const t=Rg();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=a1(e),{forceTransaction:a,parentSpan:i}=e;return(e.scope?r=>Jd(e.scope,r):i!==void 0?r=>Cg(i,r):r=>r())(()=>{const r=ct(),l=i1(r,i);return e.onlyIfParent&&!l?new ms:n1({parentSpan:l,spanArguments:n,forceTransaction:a,scope:r})})}function Cg(e,t){const n=Rg();return n.withActiveSpan?n.withActiveSpan(e,t):Jd(a=>(No(a,e||void 0),t(a)))}function n1({parentSpan:e,spanArguments:t,forceTransaction:n,scope:a}){if(!Ea()){const r=new ms;if(n||!e){const l={sampled:"false",sample_rate:"0",transaction:t.name,...wi(r)};Du(r,l)}return r}const i=Ha();let s;if(e&&!n)s=rA(e,a,t),Ww(e,s);else if(e){const r=wi(e),{traceId:l,spanId:c}=e.spanContext(),u=Ss(e);s=Mx({traceId:l,parentSpanId:c,...t},a,u),Du(s,r)}else{const{traceId:r,dsc:l,parentSpanId:c,sampled:u}={...i.getPropagationContext(),...a.getPropagationContext()};s=Mx({traceId:r,parentSpanId:c,...t},a,u),l&&Du(s,l)}return Z2(s),c2(s,a,i),s}function a1(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const a={...n};return a.startTimestamp=$s(e.startTime),delete a.startTime,a}return n}function Rg(){const e=fr();return Fo(e)}function Mx(e,t,n){var g;const a=Xe(),i=(a==null?void 0:a.getOptions())||{},{name:s=""}=e,r={spanAttributes:{...e.attributes},spanName:s,parentSampled:n};a==null||a.emit("beforeSampling",r,{decision:!1});const l=r.parentSampled??n,c=r.spanAttributes,u=t.getPropagationContext(),[m,d,h]=t.getScopeData().sdkProcessingMetadata[t1]?[!1]:iA(i,{name:s,parentSampled:l,attributes:c,parentSampleRate:ir((g=u.dsc)==null?void 0:g.sample_rate)},u.sampleRand),f=new ef({...e,attributes:{[wa]:"custom",[wg]:d!==void 0&&h?d:void 0,...c},sampled:m});return!m&&a&&(ve&&me.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),a.recordDroppedEvent("sample_rate","transaction")),a&&a.emit("spanStart",f),f}function rA(e,t,n){const{spanId:a,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[t1]?!1:Ss(e),r=s?new ef({...n,parentSpanId:a,traceId:i,sampled:s}):new ms({traceId:i});Ww(e,r);const l=Xe();return l&&(l.emit("spanStart",r),n.endTimestamp&&l.emit("spanEnd",r)),r}function i1(e,t){if(t)return t;if(t===null)return;const n=gd(e);if(!n)return;const a=Xe();return(a?a.getOptions():{}).parentSpanIsAlwaysRootSpan?gn(n):n}function oA(e){return e!==void 0?t=>Cg(e,t):t=>t()}const Mu={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},lA="heartbeatFailed",cA="idleTimeout",uA="finalTimeout",dA="externalFinish";function s1(e,t={}){const n=new Map;let a=!1,i,s=dA,r=!t.disableAutoFinish;const l=[],{idleTimeout:c=Mu.idleTimeout,finalTimeout:u=Mu.finalTimeout,childSpanTimeout:m=Mu.childSpanTimeout,beforeSpanEnd:d,trimIdleSpanEndTimestamp:h=!0}=t,f=Xe();if(!f||!Ea()){const N=new ms,D={sample_rate:"0",sampled:"false",...wi(N)};return Du(N,D),N}const g=ct(),b=_n(),y=fA(e);y.end=new Proxy(y.end,{apply(N,D,z){if(d&&d(y),D instanceof ms)return;const[A,...W]=z,T=A||nn(),I=$s(T),S=Ru(y).filter(Z=>Z!==y),R=tt(y);if(!S.length||!h)return j(I),Reflect.apply(N,D,[I,...W]);const F=f.getOptions().ignoreSpans,q=S==null?void 0:S.reduce((Z,O)=>{const L=tt(O);return!L.timestamp||F&&xd(L,F)?Z:Z?Math.max(Z,L.timestamp):L.timestamp},void 0),V=R.start_timestamp,K=Math.min(V?V+u/1e3:1/0,Math.max(V||-1/0,Math.min(I,q||1/0)));return j(K),Reflect.apply(N,D,[K,...W])}});function p(){i&&(clearTimeout(i),i=void 0)}function x(N){p(),i=setTimeout(()=>{!a&&n.size===0&&r&&(s=cA,y.end(N))},c)}function _(N){i=setTimeout(()=>{!a&&r&&(s=lA,y.end(N))},m)}function w(N){p(),n.set(N,!0);const D=nn();_(D+m/1e3)}function E(N){if(n.has(N)&&n.delete(N),n.size===0){const D=nn();x(D+c/1e3)}}function j(N){a=!0,n.clear(),l.forEach(S=>S()),No(g,b);const D=tt(y),{start_timestamp:z}=D;if(!z)return;D.data[Yl]||y.setAttribute(Yl,s);const W=D.status;(!W||W==="unknown")&&y.setStatus({code:Ng}),me.log(`[Tracing] Idle span "${D.op}" finished`);const T=Ru(y).filter(S=>S!==y);let I=0;T.forEach(S=>{S.isRecording()&&(S.setStatus({code:Yt,message:"cancelled"}),S.end(N),ve&&me.log("[Tracing] Cancelling span since span ended early",JSON.stringify(S,void 0,2)));const R=tt(S),{timestamp:F=0,start_timestamp:q=0}=R,V=q<=N,K=(u+c)/1e3,Z=F-q<=K;if(ve){const O=JSON.stringify(S,void 0,2);V?Z||me.log("[Tracing] Discarding span since it finished after idle span final timeout",O):me.log("[Tracing] Discarding span since it happened after idle span was finished",O)}(!Z||!V)&&(D2(y,S),I++)}),I>0&&y.setAttribute("sentry.idle_span_discarded_spans",I)}return l.push(f.on("spanStart",N=>{if(a||N===y||tt(N).timestamp||N instanceof ef&&N.isStandaloneSpan())return;Ru(y).includes(N)&&w(N.spanContext().spanId)})),l.push(f.on("spanEnd",N=>{a||E(N.spanContext().spanId)})),l.push(f.on("idleSpanEnableAutoFinish",N=>{N===y&&(r=!0,x(),n.size&&_())})),t.disableAutoFinish||x(),setTimeout(()=>{a||(y.setStatus({code:Yt,message:"deadline_exceeded"}),s=uA,y.end())},u),y}function fA(e){const t=Yo(e);return No(ct(),t),ve&&me.log("[Tracing] Started span is an idle span"),t}const dh=0,Ox=1,Ix=2;function tf(e){return new Vl(t=>{t(e)})}function Dg(e){return new Vl((t,n)=>{n(e)})}class Vl{constructor(t){this._state=dh,this._handlers=[],this._runExecutor(t)}then(t,n){return new Vl((a,i)=>{this._handlers.push([!1,s=>{if(!t)a(s);else try{a(t(s))}catch(r){i(r)}},s=>{if(!n)i(s);else try{a(n(s))}catch(r){i(r)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Vl((n,a)=>{let i,s;return this.then(r=>{s=!1,i=r,t&&t()},r=>{s=!0,i=r,t&&t()}).then(()=>{if(s){a(i);return}n(i)})})}_executeHandlers(){if(this._state===dh)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Ox&&n[1](this._value),this._state===Ix&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(s,r)=>{if(this._state===dh){if(Po(r)){r.then(a,i);return}this._state=s,this._value=r,this._executeHandlers()}},a=s=>{n(Ox,s)},i=s=>{n(Ix,s)};try{t(a,i)}catch(s){i(s)}}}function hA(e,t,n,a=0){try{const i=Bm(t,n,e,a);return Po(i)?i:tf(i)}catch(i){return Dg(i)}}function Bm(e,t,n,a){const i=n[a];if(!e||!i)return e;const s=i({...e},t);return ve&&s===null&&me.log(`Event processor "${i.id||"?"}" dropped event`),Po(s)?s.then(r=>Bm(r,t,n,a+1)):Bm(s,t,n,a+1)}function mA(e,t){const{fingerprint:n,span:a,breadcrumbs:i,sdkProcessingMetadata:s}=t;pA(e,t),a&&xA(e,a),yA(e,n),gA(e,i),bA(e,s)}function zx(e,t){const{extra:n,tags:a,user:i,contexts:s,level:r,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:m,attachments:d,propagationContext:h,transactionName:f,span:g}=t;eu(e,"extra",n),eu(e,"tags",a),eu(e,"user",i),eu(e,"contexts",s),e.sdkProcessingMetadata=gc(e.sdkProcessingMetadata,l,2),r&&(e.level=r),f&&(e.transactionName=f),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),m.length&&(e.eventProcessors=[...e.eventProcessors,...m]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function eu(e,t,n){e[t]=gc(e[t],n,1)}function pA(e,t){const{extra:n,tags:a,user:i,contexts:s,level:r,transactionName:l}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(a).length&&(e.tags={...a,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),r&&(e.level=r),l&&e.type!=="transaction"&&(e.transaction=l)}function gA(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function bA(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function xA(e,t){e.contexts={trace:T2(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:wi(t),...e.sdkProcessingMetadata};const n=gn(t),a=tt(n).description;a&&!e.transaction&&e.type==="transaction"&&(e.transaction=a)}function yA(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Za,Lx,Ux,Ci;function vA(e){const t=Je._sentryDebugIds,n=Je._debugIds;if(!t&&!n)return{};const a=t?Object.keys(t):[],i=n?Object.keys(n):[];if(Ci&&a.length===Lx&&i.length===Ux)return Ci;Lx=a.length,Ux=i.length,Ci={},Za||(Za={});const s=(r,l)=>{for(const c of r){const u=l[c],m=Za==null?void 0:Za[c];if(m&&Ci&&u)Ci[m[0]]=u,Za&&(Za[c]=[m[0],u]);else if(u){const d=e(c);for(let h=d.length-1;h>=0;h--){const f=d[h],g=f==null?void 0:f.filename;if(g&&Ci&&Za){Ci[g]=u,Za[c]=[g,u];break}}}}};return t&&s(a,t),n&&s(i,n),Ci}function r1(e,t,n,a,i,s){const{normalizeDepth:r=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Kn(),timestamp:t.timestamp||mr()},u=n.integrations||e.integrations.map(y=>y.name);SA(c,e),EA(c,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&_A(c,e.stackParser);const m=kA(a,n.captureContext);n.mechanism&&wo(c,n.mechanism);const d=i?i.getEventProcessors():[],h=n2().getScopeData();if(s){const y=s.getScopeData();zx(h,y)}if(m){const y=m.getScopeData();zx(h,y)}const f=[...n.attachments||[],...h.attachments];f.length&&(n.attachments=f),mA(c,h);const g=[...d,...h.eventProcessors];return hA(g,c,n).then(y=>(y&&wA(y),typeof r=="number"&&r>0?NA(y,r,l):y))}function SA(e,t){var l,c;const{environment:n,release:a,dist:i,maxValueLength:s}=t;e.environment=e.environment||n||jg,!e.release&&a&&(e.release=a),!e.dist&&i&&(e.dist=i);const r=e.request;r!=null&&r.url&&s&&(r.url=Dm(r.url,s)),s&&((c=(l=e.exception)==null?void 0:l.values)==null||c.forEach(u=>{u.value&&(u.value=Dm(u.value,s))}))}function _A(e,t){var a,i;const n=vA(t);(i=(a=e.exception)==null?void 0:a.values)==null||i.forEach(s=>{var r,l;(l=(r=s.stacktrace)==null?void 0:r.frames)==null||l.forEach(c=>{c.filename&&(c.debug_id=n[c.filename])})})}function wA(e){var a,i;const t={};if((i=(a=e.exception)==null?void 0:a.values)==null||i.forEach(s=>{var r,l;(l=(r=s.stacktrace)==null?void 0:r.frames)==null||l.forEach(c=>{c.debug_id&&(c.abs_path?t[c.abs_path]=c.debug_id:c.filename&&(t[c.filename]=c.debug_id),delete c.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([s,r])=>{n.push({type:"sourcemap",code_file:s,debug_id:r})})}function EA(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function NA(e,t,n){var i,s;if(!e)return null;const a={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(r=>({...r,...r.data&&{data:va(r.data,t,n)}}))},...e.user&&{user:va(e.user,t,n)},...e.contexts&&{contexts:va(e.contexts,t,n)},...e.extra&&{extra:va(e.extra,t,n)}};return(i=e.contexts)!=null&&i.trace&&a.contexts&&(a.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(a.contexts.trace.data=va(e.contexts.trace.data,t,n))),e.spans&&(a.spans=e.spans.map(r=>({...r,...r.data&&{data:va(r.data,t,n)}}))),(s=e.contexts)!=null&&s.flags&&a.contexts&&(a.contexts.flags=va(e.contexts.flags,3,n)),a}function kA(e,t){if(!t)return e;const n=e?e.clone():new Ua;return n.update(t),n}function TA(e){if(e)return jA(e)?{captureContext:e}:CA(e)?{captureContext:e}:e}function jA(e){return e instanceof Ua||typeof e=="function"}const AA=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function CA(e){return Object.keys(e).some(t=>AA.includes(t))}function Mg(e,t){return ct().captureException(e,TA(t))}function o1(e,t){return ct().captureEvent(e,t)}function l1(e,t){Ha().setContext(e,t)}function RA(){const e=Xe();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function DA(e){Ha().addEventProcessor(e)}function Bx(e){const t=Ha(),n=ct(),{userAgent:a}=Je.navigator||{},i=Vj({user:n.getUser()||t.getUser(),...a&&{userAgent:a},...e}),s=t.getSession();return(s==null?void 0:s.status)==="ok"&&Eo(s,{status:"exited"}),c1(),t.setSession(i),i}function c1(){const e=Ha(),n=ct().getSession()||e.getSession();n&&$j(n),u1(),e.setSession()}function u1(){const e=Ha(),t=Xe(),n=e.getSession();n&&t&&t.captureSession(n)}function Px(e=!1){if(e){c1();return}u1()}const MA="7";function OA(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function IA(e){return`${OA(e)}${e.projectId}/envelope/`}function zA(e,t){const n={sentry_version:MA};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function LA(e,t,n){return t||`${IA(e)}?${zA(e,n)}`}const Hx=[];function UA(e){const t={};return e.forEach(n=>{const{name:a}=n,i=t[a];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[a]=n)}),Object.values(t)}function BA(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let a;if(Array.isArray(n))a=[...t,...n];else if(typeof n=="function"){const i=n(t);a=Array.isArray(i)?i:[i]}else a=t;return UA(a)}function PA(e,t){const n={};return t.forEach(a=>{a&&d1(e,a,n)}),n}function Fx(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function d1(e,t,n){if(n[t.name]){ve&&me.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!Hx.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),Hx.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const a=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>a(i,s,e))}if(typeof t.processEvent=="function"){const a=t.processEvent.bind(t),i=Object.assign((s,r)=>a(s,r,e),{id:t.name});e.addEventProcessor(i)}ve&&me.log(`Integration installed: ${t.name}`)}function HA(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function FA(e,t,n,a){const i={};return t!=null&&t.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&a&&(i.dsn=qo(a)),_s(i,[HA(e)])}function f1(e,t){const n=t??GA(e)??[];if(n.length===0)return;const a=e.getOptions(),i=FA(n,a._metadata,a.tunnel,e.getDsn());h1().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(i)}function GA(e){return h1().get(e)}function h1(){return Uo("clientToLogBufferMap",()=>new WeakMap)}function qA(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function YA(e,t,n,a){const i={};return t!=null&&t.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&a&&(i.dsn=qo(a)),_s(i,[qA(e)])}function m1(e,t){const n=t??VA(e)??[];if(n.length===0)return;const a=e.getOptions(),i=YA(n,a._metadata,a.tunnel,e.getDsn());p1().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(i)}function VA(e){return p1().get(e)}function p1(){return Uo("clientToMetricBufferMap",()=>new WeakMap)}const Og=Symbol.for("SentryBufferFullError");function Ig(e=100){const t=new Set;function n(){return t.size<e}function a(r){t.delete(r)}function i(r){if(!n())return Dg(Og);const l=r();return t.add(l),l.then(()=>a(l),()=>a(l)),l}function s(r){if(!t.size)return tf(!0);const l=Promise.allSettled(Array.from(t)).then(()=>!0);if(!r)return l;const c=[l,new Promise(u=>setTimeout(()=>u(!1),r))];return Promise.race(c)}return{get $(){return Array.from(t)},add:i,drain:s}}const $A=60*1e3;function KA(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const a=Date.parse(`${e}`);return isNaN(a)?$A:a-t}function WA(e,t){return e[t]||e.all||0}function g1(e,t,n=Date.now()){return WA(e,t)>n}function b1(e,{statusCode:t,headers:n},a=Date.now()){const i={...e},s=n==null?void 0:n["x-sentry-rate-limits"],r=n==null?void 0:n["retry-after"];if(s)for(const l of s.trim().split(",")){const[c,u,,,m]=l.split(":",5),d=parseInt(c,10),h=(isNaN(d)?60:d)*1e3;if(!u)i.all=a+h;else for(const f of u.split(";"))f==="metric_bucket"?(!m||m.split(";").includes("custom"))&&(i[f]=a+h):i[f]=a+h}else r?i.all=a+KA(r,a):t===429&&(i.all=a+60*1e3);return i}const x1=64;function XA(e,t,n=Ig(e.bufferSize||x1)){let a={};const i=r=>n.drain(r);function s(r){const l=[];if(Tx(r,(d,h)=>{const f=jx(h);g1(a,f)?e.recordDroppedEvent("ratelimit_backoff",f):l.push(d)}),l.length===0)return Promise.resolve({});const c=_s(r[0],l),u=d=>{Tx(c,(h,f)=>{e.recordDroppedEvent(d,jx(f))})},m=()=>t({body:F2(c)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&ve&&me.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),a=b1(a,d),d),d=>{throw u("network_error"),ve&&me.error("Encountered error running transport request:",d),d});return n.add(m).then(d=>d,d=>{if(d===Og)return ve&&me.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw d})}return{send:s,flush:i}}function ZA(e,t,n){const a=[{type:"client_report"},{timestamp:mr(),discarded_events:e}];return _s(t?{dsn:t}:{},[a])}function y1(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function QA(e){var c;const{trace_id:t,parent_span_id:n,span_id:a,status:i,origin:s,data:r,op:l}=((c=e.contexts)==null?void 0:c.trace)??{};return{data:r??{},description:e.transaction,op:l,parent_span_id:n,span_id:a??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:r==null?void 0:r[Eg],exclusive_time:r==null?void 0:r[Go],measurements:e.measurements,is_segment:!0}}function JA(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Eg]:e.profile_id},...e.exclusive_time&&{[Go]:e.exclusive_time}}}},measurements:e.measurements}}const Gx="Not capturing exception because it's already been captured.",qx="Discarded session because of missing or non-string release",v1=Symbol.for("SentryInternalError"),S1=Symbol.for("SentryDoNotSendEventError"),eC=5e3;function Ou(e){return{message:e,[v1]:!0}}function fh(e){return{message:e,[S1]:!0}}function Yx(e){return!!e&&typeof e=="object"&&v1 in e}function Vx(e){return!!e&&typeof e=="object"&&S1 in e}function $x(e,t,n,a,i){let s=0,r,l=!1;e.on(n,()=>{s=0,clearTimeout(r),l=!1}),e.on(t,c=>{s+=a(c),s>=8e5?i(e):l||(l=!0,r=setTimeout(()=>{i(e)},eC))}),e.on("flush",()=>{i(e)})}class tC{constructor(t){var a,i,s;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Ig(((a=t.transportOptions)==null?void 0:a.bufferSize)??x1),t.dsn?this._dsn=_2(t.dsn):ve&&me.warn("No DSN provided, client will not send events."),this._dsn){const r=LA(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}this._options.enableLogs=this._options.enableLogs??((i=this._options._experiments)==null?void 0:i.enableLogs),this._options.enableLogs&&$x(this,"afterCaptureLog","flushLogs",sC,f1),(this._options.enableMetrics??((s=this._options._experiments)==null?void 0:s.enableMetrics)??!0)&&$x(this,"afterCaptureMetric","flushMetrics",iC,m1)}captureException(t,n,a){const i=Kn();if(xx(t))return ve&&me.log(Gx),i;const s={event_id:i,...n};return this._process(()=>this.eventFromException(t,s).then(r=>this._captureEvent(r,s,a)).then(r=>r),"error"),s.event_id}captureMessage(t,n,a,i){const s={event_id:Kn(),...a},r=vg(t)?t:String(t),l=_o(t),c=l?this.eventFromMessage(r,n,s):this.eventFromException(t,s);return this._process(()=>c.then(u=>this._captureEvent(u,s,i)),l?"unknown":"error"),s.event_id}captureEvent(t,n,a){const i=Kn();if(n!=null&&n.originalException&&xx(n.originalException))return ve&&me.log(Gx),i;const s={event_id:i,...n},r=t.sdkProcessingMetadata||{},l=r.capturedSpanScope,c=r.capturedSpanIsolationScope,u=Kx(t.type);return this._process(()=>this._captureEvent(t,s,l||a,c),u),s.event_id}captureSession(t){this.sendSession(t),Eo(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const a=await this._isClientDoneProcessing(t),i=await n.flush(t);return a&&i}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];d1(this,t,this._integrations),n||Fx(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let a=W2(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])a=H2(a,Y2(i));this.sendEnvelope(a).then(i=>this.emit("afterSendEvent",t,i))}sendSession(t){const{release:n,environment:a=jg}=this._options;if("aggregates"in t){const s=t.attrs||{};if(!s.release&&!n){ve&&me.warn(qx);return}s.release=s.release||n,s.environment=s.environment||a,t.attrs=s}else{if(!t.release&&!n){ve&&me.warn(qx);return}t.release=t.release||n,t.environment=t.environment||a}this.emit("beforeSendSession",t);const i=K2(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(t,n,a=1){if(this._options.sendClientReports){const i=`${t}:${n}`;ve&&me.log(`Recording outcome: "${i}"${a>1?` (${a} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+a}}on(t,n){const a=this._hooks[t]=this._hooks[t]||new Set,i=(...s)=>n(...s);return a.add(i),()=>{a.delete(i)}}emit(t,...n){const a=this._hooks[t];a&&a.forEach(i=>i(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return ve&&me.error("Error while sending envelope:",n),{}}return ve&&me.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=PA(this,t),Fx(this,t)}_updateSessionFromEvent(t,n){var c,u;let a=n.level==="fatal",i=!1;const s=(c=n.exception)==null?void 0:c.values;if(s){i=!0,a=!1;for(const m of s)if(((u=m.mechanism)==null?void 0:u.handled)===!1){a=!0;break}}const r=t.status==="ok";(r&&t.errors===0||r&&a)&&(Eo(t,{...a&&{status:"crashed"},errors:t.errors||Number(i||a)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(a=>setTimeout(a,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,a,i){const s=this.getOptions(),r=Object.keys(this._integrations);return!n.integrations&&(r!=null&&r.length)&&(n.integrations=r),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),r1(s,t,n,a,this,i).then(l=>{if(l===null)return l;this.emit("postprocessEvent",l,n),l.contexts={trace:a2(a),...l.contexts};const c=Qw(this,a);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,n={},a=ct(),i=Ha()){return ve&&Pm(t)&&me.log(`Captured error event \`${y1(t)[0]||"<unknown>"}\``),this._processEvent(t,n,a,i).then(s=>s.event_id,s=>{ve&&(Vx(s)?me.log(s.message):Yx(s)?me.warn(s.message):me.warn(s))})}_processEvent(t,n,a,i){const s=this.getOptions(),{sampleRate:r}=s,l=_1(t),c=Pm(t),m=`before send for type \`${t.type||"error"}\``,d=typeof r>"u"?void 0:ir(r);if(c&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),Dg(fh(`Discarding event because it's not included in the random sample (sampling rate = ${r})`));const h=Kx(t.type);return this._prepareEvent(t,n,a,i).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",h),fh("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return f;const b=aC(this,s,f,n);return nC(b,m)}).then(f=>{var y;if(f===null){if(this.recordDroppedEvent("before_send",h),l){const x=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",x)}throw fh(`${m} returned \`null\`, will not send event.`)}const g=a.getSession()||i.getSession();if(c&&g&&this._updateSessionFromEvent(g,f),l){const p=((y=f.sdkProcessingMetadata)==null?void 0:y.spanCountBeforeProcessing)||0,x=f.spans?f.spans.length:0,_=p-x;_>0&&this.recordDroppedEvent("before_send","span",_)}const b=f.transaction_info;if(l&&b&&f.transaction!==t.transaction){const p="custom";f.transaction_info={...b,source:p}}return this.sendEvent(f,n),f}).then(null,f=>{throw Vx(f)||Yx(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),Ou(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(a=>(this._numProcessing--,a),a=>(this._numProcessing--,a===Og&&this.recordDroppedEvent("queue_overflow",n),a))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,a])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:a}})}_flushOutcomes(){ve&&me.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){ve&&me.log("No outcomes to send");return}if(!this._dsn){ve&&me.log("No dsn provided, will not send outcomes");return}ve&&me.log("Sending outcomes:",t);const n=ZA(t,this._options.tunnel&&qo(this._dsn));this.sendEnvelope(n)}}function Kx(e){return e==="replay_event"?"replay":e||"error"}function nC(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Po(e))return e.then(a=>{if(!ql(a)&&a!==null)throw Ou(n);return a},a=>{throw Ou(`${t} rejected with ${a}`)});if(!ql(e)&&e!==null)throw Ou(n);return e}function aC(e,t,n,a){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:r,ignoreSpans:l}=t;let c=n;if(Pm(c)&&i)return i(c,a);if(_1(c)){if(r||l){const u=QA(c);if(l!=null&&l.length&&xd(u,l))return null;if(r){const m=r(u);m?c=gc(n,JA(m)):zm()}if(c.spans){const m=[],d=c.spans;for(const f of d){if(l!=null&&l.length&&xd(f,l)){O2(d,f);continue}if(r){const g=r(f);g?m.push(g):(zm(),m.push(f))}else m.push(f)}const h=c.spans.length-m.length;h&&e.recordDroppedEvent("before_send","span",h),c.spans=m}}if(s){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return s(c,a)}}return c}function Pm(e){return e.type===void 0}function _1(e){return e.type==="transaction"}function iC(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+w1(e.attributes)}function sC(e){let t=0;return e.message&&(t+=e.message.length*2),t+w1(e.attributes)}function w1(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*Wx(n[0]):_o(n)?t+=Wx(n):t+=100}),t}function Wx(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function rC(e,t){t.debug===!0&&(ve?me.enable():hr(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ct().update(t.initialScope);const a=new e(t);return oC(a),a.init(),a}function oC(e){ct().setClient(e)}const lC="thismessage:/";function zg(e){return"isRelative"in e}function Lg(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,a=n?lC:void 0;try{if("canParse"in URL&&!URL.canParse(e,a))return;const i=new URL(e,a);return n?{isRelative:n,pathname:i.pathname,search:i.search,hash:i.hash}:i}catch{}}function cC(e){if(zg(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Ws(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",a=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:a,relative:t[5]+n+a}}function uC(e){return e.split(/[?#]/,1)[0]}function dC(e,t){const n=t==null?void 0:t.getDsn(),a=t==null?void 0:t.getOptions().tunnel;return hC(e,n)||fC(e,a)}function fC(e,t){return t?Xx(e)===Xx(t):!1}function hC(e,t){const n=Lg(e);return!n||zg(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function Xx(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function mC(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function E1(e,t,n=[t],a="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${a}:@sentry/${s}`,version:Vs})),version:Vs}),e._metadata=i}function N1(e={}){const t=e.client||Xe();if(!RA()||!t)return{};const n=fr(),a=Fo(n);if(a.getTraceData)return a.getTraceData(e);const i=e.scope||ct(),s=e.span||_n(),r=s?j2(s):pC(i),l=s?wi(s):Qw(t,i),c=f2(l);if(!Gw.test(r))return me.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const m={"sentry-trace":r,baggage:c};if(e.propagateTraceparent){const d=s?A2(s):gC(i);d&&(m.traceparent=d)}return m}function pC(e){const{traceId:t,sampled:n,propagationSpanId:a}=e.getPropagationContext();return qw(t,a,n)}function gC(e){const{traceId:t,sampled:n,propagationSpanId:a}=e.getPropagationContext();return Yw(t,a,n)}function bC(e,t,n){let a,i,s;const r=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,l=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function c(){return u(),a=e(),a}function u(){i!==void 0&&clearTimeout(i),s!==void 0&&clearTimeout(s),i=s=void 0}function m(){return i!==void 0||s!==void 0?c():a}function d(){return i&&clearTimeout(i),i=l(c,t),r&&s===void 0&&(s=l(c,r)),a}return d.cancel=u,d.flush=m,d}const xC=100;function ps(e,t){const n=Xe(),a=Ha();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=xC}=n.getOptions();if(s<=0)return;const l={timestamp:mr(),...e},c=i?hr(()=>i(l,t)):l;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),a.addBreadcrumb(c,s))}let Zx;const yC="FunctionToString",Qx=new WeakMap,vC=()=>({name:yC,setupOnce(){Zx=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=_g(this),n=Qx.has(Xe())&&t!==void 0?t:this;return Zx.apply(n,e)}}catch{}},setup(e){Qx.set(e,!0)}}),SC=vC,_C=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],wC="EventFilters",EC=(e={})=>{let t;return{name:wC,setup(n){const a=n.getOptions();t=Jx(e,a)},processEvent(n,a,i){if(!t){const s=i.getOptions();t=Jx(e,s)}return kC(n,t)?null:n}}},NC=(e={})=>({...EC(e),name:"InboundFilters"});function Jx(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:_C],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function kC(e,t){if(e.type){if(e.type==="transaction"&&jC(e,t.ignoreTransactions))return ve&&me.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ds(e)}`),!0}else{if(TC(e,t.ignoreErrors))return ve&&me.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ds(e)}`),!0;if(DC(e))return ve&&me.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ds(e)}`),!0;if(AC(e,t.denyUrls))return ve&&me.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ds(e)}.
Url: ${yd(e)}`),!0;if(!CC(e,t.allowUrls))return ve&&me.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ds(e)}.
Url: ${yd(e)}`),!0}return!1}function TC(e,t){return t!=null&&t.length?y1(e).some(n=>di(n,t)):!1}function jC(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?di(n,t):!1}function AC(e,t){if(!(t!=null&&t.length))return!1;const n=yd(e);return n?di(n,t):!1}function CC(e,t){if(!(t!=null&&t.length))return!0;const n=yd(e);return n?di(n,t):!0}function RC(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function yd(e){var t,n;try{const a=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(s=>{var r,l,c;return((r=s.mechanism)==null?void 0:r.parent_id)===void 0&&((c=(l=s.stacktrace)==null?void 0:l.frames)==null?void 0:c.length)}),i=(n=a==null?void 0:a.stacktrace)==null?void 0:n.frames;return i?RC(i):null}catch{return ve&&me.error(`Cannot extract url for event ${Ds(e)}`),null}}function DC(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(a=>a.stacktrace||a.type&&a.type!=="Error"||a.value):!1}function MC(e,t,n,a,i,s){var l;if(!((l=i.exception)!=null&&l.values)||!s||!vi(s.originalException,Error))return;const r=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;r&&(i.exception.values=Hm(e,t,a,s.originalException,n,i.exception.values,r,0))}function Hm(e,t,n,a,i,s,r,l){if(s.length>=n+1)return s;let c=[...s];if(vi(a[i],Error)){ey(r,l);const u=e(t,a[i]),m=c.length;ty(u,i,m,l),c=Hm(e,t,n,a[i],i,[u,...c],u,m)}return Array.isArray(a.errors)&&a.errors.forEach((u,m)=>{if(vi(u,Error)){ey(r,l);const d=e(t,u),h=c.length;ty(d,`errors[${m}]`,h,l),c=Hm(e,t,n,u,i,[d,...c],d,h)}}),c}function ey(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function ty(e,t,n,a){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:a}}function OC(e){const t="console";ys(t,e),vs(t,IC)}function IC(){"console"in Je&&wj.forEach(function(e){e in Je.console&&Rn(Je.console,e,function(t){return pd[e]=t,function(...n){da("console",{args:n,level:e});const i=pd[e];i==null||i.apply(Je.console,n)}})})}function k1(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const zC="Dedupe",LC=()=>{let e;return{name:zC,processEvent(t){if(t.type)return t;try{if(BC(t,e))return ve&&me.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},UC=LC;function BC(e,t){return t?!!(PC(e,t)||HC(e,t)):!1}function PC(e,t){const n=e.message,a=t.message;return!(!n&&!a||n&&!a||!n&&a||n!==a||!j1(e,t)||!T1(e,t))}function HC(e,t){const n=ny(t),a=ny(e);return!(!n||!a||n.type!==a.type||n.value!==a.value||!j1(e,t)||!T1(e,t))}function T1(e,t){let n=fx(e),a=fx(t);if(!n&&!a)return!0;if(n&&!a||!n&&a||(n=n,a=a,a.length!==n.length))return!1;for(let i=0;i<a.length;i++){const s=a[i],r=n[i];if(s.filename!==r.filename||s.lineno!==r.lineno||s.colno!==r.colno||s.function!==r.function)return!1}return!0}function j1(e,t){let n=e.fingerprint,a=t.fingerprint;if(!n&&!a)return!0;if(n&&!a||!n&&a)return!1;n=n,a=a;try{return n.join("")===a.join("")}catch{return!1}}function ny(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function FC(e,t,n,a,i){if(!e.fetchData)return;const{method:s,url:r}=e.fetchData,l=Ea()&&t(r);if(e.endTimestamp&&l){const f=e.fetchData.__span;if(!f)return;const g=a[f];g&&(YC(g,e),GC(g,e,i),delete a[f]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof i=="object"?i:{spanOrigin:i},m=!!_n(),d=l&&m?Yo($C(r,s,c)):new ms;if(e.fetchData.__span=d.spanContext().spanId,a[d.spanContext().spanId]=d,n(e.fetchData.url)){const f=e.args[0],g=e.args[1]||{},b=qC(f,g,Ea()&&m?d:void 0,u);b&&(e.args[1]=g,g.headers=b)}const h=Xe();if(h){const f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};h.emit("beforeOutgoingRequestSpan",d,f)}return d}function GC(e,t,n){var i;const a=typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0;a==null||a(e,{headers:(i=t.response)==null?void 0:i.headers,error:t.error})}function qC(e,t,n,a){const i=N1({span:n,propagateTraceparent:a}),s=i["sentry-trace"],r=i.baggage,l=i.traceparent;if(!s)return;const c=t.headers||(Rw(e)?e.headers:void 0);if(c)if(VC(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",s),a&&l&&!u.get("traceparent")&&u.set("traceparent",l),r){const m=u.get("baggage");m?tu(m)||u.set("baggage",`${m},${r}`):u.set("baggage",r)}return u}else if(Array.isArray(c)){const u=[...c];c.find(d=>d[0]==="sentry-trace")||u.push(["sentry-trace",s]),a&&l&&!c.find(d=>d[0]==="traceparent")&&u.push(["traceparent",l]);const m=c.find(d=>d[0]==="baggage"&&tu(d[1]));return r&&!m&&u.push(["baggage",r]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,m="traceparent"in c?c.traceparent:void 0,d="baggage"in c?c.baggage:void 0,h=d?Array.isArray(d)?[...d]:[d]:[],f=d&&(Array.isArray(d)?d.find(b=>tu(b)):tu(d));r&&!f&&h.push(r);const g={...c,"sentry-trace":u??s,baggage:h.length>0?h.join(","):void 0};return a&&l&&!m&&(g.traceparent=l),g}else return{...i}}function YC(e,t){var n,a;if(t.response){Uw(e,t.response.status);const i=(a=(n=t.response)==null?void 0:n.headers)==null?void 0:a.get("content-length");if(i){const s=parseInt(i);s>0&&e.setAttribute("http.response_content_length",s)}}else t.error&&e.setStatus({code:Yt,message:"internal_error"});e.end()}function tu(e){return e.split(",").some(t=>t.trim().startsWith(kg))}function VC(e){return typeof Headers<"u"&&vi(e,Headers)}function $C(e,t,n){const a=Lg(e);return{name:a?`${t} ${cC(a)}`:t,attributes:KC(e,a,t,n)}}function KC(e,t,n,a){const i={url:e,type:"fetch","http.method":n,[Wt]:a,[_i]:"http.client"};return t&&(zg(t)||(i["http.url"]=t.href,i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}function A1(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const $l=Je;function WC(){return"history"in $l&&!!$l.history}function XC(){if(!("fetch"in $l))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function Fm(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function ZC(){var n;if(typeof EdgeRuntime=="string")return!0;if(!XC())return!1;if(Fm($l.fetch))return!0;let e=!1;const t=$l.document;if(t&&typeof t.createElement=="function")try{const a=t.createElement("iframe");a.hidden=!0,t.head.appendChild(a),(n=a.contentWindow)!=null&&n.fetch&&(e=Fm(a.contentWindow.fetch)),t.head.removeChild(a)}catch(a){ve&&me.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return e}function C1(e,t){const n="fetch";ys(n,e),vs(n,()=>R1(void 0,t))}function QC(e){const t="fetch-body-resolved";ys(t,e),vs(t,()=>R1(eR))}function R1(e,t=!1){t&&!ZC()||Rn(Je,"fetch",function(n){return function(...a){const i=new Error,{method:s,url:r}=tR(a),l={args:a,fetchData:{method:s,url:r},startTimestamp:nn()*1e3,virtualError:i,headers:nR(a)};return e||da("fetch",{...l}),n.apply(Je,a).then(async c=>(e?e(c):da("fetch",{...l,endTimestamp:nn()*1e3,response:c}),c),c=>{if(da("fetch",{...l,endTimestamp:nn()*1e3,error:c}),yg(c)&&c.stack===void 0&&(c.stack=i.stack,Zn(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(l.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function JC(e,t){if(e!=null&&e.body){const n=e.body,a=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let r;try{r=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:l}=await a.read();clearTimeout(r),l&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(r)}}clearTimeout(i),a.releaseLock(),n.cancel().then(null,()=>{})}}function eR(e){let t;try{t=e.clone()}catch{return}JC(t,()=>{da("fetch-body-resolved",{endTimestamp:nn()*1e3,response:e})})}function Gm(e,t){return!!e&&typeof e=="object"&&!!e[t]}function ay(e){return typeof e=="string"?e:e?Gm(e,"url")?e.url:e.toString?e.toString():"":""}function tR(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,a]=e;return{url:ay(n),method:Gm(a,"method")?String(a.method).toUpperCase():"GET"}}const t=e[0];return{url:ay(t),method:Gm(t,"method")?String(t.method).toUpperCase():"GET"}}function nR(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Rw(t))return new Headers(t.headers)}catch{}}function aR(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function iR(){return"npm"}function sR(){return!aR()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function qm(){return typeof window<"u"&&(!sR()||rR())}function rR(){const e=Je.process;return(e==null?void 0:e.type)==="renderer"}const nt=Je;let Ym=0;function D1(){return Ym>0}function oR(){Ym++,setTimeout(()=>{Ym--})}function To(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(_g(e))return e}catch{return e}const a=function(...i){try{const s=i.map(r=>To(r,t));return e.apply(this,s)}catch(s){throw oR(),Jd(r=>{r.addEventProcessor(l=>(t.mechanism&&(Mm(l,void 0),wo(l,t.mechanism)),l.extra={...l.extra,arguments:i},l)),Mg(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i])}catch{}Mw(a,e),Zn(e,"__sentry_wrapped__",a);try{Object.getOwnPropertyDescriptor(a,"name").configurable&&Object.defineProperty(a,"name",{get(){return e.name}})}catch{}return a}function Ug(){const e=Ho(),{referrer:t}=nt.document||{},{userAgent:n}=nt.navigator||{},a={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:a}}function Bg(e,t){const n=Pg(e,t),a={type:fR(t),value:hR(t)};return n.length&&(a.stacktrace={frames:n}),a.type===void 0&&a.value===""&&(a.value="Unrecoverable error caught"),a}function lR(e,t,n,a){const i=Xe(),s=i==null?void 0:i.getOptions().normalizeDepth,r=xR(t),l={__serialized__:Jw(t,s)};if(r)return{exception:{values:[Bg(e,r)]},extra:l};const c={exception:{values:[{type:Qd(t)?t.constructor.name:a?"UnhandledRejection":"Error",value:gR(t,{isUnhandledRejection:a})}]},extra:l};if(n){const u=Pg(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function hh(e,t){return{exception:{values:[Bg(e,t)]}}}function Pg(e,t){const n=t.stacktrace||t.stack||"",a=uR(t),i=dR(t);try{return e(n,a,i)}catch{}return[]}const cR=/Minified React error #\d+;/i;function uR(e){return e&&cR.test(e.message)?1:0}function dR(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function M1(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function fR(e){const t=e==null?void 0:e.name;return!t&&M1(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function hR(e){const t=e==null?void 0:e.message;return M1(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function mR(e,t,n,a){const i=(n==null?void 0:n.syntheticException)||void 0,s=Hg(e,t,i,a);return wo(s),s.level="error",n!=null&&n.event_id&&(s.event_id=n.event_id),tf(s)}function pR(e,t,n="info",a,i){const s=(a==null?void 0:a.syntheticException)||void 0,r=Vm(e,t,s,i);return r.level=n,a!=null&&a.event_id&&(r.event_id=a.event_id),tf(r)}function Hg(e,t,n,a,i){let s;if(Aw(t)&&t.error)return hh(e,t.error);if(mx(t)||Oj(t)){const r=t;if("stack"in t)s=hh(e,t);else{const l=r.name||(mx(r)?"DOMError":"DOMException"),c=r.message?`${l}: ${r.message}`:l;s=Vm(e,c,n,a),Mm(s,c)}return"code"in r&&(s.tags={...s.tags,"DOMException.code":`${r.code}`}),s}return yg(t)?hh(e,t):ql(t)||Qd(t)?(s=lR(e,t,n,i),wo(s,{synthetic:!0}),s):(s=Vm(e,t,n,a),Mm(s,`${t}`),wo(s,{synthetic:!0}),s)}function Vm(e,t,n,a){const i={};if(a&&n){const s=Pg(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]}),wo(i,{synthetic:!0})}if(vg(t)){const{__sentry_template_string__:s,__sentry_template_values__:r}=t;return i.logentry={message:s,params:r},i}return i.message=t,i}function gR(e,{isUnhandledRejection:t}){const n=Pj(e),a=t?"promise rejection":"exception";return Aw(e)?`Event \`ErrorEvent\` captured as ${a} with message \`${e.message}\``:Qd(e)?`Event \`${bR(e)}\` (type=${e.type}) captured as ${a}`:`Object captured as ${a} with keys: ${n}`}function bR(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function xR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class yR extends tC{constructor(t){var m;const n=vR(t),a=nt.SENTRY_SDK_SOURCE||iR();E1(n,"browser",["browser"],a),(m=n._metadata)!=null&&m.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:i,sendClientReports:s,enableLogs:r,_experiments:l,enableMetrics:c}=this._options,u=c??(l==null?void 0:l.enableMetrics)??!0;nt.document&&(s||r||u)&&nt.document.addEventListener("visibilitychange",()=>{nt.document.visibilityState==="hidden"&&(s&&this._flushOutcomes(),r&&f1(this),u&&m1(this))}),i&&this.on("beforeSendSession",mC)}eventFromException(t,n){return mR(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",a){return pR(this._options.stackParser,t,n,a,this._options.attachStacktrace)}_prepareEvent(t,n,a,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,a,i)}}function vR(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=nt.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const sr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ce=Je,SR=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",yc=(e,t,n,a)=>{let i,s;return r=>{t.value>=0&&(r||a)&&(s=t.value-(i??0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=SR(t.value,n),e(t)))}},vc=(e=!0)=>{var n,a;const t=(a=(n=Ce.performance)==null?void 0:n.getEntriesByType)==null?void 0:a.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Vo=()=>{const e=vc();return(e==null?void 0:e.activationStart)??0};function Xs(e,t,n){Ce.document&&Ce.addEventListener(e,t,n)}function Fg(e,t,n){Ce.document&&Ce.removeEventListener(e,t,n)}let eo=-1;const O1=new Set,_R=()=>{var e,t;return((e=Ce.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=Ce.document)!=null&&t.prerendering)?0:1/0},Iu=e=>{if(wR(e)&&eo>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of O1)t();isFinite(eo)||(eo=e.type==="visibilitychange"?e.timeStamp:0,Fg("prerenderingchange",Iu,!0))}},Sc=()=>{var e;if(Ce.document&&eo<0){const t=Vo();eo=(Ce.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(a=>a.name==="hidden"&&a.startTime>t)[0])==null?void 0:e.startTime)??_R(),Xs("visibilitychange",Iu,!0),Xs("pagehide",Iu,!0),Xs("prerenderingchange",Iu,!0)}return{get firstHiddenTime(){return eo},onHidden(t){O1.add(t)}}};function wR(e){var t;return e.type==="pagehide"||((t=Ce.document)==null?void 0:t.visibilityState)==="hidden"}const ER=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,_c=(e,t=-1)=>{var s,r;const n=vc();let a="navigate";return n&&((s=Ce.document)!=null&&s.prerendering||Vo()>0?a="prerender":(r=Ce.document)!=null&&r.wasDiscarded?a="restore":n.type&&(a=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:ER(),navigationType:a}},mh=new WeakMap;function Gg(e,t){return mh.get(e)||mh.set(e,new t),mh.get(e)}class vd{constructor(){vd.prototype.__init.call(this),vd.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var i;if(t.hadRecentInput)return;const n=this._sessionEntries[0],a=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&a&&t.startTime-a.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(i=this._onAfterProcessingUnexpectedShift)==null||i.call(this,t)}}const $o=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const a=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return a.observe({type:e,buffered:!0,...n}),a}}catch{}},qg=e=>{let t=!1;return()=>{t||(e(),t=!0)}},nf=e=>{var t;(t=Ce.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},NR=[1800,3e3],kR=(e,t={})=>{nf(()=>{const n=Sc(),a=_c("FCP");let i;const r=$o("paint",l=>{for(const c of l)c.name==="first-contentful-paint"&&(r.disconnect(),c.startTime<n.firstHiddenTime&&(a.value=Math.max(c.startTime-Vo(),0),a.entries.push(c),i(!0)))});r&&(i=yc(e,a,NR,t.reportAllChanges))})},TR=[.1,.25],jR=(e,t={})=>{kR(qg(()=>{var c;const n=_c("CLS",0);let a;const i=Sc(),s=Gg(t,vd),r=u=>{for(const m of u)s._processEntry(m);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,a())},l=$o("layout-shift",r);l&&(a=yc(e,n,TR,t.reportAllChanges),i.onHidden(()=>{r(l.takeRecords()),a(!0)}),(c=Ce==null?void 0:Ce.setTimeout)==null||c.call(Ce,a))}))};let I1=0,ph=1/0,nu=0;const AR=e=>{e.forEach(t=>{t.interactionId&&(ph=Math.min(ph,t.interactionId),nu=Math.max(nu,t.interactionId),I1=nu?(nu-ph)/7+1:0)})};let $m;const z1=()=>$m?I1:performance.interactionCount||0,CR=()=>{"interactionCount"in performance||$m||($m=$o("event",AR,{type:"event",buffered:!0,durationThreshold:0}))},gh=10;let L1=0;const RR=()=>z1()-L1;class Sd{constructor(){Sd.prototype.__init.call(this),Sd.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){L1=z1(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(RR()/50));return this._longestInteractionList[t]}_processEntry(t){var i,s;if((i=this._onBeforeProcessingEntry)==null||i.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let a=this._longestInteractionMap.get(t.interactionId);if(a||this._longestInteractionList.length<gh||t.duration>n._latency){if(a?t.duration>a._latency?(a.entries=[t],a._latency=t.duration):t.duration===a._latency&&t.startTime===a.entries[0].startTime&&a.entries.push(t):(a={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(a.id,a),this._longestInteractionList.push(a)),this._longestInteractionList.sort((r,l)=>l._latency-r._latency),this._longestInteractionList.length>gh){const r=this._longestInteractionList.splice(gh);for(const l of r)this._longestInteractionMap.delete(l.id)}(s=this._onAfterProcessingINPCandidate)==null||s.call(this,a)}}}const U1=e=>{const t=n=>{var a;(n.type==="pagehide"||((a=Ce.document)==null?void 0:a.visibilityState)==="hidden")&&e(n)};Xs("visibilitychange",t,!0),Xs("pagehide",t,!0)},B1=e=>{var n;const t=Ce.requestIdleCallback||Ce.setTimeout;((n=Ce.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=qg(e),Xs("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),Fg("visibilitychange",e,{capture:!0})}),U1(e))},DR=[200,500],MR=40,OR=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=Sc();nf(()=>{CR();const a=_c("INP");let i;const s=Gg(t,Sd),r=c=>{B1(()=>{for(const m of c)s._processEntry(m);const u=s._estimateP98LongestInteraction();u&&u._latency!==a.value&&(a.value=u._latency,a.entries=u.entries,i())})},l=$o("event",r,{durationThreshold:t.durationThreshold??MR});i=yc(e,a,DR,t.reportAllChanges),l&&(l.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{r(l.takeRecords()),i(!0)}))})};class IR{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const zR=[2500,4e3],LR=(e,t={})=>{nf(()=>{const n=Sc(),a=_c("LCP");let i;const s=Gg(t,IR),r=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)s._processEntry(u),u.startTime<n.firstHiddenTime&&(a.value=Math.max(u.startTime-Vo(),0),a.entries=[u],i())},l=$o("largest-contentful-paint",r);if(l){i=yc(e,a,zR,t.reportAllChanges);const c=qg(()=>{r(l.takeRecords()),l.disconnect(),i(!0)}),u=m=>{m.isTrusted&&(B1(c),Fg(m.type,u,{capture:!0}))};for(const m of["keydown","click","visibilitychange"])Xs(m,u,{capture:!0})}})},UR=[800,1800],Km=e=>{var t,n;(t=Ce.document)!=null&&t.prerendering?nf(()=>Km(e)):((n=Ce.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>Km(e),!0):setTimeout(e)},BR=(e,t={})=>{const n=_c("TTFB"),a=yc(e,n,UR,t.reportAllChanges);Km(()=>{const i=vc();i&&(n.value=Math.max(i.responseStart-Vo(),0),n.entries=[i],a(!0))})},El={},_d={};let P1,H1,F1,G1;function Yg(e,t=!1){return af("cls",e,HR,P1,t)}function Vg(e,t=!1){return af("lcp",e,FR,H1,t)}function PR(e){return af("ttfb",e,GR,F1)}function q1(e){return af("inp",e,qR,G1)}function rr(e,t){return Y1(e,t),_d[e]||(YR(e),_d[e]=!0),V1(e,t)}function wc(e,t){const n=El[e];if(n!=null&&n.length)for(const a of n)try{a(t)}catch(i){sr&&me.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${yi(a)}
Error:`,i)}}function HR(){return jR(e=>{wc("cls",{metric:e}),P1=e},{reportAllChanges:!0})}function FR(){return LR(e=>{wc("lcp",{metric:e}),H1=e},{reportAllChanges:!0})}function GR(){return BR(e=>{wc("ttfb",{metric:e}),F1=e})}function qR(){return OR(e=>{wc("inp",{metric:e}),G1=e})}function af(e,t,n,a,i=!1){Y1(e,t);let s;return _d[e]||(s=n(),_d[e]=!0),a&&t({metric:a}),V1(e,t,i?s:void 0)}function YR(e){const t={};e==="event"&&(t.durationThreshold=0),$o(e,n=>{wc(e,{entries:n})},t)}function Y1(e,t){El[e]=El[e]||[],El[e].push(t)}function V1(e,t,n){return()=>{n&&n();const a=El[e];if(!a)return;const i=a.indexOf(t);i!==-1&&a.splice(i,1)}}function VR(e){return"duration"in e}function bh(e){return typeof e=="number"&&isFinite(e)}function gs(e,t,n,{...a}){const i=tt(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Cg(e,()=>{const s=Yo({startTime:t,...a});return s&&s.end(n),s})}function $g(e){var y;const t=Xe();if(!t)return;const{name:n,transaction:a,attributes:i,startTime:s}=e,{release:r,environment:l,sendDefaultPii:c}=t.getOptions(),u=t.getIntegrationByName("Replay"),m=u==null?void 0:u.getReplayId(),d=ct(),h=d.getUser(),f=h!==void 0?h.email||h.id||h.ip_address:void 0;let g;try{g=d.getScopeData().contexts.profile.profile_id}catch{}const b={release:r,environment:l,user:f||void 0,profile_id:g||void 0,replay_id:m||void 0,transaction:a,"user_agent.original":(y=Ce.navigator)==null?void 0:y.userAgent,"client.address":c?"{{auto}}":void 0,...i};return Yo({name:n,attributes:b,startTime:s,experimental:{standalone:!0}})}function Ec(){return Ce.addEventListener&&Ce.performance}function Ot(e){return e/1e3}function $R(e){let t="unknown",n="unknown",a="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=a==="h"?"http":a,n=e.split(a)[1];break}a+=i}return a===e&&(t=a),{name:t,version:n}}function $1(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function K1(e,t){let n,a=!1;function i(l){!a&&n&&t(l,n),a=!0}U1(()=>{i("pagehide")});const s=e.on("beforeStartNavigationSpan",(l,c)=>{c!=null&&c.isRedirect||(i("navigation"),s(),r())}),r=e.on("afterStartPageLoadSpan",l=>{n=l.spanContext().spanId,r()})}function KR(e){let t=0,n;if(!$1("layout-shift"))return;const a=Yg(({metric:i})=>{const s=i.entries[i.entries.length-1];s&&(t=i.value,n=s)},!0);K1(e,(i,s)=>{WR(t,n,s,i),a()})}function WR(e,t,n,a){var u;sr&&me.log(`Sending CLS span (${e})`);const i=t?Ot((zn()||0)+t.startTime):nn(),s=ct().getScopeData().transactionName,r=t?On((u=t.sources[0])==null?void 0:u.node):"Layout shift",l={[Wt]:"auto.http.browser.cls",[_i]:"ui.webvital.cls",[Go]:0,"sentry.pageload.span_id":n,"sentry.report_event":a};t!=null&&t.sources&&t.sources.forEach((m,d)=>{l[`cls.source.${d+1}`]=On(m.node)});const c=$g({name:r,transaction:s,attributes:l,startTime:i});c&&(c.addEvent("cls",{[bc]:"",[xc]:e}),c.end(i))}function XR(e){let t=0,n;if(!$1("largest-contentful-paint"))return;const a=Vg(({metric:i})=>{const s=i.entries[i.entries.length-1];s&&(t=i.value,n=s)},!0);K1(e,(i,s)=>{ZR(t,n,s,i),a()})}function ZR(e,t,n,a){sr&&me.log(`Sending LCP span (${e})`);const i=Ot((zn()||0)+((t==null?void 0:t.startTime)||0)),s=ct().getScopeData().transactionName,r=t?On(t.element):"Largest contentful paint",l={[Wt]:"auto.http.browser.lcp",[_i]:"ui.webvital.lcp",[Go]:0,"sentry.pageload.span_id":n,"sentry.report_event":a};t&&(t.element&&(l["lcp.element"]=On(t.element)),t.id&&(l["lcp.id"]=t.id),t.url&&(l["lcp.url"]=t.url),t.loadTime!=null&&(l["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(l["lcp.renderTime"]=t.renderTime),t.size!=null&&(l["lcp.size"]=t.size));const c=$g({name:r,transaction:s,attributes:l,startTime:i});c&&(c.addEvent("lcp",{[bc]:"millisecond",[xc]:e}),c.end(i))}function Jn(e){return e&&((zn()||performance.timeOrigin)+e)/1e3}function W1(e){var n;const t={};if(e.nextHopProtocol!=null){const{name:a,version:i}=$R(e.nextHopProtocol);t["network.protocol.version"]=i,t["network.protocol.name"]=a}return zn()||(n=Ec())!=null&&n.timeOrigin?QR({...t,"http.request.redirect_start":Jn(e.redirectStart),"http.request.redirect_end":Jn(e.redirectEnd),"http.request.worker_start":Jn(e.workerStart),"http.request.fetch_start":Jn(e.fetchStart),"http.request.domain_lookup_start":Jn(e.domainLookupStart),"http.request.domain_lookup_end":Jn(e.domainLookupEnd),"http.request.connect_start":Jn(e.connectStart),"http.request.secure_connection_start":Jn(e.secureConnectionStart),"http.request.connection_end":Jn(e.connectEnd),"http.request.request_start":Jn(e.requestStart),"http.request.response_start":Jn(e.responseStart),"http.request.response_end":Jn(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function QR(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const JR=2147483647;let iy=0,Sa={},jn,Hr;function eD({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const a=Ec();if(a&&zn()){a.mark&&Ce.performance.mark("sentry-tracing-init");const i=t?XR(n):sD(),s=rD(),r=e?KR(n):iD();return()=>{i==null||i(),s(),r==null||r()}}return()=>{}}function tD(){rr("longtask",({entries:e})=>{const t=_n();if(!t)return;const{op:n,start_timestamp:a}=tt(t);for(const i of e){const s=Ot(zn()+i.startTime),r=Ot(i.duration);n==="navigation"&&a&&s<a||gs(t,s,s+r,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Wt]:"auto.ui.browser.metrics"}})}})}function nD(){new PerformanceObserver(t=>{const n=_n();if(n)for(const a of t.getEntries()){if(!a.scripts[0])continue;const i=Ot(zn()+a.startTime),{start_timestamp:s,op:r}=tt(n);if(r==="navigation"&&s&&i<s)continue;const l=Ot(a.duration),c={[Wt]:"auto.ui.browser.metrics"},u=a.scripts[0],{invoker:m,invokerType:d,sourceURL:h,sourceFunctionName:f,sourceCharPosition:g}=u;c["browser.script.invoker"]=m,c["browser.script.invoker_type"]=d,h&&(c["code.filepath"]=h),f&&(c["code.function"]=f),g!==-1&&(c["browser.script.source_char_position"]=g),gs(n,i,i+l,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function aD(){rr("event",({entries:e})=>{const t=_n();if(t){for(const n of e)if(n.name==="click"){const a=Ot(zn()+n.startTime),i=Ot(n.duration),s={name:On(n.target),op:`ui.interaction.${n.name}`,startTime:a,attributes:{[Wt]:"auto.ui.browser.metrics"}},r=Dw(n.target);r&&(s.attributes["ui.component_name"]=r),gs(t,a,a+i,s)}}})}function iD(){return Yg(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Sa.cls={value:e.value,unit:""},Hr=t)},!0)}function sD(){return Vg(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Sa.lcp={value:e.value,unit:"millisecond"},jn=t)},!0)}function rD(){return PR(({metric:e})=>{e.entries[e.entries.length-1]&&(Sa.ttfb={value:e.value,unit:"millisecond"})})}function oD(e,t){const n=Ec(),a=zn();if(!(n!=null&&n.getEntries)||!a)return;const i=Ot(a),s=n.getEntries(),{op:r,start_timestamp:l}=tt(e);s.slice(iy).forEach(c=>{const u=Ot(c.startTime),m=Ot(Math.max(0,c.duration));if(!(r==="navigation"&&l&&i+u<l))switch(c.entryType){case"navigation":{dD(e,c,i);break}case"mark":case"paint":case"measure":{cD(e,c,u,m,i,t.ignorePerformanceApiSpans);const d=Sc(),h=c.startTime<d.firstHiddenTime;c.name==="first-paint"&&h&&(Sa.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&h&&(Sa.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{mD(e,c,c.name,u,m,i,t.ignoreResourceSpans);break}}}),iy=Math.max(s.length-1,0),pD(e),r==="pageload"&&(xD(Sa),t.recordClsOnPageloadSpan||delete Sa.cls,t.recordLcpOnPageloadSpan||delete Sa.lcp,Object.entries(Sa).forEach(([c,u])=>{J2(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",Vo()),gD(e,t)),jn=void 0,Hr=void 0,Sa={}}function lD(e){if((e==null?void 0:e.entryType)==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function cD(e,t,n,a,i,s){if(lD(t)||["mark","measure"].includes(t.entryType)&&di(t.name,s))return;const r=vc(!1),l=Ot(r?r.requestStart:0),c=i+Math.max(n,l),u=i+n,m=u+a,d={[Wt]:"auto.resource.browser.metrics"};c!==u&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=c),uD(d,t),c<=m&&gs(e,c,m,{name:t.name,op:t.entryType,attributes:d})}function uD(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[a,i]of Object.entries(n))if(i&&_o(i))e[`sentry.browser.measure.detail.${a}`]=i;else if(i!==void 0)try{e[`sentry.browser.measure.detail.${a}`]=JSON.stringify(i)}catch{}return}if(_o(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function dD(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(a=>{au(e,t,a,n)}),au(e,t,"secureConnection",n,"TLS/SSL"),au(e,t,"fetch",n,"cache"),au(e,t,"domainLookup",n,"DNS"),hD(e,t,n)}function au(e,t,n,a,i=n){const s=fD(n),r=t[s],l=t[`${n}Start`];!l||!r||gs(e,a+Ot(l),a+Ot(r),{op:`browser.${i}`,name:t.name,attributes:{[Wt]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function fD(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function hD(e,t,n){const a=n+Ot(t.requestStart),i=n+Ot(t.responseEnd),s=n+Ot(t.responseStart);t.responseEnd&&(gs(e,a,i,{op:"browser.request",name:t.name,attributes:{[Wt]:"auto.ui.browser.metrics"}}),gs(e,s,i,{op:"browser.response",name:t.name,attributes:{[Wt]:"auto.ui.browser.metrics"}}))}function mD(e,t,n,a,i,s,r){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const l=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(r!=null&&r.includes(l))return;const c={[Wt]:"auto.resource.browser.metrics"},u=Ws(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(Ce.location.origin),bD(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const m={...c,...W1(t)},d=s+a,h=d+i;gs(e,d,h,{name:n.replace(Ce.location.origin,""),op:l,attributes:m})}function pD(e){const t=Ce.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),bh(n.rtt)&&(Sa["connection.rtt"]={value:n.rtt,unit:"millisecond"})),bh(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),bh(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function gD(e,t){jn&&t.recordLcpOnPageloadSpan&&(jn.element&&e.setAttribute("lcp.element",On(jn.element)),jn.id&&e.setAttribute("lcp.id",jn.id),jn.url&&e.setAttribute("lcp.url",jn.url.trim().slice(0,200)),jn.loadTime!=null&&e.setAttribute("lcp.loadTime",jn.loadTime),jn.renderTime!=null&&e.setAttribute("lcp.renderTime",jn.renderTime),e.setAttribute("lcp.size",jn.size)),Hr!=null&&Hr.sources&&t.recordClsOnPageloadSpan&&Hr.sources.forEach((n,a)=>e.setAttribute(`cls.source.${a+1}`,On(n.node)))}function bD(e,t,n){n.forEach(([a,i])=>{const s=e[a];s!=null&&(typeof s=="number"&&s<JR||typeof s=="string")&&(t[i]=s)})}function xD(e){const t=vc(!1);if(!t)return;const{responseStart:n,requestStart:a}=t;a<=n&&(e["ttfb.requestTime"]={value:n-a,unit:"millisecond"})}function yD(){return Ec()&&zn()?rr("element",vD):()=>{}}const vD=({entries:e})=>{const t=_n(),n=t?gn(t):void 0,a=n?tt(n).description:ct().getScopeData().transactionName;e.forEach(i=>{var f,g;const s=i;if(!s.identifier)return;const r=s.name,l=s.renderTime,c=s.loadTime,[u,m]=c?[Ot(c),"load-time"]:l?[Ot(l),"render-time"]:[nn(),"entry-emission"],d=r==="image-paint"?Ot(Math.max(0,(l??0)-(c??0))):0,h={[Wt]:"auto.ui.browser.elementtiming",[_i]:"ui.elementtiming",[wa]:"component","sentry.span_start_time_source":m,"sentry.transaction_name":a,"element.id":s.id,"element.type":((g=(f=s.element)==null?void 0:f.tagName)==null?void 0:g.toLowerCase())||"unknown","element.size":s.naturalWidth&&s.naturalHeight?`${s.naturalWidth}x${s.naturalHeight}`:void 0,"element.render_time":l,"element.load_time":c,"element.url":s.url||void 0,"element.identifier":s.identifier,"element.paint_type":r};sA({name:`element[${s.identifier}]`,attributes:h,startTime:u,onlyIfParent:!0},b=>{b.end(u+d)})})},SD=1e3;let sy,Wm,Xm;function X1(e){const t="dom";ys(t,e),vs(t,_D)}function _D(){if(!Ce.document)return;const e=da.bind(null,"dom"),t=ry(e,!0);Ce.document.addEventListener("click",t,!1),Ce.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var s,r;const i=(s=Ce[n])==null?void 0:s.prototype;(r=i==null?void 0:i.hasOwnProperty)!=null&&r.call(i,"addEventListener")&&(Rn(i,"addEventListener",function(l){return function(c,u,m){if(c==="click"||c=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},h=d[c]=d[c]||{refCount:0};if(!h.handler){const f=ry(e);h.handler=f,l.call(this,c,f,m)}h.refCount++}catch{}return l.call(this,c,u,m)}}),Rn(i,"removeEventListener",function(l){return function(c,u,m){if(c==="click"||c=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},h=d[c];h&&(h.refCount--,h.refCount<=0&&(l.call(this,c,h.handler,m),h.handler=void 0,delete d[c]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return l.call(this,c,u,m)}}))})}function wD(e){if(e.type!==Wm)return!1;try{if(!e.target||e.target._sentryId!==Xm)return!1}catch{}return!0}function ED(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function ry(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const a=ND(n);if(ED(n.type,a))return;Zn(n,"_sentryCaptured",!0),a&&!a._sentryId&&Zn(a,"_sentryId",Kn());const i=n.type==="keypress"?"input":n.type;wD(n)||(e({event:n,name:i,global:t}),Wm=n.type,Xm=a?a._sentryId:void 0),clearTimeout(sy),sy=Ce.setTimeout(()=>{Xm=void 0,Wm=void 0},SD)}}function ND(e){try{return e.target}catch{return null}}let iu;function sf(e){const t="history";ys(t,e),vs(t,kD)}function kD(){if(Ce.addEventListener("popstate",()=>{const t=Ce.location.href,n=iu;if(iu=t,n===t)return;da("history",{from:n,to:t})}),!WC())return;function e(t){return function(...n){const a=n.length>2?n[2]:void 0;if(a){const i=iu,s=TD(String(a));if(iu=s,i===s)return t.apply(this,n);da("history",{from:i,to:s})}return t.apply(this,n)}}Rn(Ce.history,"pushState",e),Rn(Ce.history,"replaceState",e)}function TD(e){try{return new URL(e,Ce.location.origin).toString()}catch{return e}}const zu={};function Z1(e){const t=zu[e];if(t)return t;let n=Ce[e];if(Fm(n))return zu[e]=n.bind(Ce);const a=Ce.document;if(a&&typeof a.createElement=="function")try{const i=a.createElement("iframe");i.hidden=!0,a.head.appendChild(i);const s=i.contentWindow;s!=null&&s[e]&&(n=s[e]),a.head.removeChild(i)}catch(i){sr&&me.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(zu[e]=n.bind(Ce))}function jD(e){zu[e]=void 0}function Nc(...e){return Z1("setTimeout")(...e)}const Ms="__sentry_xhr_v3__";function Q1(e){const t="xhr";ys(t,e),vs(t,AD)}function AD(){if(!Ce.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,a){const i=new Error,s=nn()*1e3,r=ui(a[0])?a[0].toUpperCase():void 0,l=CD(a[1]);if(!r||!l)return t.apply(n,a);n[Ms]={method:r,url:l,request_headers:{}},r==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[Ms];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const m={endTimestamp:nn()*1e3,startTimestamp:s,xhr:n,virtualError:i};da("xhr",m)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,m,d){return c(),u.apply(m,d)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,m,d){const[h,f]=d,g=m[Ms];return g&&ui(h)&&ui(f)&&(g.request_headers[h.toLowerCase()]=f),u.apply(m,d)}}),t.apply(n,a)}}),e.send=new Proxy(e.send,{apply(t,n,a){const i=n[Ms];if(!i)return t.apply(n,a);a[0]!==void 0&&(i.body=a[0]);const s={startTimestamp:nn()*1e3,xhr:n};return da("xhr",s),t.apply(n,a)}})}function CD(e){if(ui(e))return e;try{return e.toString()}catch{}}function J1(e){return new URLSearchParams(e).toString()}function eE(e,t=me){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[J1(e)];if(!e)return[void 0]}catch(n){return sr&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return sr&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function tE(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function nE(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return sr&&me.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,a)=>{const[i,s]=a.split(": ");return s&&(n[i.toLowerCase()]=s),n},{}):{}}const xh=[],Lu=new Map,wr=new Map,RD=60;function DD(){if(Ec()&&zn()){const t=MD();return()=>{t()}}return()=>{}}const Zm={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function MD(){return q1(OD)}const OD=({metric:e})=>{if(e.value==null)return;const t=Ot(e.value);if(t>RD)return;const n=e.entries.find(g=>g.duration===e.value&&Zm[g.name]);if(!n)return;const{interactionId:a}=n,i=Zm[n.name],s=Ot(zn()+n.startTime),r=_n(),l=r?gn(r):void 0,c=a!=null?Lu.get(a):void 0,u=(c==null?void 0:c.span)||l,m=u?tt(u).description:ct().getScopeData().transactionName,d=(c==null?void 0:c.elementName)||On(n.target),h={[Wt]:"auto.http.browser.inp",[_i]:`ui.interaction.${i}`,[Go]:n.duration},f=$g({name:d,transaction:m,attributes:h,startTime:s});f&&(f.addEvent("inp",{[bc]:"millisecond",[xc]:e.value}),f.end(s+t))};function ID(){const e=Object.keys(Zm);qm()&&e.forEach(i=>{Ce.addEventListener(i,t,{capture:!0,passive:!0})});function t(i){const s=i.target;if(!s)return;const r=On(s),l=Math.round(i.timeStamp);if(wr.set(l,r),wr.size>50){const c=wr.keys().next().value;c!==void 0&&wr.delete(c)}}function n(i){const s=Math.round(i.startTime);let r=wr.get(s);if(!r)for(let l=-5;l<=5;l++){const c=wr.get(s+l);if(c){r=c;break}}return r||"<unknown>"}const a=({entries:i})=>{const s=_n(),r=s&&gn(s);i.forEach(l=>{if(!VR(l))return;const c=l.interactionId;if(c==null||Lu.has(c))return;const u=l.target?On(l.target):n(l);if(xh.length>10){const m=xh.shift();Lu.delete(m)}xh.push(c),Lu.set(c,{span:r,elementName:u})})};rr("event",a),rr("first-input",a)}const zD=40;function LD(e,t=Z1("fetch")){let n=0,a=0;async function i(s){const r=s.body.length;n+=r,a++;const l={body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&a<15,...e.fetchOptions};try{const c=await t(e.url,l);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw jD("fetch"),c}finally{n-=r,a--}}return XA(e,i,Ig(e.bufferSize||zD))}const ha=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,UD=30,BD=50;function Qm(e,t,n,a){const i={filename:e,function:t==="<anonymous>"?ar:t,in_app:!0};return n!==void 0&&(i.lineno=n),a!==void 0&&(i.colno=a),i}const PD=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,HD=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,FD=/\((\S*)(?::(\d+))(?::(\d+))\)/,GD=/at (.+?) ?\(data:(.+?),/,qD=e=>{const t=e.match(GD);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=PD.exec(e);if(n){const[,i,s,r]=n;return Qm(i,ar,+s,+r)}const a=HD.exec(e);if(a){if(a[2]&&a[2].indexOf("eval")===0){const l=FD.exec(a[2]);l&&(a[2]=l[1],a[3]=l[2],a[4]=l[3])}const[s,r]=aE(a[1]||ar,a[2]);return Qm(r,s,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}},YD=[UD,qD],VD=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,$D=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,KD=e=>{const t=VD.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=$D.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let a=t[3],i=t[1]||ar;return[i,a]=aE(i,a),Qm(a,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},WD=[BD,KD],XD=[YD,WD],ZD=Ew(...XD),aE=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,a=e.indexOf("safari-web-extension")!==-1;return n||a?[e.indexOf("@")!==-1?e.split("@")[0]:ar,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},su=1024,QD="Breadcrumbs",JD=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:QD,setup(n){t.console&&OC(aM(n)),t.dom&&X1(nM(n,t.dom)),t.xhr&&Q1(iM(n)),t.fetch&&C1(sM(n)),t.history&&sf(rM(n)),t.sentry&&n.on("beforeSendEvent",tM(n))}}},eM=JD;function tM(e){return function(n){Xe()===e&&ps({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ds(n)},{event:n})}}function nM(e,t){return function(a){if(Xe()!==e)return;let i,s,r=typeof t=="object"?t.serializeAttribute:void 0,l=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;l&&l>su&&(ha&&me.warn(`\`dom.maxStringLength\` cannot exceed ${su}, but a value of ${l} was configured. Sentry will use ${su} instead.`),l=su),typeof r=="string"&&(r=[r]);try{const u=a.event,m=oM(u)?u.target:u;i=On(m,{keyAttrs:r,maxStringLength:l}),s=Dw(m)}catch{i="<unknown>"}if(i.length===0)return;const c={category:`ui.${a.name}`,message:i};s&&(c.data={"ui.component_name":s}),ps(c,{event:a.event,name:a.name,global:a.global})}}function aM(e){return function(n){if(Xe()!==e)return;const a={category:"console",data:{arguments:n.args,logger:"console"},level:k1(n.level),message:bx(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)a.message=`Assertion failed: ${bx(n.args.slice(1)," ")||"console.assert"}`,a.data.arguments=n.args.slice(1);else return;ps(a,{input:n.args,level:n.level})}}function iM(e){return function(n){if(Xe()!==e)return;const{startTimestamp:a,endTimestamp:i}=n,s=n.xhr[Ms];if(!a||!i||!s)return;const{method:r,url:l,status_code:c,body:u}=s,m={method:r,url:l,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:a,endTimestamp:i},h={category:"xhr",data:m,type:"http",level:A1(c)};e.emit("beforeOutgoingRequestBreadcrumb",h,d),ps(h,d)}}function sM(e){return function(n){if(Xe()!==e)return;const{startTimestamp:a,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const s=n.fetchData,r={data:n.error,input:n.args,startTimestamp:a,endTimestamp:i},l={category:"fetch",data:s,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",l,r),ps(l,r)}else{const s=n.response,r={...n.fetchData,status_code:s==null?void 0:s.status};n.fetchData.request_body_size,n.fetchData.response_body_size,s==null||s.status;const l={input:n.args,response:s,startTimestamp:a,endTimestamp:i},c={category:"fetch",data:r,type:"http",level:A1(r.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,l),ps(c,l)}}}function rM(e){return function(n){if(Xe()!==e)return;let a=n.from,i=n.to;const s=Ws(nt.location.href);let r=a?Ws(a):void 0;const l=Ws(i);r!=null&&r.path||(r=s),s.protocol===l.protocol&&s.host===l.host&&(i=l.relative),s.protocol===r.protocol&&s.host===r.host&&(a=r.relative),ps({category:"navigation",data:{from:a,to:i}})}}function oM(e){return!!e&&!!e.target}const lM=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],cM="BrowserApiErrors",uM=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:cM,setupOnce(){t.setTimeout&&Rn(nt,"setTimeout",oy),t.setInterval&&Rn(nt,"setInterval",oy),t.requestAnimationFrame&&Rn(nt,"requestAnimationFrame",fM),t.XMLHttpRequest&&"XMLHttpRequest"in nt&&Rn(XMLHttpRequest.prototype,"send",hM);const n=t.eventTarget;n&&(Array.isArray(n)?n:lM).forEach(i=>mM(i,t))}}},dM=uM;function oy(e){return function(...t){const n=t[0];return t[0]=To(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${yi(e)}`}}),e.apply(this,t)}}function fM(e){return function(t){return e.apply(this,[To(t,{mechanism:{data:{handler:yi(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function hM(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Rn(n,i,function(s){const r={mechanism:{data:{handler:yi(s)},handled:!1,type:`auto.browser.browserapierrors.xhr.${i}`}},l=_g(s);return l&&(r.mechanism.data.handler=yi(l)),To(s,r)})}),e.apply(this,t)}}function mM(e,t){var i,s;const a=(i=nt[e])==null?void 0:i.prototype;(s=a==null?void 0:a.hasOwnProperty)!=null&&s.call(a,"addEventListener")&&(Rn(a,"addEventListener",function(r){return function(l,c,u){try{pM(c)&&(c.handleEvent=To(c.handleEvent,{mechanism:{data:{handler:yi(c),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&gM(this,l,c),r.apply(this,[l,To(c,{mechanism:{data:{handler:yi(c),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),u])}}),Rn(a,"removeEventListener",function(r){return function(l,c,u){try{const m=c.__sentry_wrapped__;m&&r.call(this,l,m,u)}catch{}return r.call(this,l,c,u)}}))}function pM(e){return typeof e.handleEvent=="function"}function gM(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const bM=()=>({name:"BrowserSession",setupOnce(){if(typeof nt.document>"u"){ha&&me.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Bx({ignoreDuration:!0}),Px(),sf(({from:e,to:t})=>{e!==void 0&&e!==t&&(Bx({ignoreDuration:!0}),Px())})}}),xM="GlobalHandlers",yM=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:xM,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(SM(n),ly("onerror")),t.onunhandledrejection&&(_M(n),ly("onunhandledrejection"))}}},vM=yM;function SM(e){kw(t=>{const{stackParser:n,attachStacktrace:a}=iE();if(Xe()!==e||D1())return;const{msg:i,url:s,line:r,column:l,error:c}=t,u=NM(Hg(n,c||i,void 0,a,!1),s,r,l);u.level="error",o1(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function _M(e){Tw(t=>{const{stackParser:n,attachStacktrace:a}=iE();if(Xe()!==e||D1())return;const i=wM(t),s=_o(i)?EM(i):Hg(n,i,void 0,a,!0);s.level="error",o1(s,{originalException:i,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function wM(e){if(_o(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function EM(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function NM(e,t,n,a){const i=e.exception=e.exception||{},s=i.values=i.values||[],r=s[0]=s[0]||{},l=r.stacktrace=r.stacktrace||{},c=l.frames=l.frames||[],u=a,m=n,d=kM(t)??Ho();return c.length===0&&c.push({colno:u,filename:d,function:ar,in_app:!0,lineno:m}),e}function ly(e){ha&&me.log(`Global Handler attached: ${e}`)}function iE(){const e=Xe();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function kM(e){if(!(!ui(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",a=e.includes("base64,");return`<data:${n}${a?",base64":""}>`}return e}}const TM=()=>({name:"HttpContext",preprocessEvent(e){var a;if(!nt.navigator&&!nt.location&&!nt.document)return;const t=Ug(),n={...t.headers,...(a=e.request)==null?void 0:a.headers};e.request={...t,...e.request,headers:n}}}),jM="cause",AM=5,CM="LinkedErrors",RM=(e={})=>{const t=e.limit||AM,n=e.key||jM;return{name:CM,preprocessEvent(a,i,s){const r=s.getOptions();MC(Bg,r.stackParser,n,t,a,i)}}},DM=RM;function MM(){return OM()?(ha&&hr(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function OM(){var s;if(typeof nt.window>"u")return!1;const e=nt;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((s=t==null?void 0:t.runtime)!=null&&s.id))return!1;const n=Ho(),a=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(nt===nt.top&&a.some(r=>n.startsWith(`${r}://`)))}function IM(e){return[NC(),SC(),dM(),eM(),vM(),DM(),UC(),TM(),bM()]}function zM(e={}){const t=!e.skipBrowserExtensionCheck&&MM();let n=e.defaultIntegrations==null?IM():e.defaultIntegrations;const a={...e,enabled:t?!1:e.enabled,stackParser:Cj(e.stackParser||ZD),integrations:BA({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||LD};return rC(yR,a)}const gt=Je,Kg="sentryReplaySession",LM="replay_event",Wg="Unable to send Replay",UM=3e5,BM=9e5,PM=5e3,HM=5500,FM=6e4,GM=5e3,qM=3,cy=15e4,ru=5e3,YM=3e3,VM=300,Xg=2e7,$M=4999,KM=5e4,uy=36e5;var WM=Object.defineProperty,XM=(e,t,n)=>t in e?WM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dy=(e,t,n)=>XM(e,typeof t!="symbol"?t+"":t,n),Bt=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Bt||{});function ZM(e){return e.nodeType===e.ELEMENT_NODE}function Nl(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function kl(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function QM(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function JM(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function wd(e){try{const t=e.rules||e.cssRules;return t?QM(Array.from(t,sE).join("")):null}catch{return null}}function e5(e){let t="";for(let n=0;n<e.style.length;n++){const a=e.style,i=a[n],s=a.getPropertyPriority(i);t+=`${i}:${a.getPropertyValue(i)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}function sE(e){let t;if(n5(e))try{t=wd(e.styleSheet)||JM(e)}catch{}else if(a5(e)){let n=e.cssText;const a=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=e5(e)),a&&(n=t5(n)),a||i)return n}return t||e.cssText}function t5(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function n5(e){return"styleSheet"in e}function a5(e){return"selectorText"in e}class rE{constructor(){dy(this,"idNodeMap",new Map),dy(this,"nodeMetaMap",new WeakMap)}getId(t){var a;return t?((a=this.getMeta(t))==null?void 0:a.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(a=>this.removeNodeFromMap(a))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const a=n.id;this.idNodeMap.set(a,t),this.nodeMetaMap.set(t,n)}replace(t,n){const a=this.getNode(t);if(a){const i=this.nodeMetaMap.get(a);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function i5(){return new rE}function rf({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Kl({isMasked:e,element:t,value:n,maskInputFn:a}){let i=n||"";return e?(a&&(i=a(i,t)),"*".repeat(i.length)):i}function jo(e){return e.toLowerCase()}function Jm(e){return e.toUpperCase()}const fy="__rrweb_original__";function s5(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let a=0;a<e.width;a+=n)for(let i=0;i<e.height;i+=n){const s=t.getImageData,r=fy in s?s[fy]:s;if(new Uint32Array(r.call(t,a,i,Math.min(n,e.width-a),Math.min(n,e.height-i)).data.buffer).some(c=>c!==0))return!1}return!0}function Zg(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?jo(t):null}function Ed(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function oE(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const a=/\.([0-9a-z]+)(?:$)/i,i=n.pathname.match(a);return(i==null?void 0:i[1])??null}const hy={};function lE(e){const t=hy[e];if(t)return t;const n=window.document;let a=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(a=s[e]),n.head.removeChild(i)}catch{}return hy[e]=a.bind(window)}function ep(...e){return lE("setTimeout")(...e)}function cE(...e){return lE("clearTimeout")(...e)}function uE(e){try{return e.contentDocument}catch{}}let r5=1;const o5=new RegExp("[^a-z0-9-_:]"),Wl=-2;function Qg(){return r5++}function l5(e){if(e instanceof HTMLFormElement)return"form";const t=jo(e.tagName);return o5.test(t)?"div":t}function c5(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Er,my;const u5=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,d5=/^(?:[a-z+]+:)?\/\//i,f5=/^www\..*/i,h5=/^(data:)([^,]*),(.*)/i;function m5(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),a=[];for(let i of n){if(i=i.trim(),!i)continue;const s=i.indexOf(":");if(s===-1){a.push(i);continue}const r=i.slice(0,s).trim();t.has(r)||a.push(i)}return a.join("; ")+(a.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function Nd(e,t){return(e||"").replace(u5,(n,a,i,s,r,l)=>{const c=i||r||l,u=a||s||"";if(!c)return n;if(d5.test(c)||f5.test(c))return`url(${u}${c}${u})`;if(h5.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${c5(t)+c}${u})`;const m=t.split("/"),d=c.split("/");m.pop();for(const h of d)h!=="."&&(h===".."?m.pop():m.push(h));return`url(${u}${m.join("/")}${u})`})}const p5=/^[^ \t\n\r\u000c]+/,g5=/^[, \t\n\r\u000c]+/;function b5(e,t){if(t.trim()==="")return t;let n=0;function a(s){let r;const l=s.exec(t.substring(n));return l?(r=l[0],n+=r.length,r):""}const i=[];for(;a(g5),!(n>=t.length);){let s=a(p5);if(s.slice(-1)===",")s=Fr(e,s.substring(0,s.length-1)),i.push(s);else{let r="";s=Fr(e,s);let l=!1;for(;;){const c=t.charAt(n);if(c===""){i.push((s+r).trim());break}else if(l)c===")"&&(l=!1);else if(c===","){n+=1,i.push((s+r).trim());break}else c==="("&&(l=!0);r+=c,n+=1}}}return i.join(", ")}const py=new WeakMap;function Fr(e,t){return!t||t.trim()===""?t:of(e,t)}function x5(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function of(e,t){let n=py.get(e);if(n||(n=e.createElement("a"),py.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function dE(e,t,n,a,i,s,r){if(!a)return a;if(n==="src"||n==="href"&&!(t==="use"&&a[0]==="#"))return Fr(e,a);if(n==="xlink:href"&&a[0]!=="#")return Fr(e,a);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return Fr(e,a);if(n==="srcset")return b5(e,a);if(n==="style"){let l=Nd(a,of(e));return r&&r.size>0&&(l=m5(l,r)),l}else if(t==="object"&&n==="data")return Fr(e,a);return typeof s=="function"?s(n,a,i):a}function fE(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function y5(e,t,n,a){try{if(a&&e.matches(a))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const s=e.classList[i];if(t.test(s))return!0}if(n)return e.matches(n)}catch{}return!1}function v5(e,t){for(let n=e.classList.length;n--;){const a=e.classList[n];if(t.test(a))return!0}return!1}function Os(e,t,n=1/0,a=0){return!e||e.nodeType!==e.ELEMENT_NODE||a>n?-1:t(e)?a:Os(e.parentNode,t,n,a+1)}function Gr(e,t){return n=>{const a=n;if(a===null)return!1;try{if(e){if(typeof e=="string"){if(a.matches(`.${e}`))return!0}else if(v5(a,e))return!0}return!!(t&&a.matches(t))}catch{return!1}}}function Ao(e,t,n,a,i,s){try{const r=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(r===null)return!1;if(r.tagName==="INPUT"){const u=r.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let l=-1,c=-1;if(s){if(c=Os(r,Gr(a,i)),c<0)return!0;l=Os(r,Gr(t,n),c>=0?c:1/0)}else{if(l=Os(r,Gr(t,n)),l<0)return!1;c=Os(r,Gr(a,i),l>=0?l:1/0)}return l>=0?c>=0?l<=c:!0:c>=0?!1:!!s}catch{}return!!s}function S5(e,t,n){const a=e.contentWindow;if(!a)return;let i=!1,s;try{s=a.document.readyState}catch{return}if(s!=="complete"){const l=ep(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{cE(l),i=!0,t()});return}const r="about:blank";if(a.location.href!==r||e.src===r||e.src==="")return ep(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function _5(e,t,n){let a=!1,i;try{i=e.sheet}catch{return}if(i)return;const s=ep(()=>{a||(t(),a=!0)},n);e.addEventListener("load",()=>{cE(s),a=!0,t()})}function w5(e,t){const{doc:n,mirror:a,blockClass:i,blockSelector:s,unblockSelector:r,maskAllText:l,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:m,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:g={},maskTextFn:b,maskInputFn:y,dataURLOptions:p={},inlineImages:x,recordCanvas:_,keepIframeSrcFn:w,newlyAddedElement:E=!1,ignoreCSSAttributes:j}=t,N=E5(n,a);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Bt.Document,childNodes:[],compatMode:e.compatMode}:{type:Bt.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Bt.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:N};case e.ELEMENT_NODE:return k5(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:r,inlineStylesheet:f,maskAttributeFn:c,maskInputOptions:g,maskInputFn:y,dataURLOptions:p,inlineImages:x,recordCanvas:_,keepIframeSrcFn:w,newlyAddedElement:E,rootId:N,maskTextClass:u,unmaskTextClass:m,maskTextSelector:d,unmaskTextSelector:h,ignoreCSSAttributes:j});case e.TEXT_NODE:return N5(e,{doc:n,maskAllText:l,maskTextClass:u,unmaskTextClass:m,maskTextSelector:d,unmaskTextSelector:h,maskTextFn:b,maskInputOptions:g,maskInputFn:y,rootId:N});case e.CDATA_SECTION_NODE:return{type:Bt.CDATA,textContent:"",rootId:N};case e.COMMENT_NODE:return{type:Bt.Comment,textContent:e.textContent||"",rootId:N};default:return!1}}function E5(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function N5(e,t){var p;const{maskAllText:n,maskTextClass:a,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:r,maskTextFn:l,maskInputOptions:c,maskInputFn:u,rootId:m}=t,d=e.parentNode&&e.parentNode.tagName;let h=e.textContent;const f=d==="STYLE"?!0:void 0,g=d==="SCRIPT"?!0:void 0,b=d==="TEXTAREA"?!0:void 0;if(f&&h){try{e.nextSibling||e.previousSibling||(p=e.parentNode.sheet)!=null&&p.cssRules&&(h=wd(e.parentNode.sheet))}catch(x){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${x}`,e)}h=Nd(h,of(t.doc))}g&&(h="SCRIPT_PLACEHOLDER");const y=Ao(e,a,s,i,r,n);if(!f&&!g&&!b&&h&&y&&(h=l?l(h,e.parentElement):h.replace(/[\S]/g,"*")),b&&h&&(c.textarea||y)&&(h=u?u(h,e.parentNode):h.replace(/[\S]/g,"*")),d==="OPTION"&&h){const x=rf({type:null,tagName:d,maskInputOptions:c});h=Kl({isMasked:Ao(e,a,s,i,r,x),element:e,value:h,maskInputFn:u})}return{type:Bt.Text,textContent:h||"",isStyle:f,rootId:m}}function k5(e,t){const{doc:n,blockClass:a,blockSelector:i,unblockSelector:s,inlineStylesheet:r,maskInputOptions:l={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:m={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:f,newlyAddedElement:g=!1,rootId:b,maskTextClass:y,unmaskTextClass:p,maskTextSelector:x,unmaskTextSelector:_,ignoreCSSAttributes:w}=t,E=y5(e,a,i,s),j=l5(e);let N={};const D=e.attributes.length;for(let A=0;A<D;A++){const W=e.attributes[A];W.name&&!fE(j,W.name,W.value)&&(N[W.name]=dE(n,j,jo(W.name),W.value,e,c,w))}if(j==="link"&&r){const A=Array.from(n.styleSheets).find(T=>T.href===e.href);let W=null;A&&(W=wd(A)),W&&(N.rel=null,N.href=null,N.crossorigin=null,N._cssText=Nd(W,A.href))}if(j==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const A=wd(e.sheet);A&&(N._cssText=Nd(A,of(n)))}if(j==="input"||j==="textarea"||j==="select"||j==="option"){const A=e,W=Zg(A),T=Ed(A,Jm(j),W),I=A.checked;if(W!=="submit"&&W!=="button"&&T){const S=Ao(A,y,x,p,_,rf({type:W,tagName:Jm(j),maskInputOptions:l}));N.value=Kl({isMasked:S,element:A,value:T,maskInputFn:u})}I&&(N.checked=I)}if(j==="option"&&(e.selected&&!l.select?N.selected=!0:delete N.selected),j==="canvas"&&h){if(e.__context==="2d")s5(e)||(N.rr_dataURL=e.toDataURL(m.type,m.quality));else if(!("__context"in e)){const A=e.toDataURL(m.type,m.quality),W=n.createElement("canvas");W.width=e.width,W.height=e.height;const T=W.toDataURL(m.type,m.quality);A!==T&&(N.rr_dataURL=A)}}if(j==="img"&&d){Er||(Er=n.createElement("canvas"),my=Er.getContext("2d"));const A=e,W=A.currentSrc||A.getAttribute("src")||"<unknown-src>",T=A.crossOrigin,I=()=>{A.removeEventListener("load",I);try{Er.width=A.naturalWidth,Er.height=A.naturalHeight,my.drawImage(A,0,0),N.rr_dataURL=Er.toDataURL(m.type,m.quality)}catch(S){if(A.crossOrigin!=="anonymous"){A.crossOrigin="anonymous",A.complete&&A.naturalWidth!==0?I():A.addEventListener("load",I);return}else console.warn(`Cannot inline img src=${W}! Error: ${S}`)}A.crossOrigin==="anonymous"&&(T?N.crossOrigin=T:A.removeAttribute("crossorigin"))};A.complete&&A.naturalWidth!==0?I():A.addEventListener("load",I)}if((j==="audio"||j==="video")&&(N.rr_mediaState=e.paused?"paused":"played",N.rr_mediaCurrentTime=e.currentTime),g||(e.scrollLeft&&(N.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(N.rr_scrollTop=e.scrollTop)),E){const{width:A,height:W}=e.getBoundingClientRect();N={class:N.class,rr_width:`${A}px`,rr_height:`${W}px`}}j==="iframe"&&!f(N.src)&&(!E&&!uE(e)&&(N.rr_src=N.src),delete N.src);let z;try{customElements.get(j)&&(z=!0)}catch{}return{type:Bt.Element,tagName:j,attributes:N,childNodes:[],isSVG:x5(e)||void 0,needBlock:E,rootId:b,isCustom:z}}function pt(e){return e==null?"":e.toLowerCase()}function T5(e,t){if(t.comment&&e.type===Bt.Comment)return!0;if(e.type===Bt.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&oE(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(pt(e.attributes.name).match(/^msapplication-tile(image|color)$/)||pt(e.attributes.name)==="application-name"||pt(e.attributes.rel)==="icon"||pt(e.attributes.rel)==="apple-touch-icon"||pt(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&pt(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(pt(e.attributes.property).match(/^(og|twitter|fb):/)||pt(e.attributes.name).match(/^(og|twitter):/)||pt(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(pt(e.attributes.name)==="robots"||pt(e.attributes.name)==="googlebot"||pt(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(pt(e.attributes.name)==="author"||pt(e.attributes.name)==="generator"||pt(e.attributes.name)==="framework"||pt(e.attributes.name)==="publisher"||pt(e.attributes.name)==="progid"||pt(e.attributes.property).match(/^article:/)||pt(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(pt(e.attributes.name)==="google-site-verification"||pt(e.attributes.name)==="yandex-verification"||pt(e.attributes.name)==="csrf-token"||pt(e.attributes.name)==="p:domain_verify"||pt(e.attributes.name)==="verify-v1"||pt(e.attributes.name)==="verification"||pt(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function qr(e,t){const{doc:n,mirror:a,blockClass:i,blockSelector:s,unblockSelector:r,maskAllText:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:m,unmaskTextSelector:d,skipChild:h=!1,inlineStylesheet:f=!0,maskInputOptions:g={},maskAttributeFn:b,maskTextFn:y,maskInputFn:p,slimDOMOptions:x,dataURLOptions:_={},inlineImages:w=!1,recordCanvas:E=!1,onSerialize:j,onIframeLoad:N,iframeLoadTimeout:D=5e3,onBlockedImageLoad:z,onStylesheetLoad:A,stylesheetLoadTimeout:W=5e3,keepIframeSrcFn:T=()=>!1,newlyAddedElement:I=!1,ignoreCSSAttributes:S}=t;let{preserveWhiteSpace:R=!0}=t;const F=w5(e,{doc:n,mirror:a,blockClass:i,blockSelector:s,maskAllText:l,unblockSelector:r,maskTextClass:c,unmaskTextClass:u,maskTextSelector:m,unmaskTextSelector:d,inlineStylesheet:f,maskInputOptions:g,maskAttributeFn:b,maskTextFn:y,maskInputFn:p,dataURLOptions:_,inlineImages:w,recordCanvas:E,keepIframeSrcFn:T,newlyAddedElement:I,ignoreCSSAttributes:S});if(!F)return console.warn(e,"not serialized"),null;let q;a.hasNode(e)?q=a.getId(e):T5(F,x)||!R&&F.type===Bt.Text&&!F.isStyle&&!F.textContent.replace(/^\s+|\s+$/gm,"").length?q=Wl:q=Qg();const V=Object.assign(F,{id:q});if(a.add(e,V),q===Wl)return null;j&&j(e);let K=!h;if(V.type===Bt.Element){K=K&&!V.needBlock;const Z=e.shadowRoot;Z&&kl(Z)&&(V.isShadowHost=!0)}if((V.type===Bt.Document||V.type===Bt.Element)&&K){x.headWhitespace&&V.type===Bt.Element&&V.tagName==="head"&&(R=!1);const Z={doc:n,mirror:a,blockClass:i,blockSelector:s,maskAllText:l,unblockSelector:r,maskTextClass:c,unmaskTextClass:u,maskTextSelector:m,unmaskTextSelector:d,skipChild:h,inlineStylesheet:f,maskInputOptions:g,maskAttributeFn:b,maskTextFn:y,maskInputFn:p,slimDOMOptions:x,dataURLOptions:_,inlineImages:w,recordCanvas:E,preserveWhiteSpace:R,onSerialize:j,onIframeLoad:N,iframeLoadTimeout:D,onBlockedImageLoad:z,onStylesheetLoad:A,stylesheetLoadTimeout:W,keepIframeSrcFn:T,ignoreCSSAttributes:S},O=e.childNodes?Array.from(e.childNodes):[];for(const L of O){const ce=qr(L,Z);ce&&V.childNodes.push(ce)}if(ZM(e)&&e.shadowRoot)for(const L of Array.from(e.shadowRoot.childNodes)){const ce=qr(L,Z);ce&&(kl(e.shadowRoot)&&(ce.isShadow=!0),V.childNodes.push(ce))}}if(e.parentNode&&Nl(e.parentNode)&&kl(e.parentNode)&&(V.isShadow=!0),V.type===Bt.Element&&V.tagName==="iframe"&&!V.needBlock&&S5(e,()=>{const Z=uE(e);if(Z&&N){const O=qr(Z,{doc:Z,mirror:a,blockClass:i,blockSelector:s,unblockSelector:r,maskAllText:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:m,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:g,maskAttributeFn:b,maskTextFn:y,maskInputFn:p,slimDOMOptions:x,dataURLOptions:_,inlineImages:w,recordCanvas:E,preserveWhiteSpace:R,onSerialize:j,onIframeLoad:N,iframeLoadTimeout:D,onStylesheetLoad:A,stylesheetLoadTimeout:W,keepIframeSrcFn:T,ignoreCSSAttributes:S});O&&N(e,O)}},D),V.type===Bt.Element&&V.tagName==="img"&&!e.complete&&V.needBlock){const Z=e,O=()=>{if(Z.isConnected&&!Z.complete&&z)try{const L=Z.getBoundingClientRect();L.width>0&&L.height>0&&z(Z,V,L)}catch{}Z.removeEventListener("load",O)};Z.isConnected&&Z.addEventListener("load",O)}return V.type===Bt.Element&&V.tagName==="link"&&typeof V.attributes.rel=="string"&&(V.attributes.rel==="stylesheet"||V.attributes.rel==="preload"&&typeof V.attributes.href=="string"&&oE(V.attributes.href)==="css")&&_5(e,()=>{if(A){const Z=qr(e,{doc:n,mirror:a,blockClass:i,blockSelector:s,unblockSelector:r,maskAllText:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:m,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:g,maskAttributeFn:b,maskTextFn:y,maskInputFn:p,slimDOMOptions:x,dataURLOptions:_,inlineImages:w,recordCanvas:E,preserveWhiteSpace:R,onSerialize:j,onIframeLoad:N,iframeLoadTimeout:D,onStylesheetLoad:A,stylesheetLoadTimeout:W,keepIframeSrcFn:T,ignoreCSSAttributes:S});Z&&A(e,Z)}},W),V.type===Bt.Element&&delete V.needBlock,V}function j5(e,t){const{mirror:n=new rE,blockClass:a="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:r=!1,maskTextClass:l="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:m=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:f=!1,maskAllInputs:g=!1,maskAttributeFn:b,maskTextFn:y,maskInputFn:p,slimDOM:x=!1,dataURLOptions:_,preserveWhiteSpace:w,onSerialize:E,onIframeLoad:j,iframeLoadTimeout:N,onBlockedImageLoad:D,onStylesheetLoad:z,stylesheetLoadTimeout:A,keepIframeSrcFn:W=()=>!1,ignoreCSSAttributes:T=new Set([])}=t||{};return qr(e,{doc:e,mirror:n,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:r,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:m,skipChild:!1,inlineStylesheet:d,maskInputOptions:g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:g===!1?{}:g,maskAttributeFn:b,maskTextFn:y,maskInputFn:p,slimDOMOptions:x===!0||x==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:x==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:x===!1?{}:x,dataURLOptions:_,inlineImages:h,recordCanvas:f,preserveWhiteSpace:w,onSerialize:E,onIframeLoad:j,iframeLoadTimeout:N,onBlockedImageLoad:D,onStylesheetLoad:z,stylesheetLoadTimeout:A,keepIframeSrcFn:W,newlyAddedElement:!1,ignoreCSSAttributes:T})}function Sn(e,t,n=document){const a={capture:!0,passive:!0};return n.addEventListener(e,t,a),()=>n.removeEventListener(e,t,a)}const Tr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let gy={map:{},getId(){return console.error(Tr),-1},getNode(){return console.error(Tr),null},removeNodeFromMap(){console.error(Tr)},has(){return console.error(Tr),!1},reset(){console.error(Tr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(gy=new Proxy(gy,{get(e,t,n){return t==="map"&&console.error(Tr),Reflect.get(e,t,n)}}));function Xl(e,t,n={}){let a=null,i=0;return function(...s){const r=Date.now();!i&&n.leading===!1&&(i=r);const l=t-(r-i),c=this;l<=0||l>t?(a&&(I5(a),a=null),i=r,e.apply(c,s)):!a&&n.trailing!==!1&&(a=lf(()=>{i=n.leading===!1?0:Date.now(),a=null,e.apply(c,s)},l))}}function hE(e,t,n,a,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,a?n:{set(r){lf(()=>{n.set.call(this,r)},0),s&&s.set&&s.set.call(this,r)}}),()=>hE(e,t,s||{},!0)}function Jg(e,t,n){try{if(!(t in e))return()=>{};const a=e[t],i=n(a);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:a}})),e[t]=i,()=>{e[t]=a}}catch{return()=>{}}}let kd=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(kd=()=>new Date().getTime());function mE(e){var n,a,i,s,r,l;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((a=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:a.scrollLeft)||((i=t==null?void 0:t.body)==null?void 0:i.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((r=(s=t==null?void 0:t.body)==null?void 0:s.parentElement)==null?void 0:r.scrollTop)||((l=t==null?void 0:t.body)==null?void 0:l.scrollTop)||0}}function pE(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function gE(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function bE(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Bn(e,t,n,a,i){if(!e)return!1;const s=bE(e);if(!s)return!1;const r=Gr(t,n);if(!i){const u=a&&s.matches(a);return r(s)&&!u}const l=Os(s,r);let c=-1;return l<0?!1:(a&&(c=Os(s,Gr(null,a))),l>-1&&c<0?!0:l<c)}function A5(e,t){return t.getId(e)!==-1}function yh(e,t){return t.getId(e)===Wl}function xE(e,t){if(Nl(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?xE(e.parentNode,t):!0:!0}function tp(e){return!!e.changedTouches}function C5(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function yE(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function vE(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function np(e){return!!(e!=null&&e.shadowRoot)}class R5{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let a;return n===void 0?a=this.id++:a=n,this.styleIDMap.set(t,a),this.idStyleMap.set(a,t),a}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function SE(e){var n,a;let t=null;return((a=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:a.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function D5(e){let t=e,n;for(;n=SE(t);)t=n;return t}function M5(e){const t=e.ownerDocument;if(!t)return!1;const n=D5(e);return t.contains(n)}function _E(e){const t=e.ownerDocument;return t?t.contains(e)||M5(e):!1}const by={};function e0(e){const t=by[e];if(t)return t;const n=window.document;let a=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(a=s[e]),n.head.removeChild(i)}catch{}return by[e]=a.bind(window)}function O5(...e){return e0("requestAnimationFrame")(...e)}function lf(...e){return e0("setTimeout")(...e)}function I5(...e){return e0("clearTimeout")(...e)}var Be=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Be||{}),De=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(De||{}),bn=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(bn||{}),Ja=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ja||{}),jr=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(jr||{});function t0(e){try{return e.contentDocument}catch{}}function z5(e){try{return e.contentWindow}catch{}}function xy(e){return"__ln"in e}class L5{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let a=0;a<t;a++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&xy(t.previousSibling)){const a=t.previousSibling.__ln.next;n.next=a,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,a&&(a.previous=n)}else if(t.nextSibling&&xy(t.nextSibling)&&t.nextSibling.__ln.previous){const a=t.nextSibling.__ln.previous;n.previous=a,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,a&&(a.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const yy=(e,t)=>`${e}@${t}`;class U5{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,a=new L5,i=c=>{let u=c,m=Wl;for(;m===Wl;)u=u&&u.nextSibling,m=u&&this.mirror.getId(u);return m},s=c=>{if(!c.parentNode||!_E(c))return;const u=Nl(c.parentNode)?this.mirror.getId(SE(c)):this.mirror.getId(c.parentNode),m=i(c);if(u===-1||m===-1)return a.addNode(c);const d=qr(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:h=>{yE(h,this.mirror)&&!Bn(h,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(h),vE(h,this.mirror)&&this.stylesheetManager.trackLinkElement(h),np(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(h,f)=>{Bn(h,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(h,f),h.contentWindow&&this.canvasManager.addWindow(h.contentWindow),this.shadowDomManager.observeAttachShadow(h))},onStylesheetLoad:(h,f)=>{this.stylesheetManager.attachLinkElement(h,f)},onBlockedImageLoad:(h,f,{width:g,height:b})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:f.id,attributes:{style:{width:`${g}px`,height:`${b}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});d&&(t.push({parentId:u,nextId:m,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)vy(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||s(c);for(const c of this.addedSet)!Sy(this.droppedSet,c)&&!vy(this.removes,c,this.mirror)||Sy(this.movedSet,c)?s(c):this.droppedSet.add(c);let r=null;for(;a.length;){let c=null;if(r){const u=this.mirror.getId(r.value.parentNode),m=i(r.value);u!==-1&&m!==-1&&(c=r)}if(!c){let u=a.tail;for(;u;){const m=u;if(u=u.previous,m){const d=this.mirror.getId(m.value.parentNode);if(i(m.value)===-1)continue;if(d!==-1){c=m;break}else{const f=m.value;if(f.parentNode&&f.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const g=f.parentNode.host;if(this.mirror.getId(g)!==-1){c=m;break}}}}}}if(!c){for(;a.head;)a.removeNode(a.head.value);break}r=c.previous,a.removeNode(c.value),s(c.value)}const l={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const m=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);m.length<u.style.length&&(m+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!l.texts.length&&!l.attributes.length&&!l.removes.length&&!l.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(l))},this.processMutation=t=>{if(!yh(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Bn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Ao(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,bE(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let a=t.attributeName,i=t.target.getAttribute(a);if(a==="value"){const r=Zg(n),l=n.tagName;i=Ed(n,l,r);const c=rf({maskInputOptions:this.maskInputOptions,tagName:l,type:r}),u=Ao(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);i=Kl({isMasked:u,element:n,value:i,maskInputFn:this.maskInputFn})}if(Bn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let s=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&a==="src"&&!this.keepIframeSrcFn(i))if(!t0(n))a="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),a==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!fE(n.tagName,a)&&(s.attributes[a]=dE(this.doc,jo(n.tagName),jo(a),i,n,this.maskAttributeFn),a==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const r=this.unattachedDoc.createElement("span");t.oldValue&&r.setAttribute("style",t.oldValue);for(const l of Array.from(n.style)){const c=n.style.getPropertyValue(l),u=n.style.getPropertyPriority(l);c!==r.style.getPropertyValue(l)||u!==r.style.getPropertyPriority(l)?u===""?s.styleDiff[l]=c:s.styleDiff[l]=[c,u]:s._unchangedStyles[l]=[c,u]}for(const l of Array.from(r.style))n.style.getPropertyValue(l)===""&&(s.styleDiff[l]=!1)}break}case"childList":{if(Bn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const a=this.mirror.getId(n),i=Nl(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Bn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||yh(n,this.mirror)||!A5(n,this.mirror)||(this.addedSet.has(n)?(ap(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&a===-1||xE(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[yy(a,i)]?ap(this.movedSet,n):this.removes.push({parentId:i,id:a,isShadow:Nl(t.target)&&kl(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(yh(t,this.mirror))return;this.movedSet.add(t);let a=null;n&&this.mirror.hasNode(n)&&(a=this.mirror.getId(n)),a&&a!==-1&&(this.movedMap[yy(this.mirror.getId(t),a)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Bn(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(a=>this.genAdds(a)),np(t)&&t.shadowRoot.childNodes.forEach(a=>{this.processedNodeManager.add(a,this),this.genAdds(a,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ap(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(a=>ap(e,a))}function vy(e,t,n){return e.length===0?!1:B5(e,t,n)}function B5(e,t,n){let a=t.parentNode;for(;a;){const i=n.getId(a);if(e.some(s=>s.id===i))return!0;a=a.parentNode}return!1}function Sy(e,t){return e.size===0?!1:wE(e,t)}function wE(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:wE(e,n):!1}let Tl;function P5(e){Tl=e}function H5(){Tl=void 0}const Qe=e=>Tl?(...n)=>{try{return e(...n)}catch(a){if(Tl&&Tl(a)===!0)return()=>{};throw a}}:e,Yr=[];function kc(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function EE(e,t){var r,l;const n=new U5;Yr.push(n),n.init(e);let a=window.MutationObserver||window.__rrMutationObserver;const i=(l=(r=window==null?void 0:window.Zone)==null?void 0:r.__symbol__)==null?void 0:l.call(r,"MutationObserver");i&&window[i]&&(a=window[i]);const s=new a(Qe(c=>{e.onMutation&&e.onMutation(c)===!1||n.processMutations.bind(n)(c)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function F5({mousemoveCb:e,sampling:t,doc:n,mirror:a}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let r=[],l;const c=Xl(Qe(d=>{const h=Date.now()-l;e(r.map(f=>(f.timeOffset-=h,f)),d),r=[],l=null}),s),u=Qe(Xl(Qe(d=>{const h=kc(d),{clientX:f,clientY:g}=tp(d)?d.changedTouches[0]:d;l||(l=kd()),r.push({x:f,y:g,id:a.getId(h),timeOffset:kd()-l}),c(typeof DragEvent<"u"&&d instanceof DragEvent?De.Drag:d instanceof MouseEvent?De.MouseMove:De.TouchMove)}),i,{trailing:!1})),m=[Sn("mousemove",u,n),Sn("touchmove",u,n),Sn("drag",u,n)];return Qe(()=>{m.forEach(d=>d())})}function G5({mouseInteractionCb:e,doc:t,mirror:n,blockClass:a,blockSelector:i,unblockSelector:s,sampling:r}){if(r.mouseInteraction===!1)return()=>{};const l=r.mouseInteraction===!0||r.mouseInteraction===void 0?{}:r.mouseInteraction,c=[];let u=null;const m=d=>h=>{const f=kc(h);if(Bn(f,a,i,s,!0))return;let g=null,b=d;if("pointerType"in h){switch(h.pointerType){case"mouse":g=Ja.Mouse;break;case"touch":g=Ja.Touch;break;case"pen":g=Ja.Pen;break}g===Ja.Touch?bn[d]===bn.MouseDown?b="TouchStart":bn[d]===bn.MouseUp&&(b="TouchEnd"):Ja.Pen}else tp(h)&&(g=Ja.Touch);g!==null?(u=g,(b.startsWith("Touch")&&g===Ja.Touch||b.startsWith("Mouse")&&g===Ja.Mouse)&&(g=null)):bn[d]===bn.Click&&(g=u,u=null);const y=tp(h)?h.changedTouches[0]:h;if(!y)return;const p=n.getId(f),{clientX:x,clientY:_}=y;Qe(e)({type:bn[b],id:p,x,y:_,...g!==null&&{pointerType:g}})};return Object.keys(bn).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&l[d]!==!1).forEach(d=>{let h=jo(d);const f=m(d);if(window.PointerEvent)switch(bn[d]){case bn.MouseDown:case bn.MouseUp:h=h.replace("mouse","pointer");break;case bn.TouchStart:case bn.TouchEnd:return}c.push(Sn(h,f,t))}),Qe(()=>{c.forEach(d=>d())})}function NE({scrollCb:e,doc:t,mirror:n,blockClass:a,blockSelector:i,unblockSelector:s,sampling:r}){const l=Qe(Xl(Qe(c=>{const u=kc(c);if(!u||Bn(u,a,i,s,!0))return;const m=n.getId(u);if(u===t&&t.defaultView){const d=mE(t.defaultView);e({id:m,x:d.left,y:d.top})}else e({id:m,x:u.scrollLeft,y:u.scrollTop})}),r.scroll||100));return Sn("scroll",l,t)}function q5({viewportResizeCb:e},{win:t}){let n=-1,a=-1;const i=Qe(Xl(Qe(()=>{const s=pE(),r=gE();(n!==s||a!==r)&&(e({width:Number(r),height:Number(s)}),n=s,a=r)}),200));return Sn("resize",i,t)}const Y5=["INPUT","TEXTAREA","SELECT"],_y=new WeakMap;function V5({inputCb:e,doc:t,mirror:n,blockClass:a,blockSelector:i,unblockSelector:s,ignoreClass:r,ignoreSelector:l,maskInputOptions:c,maskInputFn:u,sampling:m,userTriggeredOnInput:d,maskTextClass:h,unmaskTextClass:f,maskTextSelector:g,unmaskTextSelector:b}){function y(N){let D=kc(N);const z=N.isTrusted,A=D&&Jm(D.tagName);if(A==="OPTION"&&(D=D.parentElement),!D||!A||Y5.indexOf(A)<0||Bn(D,a,i,s,!0))return;const W=D;if(W.classList.contains(r)||l&&W.matches(l))return;const T=Zg(D);let I=Ed(W,A,T),S=!1;const R=rf({maskInputOptions:c,tagName:A,type:T}),F=Ao(D,h,g,f,b,R);(T==="radio"||T==="checkbox")&&(S=D.checked),I=Kl({isMasked:F,element:D,value:I,maskInputFn:u}),p(D,d?{text:I,isChecked:S,userTriggered:z}:{text:I,isChecked:S});const q=D.name;T==="radio"&&q&&S&&t.querySelectorAll(`input[type="radio"][name="${q}"]`).forEach(V=>{if(V!==D){const K=Kl({isMasked:F,element:V,value:Ed(V,A,T),maskInputFn:u});p(V,d?{text:K,isChecked:!S,userTriggered:!1}:{text:K,isChecked:!S})}})}function p(N,D){const z=_y.get(N);if(!z||z.text!==D.text||z.isChecked!==D.isChecked){_y.set(N,D);const A=n.getId(N);Qe(e)({...D,id:A})}}const _=(m.input==="last"?["change"]:["input","change"]).map(N=>Sn(N,Qe(y),t)),w=t.defaultView;if(!w)return()=>{_.forEach(N=>N())};const E=w.Object.getOwnPropertyDescriptor(w.HTMLInputElement.prototype,"value"),j=[[w.HTMLInputElement.prototype,"value"],[w.HTMLInputElement.prototype,"checked"],[w.HTMLSelectElement.prototype,"value"],[w.HTMLTextAreaElement.prototype,"value"],[w.HTMLSelectElement.prototype,"selectedIndex"],[w.HTMLOptionElement.prototype,"selected"]];return E&&E.set&&_.push(...j.map(N=>hE(N[0],N[1],{set(){Qe(y)({target:this,isTrusted:!1})}},!1,w))),Qe(()=>{_.forEach(N=>N())})}function Td(e){const t=[];function n(a,i){if(ou("CSSGroupingRule")&&a.parentRule instanceof CSSGroupingRule||ou("CSSMediaRule")&&a.parentRule instanceof CSSMediaRule||ou("CSSSupportsRule")&&a.parentRule instanceof CSSSupportsRule||ou("CSSConditionRule")&&a.parentRule instanceof CSSConditionRule){const r=Array.from(a.parentRule.cssRules).indexOf(a);i.unshift(r)}else if(a.parentStyleSheet){const r=Array.from(a.parentStyleSheet.cssRules).indexOf(a);i.unshift(r)}return i}return n(e,t)}function Oi(e,t,n){let a,i;return e?(e.ownerNode?a=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:a}):{}}function $5({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:a}){if(!a.CSSStyleSheet||!a.CSSStyleSheet.prototype)return()=>{};const i=a.CSSStyleSheet.prototype.insertRule;a.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Qe((m,d,h)=>{const[f,g]=h,{id:b,styleId:y}=Oi(d,t,n.styleMirror);return(b&&b!==-1||y&&y!==-1)&&e({id:b,styleId:y,adds:[{rule:f,index:g}]}),m.apply(d,h)})});const s=a.CSSStyleSheet.prototype.deleteRule;a.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:Qe((m,d,h)=>{const[f]=h,{id:g,styleId:b}=Oi(d,t,n.styleMirror);return(g&&g!==-1||b&&b!==-1)&&e({id:g,styleId:b,removes:[{index:f}]}),m.apply(d,h)})});let r;a.CSSStyleSheet.prototype.replace&&(r=a.CSSStyleSheet.prototype.replace,a.CSSStyleSheet.prototype.replace=new Proxy(r,{apply:Qe((m,d,h)=>{const[f]=h,{id:g,styleId:b}=Oi(d,t,n.styleMirror);return(g&&g!==-1||b&&b!==-1)&&e({id:g,styleId:b,replace:f}),m.apply(d,h)})}));let l;a.CSSStyleSheet.prototype.replaceSync&&(l=a.CSSStyleSheet.prototype.replaceSync,a.CSSStyleSheet.prototype.replaceSync=new Proxy(l,{apply:Qe((m,d,h)=>{const[f]=h,{id:g,styleId:b}=Oi(d,t,n.styleMirror);return(g&&g!==-1||b&&b!==-1)&&e({id:g,styleId:b,replaceSync:f}),m.apply(d,h)})}));const c={};lu("CSSGroupingRule")?c.CSSGroupingRule=a.CSSGroupingRule:(lu("CSSMediaRule")&&(c.CSSMediaRule=a.CSSMediaRule),lu("CSSConditionRule")&&(c.CSSConditionRule=a.CSSConditionRule),lu("CSSSupportsRule")&&(c.CSSSupportsRule=a.CSSSupportsRule));const u={};return Object.entries(c).forEach(([m,d])=>{u[m]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[m].insertRule,{apply:Qe((h,f,g)=>{const[b,y]=g,{id:p,styleId:x}=Oi(f.parentStyleSheet,t,n.styleMirror);return(p&&p!==-1||x&&x!==-1)&&e({id:p,styleId:x,adds:[{rule:b,index:[...Td(f),y||0]}]}),h.apply(f,g)})}),d.prototype.deleteRule=new Proxy(u[m].deleteRule,{apply:Qe((h,f,g)=>{const[b]=g,{id:y,styleId:p}=Oi(f.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||p&&p!==-1)&&e({id:y,styleId:p,removes:[{index:[...Td(f),b]}]}),h.apply(f,g)})})}),Qe(()=>{a.CSSStyleSheet.prototype.insertRule=i,a.CSSStyleSheet.prototype.deleteRule=s,r&&(a.CSSStyleSheet.prototype.replace=r),l&&(a.CSSStyleSheet.prototype.replaceSync=l),Object.entries(c).forEach(([m,d])=>{d.prototype.insertRule=u[m].insertRule,d.prototype.deleteRule=u[m].deleteRule})})}function kE({mirror:e,stylesheetManager:t},n){var r,l,c;let a=null;n.nodeName==="#document"?a=e.getId(n):a=e.getId(n.host);const i=n.nodeName==="#document"?(r=n.defaultView)==null?void 0:r.Document:(c=(l=n.ownerDocument)==null?void 0:l.defaultView)==null?void 0:c.ShadowRoot,s=i!=null&&i.prototype?Object.getOwnPropertyDescriptor(i==null?void 0:i.prototype,"adoptedStyleSheets"):void 0;return a===null||a===-1||!i||!s?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){var u;return(u=s.get)==null?void 0:u.call(this)},set(u){var d;const m=(d=s.set)==null?void 0:d.call(this,u);if(a!==null&&a!==-1)try{t.adoptStyleSheets(u,a)}catch{}return m}}),Qe(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function K5({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:a},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:Qe((l,c,u)=>{var b;const[m,d,h]=u;if(n.has(m))return s.apply(c,[m,d,h]);const{id:f,styleId:g}=Oi((b=c.parentRule)==null?void 0:b.parentStyleSheet,t,a.styleMirror);return(f&&f!==-1||g&&g!==-1)&&e({id:f,styleId:g,set:{property:m,value:d,priority:h},index:Td(c.parentRule)}),l.apply(c,u)})});const r=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(r,{apply:Qe((l,c,u)=>{var f;const[m]=u;if(n.has(m))return r.apply(c,[m]);const{id:d,styleId:h}=Oi((f=c.parentRule)==null?void 0:f.parentStyleSheet,t,a.styleMirror);return(d&&d!==-1||h&&h!==-1)&&e({id:d,styleId:h,remove:{property:m},index:Td(c.parentRule)}),l.apply(c,u)})}),Qe(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=r})}function W5({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:a,mirror:i,sampling:s,doc:r}){const l=Qe(u=>Xl(Qe(m=>{const d=kc(m);if(!d||Bn(d,t,n,a,!0))return;const{currentTime:h,volume:f,muted:g,playbackRate:b}=d;e({type:u,id:i.getId(d),currentTime:h,volume:f,muted:g,playbackRate:b})}),s.media||500)),c=[Sn("play",l(jr.Play),r),Sn("pause",l(jr.Pause),r),Sn("seeked",l(jr.Seeked),r),Sn("volumechange",l(jr.VolumeChange),r),Sn("ratechange",l(jr.RateChange),r)];return Qe(()=>{c.forEach(u=>u())})}function X5({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const a=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(c,u,m){const d=new s(c,u,m);return i.set(d,{family:c,buffer:typeof u!="string",descriptors:m,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const r=Jg(t.fonts,"add",function(l){return function(c){return lf(Qe(()=>{const u=i.get(c);u&&(e(u),i.delete(c))}),0),l.apply(this,[c])}});return a.push(()=>{n.FontFace=s}),a.push(r),Qe(()=>{a.forEach(l=>l())})}function Z5(e){const{doc:t,mirror:n,blockClass:a,blockSelector:i,unblockSelector:s,selectionCb:r}=e;let l=!0;const c=Qe(()=>{const u=t.getSelection();if(!u||l&&(u!=null&&u.isCollapsed))return;l=u.isCollapsed||!1;const m=[],d=u.rangeCount||0;for(let h=0;h<d;h++){const f=u.getRangeAt(h),{startContainer:g,startOffset:b,endContainer:y,endOffset:p}=f;Bn(g,a,i,s,!0)||Bn(y,a,i,s,!0)||m.push({start:n.getId(g),startOffset:b,end:n.getId(y),endOffset:p})}r({ranges:m})});return c(),Sn("selectionchange",c)}function Q5({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Jg(n.customElements,"define",function(i){return function(s,r,l){try{t({define:{name:s}})}catch{}return i.apply(this,[s,r,l])}})}function J5(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let a;e.recordDOM&&(a=EE(e,e.doc));const i=F5(e),s=G5(e),r=NE(e),l=q5(e,{win:n}),c=V5(e),u=W5(e);let m=()=>{},d=()=>{},h=()=>{},f=()=>{};e.recordDOM&&(m=$5(e,{win:n}),d=kE(e,e.doc),h=K5(e,{win:n}),e.collectFonts&&(f=X5(e)));const g=Z5(e),b=Q5(e),y=[];for(const p of e.plugins)y.push(p.observer(p.callback,n,p.options));return Qe(()=>{Yr.forEach(p=>p.reset()),a==null||a.disconnect(),i(),s(),r(),l(),c(),u(),m(),d(),h(),f(),g(),b(),y.forEach(p=>p())})}function ou(e){return typeof window[e]<"u"}function lu(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class ip{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,a,i){const s=a||this.getIdToRemoteIdMap(t),r=i||this.getRemoteIdToIdMap(t);let l=s.get(n);return l||(l=this.generateIdFn(),s.set(n,l),r.set(l,n)),l}getIds(t,n){const a=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,a,i))}getRemoteId(t,n,a){const i=a||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const s=i.get(n);return s||-1}getRemoteIds(t,n){const a=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,a))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class e3{constructor(){this.crossOriginIframeMirror=new ip(Qg),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class t3{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ip(Qg),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ip(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var i,s;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((i=t.contentWindow)==null||i.addEventListener("message",this.handleMessage.bind(this))),(s=this.loadListener)==null||s.call(this,t);const a=t0(t);a&&a.adoptedStyleSheets&&a.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(a.adoptedStyleSheets,this.mirror.getId(a))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const s=this.transformCrossOriginEvent(i,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){var a;switch(n.type){case Be.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const i=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,i),this.patchRootIdOnNode(n.data.node,i),{timestamp:n.timestamp,type:Be.IncrementalSnapshot,data:{source:De.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Be.Meta:case Be.Load:case Be.DomContentLoaded:return!1;case Be.Plugin:return n;case Be.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Be.IncrementalSnapshot:switch(n.data.source){case De.Mutation:return n.data.adds.forEach(i=>{this.replaceIds(i,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(i.node,s)}),n.data.removes.forEach(i=>{this.replaceIds(i,t,["parentId","id"])}),n.data.attributes.forEach(i=>{this.replaceIds(i,t,["id"])}),n.data.texts.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case De.Drag:case De.TouchMove:case De.MouseMove:return n.data.positions.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case De.ViewportResize:return!1;case De.MediaInteraction:case De.MouseInteraction:case De.Scroll:case De.CanvasMutation:case De.Input:return this.replaceIds(n.data,t,["id"]),n;case De.StyleSheetRule:case De.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case De.Font:return n;case De.Selection:return n.data.ranges.forEach(i=>{this.replaceIds(i,t,["start","end"])}),n;case De.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(a=n.data.styles)==null||a.forEach(i=>{this.replaceStyleIds(i,t,["styleId"])}),n}}return!1}replace(t,n,a,i){for(const s of i)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(a,n[s]):n[s]=t.getId(a,n[s]));return n}replaceIds(t,n,a){return this.replace(this.crossOriginIframeMirror,t,n,a)}replaceStyleIds(t,n,a){return this.replace(this.crossOriginIframeStyleMirror,t,n,a)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(a=>{this.replaceIdOnNode(a,n)})}patchRootIdOnNode(t,n){t.type!==Bt.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(a=>{this.patchRootIdOnNode(a,n)})}}class n3{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class a3{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!kl(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const a=EE({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>a.disconnect()),this.restoreHandlers.push(NE({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),lf(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(kE({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=t0(t),a=z5(t);!n||!a||this.patchAttachShadow(a.Element,n)}patchAttachShadow(t,n){const a=this;this.restoreHandlers.push(Jg(t.prototype,"attachShadow",function(i){return function(s){const r=i.call(this,s);return this.shadowRoot&&_E(this)&&a.addShadowRoot(this.shadowRoot,n),r}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var wy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var cu=0;cu<wy.length;cu++)i3[wy.charCodeAt(cu)]=cu;class Ey{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class s3{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new R5,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const a={id:n,styleIds:[]},i=[];for(const s of t){let r;this.styleMirror.has(s)?r=this.styleMirror.getId(s):(r=this.styleMirror.add(s),i.push({styleId:r,rules:Array.from(s.rules||CSSRule,(l,c)=>({rule:sE(l),index:c}))})),a.styleIds.push(r)}i.length>0&&(a.styles=i),this.adoptedStyleSheetCb(a)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class r3{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const a=this.nodeMap.get(t);return a&&Array.from(a).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,O5(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let Ct,jd;var av;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((av=e.contentWindow)==null?void 0:av.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const pa=i5();function hi(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:a,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:r=null,ignoreClass:l="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:m="rr-mask",unmaskTextClass:d=null,maskTextSelector:h=null,unmaskTextSelector:f=null,inlineStylesheet:g=!0,maskAllInputs:b,maskInputOptions:y,slimDOMOptions:p,maskAttributeFn:x,maskInputFn:_,maskTextFn:w,maxCanvasSize:E=null,packFn:j,sampling:N={},dataURLOptions:D={},mousemoveWait:z,recordDOM:A=!0,recordCanvas:W=!1,recordCrossOriginIframes:T=!1,recordAfter:I=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:S=!1,collectFonts:R=!1,inlineImages:F=!1,plugins:q,keepIframeSrcFn:V=()=>!1,ignoreCSSAttributes:K=new Set([]),errorHandler:Z,onMutation:O,getCanvasManager:L}=e;P5(Z);const ce=T?window.parent===window:!0;let oe=!1;if(!ce)try{window.parent.document&&(oe=!1)}catch{oe=!0}if(ce&&!t)throw new Error("emit function is required");if(!ce&&!oe)return()=>{};z!==void 0&&N.mousemove===void 0&&(N.mousemove=z),pa.reset();const re=b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},Le=p===!0||p==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:p==="all",headMetaDescKeywords:p==="all"}:p||{};C5();let Pe,we=0;const Ne=X=>{for(const J of q||[])J.eventProcessor&&(X=J.eventProcessor(X));return j&&!oe&&(X=j(X)),X};Ct=(X,J)=>{var Y;const M=X;if(M.timestamp=kd(),(Y=Yr[0])!=null&&Y.isFrozen()&&M.type!==Be.FullSnapshot&&!(M.type===Be.IncrementalSnapshot&&M.data.source===De.Mutation)&&Yr.forEach(ee=>ee.unfreeze()),ce)t==null||t(Ne(M),J);else if(oe){const ee={type:"rrweb",event:Ne(M),origin:window.location.origin,isCheckout:J};window.parent.postMessage(ee,"*")}if(M.type===Be.FullSnapshot)Pe=M,we=0;else if(M.type===Be.IncrementalSnapshot){if(M.data.source===De.Mutation&&M.data.isAttachIframe)return;we++;const ee=a&&we>=a,$=n&&Pe&&M.timestamp-Pe.timestamp>n;(ee||$)&&P(!0)}};const Oe=X=>{Ct({type:Be.IncrementalSnapshot,data:{source:De.Mutation,...X}})},Ue=X=>Ct({type:Be.IncrementalSnapshot,data:{source:De.Scroll,...X}}),Tt=X=>Ct({type:Be.IncrementalSnapshot,data:{source:De.CanvasMutation,...X}}),wt=X=>Ct({type:Be.IncrementalSnapshot,data:{source:De.AdoptedStyleSheet,...X}}),v=new s3({mutationCb:Oe,adoptedStyleSheetCb:wt}),Q=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new e3:new t3({mirror:pa,mutationCb:Oe,stylesheetManager:v,recordCrossOriginIframes:T,wrappedEmit:Ct});for(const X of q||[])X.getMirror&&X.getMirror({nodeMirror:pa,crossOriginIframeMirror:Q.crossOriginIframeMirror,crossOriginIframeStyleMirror:Q.crossOriginIframeStyleMirror});const G=new r3,C=l3(L,{mirror:pa,win:window,mutationCb:X=>Ct({type:Be.IncrementalSnapshot,data:{source:De.CanvasMutation,...X}}),recordCanvas:W,blockClass:i,blockSelector:s,unblockSelector:r,maxCanvasSize:E,sampling:N.canvas,dataURLOptions:D,errorHandler:Z}),k=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new n3:new a3({mutationCb:Oe,scrollCb:Ue,bypassOptions:{onMutation:O,blockClass:i,blockSelector:s,unblockSelector:r,maskAllText:u,maskTextClass:m,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:f,inlineStylesheet:g,maskInputOptions:re,dataURLOptions:D,maskAttributeFn:x,maskTextFn:w,maskInputFn:_,recordCanvas:W,inlineImages:F,sampling:N,slimDOMOptions:Le,iframeManager:Q,stylesheetManager:v,canvasManager:C,keepIframeSrcFn:V,processedNodeManager:G,ignoreCSSAttributes:K},mirror:pa}),P=(X=!1)=>{if(!A)return;Ct({type:Be.Meta,data:{href:window.location.href,width:gE(),height:pE()}},X),v.reset(),k.init(),Yr.forEach(M=>M.lock());const J=j5(document,{mirror:pa,blockClass:i,blockSelector:s,unblockSelector:r,maskAllText:u,maskTextClass:m,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:f,inlineStylesheet:g,maskAllInputs:re,maskAttributeFn:x,maskInputFn:_,maskTextFn:w,slimDOM:Le,dataURLOptions:D,recordCanvas:W,inlineImages:F,onSerialize:M=>{yE(M,pa)&&Q.addIframe(M),vE(M,pa)&&v.trackLinkElement(M),np(M)&&k.addShadowRoot(M.shadowRoot,document)},onIframeLoad:(M,Y)=>{Q.attachIframe(M,Y),M.contentWindow&&C.addWindow(M.contentWindow),k.observeAttachShadow(M)},onStylesheetLoad:(M,Y)=>{v.attachLinkElement(M,Y)},onBlockedImageLoad:(M,Y,{width:ee,height:$})=>{Oe({adds:[],removes:[],texts:[],attributes:[{id:Y.id,attributes:{style:{width:`${ee}px`,height:`${$}px`}}}]})},keepIframeSrcFn:V,ignoreCSSAttributes:K});if(!J)return console.warn("Failed to snapshot the document");Ct({type:Be.FullSnapshot,data:{node:J,initialOffset:mE(window)}}),Yr.forEach(M=>M.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&v.adoptStyleSheets(document.adoptedStyleSheets,pa.getId(document))};jd=P;try{const X=[],J=Y=>{var ee;return Qe(J5)({onMutation:O,mutationCb:Oe,mousemoveCb:($,fe)=>Ct({type:Be.IncrementalSnapshot,data:{source:fe,positions:$}}),mouseInteractionCb:$=>Ct({type:Be.IncrementalSnapshot,data:{source:De.MouseInteraction,...$}}),scrollCb:Ue,viewportResizeCb:$=>Ct({type:Be.IncrementalSnapshot,data:{source:De.ViewportResize,...$}}),inputCb:$=>Ct({type:Be.IncrementalSnapshot,data:{source:De.Input,...$}}),mediaInteractionCb:$=>Ct({type:Be.IncrementalSnapshot,data:{source:De.MediaInteraction,...$}}),styleSheetRuleCb:$=>Ct({type:Be.IncrementalSnapshot,data:{source:De.StyleSheetRule,...$}}),styleDeclarationCb:$=>Ct({type:Be.IncrementalSnapshot,data:{source:De.StyleDeclaration,...$}}),canvasMutationCb:Tt,fontCb:$=>Ct({type:Be.IncrementalSnapshot,data:{source:De.Font,...$}}),selectionCb:$=>{Ct({type:Be.IncrementalSnapshot,data:{source:De.Selection,...$}})},customElementCb:$=>{Ct({type:Be.IncrementalSnapshot,data:{source:De.CustomElement,...$}})},blockClass:i,ignoreClass:l,ignoreSelector:c,maskAllText:u,maskTextClass:m,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:f,maskInputOptions:re,inlineStylesheet:g,sampling:N,recordDOM:A,recordCanvas:W,inlineImages:F,userTriggeredOnInput:S,collectFonts:R,doc:Y,maskAttributeFn:x,maskInputFn:_,maskTextFn:w,keepIframeSrcFn:V,blockSelector:s,unblockSelector:r,slimDOMOptions:Le,dataURLOptions:D,mirror:pa,iframeManager:Q,stylesheetManager:v,shadowDomManager:k,processedNodeManager:G,canvasManager:C,ignoreCSSAttributes:K,plugins:((ee=q==null?void 0:q.filter($=>$.observer))==null?void 0:ee.map($=>({observer:$.observer,options:$.options,callback:fe=>Ct({type:Be.Plugin,data:{plugin:$.name,payload:fe}})})))||[]},{})};Q.addLoadListener(Y=>{try{X.push(J(Y.contentDocument))}catch(ee){console.warn(ee)}});const M=()=>{P(),X.push(J(document))};return document.readyState==="interactive"||document.readyState==="complete"?M():(X.push(Sn("DOMContentLoaded",()=>{Ct({type:Be.DomContentLoaded,data:{}}),I==="DOMContentLoaded"&&M()})),X.push(Sn("load",()=>{Ct({type:Be.Load,data:{}}),I==="load"&&M()},window))),()=>{X.forEach(Y=>Y()),G.destroy(),jd=void 0,H5()}}catch(X){console.warn(X)}}function o3(e){if(!jd)throw new Error("please take full snapshot after start recording");jd(e)}hi.mirror=pa;hi.takeFullSnapshot=o3;function l3(e,t){try{return e?e(t):new Ey}catch{return console.warn("Unable to initialize CanvasManager"),new Ey}}var Ny;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Ny||(Ny={}));const c3=3,u3=5;function n0(e){return e>9999999999?e:e*1e3}function vh(e){return e>9999999999?e/1e3:e}function Tc(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Be.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:va(t,10,1e3)}}),t.category==="console")))}const d3="button,a";function TE(e){return e.closest(d3)||e}function jE(e){const t=AE(e);return!t||!(t instanceof Element)?t:TE(t)}function AE(e){return f3(e)?e.target:e}function f3(e){return typeof e=="object"&&!!e&&"target"in e}let Ii;function h3(e){return Ii||(Ii=[],m3()),Ii.push(e),()=>{const t=Ii?Ii.indexOf(e):-1;t>-1&&Ii.splice(t,1)}}function m3(){Rn(gt,"open",function(e){return function(...t){if(Ii)try{Ii.forEach(n=>n())}catch{}return e.apply(gt,t)}})}const p3=new Set([De.Mutation,De.StyleSheetRule,De.StyleDeclaration,De.AdoptedStyleSheet,De.CanvasMutation,De.Selection,De.MediaInteraction]);function g3(e,t,n){e.handleClick(t,n)}class b3{constructor(t,n,a=Tc){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=a}addListeners(){const t=h3(()=>{this._lastMutation=ky()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(y3(n,this._ignoreSelector)||!v3(t))return;const a={timestamp:vh(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===a.node&&Math.abs(i.timestamp-a.timestamp)<1)||(this._clicks.push(a),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=vh(t)}registerScroll(t=Date.now()){this._lastScroll=vh(t)}registerClick(t){const n=TE(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=ky();this._clicks.forEach(a=>{!a.mutationAfter&&this._lastMutation&&(a.mutationAfter=a.timestamp<=this._lastMutation?this._lastMutation-a.timestamp:void 0),!a.scrollAfter&&this._lastScroll&&(a.scrollAfter=a.timestamp<=this._lastScroll?this._lastScroll-a.timestamp:void 0),a.timestamp+this._timeout<=n&&t.push(a)});for(const a of t){const i=this._clicks.indexOf(a);i>-1&&(this._generateBreadcrumbs(a),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,a=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!a&&!i,{clickCount:r,clickBreadcrumb:l}=t;if(s){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",m={type:"default",message:l.message,timestamp:l.timestamp,category:"ui.slowClickDetected",data:{...l.data,url:gt.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:r||1}};this._addBreadcrumbEvent(n,m);return}if(r>1){const c={type:"default",message:l.message,timestamp:l.timestamp,category:"ui.multiClick",data:{...l.data,url:gt.location.href,route:n.getCurrentRoute(),clickCount:r,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Nc(()=>this._checkClicks(),1e3)}}const x3=["A","BUTTON","INPUT"];function y3(e,t){return!!(!x3.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function v3(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function ky(){return Date.now()/1e3}function S3(e,t){try{if(!_3(t))return;const{source:n}=t.data;if(p3.has(n)&&e.registerMutation(t.timestamp),n===De.Scroll&&e.registerScroll(t.timestamp),w3(t)){const{type:a,id:i}=t.data,s=hi.mirror.getNode(i);s instanceof HTMLElement&&a===bn.Click&&e.registerClick(s)}}catch{}}function _3(e){return e.type===c3}function w3(e){return e.data.source===De.MouseInteraction}function za(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var a0=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(a0||{});const E3=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function N3(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(E3.has(n)){let a=n;(n==="data-testid"||n==="data-test-id")&&(a="testId"),t[a]=e[n]}return t}const k3=e=>t=>{if(!e.isEnabled())return;const n=T3(t);if(!n)return;const a=t.name==="click",i=a?t.event:void 0;a&&e.clickDetector&&(i!=null&&i.target)&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&g3(e.clickDetector,n,jE(t.event)),Tc(e,n)};function CE(e,t){const n=hi.mirror.getId(e),a=n&&hi.mirror.getNode(n),i=a&&hi.mirror.getMeta(a),s=i&&A3(i)?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(r=>r.type===a0.Text&&r.textContent).filter(Boolean).map(r=>r.trim()).join(""),attributes:N3(s.attributes)}}:{}}}function T3(e){const{target:t,message:n}=j3(e);return za({category:`ui.${e.name}`,...CE(t,n)})}function j3(e){const t=e.name==="click";let n,a=null;try{a=t?jE(e.event):AE(e.event),n=On(a,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:a,message:n}}function A3(e){return e.type===a0.Element}function C3(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=R3(t);n&&Tc(e,n)}function R3(e){const{metaKey:t,shiftKey:n,ctrlKey:a,altKey:i,key:s,target:r}=e;if(!r||D3(r)||!s)return null;const l=t||a||i,c=s.length===1;if(!l&&c)return null;const u=On(r,{maxStringLength:200})||"<unknown>",m=CE(r,u);return za({category:"ui.keyDown",message:u,data:{...m.data,metaKey:t,shiftKey:n,ctrlKey:a,altKey:i,key:s}})}function D3(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const M3={resource:U3,paint:z3,navigation:L3};function Sh(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function O3(e){return e.map(I3).filter(Boolean)}function I3(e){const t=M3[e.entryType];return t?t(e):null}function Co(e){return((zn()||gt.performance.timeOrigin)+e)/1e3}function z3(e){const{duration:t,entryType:n,name:a,startTime:i}=e,s=Co(i);return{type:n,name:a,start:s,end:s+t,data:void 0}}function L3(e){const{entryType:t,name:n,decodedBodySize:a,duration:i,domComplete:s,encodedBodySize:r,domContentLoadedEventStart:l,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:m,loadEventEnd:d,redirectCount:h,startTime:f,transferSize:g,type:b}=e;return i===0?null:{type:`${t}.${b}`,start:Co(f),end:Co(s),name:n,data:{size:g,decodedBodySize:a,encodedBodySize:r,duration:i,domInteractive:u,domContentLoadedEventStart:l,domContentLoadedEventEnd:c,loadEventStart:m,loadEventEnd:d,domComplete:s,redirectCount:h}}}function U3(e){const{entryType:t,initiatorType:n,name:a,responseEnd:i,startTime:s,decodedBodySize:r,encodedBodySize:l,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Co(s),end:Co(i),name:a,data:{size:u,statusCode:c,decodedBodySize:r,encodedBodySize:l}}}function B3(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return i0(e,"largest-contentful-paint",n)}function P3(e){return e.sources!==void 0}function H3(e){const t=[],n=[];for(const a of e.entries)if(P3(a)){const i=[];for(const s of a.sources)if(s.node){n.push(s.node);const r=hi.mirror.getId(s.node);r&&i.push(r)}t.push({value:a.value,nodeIds:i.length?i:void 0})}return i0(e,"cumulative-layout-shift",n,t)}function F3(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return i0(e,"interaction-to-next-paint",n)}function i0(e,t,n,a){const i=e.value,s=e.rating,r=Co(i);return{type:"web-vital",name:t,start:r,end:r,data:{value:i,size:i,rating:s,nodeIds:n?n.map(l=>hi.mirror.getId(l)):void 0,attributions:a}}}function G3(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const a=[];return["navigation","paint","resource"].forEach(i=>{a.push(rr(i,n))}),a.push(Vg(Sh(B3,e)),Yg(Sh(H3,e)),q1(Sh(F3,e))),()=>{a.forEach(i=>i())}}const je=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,q3='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Y3(){const e=new Blob([q3]);return URL.createObjectURL(e)}const Ty=["log","warn","error"],Uu="[Replay] ";function _h(e,t="info"){ps({category:"console",data:{logger:"replay"},level:t,message:`${Uu}${e}`},{level:t})}function V3(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:a=>{e=!!a.captureExceptions,t=!!a.traceInternals}};return je?(Ty.forEach(a=>{n[a]=(...i)=>{me[a](Uu,...i),t&&_h(i.join(""),k1(a))}}),n.exception=(a,...i)=>{i.length&&n.error&&n.error(...i),me.error(Uu,a),e?Mg(a,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&_h(a,"error")},n.infoTick=(...a)=>{me.log(Uu,...a),t&&setTimeout(()=>_h(a[0]),0)}):Ty.forEach(a=>{n[a]=()=>{}}),n}const Ae=V3();class s0 extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Xg}.`)}}class RE{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Xg)throw new s0;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?n0(t):null}}class $3{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:a})=>{a.success?t():n()},{once:!0}),this._worker.addEventListener("error",a=>{n(a)},{once:!0})}),this._ensureReadyPromise)}destroy(){je&&Ae.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const a=this._getAndIncrementId();return new Promise((i,s)=>{const r=({data:l})=>{const c=l;if(c.method===t&&c.id===a){if(this._worker.removeEventListener("message",r),!c.success){je&&Ae.error("Error in compression worker: ",c.response),s(new Error("Error in compression worker"));return}i(c.response)}};this._worker.addEventListener("message",r),this._worker.postMessage({id:a,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class K3{constructor(t){this._worker=new $3(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=n0(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const a=JSON.stringify(t);return this._totalSize+=a.length,this._totalSize>Xg?Promise.reject(new s0):this._sendEventToWorker(a)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{je&&Ae.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class W3{constructor(t){this._fallback=new RE,this._compression=new K3(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){je&&Ae.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:a}=this._fallback,i=[];for(const s of t)i.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._compression.waitForCheckout=a,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(s){je&&Ae.exception(s,"Failed to add events when switching buffers.")}}}function X3({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=Z3(t);if(n)return n}return je&&Ae.log("Using simple buffer"),new RE}function Z3(e){try{const t=e||Q3();if(!t)return;je&&Ae.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new W3(n)}catch(t){je&&Ae.exception(t,"Failed to create compression worker")}}function Q3(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Y3():""}function r0(){try{return"sessionStorage"in gt&&!!gt.sessionStorage}catch{return!1}}function J3(e){eO(),e.session=void 0}function eO(){if(r0())try{gt.sessionStorage.removeItem(Kg)}catch{}}function DE(e){return e===void 0?!1:Math.random()<e}function cf(e){if(r0())try{gt.sessionStorage.setItem(Kg,JSON.stringify(e))}catch{}}function ME(e){const t=Date.now(),n=e.id||Kn(),a=e.started||t,i=e.lastActivity||t,s=e.segmentId||0,r=e.sampled,l=e.previousSessionId,c=e.dirty||!1;return{id:n,started:a,lastActivity:i,segmentId:s,sampled:r,previousSessionId:l,dirty:c}}function tO(e,t){return DE(e)?"session":t?"buffer":!1}function jy({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:a}={}){const i=tO(e,t),s=ME({sampled:i,previousSessionId:a});return n&&cf(s),s}function nO(){if(!r0())return null;try{const e=gt.sessionStorage.getItem(Kg);if(!e)return null;const t=JSON.parse(e);return je&&Ae.infoTick("Loading existing session"),ME(t)}catch{return null}}function sp(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function OE(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:a=Date.now()}){return sp(e.started,t,a)||sp(e.lastActivity,n,a)}function IE(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!OE(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function wh({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},a){const i=a.stickySession&&nO();return i?IE(i,{sessionIdleExpire:e,maxReplayDuration:t})?(je&&Ae.infoTick("Session in sessionStorage is expired, creating new one..."),jy(a,{previousSessionId:i.id})):i:(je&&Ae.infoTick("Creating new session"),jy(a,{previousSessionId:n}))}function aO(e){return e.type===Be.Custom}function o0(e,t,n){return LE(e,t)?(zE(e,t,n),!0):!1}function iO(e,t,n){return LE(e,t)?zE(e,t,n):Promise.resolve(null)}async function zE(e,t,n){const{eventBuffer:a}=e;if(!a||a.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&a.clear(),n&&(a.hasCheckout=!0,a.waitForCheckout=!1);const s=e.getOptions(),r=sO(t,s.beforeAddRecordingEvent);return r?await a.addEvent(r):void 0}catch(s){const r=s&&s instanceof s0,l=r?"addEventSizeExceeded":"addEvent",c=Xe();if(c){const u=r?"buffer_overflow":"internal_sdk_error";c.recordDroppedEvent(u,"replay")}if(r&&i)return a.clear(),a.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:l})}}function LE(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=n0(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(je&&Ae.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function sO(e,t){try{if(typeof t=="function"&&aO(e))return t(e)}catch(n){return je&&Ae.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function l0(e){return!e.type}function rp(e){return e.type==="transaction"}function rO(e){return e.type==="replay_event"}function Ay(e){return e.type==="feedback"}function oO(e){return(t,n)=>{if(!e.isEnabled()||!l0(t)&&!rp(t))return;const a=n.statusCode;if(!(!a||a<200||a>=300)){if(rp(t)){lO(e,t);return}cO(e,t)}}}function lO(e,t){var a,i;const n=e.getContext();(i=(a=t.contexts)==null?void 0:a.trace)!=null&&i.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function cO(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:a}=e.getOptions();typeof a=="function"&&!a(t)||Nc(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function uO(e){return t=>{!e.isEnabled()||!l0(t)||dO(e,t)}}function dO(e,t){var a,i,s;const n=(s=(i=(a=t.exception)==null?void 0:a.values)==null?void 0:i[0])==null?void 0:s.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=za({category:"replay.hydrate-error",data:{url:Ho()}});Tc(e,r)}}function fO(e){const t=Xe();t&&t.on("beforeAddBreadcrumb",n=>hO(e,n))}function hO(e,t){if(!e.isEnabled()||!UE(t))return;const n=mO(t);n&&Tc(e,n)}function mO(e){return!UE(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?pO(e):za(e)}function pO(e){var i;const t=(i=e.data)==null?void 0:i.arguments;if(!Array.isArray(t)||t.length===0)return za(e);let n=!1;const a=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>ru?(n=!0,`${s.slice(0,ru)}`):s;if(typeof s=="object")try{const r=va(s,7);return JSON.stringify(r).length>ru?(n=!0,`${JSON.stringify(r,null,2).slice(0,ru)}`):r}catch{}return s});return za({...e,data:{...e.data,arguments:a,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function UE(e){return!!e.category}function gO(e,t){var n,a,i;return e.type||!((a=(n=e.exception)==null?void 0:n.values)!=null&&a.length)?!1:!!((i=t.originalException)!=null&&i.__rrweb__)}function BE(){const e=ct().getPropagationContext().dsc;e&&delete e.replay_id;const t=_n();if(t){const n=wi(t);delete n.replay_id}}function bO(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Be.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function xO(e,t){return e.recordingMode!=="buffer"||t.message===Wg||!t.exception||t.type?!1:DE(e.getOptions().errorSampleRate)}function yO(e){return Object.assign((t,n)=>{var r;if(!e.isEnabled()||e.isPaused())return t;if(rO(t))return delete t.breadcrumbs,t;if(!l0(t)&&!rp(t)&&!Ay(t))return t;if(!e.checkAndHandleExpiredSession())return BE(),t;if(Ay(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),bO(e,t),t;if(gO(t,n)&&!e.getOptions()._experiments.captureExceptions)return je&&Ae.log("Ignoring error from rrweb internals",t),null;const i=xO(e,t);if((i||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),i&&e.recordingMode==="buffer"&&((r=e.session)==null?void 0:r.sampled)==="buffer"){const l=e.session;l.dirty=!0,e.getOptions().stickySession&&cf(l)}return t},{id:"Replay"})}function uf(e,t){return t.map(({type:n,start:a,end:i,name:s,data:r})=>{const l=e.throttledAddEvent({type:Be.Custom,timestamp:a,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:a,endTimestamp:i,data:r}}});return typeof l=="string"?Promise.resolve(null):l})}function vO(e){const{from:t,to:n}=e,a=Date.now()/1e3;return{type:"navigation.push",start:a,end:a,name:n,data:{previous:t}}}function SO(e){return t=>{if(!e.isEnabled())return;const n=vO(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(uf(e,[n]),!1)))}}function _O(e,t){return je&&e.getOptions()._experiments.traceInternals?!1:dC(t,Xe())}function PE(e,t){e.isEnabled()&&t!==null&&(_O(e,t.name)||e.addUpdate(()=>(uf(e,[t]),!0)))}function df(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=J1(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function HE(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Ad(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},a=n.warnings||[];return n.warnings=[...a,t],e._meta=n,e}function FE(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:a,url:i,method:s,statusCode:r,request:l,response:c}=t;return{type:e,start:n/1e3,end:a/1e3,name:i,data:{method:s,statusCode:r,request:l,response:c}}}function Zl(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function cs(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const a={headers:e,size:t},{body:i,warnings:s}=wO(n);return a.body=i,s!=null&&s.length&&(a._meta={warnings:s}),a}function op(e,t){return Object.entries(e).reduce((n,[a,i])=>{const s=a.toLowerCase();return t.includes(s)&&e[a]&&(n[s]=i),n},{})}function wO(e){if(!e||typeof e!="string")return{body:e};const t=e.length>cy,n=EO(e);if(t){const a=e.slice(0,cy);return n?{body:a,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${a}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function EO(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Cd(e,t){const n=NO(e);return di(n,t)}function NO(e,t=gt.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(gt.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const a=n.href;return!e.endsWith("/")&&a.endsWith("/")?a.slice(0,-1):a}async function kO(e,t,n){try{const a=await jO(e,t,n),i=FE("resource.fetch",a);PE(n.replay,i)}catch(a){je&&Ae.exception(a,"Failed to capture fetch breadcrumb")}}function TO(e,t){const{input:n,response:a}=t,i=n?tE(n):void 0,s=df(i),r=a?HE(a.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),r!==void 0&&(e.data.response_body_size=r)}async function jO(e,t,n){const a=Date.now(),{startTimestamp:i=a,endTimestamp:s=a}=t,{url:r,method:l,status_code:c=0,request_body_size:u,response_body_size:m}=e.data,d=Cd(r,n.networkDetailAllowUrls)&&!Cd(r,n.networkDetailDenyUrls),h=d?AO(n,t.input,u):Zl(u),f=await CO(d,n,t.response,m);return{startTimestamp:i,endTimestamp:s,url:r,method:l,statusCode:c,request:h,response:f}}function AO({networkCaptureBodies:e,networkRequestHeaders:t},n,a){const i=n?MO(n,t):{};if(!e)return cs(i,a,void 0);const s=tE(n),[r,l]=eE(s,Ae),c=cs(i,a,r);return l?Ad(c,l):c}async function CO(e,{networkCaptureBodies:t,networkResponseHeaders:n},a,i){if(!e&&i!==void 0)return Zl(i);const s=a?GE(a.headers,n):{};if(!a||!t&&i!==void 0)return cs(s,i,void 0);const[r,l]=await DO(a),c=RO(r,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:s});return l?Ad(c,l):c}function RO(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:a,headers:i}){try{const s=e!=null&&e.length&&n===void 0?df(e):n;return a?t?cs(i,s,e):cs(i,s,void 0):Zl(s)}catch(s){return je&&Ae.exception(s,"Failed to serialize response body"),cs(i,n,void 0)}}async function DO(e){const t=OO(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await IO(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(je&&Ae.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(je&&Ae.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function GE(e,t){const n={};return t.forEach(a=>{e.get(a)&&(n[a]=e.get(a))}),n}function MO(e,t){return e.length===1&&typeof e[0]!="string"?Cy(e[0],t):e.length===2?Cy(e[1],t):{}}function Cy(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?GE(n,t):Array.isArray(n)?{}:op(n,t):{}}function OO(e){try{return e.clone()}catch(t){je&&Ae.exception(t,"Failed to clone response body")}}function IO(e){return new Promise((t,n)=>{const a=Nc(()=>n(new Error("Timeout while trying to read response body")),500);zO(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(a))})}async function zO(e){return await e.text()}async function LO(e,t,n){try{const a=BO(e,t,n),i=FE("resource.xhr",a);PE(n.replay,i)}catch(a){je&&Ae.exception(a,"Failed to capture xhr breadcrumb")}}function UO(e,t){const{xhr:n,input:a}=t;if(!n)return;const i=df(a),s=n.getResponseHeader("content-length")?HE(n.getResponseHeader("content-length")):FO(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function BO(e,t,n){const a=Date.now(),{startTimestamp:i=a,endTimestamp:s=a,input:r,xhr:l}=t,{url:c,method:u,status_code:m=0,request_body_size:d,response_body_size:h}=e.data;if(!c)return null;if(!l||!Cd(c,n.networkDetailAllowUrls)||Cd(c,n.networkDetailDenyUrls)){const j=Zl(d),N=Zl(h);return{startTimestamp:i,endTimestamp:s,url:c,method:u,statusCode:m,request:j,response:N}}const f=l[Ms],g=f?op(f.request_headers,n.networkRequestHeaders):{},b=op(nE(l),n.networkResponseHeaders),[y,p]=n.networkCaptureBodies?eE(r,Ae):[void 0],[x,_]=n.networkCaptureBodies?PO(l):[void 0],w=cs(g,d,y),E=cs(b,h,x);return{startTimestamp:i,endTimestamp:s,url:c,method:u,statusCode:m,request:p?Ad(w,p):w,response:_?Ad(E,_):E}}function PO(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return HO(e.response,e.responseType)}catch(n){t.push(n)}return je&&Ae.warn("Failed to get xhr response body",...t),[void 0]}function HO(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return je&&Ae.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return je&&Ae.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function FO(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return df(n)}catch{return}}function GO(e){const t=Xe();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:a,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:r}=e.getOptions(),l={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:a,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:r};t&&t.on("beforeAddBreadcrumb",(c,u)=>qO(l,c,u))}catch{}}function qO(e,t,n){if(t.data)try{YO(t)&&$O(n)&&(UO(t,n),LO(t,n,e)),VO(t)&&KO(n)&&(TO(t,n),kO(t,n,e))}catch(a){je&&Ae.exception(a,"Error when enriching network breadcrumb")}}function YO(e){return e.category==="xhr"}function VO(e){return e.category==="fetch"}function $O(e){return e==null?void 0:e.xhr}function KO(e){return e==null?void 0:e.response}function WO(e){const t=Xe();X1(k3(e)),sf(SO(e)),fO(e),GO(e);const n=yO(e);DA(n),t&&(t.on("beforeSendEvent",uO(e)),t.on("afterSendEvent",oO(e)),t.on("createDsc",a=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(a.replay_id=i)}),t.on("spanStart",a=>{e.lastActiveSpan=a}),t.on("spanEnd",a=>{e.lastActiveSpan=a}),t.on("beforeSendFeedback",async(a,i)=>{var r;const s=e.getSessionId();i!=null&&i.includeReplay&&e.isEnabled()&&s&&((r=a.contexts)!=null&&r.feedback)&&(a.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),a.contexts.feedback.replay_id=s)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function XO(e){try{return Promise.all(uf(e,[ZO(gt.performance.memory)]))}catch{return[]}}function ZO(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:a}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:a}}}}function QO(e,t,n){return bC(e,t,{...n,setTimeoutImpl:Nc})}const ea=Je.navigator;function JO(){return/iPhone|iPad|iPod/i.test((ea==null?void 0:ea.userAgent)??"")||/Macintosh/i.test((ea==null?void 0:ea.userAgent)??"")&&(ea!=null&&ea.maxTouchPoints)&&(ea==null?void 0:ea.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function eI(e){let t=!1;return(n,a)=>{if(!e.checkAndHandleExpiredSession()){je&&Ae.warn("Received replay event after session expired.");return}const i=a||!t;t=!0,e.clickDetector&&S3(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!o0(e,n,i))return!0;if(!i)return!1;const s=e.session;if(nI(e,i),e.recordingMode==="buffer"&&s&&e.eventBuffer&&!s.dirty){const r=e.eventBuffer.getEarliestTimestamp();r&&(je&&Ae.log(`Updating session start time to earliest event in buffer to ${new Date(r)}`),s.started=r,e.getOptions().stickySession&&cf(s))}return s!=null&&s.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function tI(e){const t=e.getOptions();return{type:Be.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function nI(e,t){!t||!e.session||e.session.segmentId!==0||o0(e,tI(e),!1)}function aI(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function iI(e,t,n,a){return _s(e1(e,Ag(e),a,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function sI({recordingData:e,headers:t}){let n;const a=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${a}${e}`;else{const s=new TextEncoder().encode(a);n=new Uint8Array(s.length+e.length),n.set(s),n.set(e,s.length)}return n}async function rI({client:e,scope:t,replayId:n,event:a}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit("preprocessEvent",a,s);const r=await r1(e.getOptions(),a,s,t,e,Ha());if(!r)return null;e.emit("postprocessEvent",r,s),r.platform=r.platform||"javascript";const l=e.getSdkMetadata(),{name:c,version:u,settings:m}=(l==null?void 0:l.sdk)||{};return r.sdk={...r.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0",settings:m},r}async function oI({recordingData:e,replayId:t,segmentId:n,eventContext:a,timestamp:i,session:s}){const r=sI({recordingData:e,headers:{segment_id:n}}),{urls:l,errorIds:c,traceIds:u,initialTimestamp:m}=a,d=Xe(),h=ct(),f=d==null?void 0:d.getTransport(),g=d==null?void 0:d.getDsn();if(!d||!f||!g||!s.sampled)return Promise.resolve({});const b={type:LM,replay_start_timestamp:m/1e3,timestamp:i/1e3,error_ids:c,trace_ids:u,urls:l,replay_id:t,segment_id:n,replay_type:s.sampled},y=await rI({scope:h,client:d,replayId:t,event:b});if(!y)return d.recordDroppedEvent("event_processor","replay"),je&&Ae.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete y.sdkProcessingMetadata;const p=iI(y,r,g,d.getOptions().tunnel);let x;try{x=await f.send(p)}catch(w){const E=new Error(Wg);try{E.cause=w}catch{}throw E}if(typeof x.statusCode=="number"&&(x.statusCode<200||x.statusCode>=300))throw new qE(x.statusCode);const _=b1({},x);if(g1(_,"replay"))throw new c0(_);return x}class qE extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class c0 extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function YE(e,t={count:0,interval:GM}){const{recordingData:n,onError:a}=e;if(n.length)try{return await oI(e),!0}catch(i){if(i instanceof qE||i instanceof c0)throw i;if(l1("Replays",{_retryCount:t.count}),a&&a(i),t.count>=qM){const s=new Error(`${Wg} - max retries exceeded`);try{s.cause=i}catch{}throw s}return t.interval*=++t.count,new Promise((s,r)=>{Nc(async()=>{try{await YE(e,t),s(!0)}catch(l){r(l)}},t.interval)})}}const VE="__THROTTLED",lI="__SKIPPED";function cI(e,t,n){const a=new Map,i=l=>{const c=l-n;a.forEach((u,m)=>{m<c&&a.delete(m)})},s=()=>[...a.values()].reduce((l,c)=>l+c,0);let r=!1;return(...l)=>{const c=Math.floor(Date.now()/1e3);if(i(c),s()>=t){const m=r;return r=!0,m?lI:VE}r=!1;const u=a.get(c)||0;return a.set(c,u+1),e(...l)}}class uI{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:UM,sessionIdleExpire:BM},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=QO(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=cI((r,l)=>iO(this,r,l),300,5);const{slowClickTimeout:a,slowClickIgnoreSelectors:i}=this.getOptions(),s=a?{threshold:Math.min(YM,a),timeout:a,scrollTimeout:VM,ignoreSelector:i?i.join(","):""}:void 0;if(s&&(this.clickDetector=new b3(this,s)),je){const r=t._experiments;Ae.setConfig({captureExceptions:!!r.captureExceptions,traceInternals:!!r.traceInternals})}this._handleVisibilityChange=()=>{gt.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const r=za({category:"ui.blur"});this._doChangeToBackgroundTasks(r)},this._handleWindowFocus=()=>{const r=za({category:"ui.focus"});this._doChangeToForegroundTasks(r)},this._handleKeyboardEvent=r=>{C3(this,r)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){je&&Ae.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:a}=this._options,i=n<=0&&a<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){je&&Ae.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",je&&Ae.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){je&&Ae.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){je&&Ae.log("Buffering is in progress, call `flush()` to save the replay");return}je&&Ae.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=wh({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){je&&Ae.log("Buffering is in progress, call `flush()` to save the replay");return}je&&Ae.infoTick("Starting replay in buffer mode");const t=wh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=hi({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:FM}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:eI(this),...JO(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var a;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{je&&Ae.log(`Stopping Replay${n?` triggered by ${n}`:""}`),BE(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(a=this.eventBuffer)==null||a.destroy(),this.eventBuffer=null,J3(this)}catch(i){this.handleException(i)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),je&&Ae.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),je&&Ae.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();je&&Ae.log("Converting buffer to session"),await this.flushImmediate();const a=this.stopRecording();!t||!a||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){var n,a;if(!(t&&((n=this.session)==null?void 0:n.sampled)===!1))return(a=this.session)==null?void 0:a.id}checkAndHandleExpiredSession(){if(this._lastActivity&&sp(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${gt.location.pathname}${gt.location.hash}${gt.location.search}`,n=`${gt.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const a=this._throttledAddEvent(t,n);if(a===VE){const i=za({category:"replay.throttled"});this.addUpdate(()=>!o0(this,{type:u3,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return a}getCurrentRoute(){const t=this.lastActiveSpan||_n(),n=t&&gn(t),i=(n&&tt(n).data||{})[wa];if(!(!n||!i||!["route","custom"].includes(i)))return tt(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=X3({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,a=wh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=a}_checkSession(){if(!this.session)return!1;const t=this.session;return IE(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{gt.document.addEventListener("visibilitychange",this._handleVisibilityChange),gt.addEventListener("blur",this._handleWindowBlur),gt.addEventListener("focus",this._handleWindowFocus),gt.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(WO(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=G3(this)}_removeListeners(){try{gt.document.removeEventListener("visibilitychange",this._handleVisibilityChange),gt.removeEventListener("blur",this._handleWindowBlur),gt.removeEventListener("focus",this._handleWindowFocus),gt.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||OE(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){je&&Ae.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Be.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=O3(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(a=>a.start>=n)}return Promise.all(uf(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const a=n.getEarliestTimestamp();a&&a<this._context.initialTimestamp&&(this._context.initialTimestamp=a)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){je&&Ae.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await XO(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const a=Date.now();if(a-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const i=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const r=await this.eventBuffer.finish();await YE({replayId:t,recordingData:r,segmentId:s,eventContext:i,session:this.session,timestamp:a,onError:l=>this.handleException(l)})}catch(a){this.handleException(a),this.stop({reason:"sendReplay"});const i=Xe();if(i){const s=a instanceof c0?"ratelimit_backoff":"send_error";i.recordDroppedEvent(s,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){je&&Ae.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const s=i<this._options.minReplayDuration,r=i>this._options.maxReplayDuration+5e3;if(s||r){je&&Ae.log(`Session duration (${Math.floor(i/1e3)}s) is too ${s?"short":"long"}, not sending replay.`),s&&this._debouncedFlush();return}const l=this.eventBuffer;l&&this.session.segmentId===0&&!l.hasCheckout&&je&&Ae.log("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&cf(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(l=>{const c=aI(l.target),u=n.join(",");return c==null?void 0:c.matches(u)}))return!1;const a=t.length,i=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,r=i&&a>i;if(a>s||r){const l=za({category:"replay.mutations",data:{count:a,limit:r}});this._createCustomBreadcrumb(l)}return r?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function sl(e,t){return[...e,...t].join(",")}function dI({mask:e,unmask:t,block:n,unblock:a,ignore:i}){const s=["base","iframe[srcdoc]:not([src])"],r=sl(e,[".sentry-mask","[data-sentry-mask]"]),l=sl(t,[]);return{maskTextSelector:r,unmaskTextSelector:l,blockSelector:sl(n,[".sentry-block","[data-sentry-block]",...s]),unblockSelector:sl(a,[]),ignoreSelector:sl(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function fI({el:e,key:t,maskAttributes:n,maskAllText:a,privacyOptions:i,value:s}){return!a||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const Ry='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',hI=["content-length","content-type","accept"];let Dy=!1;const mI=e=>new pI(e);class pI{constructor({flushMinDelay:t=PM,flushMaxDelay:n=HM,minReplayDuration:a=$M,maxReplayDuration:i=uy,stickySession:s=!0,useCompression:r=!0,workerUrl:l,_experiments:c={},maskAllText:u=!0,maskAllInputs:m=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:h=750,mutationLimit:f=1e4,slowClickTimeout:g=7e3,slowClickIgnoreSelectors:b=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:p=[],networkCaptureBodies:x=!0,networkRequestHeaders:_=[],networkResponseHeaders:w=[],mask:E=[],maskAttributes:j=["title","placeholder","aria-label"],unmask:N=[],block:D=[],unblock:z=[],ignore:A=[],maskFn:W,beforeAddRecordingEvent:T,beforeErrorSampling:I,onError:S}={}){this.name="Replay";const R=dI({mask:E,unmask:N,block:D,unblock:z,ignore:A});if(this._recordingOptions={maskAllInputs:m,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:W,maskInputFn:W,maskAttributeFn:(F,q,V)=>fI({maskAttributes:j,maskAllText:u,privacyOptions:R,key:F,value:q,el:V}),...R,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:F=>{try{F.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(a,KM),maxReplayDuration:Math.min(i,uy),stickySession:s,useCompression:r,workerUrl:l,blockAllMedia:d,maskAllInputs:m,maskAllText:u,mutationBreadcrumbLimit:h,mutationLimit:f,slowClickTimeout:g,slowClickIgnoreSelectors:b,networkDetailAllowUrls:y,networkDetailDenyUrls:p,networkCaptureBodies:x,networkRequestHeaders:My(_),networkResponseHeaders:My(w),beforeAddRecordingEvent:T,beforeErrorSampling:I,onError:S,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Ry}`:Ry,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&qm())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Dy}set _isInitialized(t){Dy=t}afterAllSetup(t){!qm()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){var n;if((n=this._replay)!=null&&n.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=gI(this._initialOptions,t);this._replay=new uI({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function gI(e,t){const n=t.getOptions(),a={sessionSampleRate:0,errorSampleRate:0,...e},i=ir(n.replaysSessionSampleRate),s=ir(n.replaysOnErrorSampleRate);return i==null&&s==null&&hr(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(a.sessionSampleRate=i),s!=null&&(a.errorSampleRate=s),a}function My(e){return[...hI,...e.map(t=>t.toLowerCase())]}function bI(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function $E(e){try{return new URL(e,nt.location.origin).href}catch{return}}function xI(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function KE(e){try{return new Headers(e)}catch{return}}const Oy=new WeakMap,Eh=new Map,WE={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function yI(e,t){const{traceFetch:n,traceXHR:a,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:r,tracePropagationTargets:l,onRequestSpanStart:c,onRequestSpanEnd:u}={...WE,...t},m=typeof s=="function"?s:g=>!0,d=g=>vI(g,l),h={},f=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(g=>(g.type==="transaction"&&g.spans&&g.spans.forEach(b=>{if(b.op==="http.client"){const y=Eh.get(b.span_id);y&&(b.timestamp=y/1e3,Eh.delete(b.span_id))}}),g)),i&&QC(g=>{if(g.response){const b=Oy.get(g.response);b&&g.endTimestamp&&Eh.set(b,g.endTimestamp)}}),C1(g=>{const b=FC(g,m,d,h,{propagateTraceparent:f,onRequestSpanEnd:u});if(g.response&&g.fetchData.__span&&Oy.set(g.response,g.fetchData.__span),b){const y=$E(g.fetchData.url),p=y?Ws(y).host:void 0;b.setAttributes({"http.url":y,"server.address":p}),r&&Iy(b),c==null||c(b,{headers:g.headers})}})),a&&Q1(g=>{var y;const b=SI(g,m,d,h,f,u);b&&(r&&Iy(b),c==null||c(b,{headers:KE((y=g.xhr.__sentry_xhr_v3__)==null?void 0:y.request_headers)}))})}function Iy(e){const{url:t}=tt(e).data;if(!t||typeof t!="string")return;const n=rr("resource",({entries:a})=>{a.forEach(i=>{xI(i)&&i.name.endsWith(t)&&(e.setAttributes(W1(i)),setTimeout(n))})})}function vI(e,t){const n=Ho();if(n){let a,i;try{a=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=a.origin===i;return t?di(a.toString(),t)||s&&di(a.pathname,t):s}else{const a=!!e.match(/^\/(?!\/)/);return t?di(e,t):a}}function SI(e,t,n,a,i,s){const r=e.xhr,l=r==null?void 0:r[Ms];if(!r||r.__sentry_own_request__||!l)return;const{url:c,method:u}=l,m=Ea()&&t(c);if(e.endTimestamp&&m){const p=r.__sentry_xhr_span_id__;if(!p)return;const x=a[p];x&&l.status_code!==void 0&&(Uw(x,l.status_code),x.end(),s==null||s(x,{headers:KE(nE(r)),error:e.error}),delete a[p]);return}const d=$E(c),h=Ws(d||c),f=uC(c),g=!!_n(),b=m&&g?Yo({name:`${u} ${f}`,attributes:{url:c,type:"xhr","http.method":u,"http.url":d,"server.address":h==null?void 0:h.host,[Wt]:"auto.http.browser",[_i]:"http.client",...(h==null?void 0:h.search)&&{"http.query":h==null?void 0:h.search},...(h==null?void 0:h.hash)&&{"http.fragment":h==null?void 0:h.hash}}}):new ms;r.__sentry_xhr_span_id__=b.spanContext().spanId,a[r.__sentry_xhr_span_id__]=b,n(c)&&_I(r,Ea()&&g?b:void 0,i);const y=Xe();return y&&y.emit("beforeOutgoingRequestSpan",b,e),b}function _I(e,t,n){const{"sentry-trace":a,baggage:i,traceparent:s}=N1({span:t,propagateTraceparent:n});a&&wI(e,a,i,s)}function wI(e,t,n,a){var s;const i=(s=e.__sentry_xhr_v3__)==null?void 0:s.request_headers;if(!(i!=null&&i["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),a&&!(i!=null&&i.traceparent)&&e.setRequestHeader("traceparent",a),n){const r=i==null?void 0:i.baggage;(!r||!bI(r))&&e.setRequestHeader("baggage",n)}}catch{}}function EI(){nt.document?nt.document.addEventListener("visibilitychange",()=>{const e=_n();if(!e)return;const t=gn(e);if(nt.document.hidden&&t){const n="cancelled",{op:a,status:i}=tt(t);ha&&me.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${a}`),i||t.setStatus({code:Yt,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ha&&me.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const NI=3600,XE="sentry_previous_trace",kI="sentry.previous_trace";function TI(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const a=t==="session-storage";let i=a?CI():void 0;e.on("spanStart",r=>{if(gn(r)!==r)return;const l=ct().getPropagationContext();i=jI(i,r,l),a&&AI(i)});let s=!0;n&&e.on("beforeSampling",r=>{if(!i)return;const l=ct(),c=l.getPropagationContext();if(s&&c.parentSpanId){s=!1;return}l.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(i.sampleRate),sampled:String(lp(i.spanContext))},sampleRand:i.sampleRand}),r.parentSampled=lp(i.spanContext),r.parentSampleRate=i.sampleRate,r.spanAttributes={...r.spanAttributes,[Lw]:i.sampleRate}})}function jI(e,t,n){const a=tt(t);function i(){var l,c;try{return Number((l=n.dsc)==null?void 0:l.sample_rate)??Number((c=a.data)==null?void 0:c[wg])}catch{return 0}}const s={spanContext:t.spanContext(),startTimestamp:a.start_timestamp,sampleRate:i(),sampleRand:n.sampleRand};if(!e)return s;const r=e.spanContext;return r.traceId===a.trace_id?e:(Date.now()/1e3-e.startTimestamp<=NI&&(ha&&me.log(`Adding previous_trace ${r} link to span ${{op:a.op,...t.spanContext()}}`),t.addLink({context:r,attributes:{[i2]:"previous_trace"}}),t.setAttribute(kI,`${r.traceId}-${r.spanId}-${lp(r)?1:0}`)),s)}function AI(e){try{nt.sessionStorage.setItem(XE,JSON.stringify(e))}catch(t){ha&&me.warn("Could not store previous trace in sessionStorage",t)}}function CI(){var e;try{const t=(e=nt.sessionStorage)==null?void 0:e.getItem(XE);return JSON.parse(t)}catch{return}}function lp(e){return e.traceFlags===1}const RI="BrowserTracing",DI={...Mu,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...WE},MI=(e={})=>{const t={name:void 0,source:void 0},n=nt.document,{enableInp:a,enableElementTiming:i,enableLongTask:s,enableLongAnimationFrame:r,_experiments:{enableInteractions:l,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:m,idleTimeout:d,finalTimeout:h,childSpanTimeout:f,markBackgroundSpan:g,traceFetch:b,traceXHR:y,trackFetchStreamPerformance:p,shouldCreateSpanForRequest:x,enableHTTPTimings:_,ignoreResourceSpans:w,ignorePerformanceApiSpans:E,instrumentPageLoad:j,instrumentNavigation:N,detectRedirects:D,linkPreviousTrace:z,consistentTraceSampling:A,enableReportPageLoaded:W,onRequestSpanStart:T,onRequestSpanEnd:I}={...DI,...e};let S,R,F;function q(V,K,Z=!0){const O=K.op==="pageload",L=K.name,ce=m?m(K):K,oe=ce.attributes||{};if(L!==ce.name&&(oe[wa]="custom",ce.attributes=oe),!Z){const Pe=mr();Yo({...ce,startTime:Pe}).end(Pe);return}t.name=ce.name,t.source=oe[wa];const re=s1(ce,{idleTimeout:d,finalTimeout:h,childSpanTimeout:f,disableAutoFinish:O,beforeSpanEnd:Pe=>{S==null||S(),oD(Pe,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:w,ignorePerformanceApiSpans:E}),Ly(V,void 0);const we=ct(),Ne=we.getPropagationContext();we.setPropagationContext({...Ne,traceId:re.spanContext().traceId,sampled:Ss(re),dsc:wi(Pe)}),O&&(F=void 0)},trimIdleSpanEndTimestamp:!W});O&&W&&(F=re),Ly(V,re);function Le(){n&&["interactive","complete"].includes(n.readyState)&&V.emit("idleSpanEnableAutoFinish",re)}O&&!W&&n&&(n.addEventListener("readystatechange",()=>{Le()}),Le())}return{name:RI,setup(V){if(M2(),S=eD({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:V}),a&&DD(),i&&yD(),r&&Je.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?nD():s&&tD(),l&&aD(),D&&n){const Z=()=>{R=nn()};addEventListener("click",Z,{capture:!0}),addEventListener("keydown",Z,{capture:!0,passive:!0})}function K(){const Z=Ql(V);Z&&!tt(Z).timestamp&&(ha&&me.log(`[Tracing] Finishing current active span with op: ${tt(Z).op}`),Z.setAttribute(Yl,"cancelled"),Z.end())}V.on("startNavigationSpan",(Z,O)=>{if(Xe()!==V)return;if(O!=null&&O.isRedirect){ha&&me.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),q(V,{op:"navigation.redirect",...Z},!1);return}R=void 0,K(),Ha().setPropagationContext({traceId:Si(),sampleRand:Math.random(),propagationSpanId:Ea()?void 0:fi()});const L=ct();L.setPropagationContext({traceId:Si(),sampleRand:Math.random(),propagationSpanId:Ea()?void 0:fi()}),L.setSDKProcessingMetadata({normalizedRequest:void 0}),q(V,{op:"navigation",...Z,parentSpan:null,forceTransaction:!0})}),V.on("startPageLoadSpan",(Z,O={})=>{if(Xe()!==V)return;K();const L=O.sentryTrace||zy("sentry-trace"),ce=O.baggage||zy("baggage"),oe=E2(L,ce),re=ct();re.setPropagationContext(oe),Ea()||(re.getPropagationContext().propagationSpanId=fi()),re.setSDKProcessingMetadata({normalizedRequest:Ug()}),q(V,{op:"pageload",...Z})}),V.on("endPageloadSpan",()=>{W&&F&&(F.setAttribute(Yl,"reportPageLoaded"),F.end())})},afterAllSetup(V){let K=Ho();if(z!=="off"&&TI(V,{linkPreviousTrace:z,consistentTraceSampling:A}),nt.location){if(j){const Z=zn();OI(V,{name:nt.location.pathname,startTime:Z?Z/1e3:void 0,attributes:{[wa]:"url",[Wt]:"auto.pageload.browser"}})}N&&sf(({to:Z,from:O})=>{if(O===void 0&&(K==null?void 0:K.indexOf(Z))!==-1){K=void 0;return}K=void 0;const L=Lg(Z),ce=Ql(V),oe=ce&&D&&LI(ce,R);II(V,{name:(L==null?void 0:L.pathname)||nt.location.pathname,attributes:{[wa]:"url",[Wt]:"auto.navigation.browser"}},{url:Z,isRedirect:oe})})}g&&EI(),l&&zI(V,d,h,f,t),a&&ID(),yI(V,{traceFetch:b,traceXHR:y,trackFetchStreamPerformance:p,tracePropagationTargets:V.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:x,enableHTTPTimings:_,onRequestSpanStart:T,onRequestSpanEnd:I})}}};function OI(e,t,n){e.emit("startPageLoadSpan",t,n),ct().setTransactionName(t.name);const a=Ql(e);return a&&e.emit("afterStartPageLoadSpan",a),a}function II(e,t,n){const{url:a,isRedirect:i}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:i}),e.emit("startNavigationSpan",t,{isRedirect:i});const s=ct();return s.setTransactionName(t.name),a&&!i&&s.setSDKProcessingMetadata({normalizedRequest:{...Ug(),url:a}}),Ql(e)}function zy(e){const t=nt.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function zI(e,t,n,a,i){const s=nt.document;let r;const l=()=>{const c="ui.action.click",u=Ql(e);if(u){const m=tt(u).op;if(["navigation","pageload"].includes(m)){ha&&me.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(r&&(r.setAttribute(Yl,"interactionInterrupted"),r.end(),r=void 0),!i.name){ha&&me.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}r=s1({name:i.name,op:c,attributes:{[wa]:i.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:a})};s&&addEventListener("click",l,{capture:!0})}const ZE="_sentry_idleSpan";function Ql(e){return e[ZE]}function Ly(e,t){Zn(e,ZE,t)}const Uy=1.5;function LI(e,t){const n=tt(e),a=mr(),i=n.start_timestamp;return!(a-i>Uy||t&&a-t<=Uy)}function UI(e){const t={...e};return E1(t,"react"),l1("react",{version:H.version}),zM(t)}var ff=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},BI={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Pi,hp,iv,PI=(iv=class{constructor(){$e(this,Pi,BI);$e(this,hp,!1)}setTimeoutProvider(e){Re(this,Pi,e)}setTimeout(e,t){return te(this,Pi).setTimeout(e,t)}clearTimeout(e){te(this,Pi).clearTimeout(e)}setInterval(e,t){return te(this,Pi).setInterval(e,t)}clearInterval(e){te(this,Pi).clearInterval(e)}},Pi=new WeakMap,hp=new WeakMap,iv),cp=new PI;function HI(e){setTimeout(e,0)}var hf=typeof window>"u"||"Deno"in globalThis;function ga(){}function FI(e,t){return typeof e=="function"?e(t):e}function GI(e){return typeof e=="number"&&e>=0&&e!==1/0}function qI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function up(e,t){return typeof e=="function"?e(t):e}function YI(e,t){return typeof e=="function"?e(t):e}function By(e,t){const{type:n="all",exact:a,fetchStatus:i,predicate:s,queryKey:r,stale:l}=e;if(r){if(a){if(t.queryHash!==u0(r,t.options))return!1}else if(!ec(t.queryKey,r))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function Py(e,t){const{exact:n,status:a,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Jl(t.options.mutationKey)!==Jl(s))return!1}else if(!ec(t.options.mutationKey,s))return!1}return!(a&&t.state.status!==a||i&&!i(t))}function u0(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jl)(e)}function Jl(e){return JSON.stringify(e,(t,n)=>dp(n)?Object.keys(n).sort().reduce((a,i)=>(a[i]=n[i],a),{}):n)}function ec(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ec(e[n],t[n])):!1}var VI=Object.prototype.hasOwnProperty;function QE(e,t){if(e===t)return e;const n=Hy(e)&&Hy(t);if(!n&&!(dp(e)&&dp(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),r=s.length,l=n?new Array(r):{};let c=0;for(let u=0;u<r;u++){const m=n?u:s[u],d=e[m],h=t[m];if(d===h){l[m]=d,(n?u<i:VI.call(e,m))&&c++;continue}if(d===null||h===null||typeof d!="object"||typeof h!="object"){l[m]=h;continue}const f=QE(d,h);l[m]=f,f===d&&c++}return i===r&&c===i?e:l}function Hy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dp(e){if(!Fy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Fy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Fy(e){return Object.prototype.toString.call(e)==="[object Object]"}function $I(e){return new Promise(t=>{cp.setTimeout(t,e)})}function KI(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?QE(e,t):t}function WI(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}function XI(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}var d0=Symbol();function JE(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===d0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Is,Hi,to,sv,ZI=(sv=class extends ff{constructor(){super();$e(this,Is);$e(this,Hi);$e(this,to);Re(this,to,t=>{if(!hf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){te(this,Hi)||this.setEventListener(te(this,to))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,Hi))==null||t.call(this),Re(this,Hi,void 0))}setEventListener(t){var n;Re(this,to,t),(n=te(this,Hi))==null||n.call(this),Re(this,Hi,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){te(this,Is)!==t&&(Re(this,Is,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof te(this,Is)=="boolean"?te(this,Is):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Is=new WeakMap,Hi=new WeakMap,to=new WeakMap,sv),eN=new ZI;function QI(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function a(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{a({status:"fulfilled",value:i}),e(i)},n.reject=i=>{a({status:"rejected",reason:i}),t(i)},n}var JI=HI;function ez(){let e=[],t=0,n=l=>{l()},a=l=>{l()},i=JI;const s=l=>{t?e.push(l):i(()=>{n(l)})},r=()=>{const l=e;e=[],l.length&&i(()=>{a(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||r()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{i=l}}}var vn=ez(),no,Fi,ao,rv,tz=(rv=class extends ff{constructor(){super();$e(this,no,!0);$e(this,Fi);$e(this,ao);Re(this,ao,t=>{if(!hf&&window.addEventListener){const n=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){te(this,Fi)||this.setEventListener(te(this,ao))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,Fi))==null||t.call(this),Re(this,Fi,void 0))}setEventListener(t){var n;Re(this,ao,t),(n=te(this,Fi))==null||n.call(this),Re(this,Fi,t(this.setOnline.bind(this)))}setOnline(t){te(this,no)!==t&&(Re(this,no,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return te(this,no)}},no=new WeakMap,Fi=new WeakMap,ao=new WeakMap,rv),Rd=new tz;function nz(e){return Math.min(1e3*2**e,3e4)}function tN(e){return(e??"online")==="online"?Rd.isOnline():!0}var fp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function nN(e){let t=!1,n=0,a;const i=QI(),s=()=>i.status!=="pending",r=b=>{var y;if(!s()){const p=new fp(b);h(p),(y=e.onCancel)==null||y.call(e,p)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>eN.isFocused()&&(e.networkMode==="always"||Rd.isOnline())&&e.canRun(),m=()=>tN(e.networkMode)&&e.canRun(),d=b=>{s()||(a==null||a(),i.resolve(b))},h=b=>{s()||(a==null||a(),i.reject(b))},f=()=>new Promise(b=>{var y;a=p=>{(s()||u())&&b(p)},(y=e.onPause)==null||y.call(e)}).then(()=>{var b;a=void 0,s()||(b=e.onContinue)==null||b.call(e)}),g=()=>{if(s())return;let b;const y=n===0?e.initialPromise:void 0;try{b=y??e.fn()}catch(p){b=Promise.reject(p)}Promise.resolve(b).then(d).catch(p=>{var j;if(s())return;const x=e.retry??(hf?0:3),_=e.retryDelay??nz,w=typeof _=="function"?_(n,p):_,E=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,p);if(t||!E){h(p);return}n++,(j=e.onFail)==null||j.call(e,n,p),$I(w).then(()=>u()?void 0:f()).then(()=>{t?h(p):g()})})};return{promise:i,status:()=>i.status,cancel:r,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:m,start:()=>(m()?g():f().then(g),i)}}var zs,ov,aN=(ov=class{constructor(){$e(this,zs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GI(this.gcTime)&&Re(this,zs,cp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hf?1/0:5*60*1e3))}clearGcTimeout(){te(this,zs)&&(cp.clearTimeout(te(this,zs)),Re(this,zs,void 0))}},zs=new WeakMap,ov),Ls,io,ta,Us,Qt,tc,Bs,ba,ei,lv,az=(lv=class extends aN{constructor(t){super();$e(this,ba);$e(this,Ls);$e(this,io);$e(this,ta);$e(this,Us);$e(this,Qt);$e(this,tc);$e(this,Bs);Re(this,Bs,!1),Re(this,tc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Re(this,Us,t.client),Re(this,ta,te(this,Us).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Re(this,Ls,qy(this.options)),this.state=t.state??te(this,Ls),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,Qt))==null?void 0:t.promise}setOptions(t){if(this.options={...te(this,tc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=qy(this.options);n.data!==void 0&&(this.setState(Gy(n.data,n.dataUpdatedAt)),Re(this,Ls,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,ta).remove(this)}setData(t,n){const a=KI(this.state.data,t,this.options);return pn(this,ba,ei).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(t,n){pn(this,ba,ei).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var a,i;const n=(a=te(this,Qt))==null?void 0:a.promise;return(i=te(this,Qt))==null||i.cancel(t),n?n.then(ga).catch(ga):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,Ls))}isActive(){return this.observers.some(t=>YI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===d0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>up(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=te(this,Qt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=te(this,Qt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,ta).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(te(this,Qt)&&(te(this,Bs)?te(this,Qt).cancel({revert:!0}):te(this,Qt).cancelRetry()),this.scheduleGc()),te(this,ta).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pn(this,ba,ei).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,m,d,h,f,g,b,y,p,x,_;if(this.state.fetchStatus!=="idle"&&((c=te(this,Qt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(te(this,Qt))return te(this,Qt).continueRetry(),te(this,Qt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(E=>E.options.queryFn);w&&this.setOptions(w.options)}const a=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(Re(this,Bs,!0),a.signal)})},s=()=>{const w=JE(this.options,n),j=(()=>{const N={client:te(this,Us),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return Re(this,Bs,!1),this.options.persister?this.options.persister(w,j,this):w(j)},l=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:te(this,Us),state:this.state,fetchFn:s};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(l,this),Re(this,io,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=l.fetchOptions)==null?void 0:m.meta))&&pn(this,ba,ei).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),Re(this,Qt,nN({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:w=>{w instanceof fp&&w.revert&&this.setState({...te(this,io),fetchStatus:"idle"}),a.abort()},onFail:(w,E)=>{pn(this,ba,ei).call(this,{type:"failed",failureCount:w,error:E})},onPause:()=>{pn(this,ba,ei).call(this,{type:"pause"})},onContinue:()=>{pn(this,ba,ei).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const w=await te(this,Qt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(f=(h=te(this,ta).config).onSuccess)==null||f.call(h,w,this),(b=(g=te(this,ta).config).onSettled)==null||b.call(g,w,this.state.error,this),w}catch(w){if(w instanceof fp){if(w.silent)return te(this,Qt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw pn(this,ba,ei).call(this,{type:"error",error:w}),(p=(y=te(this,ta).config).onError)==null||p.call(y,w,this),(_=(x=te(this,ta).config).onSettled)==null||_.call(x,this.state.data,w,this),w}finally{this.scheduleGc()}}},Ls=new WeakMap,io=new WeakMap,ta=new WeakMap,Us=new WeakMap,Qt=new WeakMap,tc=new WeakMap,Bs=new WeakMap,ba=new WeakSet,ei=function(t){const n=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...iz(a.data,this.options),fetchMeta:t.meta??null};case"success":const i={...a,...Gy(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Re(this,io,t.manual?i:void 0),i;case"error":const s=t.error;return{...a,error:s,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=n(this.state),vn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),te(this,ta).notify({query:this,type:"updated",action:t})})},lv);function iz(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Gy(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function qy(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Yy(e){return{onFetch:(t,n)=>{var m,d,h,f,g;const a=t.options,i=(h=(d=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=t.state.data)==null?void 0:f.pages)||[],r=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let b=!1;const y=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},p=JE(t.options,t.fetchOptions),x=async(_,w,E)=>{if(b)return Promise.reject();if(w==null&&_.pages.length)return Promise.resolve(_);const N=(()=>{const W={client:t.client,queryKey:t.queryKey,pageParam:w,direction:E?"backward":"forward",meta:t.options.meta};return y(W),W})(),D=await p(N),{maxPages:z}=t.options,A=E?XI:WI;return{pages:A(_.pages,D,z),pageParams:A(_.pageParams,w,z)}};if(i&&s.length){const _=i==="backward",w=_?sz:Vy,E={pages:s,pageParams:r},j=w(a,E);l=await x(E,j,_)}else{const _=e??s.length;do{const w=c===0?r[0]??a.initialPageParam:Vy(a,l);if(c>0&&w==null)break;l=await x(l,w),c++}while(c<_)}return l};t.options.persister?t.fetchFn=()=>{var b,y;return(y=(b=t.options).persister)==null?void 0:y.call(b,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Vy(e,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,n[a],n):void 0}function sz(e,{pages:t,pageParams:n}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,n[0],n):void 0}var nc,Aa,xn,Ps,Ca,Ri,cv,rz=(cv=class extends aN{constructor(t){super();$e(this,Ca);$e(this,nc);$e(this,Aa);$e(this,xn);$e(this,Ps);Re(this,nc,t.client),this.mutationId=t.mutationId,Re(this,xn,t.mutationCache),Re(this,Aa,[]),this.state=t.state||oz(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,Aa).includes(t)||(te(this,Aa).push(t),this.clearGcTimeout(),te(this,xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Re(this,Aa,te(this,Aa).filter(n=>n!==t)),this.scheduleGc(),te(this,xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,Aa).length||(this.state.status==="pending"?this.scheduleGc():te(this,xn).remove(this))}continue(){var t;return((t=te(this,Ps))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var r,l,c,u,m,d,h,f,g,b,y,p,x,_,w,E,j,N,D,z;const n=()=>{pn(this,Ca,Ri).call(this,{type:"continue"})},a={client:te(this,nc),meta:this.options.meta,mutationKey:this.options.mutationKey};Re(this,Ps,nN({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(A,W)=>{pn(this,Ca,Ri).call(this,{type:"failed",failureCount:A,error:W})},onPause:()=>{pn(this,Ca,Ri).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,xn).canRun(this)}));const i=this.state.status==="pending",s=!te(this,Ps).canStart();try{if(i)n();else{pn(this,Ca,Ri).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(r=te(this,xn).config).onMutate)==null?void 0:l.call(r,t,this,a));const W=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,a));W!==this.state.context&&pn(this,Ca,Ri).call(this,{type:"pending",context:W,variables:t,isPaused:s})}const A=await te(this,Ps).start();return await((d=(m=te(this,xn).config).onSuccess)==null?void 0:d.call(m,A,t,this.state.context,this,a)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,A,t,this.state.context,a)),await((b=(g=te(this,xn).config).onSettled)==null?void 0:b.call(g,A,null,this.state.variables,this.state.context,this,a)),await((p=(y=this.options).onSettled)==null?void 0:p.call(y,A,null,t,this.state.context,a)),pn(this,Ca,Ri).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(x=te(this,xn).config).onError)==null?void 0:_.call(x,A,t,this.state.context,this,a)),await((E=(w=this.options).onError)==null?void 0:E.call(w,A,t,this.state.context,a)),await((N=(j=te(this,xn).config).onSettled)==null?void 0:N.call(j,void 0,A,this.state.variables,this.state.context,this,a)),await((z=(D=this.options).onSettled)==null?void 0:z.call(D,void 0,A,t,this.state.context,a)),A}finally{pn(this,Ca,Ri).call(this,{type:"error",error:A})}}finally{te(this,xn).runNext(this)}}},nc=new WeakMap,Aa=new WeakMap,xn=new WeakMap,Ps=new WeakMap,Ca=new WeakSet,Ri=function(t){const n=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),vn.batch(()=>{te(this,Aa).forEach(a=>{a.onMutationUpdate(t)}),te(this,xn).notify({mutation:this,type:"updated",action:t})})},cv);function oz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ni,xa,ac,uv,lz=(uv=class extends ff{constructor(t={}){super();$e(this,ni);$e(this,xa);$e(this,ac);this.config=t,Re(this,ni,new Set),Re(this,xa,new Map),Re(this,ac,0)}build(t,n,a){const i=new rz({client:t,mutationCache:this,mutationId:++zc(this,ac)._,options:t.defaultMutationOptions(n),state:a});return this.add(i),i}add(t){te(this,ni).add(t);const n=uu(t);if(typeof n=="string"){const a=te(this,xa).get(n);a?a.push(t):te(this,xa).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(te(this,ni).delete(t)){const n=uu(t);if(typeof n=="string"){const a=te(this,xa).get(n);if(a)if(a.length>1){const i=a.indexOf(t);i!==-1&&a.splice(i,1)}else a[0]===t&&te(this,xa).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=uu(t);if(typeof n=="string"){const a=te(this,xa).get(n),i=a==null?void 0:a.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var a;const n=uu(t);if(typeof n=="string"){const i=(a=te(this,xa).get(n))==null?void 0:a.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){vn.batch(()=>{te(this,ni).forEach(t=>{this.notify({type:"removed",mutation:t})}),te(this,ni).clear(),te(this,xa).clear()})}getAll(){return Array.from(te(this,ni))}find(t){const n={exact:!0,...t};return this.getAll().find(a=>Py(n,a))}findAll(t={}){return this.getAll().filter(n=>Py(t,n))}notify(t){vn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return vn.batch(()=>Promise.all(t.map(n=>n.continue().catch(ga))))}},ni=new WeakMap,xa=new WeakMap,ac=new WeakMap,uv);function uu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ra,dv,cz=(dv=class extends ff{constructor(t={}){super();$e(this,Ra);this.config=t,Re(this,Ra,new Map)}build(t,n,a){const i=n.queryKey,s=n.queryHash??u0(i,n);let r=this.get(s);return r||(r=new az({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:a,defaultOptions:t.getQueryDefaults(i)}),this.add(r)),r}add(t){te(this,Ra).has(t.queryHash)||(te(this,Ra).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=te(this,Ra).get(t.queryHash);n&&(t.destroy(),n===t&&te(this,Ra).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){vn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,Ra).get(t)}getAll(){return[...te(this,Ra).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(a=>By(n,a))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(a=>By(t,a)):n}notify(t){vn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ra=new WeakMap,dv),Dt,Gi,qi,so,ro,Yi,oo,lo,fv,uz=(fv=class{constructor(e={}){$e(this,Dt);$e(this,Gi);$e(this,qi);$e(this,so);$e(this,ro);$e(this,Yi);$e(this,oo);$e(this,lo);Re(this,Dt,e.queryCache||new cz),Re(this,Gi,e.mutationCache||new lz),Re(this,qi,e.defaultOptions||{}),Re(this,so,new Map),Re(this,ro,new Map),Re(this,Yi,0)}mount(){zc(this,Yi)._++,te(this,Yi)===1&&(Re(this,oo,eN.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,Dt).onFocus())})),Re(this,lo,Rd.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,Dt).onOnline())})))}unmount(){var e,t;zc(this,Yi)._--,te(this,Yi)===0&&((e=te(this,oo))==null||e.call(this),Re(this,oo,void 0),(t=te(this,lo))==null||t.call(this),Re(this,lo,void 0))}isFetching(e){return te(this,Dt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,Gi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=te(this,Dt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=te(this,Dt).build(this,t),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(up(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return te(this,Dt).findAll(e).map(({queryKey:t,state:n})=>{const a=n.data;return[t,a]})}setQueryData(e,t,n){const a=this.defaultQueryOptions({queryKey:e}),i=te(this,Dt).get(a.queryHash),s=i==null?void 0:i.state.data,r=FI(t,s);if(r!==void 0)return te(this,Dt).build(this,a).setData(r,{...n,manual:!0})}setQueriesData(e,t,n){return vn.batch(()=>te(this,Dt).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=te(this,Dt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=te(this,Dt);vn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=te(this,Dt);return vn.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},a=vn.batch(()=>te(this,Dt).findAll(e).map(i=>i.cancel(n)));return Promise.all(a).then(ga).catch(ga)}invalidateQueries(e,t={}){return vn.batch(()=>(te(this,Dt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=vn.batch(()=>te(this,Dt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ga)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(a).then(ga)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=te(this,Dt).build(this,t);return n.isStaleByTime(up(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ga).catch(ga)}fetchInfiniteQuery(e){return e.behavior=Yy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ga).catch(ga)}ensureInfiniteQueryData(e){return e.behavior=Yy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rd.isOnline()?te(this,Gi).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Dt)}getMutationCache(){return te(this,Gi)}getDefaultOptions(){return te(this,qi)}setDefaultOptions(e){Re(this,qi,e)}setQueryDefaults(e,t){te(this,so).set(Jl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,so).values()],n={};return t.forEach(a=>{ec(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,t){te(this,ro).set(Jl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,ro).values()],n={};return t.forEach(a=>{ec(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,qi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=u0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===d0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,qi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,Dt).clear(),te(this,Gi).clear()}},Dt=new WeakMap,Gi=new WeakMap,qi=new WeakMap,so=new WeakMap,ro=new WeakMap,Yi=new WeakMap,oo=new WeakMap,lo=new WeakMap,fv),dz=H.createContext(void 0),fz=({client:e,children:t})=>(H.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(dz.Provider,{value:e,children:t}));function du(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var iN={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(a,i,s){function r(u,m){if(!i[u]){if(!a[u]){var d=typeof du=="function"&&du;if(!m&&d)return d(u,!0);if(l)return l(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[u]={exports:{}};a[u][0].call(f.exports,function(g){var b=a[u][1][g];return r(b||g)},f,f.exports,n,a,i,s)}return i[u].exports}for(var l=typeof du=="function"&&du,c=0;c<s.length;c++)r(s[c]);return r}({1:[function(n,a,i){var s=n("./utils"),r=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var u,m,d,h,f,g,b,y=[],p=0,x=c.length,_=x,w=s.getTypeOf(c)!=="string";p<c.length;)_=x-p,d=w?(u=c[p++],m=p<x?c[p++]:0,p<x?c[p++]:0):(u=c.charCodeAt(p++),m=p<x?c.charCodeAt(p++):0,p<x?c.charCodeAt(p++):0),h=u>>2,f=(3&u)<<4|m>>4,g=1<_?(15&m)<<2|d>>6:64,b=2<_?63&d:64,y.push(l.charAt(h)+l.charAt(f)+l.charAt(g)+l.charAt(b));return y.join("")},i.decode=function(c){var u,m,d,h,f,g,b=0,y=0,p="data:";if(c.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var x,_=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&_--,c.charAt(c.length-2)===l.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=r.uint8array?new Uint8Array(0|_):new Array(0|_);b<c.length;)u=l.indexOf(c.charAt(b++))<<2|(h=l.indexOf(c.charAt(b++)))>>4,m=(15&h)<<4|(f=l.indexOf(c.charAt(b++)))>>2,d=(3&f)<<6|(g=l.indexOf(c.charAt(b++))),x[y++]=u,f!==64&&(x[y++]=m),g!==64&&(x[y++]=d);return x}},{"./support":30,"./utils":32}],2:[function(n,a,i){var s=n("./external"),r=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(m,d,h,f,g){this.compressedSize=m,this.uncompressedSize=d,this.crc32=h,this.compression=f,this.compressedContent=g}u.prototype={getContentWorker:function(){var m=new r(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),d=this;return m.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new r(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(m,d,h){return m.pipe(new l).pipe(new c("uncompressedSize")).pipe(d.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",d)},a.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,a,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,a,i){var s=n("./utils"),r=function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var m=0;m<8;m++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c}();a.exports=function(l,c){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?function(u,m,d,h){var f=r,g=h+d;u^=-1;for(var b=h;b<g;b++)u=u>>>8^f[255&(u^m[b])];return-1^u}(0|c,l,l.length,0):function(u,m,d,h){var f=r,g=h+d;u^=-1;for(var b=h;b<g;b++)u=u>>>8^f[255&(u^m.charCodeAt(b))];return-1^u}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(n,a,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,a,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),a.exports={Promise:s}},{lie:37}],7:[function(n,a,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",r=n("pako"),l=n("./utils"),c=n("./stream/GenericWorker"),u=s?"uint8array":"array";function m(d,h){c.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=h,this.meta={}}i.magic="\b\0",l.inherits(m,c),m.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,d.data),!1)},m.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(h){d.push({data:h,meta:d.meta})}},i.compressWorker=function(d){return new m("Deflate",d)},i.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,a,i){function s(f,g){var b,y="";for(b=0;b<g;b++)y+=String.fromCharCode(255&f),f>>>=8;return y}function r(f,g,b,y,p,x){var _,w,E=f.file,j=f.compression,N=x!==u.utf8encode,D=l.transformTo("string",x(E.name)),z=l.transformTo("string",u.utf8encode(E.name)),A=E.comment,W=l.transformTo("string",x(A)),T=l.transformTo("string",u.utf8encode(A)),I=z.length!==E.name.length,S=T.length!==A.length,R="",F="",q="",V=E.dir,K=E.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};g&&!b||(Z.crc32=f.crc32,Z.compressedSize=f.compressedSize,Z.uncompressedSize=f.uncompressedSize);var O=0;g&&(O|=8),N||!I&&!S||(O|=2048);var L=0,ce=0;V&&(L|=16),p==="UNIX"?(ce=798,L|=function(re,Le){var Pe=re;return re||(Pe=Le?16893:33204),(65535&Pe)<<16}(E.unixPermissions,V)):(ce=20,L|=function(re){return 63&(re||0)}(E.dosPermissions)),_=K.getUTCHours(),_<<=6,_|=K.getUTCMinutes(),_<<=5,_|=K.getUTCSeconds()/2,w=K.getUTCFullYear()-1980,w<<=4,w|=K.getUTCMonth()+1,w<<=5,w|=K.getUTCDate(),I&&(F=s(1,1)+s(m(D),4)+z,R+="up"+s(F.length,2)+F),S&&(q=s(1,1)+s(m(W),4)+T,R+="uc"+s(q.length,2)+q);var oe="";return oe+=`
\0`,oe+=s(O,2),oe+=j.magic,oe+=s(_,2),oe+=s(w,2),oe+=s(Z.crc32,4),oe+=s(Z.compressedSize,4),oe+=s(Z.uncompressedSize,4),oe+=s(D.length,2),oe+=s(R.length,2),{fileRecord:d.LOCAL_FILE_HEADER+oe+D+R,dirRecord:d.CENTRAL_FILE_HEADER+s(ce,2)+oe+s(W.length,2)+"\0\0\0\0"+s(L,4)+s(y,4)+D+R+W}}var l=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),m=n("../crc32"),d=n("../signature");function h(f,g,b,y){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=b,this.encodeFileName=y,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(h,c),h.prototype.push=function(f){var g=f.meta.percent||0,b=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,c.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:b?(g+100*(b-y-1))/b:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var g=this.streamFiles&&!f.file.dir;if(g){var b=r(f,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var g=this.streamFiles&&!f.file.dir,b=r(f,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),g)this.push({data:function(y){return d.DATA_DESCRIPTOR+s(y.crc32,4)+s(y.compressedSize,4)+s(y.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var b=this.bytesWritten-f,y=function(p,x,_,w,E){var j=l.transformTo("string",E(w));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(p,2)+s(p,2)+s(x,4)+s(_,4)+s(j.length,2)+j}(this.dirRecords.length,b,f,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var g=this;return f.on("data",function(b){g.processChunk(b)}),f.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),f.on("error",function(b){g.error(b)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var g=this._sources;if(!c.prototype.error.call(this,f))return!1;for(var b=0;b<g.length;b++)try{g[b].error(f)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var f=this._sources,g=0;g<f.length;g++)f[g].lock()},a.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,a,i){var s=n("../compressions"),r=n("./ZipFileWorker");i.generateWorker=function(l,c,u){var m=new r(c.streamFiles,u,c.platform,c.encodeFileName),d=0;try{l.forEach(function(h,f){d++;var g=function(x,_){var w=x||_,E=s[w];if(!E)throw new Error(w+" is not a valid compression method !");return E}(f.options.compression,c.compression),b=f.options.compressionOptions||c.compressionOptions||{},y=f.dir,p=f.date;f._compressWorker(g,b).withStreamInfo("file",{name:h,dir:y,date:p,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(m)}),m.entriesCount=d}catch(h){m.error(h)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,a,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var r=new s;for(var l in this)typeof this[l]!="function"&&(r[l]=this[l]);return r}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(r,l){return new s().loadAsync(r,l)},s.external=n("./external"),a.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,a,i){var s=n("./utils"),r=n("./external"),l=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),m=n("./nodejsUtils");function d(h){return new r.Promise(function(f,g){var b=h.decompressed.getContentWorker().pipe(new u);b.on("error",function(y){g(y)}).on("end",function(){b.streamInfo.crc32!==h.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}a.exports=function(h,f){var g=this;return f=s.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),m.isNode&&m.isStream(h)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(b){var y=new c(f);return y.load(b),y}).then(function(b){var y=[r.Promise.resolve(b)],p=b.files;if(f.checkCRC32)for(var x=0;x<p.length;x++)y.push(d(p[x]));return r.Promise.all(y)}).then(function(b){for(var y=b.shift(),p=y.files,x=0;x<p.length;x++){var _=p[x],w=_.fileNameStr,E=s.resolve(_.fileNameStr);g.file(E,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:f.createFolders}),_.dir||(g.file(E).unsafeOriginalName=w)}return y.zipComment.length&&(g.comment=y.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,a,i){var s=n("../utils"),r=n("../stream/GenericWorker");function l(c,u){r.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(l,r),l.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(m){u.push({data:m,meta:{percent:0}})}).on("error",function(m){u.isPaused?this.generatedError=m:u.error(m)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,a,i){var s=n("readable-stream").Readable;function r(l,c,u){s.call(this,c),this._helper=l;var m=this;l.on("data",function(d,h){m.push(d)||m._helper.pause(),u&&u(h)}).on("error",function(d){m.emit("error",d)}).on("end",function(){m.push(null)})}n("../utils").inherits(r,s),r.prototype._read=function(){this._helper.resume()},a.exports=r},{"../utils":32,"readable-stream":16}],14:[function(n,a,i){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,r){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,r);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,r)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var r=new Buffer(s);return r.fill(0),r},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,a,i){function s(E,j,N){var D,z=l.getTypeOf(j),A=l.extend(N||{},m);A.date=A.date||new Date,A.compression!==null&&(A.compression=A.compression.toUpperCase()),typeof A.unixPermissions=="string"&&(A.unixPermissions=parseInt(A.unixPermissions,8)),A.unixPermissions&&16384&A.unixPermissions&&(A.dir=!0),A.dosPermissions&&16&A.dosPermissions&&(A.dir=!0),A.dir&&(E=p(E)),A.createFolders&&(D=y(E))&&x.call(this,D,!0);var W=z==="string"&&A.binary===!1&&A.base64===!1;N&&N.binary!==void 0||(A.binary=!W),(j instanceof d&&j.uncompressedSize===0||A.dir||!j||j.length===0)&&(A.base64=!1,A.binary=!0,j="",A.compression="STORE",z="string");var T=null;T=j instanceof d||j instanceof c?j:g.isNode&&g.isStream(j)?new b(E,j):l.prepareContent(E,j,A.binary,A.optimizedBinaryString,A.base64);var I=new h(E,T,A);this.files[E]=I}var r=n("./utf8"),l=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),m=n("./defaults"),d=n("./compressedObject"),h=n("./zipObject"),f=n("./generate"),g=n("./nodejsUtils"),b=n("./nodejs/NodejsStreamInputAdapter"),y=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var j=E.lastIndexOf("/");return 0<j?E.substring(0,j):""},p=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},x=function(E,j){return j=j!==void 0?j:m.createFolders,E=p(E),this.files[E]||s.call(this,E,null,{dir:!0,createFolders:j}),this.files[E]};function _(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var j,N,D;for(j in this.files)D=this.files[j],(N=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&E(N,D)},filter:function(E){var j=[];return this.forEach(function(N,D){E(N,D)&&j.push(D)}),j},file:function(E,j,N){if(arguments.length!==1)return E=this.root+E,s.call(this,E,j,N),this;if(_(E)){var D=E;return this.filter(function(A,W){return!W.dir&&D.test(A)})}var z=this.files[this.root+E];return z&&!z.dir?z:null},folder:function(E){if(!E)return this;if(_(E))return this.filter(function(z,A){return A.dir&&E.test(z)});var j=this.root+E,N=x.call(this,j),D=this.clone();return D.root=N.name,D},remove:function(E){E=this.root+E;var j=this.files[E];if(j||(E.slice(-1)!=="/"&&(E+="/"),j=this.files[E]),j&&!j.dir)delete this.files[E];else for(var N=this.filter(function(z,A){return A.name.slice(0,E.length)===E}),D=0;D<N.length;D++)delete this.files[N[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var j,N={};try{if((N=l.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");l.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var D=N.comment||this.comment||"";j=f.generateWorker(this,N,D)}catch(z){(j=new c("error")).error(z)}return new u(j,N.type||"string",N.mimeType)},generateAsync:function(E,j){return this.generateInternalStream(E).accumulate(j)},generateNodeStream:function(E,j){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(j)}};a.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,a,i){a.exports=n("stream")},{stream:void 0}],17:[function(n,a,i){var s=n("./DataReader");function r(l){s.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}n("../utils").inherits(r,s),r.prototype.byteAt=function(l){return this.data[this.zero+l]},r.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),u=l.charCodeAt(1),m=l.charCodeAt(2),d=l.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===u&&this.data[h+2]===m&&this.data[h+3]===d)return h-this.zero;return-1},r.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),u=l.charCodeAt(1),m=l.charCodeAt(2),d=l.charCodeAt(3),h=this.readData(4);return c===h[0]&&u===h[1]&&m===h[2]&&d===h[3]},r.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},a.exports=r},{"../utils":32,"./DataReader":18}],18:[function(n,a,i){var s=n("../utils");function r(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,u=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=l,u},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},a.exports=r},{"../utils":32}],19:[function(n,a,i){var s=n("./Uint8ArrayReader");function r(l){s.call(this,l)}n("../utils").inherits(r,s),r.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},a.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,a,i){var s=n("./DataReader");function r(l){s.call(this,l)}n("../utils").inherits(r,s),r.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},r.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},r.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},r.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},a.exports=r},{"../utils":32,"./DataReader":18}],21:[function(n,a,i){var s=n("./ArrayReader");function r(l){s.call(this,l)}n("../utils").inherits(r,s),r.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},a.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(n,a,i){var s=n("../utils"),r=n("../support"),l=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),m=n("./Uint8ArrayReader");a.exports=function(d){var h=s.getTypeOf(d);return s.checkSupport(h),h!=="string"||r.uint8array?h==="nodebuffer"?new u(d):r.uint8array?new m(s.transformTo("uint8array",d)):new l(s.transformTo("array",d)):new c(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,a,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,a,i){var s=n("./GenericWorker"),r=n("../utils");function l(c){s.call(this,"ConvertWorker to "+c),this.destType=c}r.inherits(l,s),l.prototype.processChunk=function(c){this.push({data:r.transformTo(this.destType,c.data),meta:c.meta})},a.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,a,i){var s=n("./GenericWorker"),r=n("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,s),l.prototype.processChunk=function(c){this.streamInfo.crc32=r(c.data,this.streamInfo.crc32||0),this.push(c)},a.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,a,i){var s=n("../utils"),r=n("./GenericWorker");function l(c){r.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(l,r),l.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}r.prototype.processChunk.call(this,c)},a.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,a,i){var s=n("../utils"),r=n("./GenericWorker");function l(c){r.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(m){u.dataIsReady=!0,u.data=m,u.max=m&&m.length||0,u.type=s.getTypeOf(m),u.isPaused||u._tickAndRepeat()},function(m){u.error(m)})}s.inherits(l,r),l.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,a,i){function s(r){this.name=r||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(r){this.emit("data",r)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(r){this.emit("error",r)}return!0},error:function(r){return!this.isFinished&&(this.isPaused?this.generatedError=r:(this.isFinished=!0,this.emit("error",r),this.previous&&this.previous.error(r),this.cleanUp()),!0)},on:function(r,l){return this._listeners[r].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(r,l){if(this._listeners[r])for(var c=0;c<this._listeners[r].length;c++)this._listeners[r][c].call(this,l)},pipe:function(r){return r.registerPrevious(this)},registerPrevious:function(r){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=r.streamInfo,this.mergeStreamInfo(),this.previous=r;var l=this;return r.on("data",function(c){l.processChunk(c)}),r.on("end",function(){l.end()}),r.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var r=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),r=!0),this.previous&&this.previous.resume(),!r},flush:function(){},processChunk:function(r){this.push(r)},withStreamInfo:function(r,l){return this.extraStreamInfo[r]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var r in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,r)&&(this.streamInfo[r]=this.extraStreamInfo[r])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var r="Worker "+this.name;return this.previous?this.previous+" -> "+r:r}},a.exports=s},{}],29:[function(n,a,i){var s=n("../utils"),r=n("./ConvertWorker"),l=n("./GenericWorker"),c=n("../base64"),u=n("../support"),m=n("../external"),d=null;if(u.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(g,b){return new m.Promise(function(y,p){var x=[],_=g._internalType,w=g._outputType,E=g._mimeType;g.on("data",function(j,N){x.push(j),b&&b(N)}).on("error",function(j){x=[],p(j)}).on("end",function(){try{var j=function(N,D,z){switch(N){case"blob":return s.newBlob(s.transformTo("arraybuffer",D),z);case"base64":return c.encode(D);default:return s.transformTo(N,D)}}(w,function(N,D){var z,A=0,W=null,T=0;for(z=0;z<D.length;z++)T+=D[z].length;switch(N){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(W=new Uint8Array(T),z=0;z<D.length;z++)W.set(D[z],A),A+=D[z].length;return W;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+N+"'")}}(_,x),E);y(j)}catch(N){p(N)}x=[]}).resume()})}function f(g,b,y){var p=b;switch(b){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=b,this._mimeType=y,s.checkSupport(p),this._worker=g.pipe(new r(p)),g.lock()}catch(x){this._worker=new l("error"),this._worker.error(x)}}f.prototype={accumulate:function(g){return h(this,g)},on:function(g,b){var y=this;return g==="data"?this._worker.on(g,function(p){b.call(y,p.data,p.meta)}):this._worker.on(g,function(){s.delay(b,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},g)}},a.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,a,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(s),i.blob=r.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,a,i){for(var s=n("./utils"),r=n("./support"),l=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),m=0;m<256;m++)u[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;u[254]=u[254]=1;function d(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}i.utf8encode=function(f){return r.nodebuffer?l.newBufferFrom(f,"utf-8"):function(g){var b,y,p,x,_,w=g.length,E=0;for(x=0;x<w;x++)(64512&(y=g.charCodeAt(x)))==55296&&x+1<w&&(64512&(p=g.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(p-56320),x++),E+=y<128?1:y<2048?2:y<65536?3:4;for(b=r.uint8array?new Uint8Array(E):new Array(E),x=_=0;_<E;x++)(64512&(y=g.charCodeAt(x)))==55296&&x+1<w&&(64512&(p=g.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(p-56320),x++),y<128?b[_++]=y:(y<2048?b[_++]=192|y>>>6:(y<65536?b[_++]=224|y>>>12:(b[_++]=240|y>>>18,b[_++]=128|y>>>12&63),b[_++]=128|y>>>6&63),b[_++]=128|63&y);return b}(f)},i.utf8decode=function(f){return r.nodebuffer?s.transformTo("nodebuffer",f).toString("utf-8"):function(g){var b,y,p,x,_=g.length,w=new Array(2*_);for(b=y=0;b<_;)if((p=g[b++])<128)w[y++]=p;else if(4<(x=u[p]))w[y++]=65533,b+=x-1;else{for(p&=x===2?31:x===3?15:7;1<x&&b<_;)p=p<<6|63&g[b++],x--;1<x?w[y++]=65533:p<65536?w[y++]=p:(p-=65536,w[y++]=55296|p>>10&1023,w[y++]=56320|1023&p)}return w.length!==y&&(w.subarray?w=w.subarray(0,y):w.length=y),s.applyFromCharCode(w)}(f=s.transformTo(r.uint8array?"uint8array":"array",f))},s.inherits(d,c),d.prototype.processChunk=function(f){var g=s.transformTo(r.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var b=g;(g=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),g.set(b,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var y=function(x,_){var w;for((_=_||x.length)>x.length&&(_=x.length),w=_-1;0<=w&&(192&x[w])==128;)w--;return w<0||w===0?_:w+u[x[w]]>_?w:_}(g),p=g;y!==g.length&&(r.uint8array?(p=g.subarray(0,y),this.leftOver=g.subarray(y,g.length)):(p=g.slice(0,y),this.leftOver=g.slice(y,g.length))),this.push({data:i.utf8decode(p),meta:f.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,s.inherits(h,c),h.prototype.processChunk=function(f){this.push({data:i.utf8encode(f.data),meta:f.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,a,i){var s=n("./support"),r=n("./base64"),l=n("./nodejsUtils"),c=n("./external");function u(b){return b}function m(b,y){for(var p=0;p<b.length;++p)y[p]=255&b.charCodeAt(p);return y}n("setimmediate"),i.newBlob=function(b,y){i.checkSupport("blob");try{return new Blob([b],{type:y})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(b),p.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(b,y,p){var x=[],_=0,w=b.length;if(w<=p)return String.fromCharCode.apply(null,b);for(;_<w;)y==="array"||y==="nodebuffer"?x.push(String.fromCharCode.apply(null,b.slice(_,Math.min(_+p,w)))):x.push(String.fromCharCode.apply(null,b.subarray(_,Math.min(_+p,w)))),_+=p;return x.join("")},stringifyByChar:function(b){for(var y="",p=0;p<b.length;p++)y+=String.fromCharCode(b[p]);return y},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function h(b){var y=65536,p=i.getTypeOf(b),x=!0;if(p==="uint8array"?x=d.applyCanBeUsed.uint8array:p==="nodebuffer"&&(x=d.applyCanBeUsed.nodebuffer),x)for(;1<y;)try{return d.stringifyByChunk(b,p,y)}catch{y=Math.floor(y/2)}return d.stringifyByChar(b)}function f(b,y){for(var p=0;p<b.length;p++)y[p]=b[p];return y}i.applyFromCharCode=h;var g={};g.string={string:u,array:function(b){return m(b,new Array(b.length))},arraybuffer:function(b){return g.string.uint8array(b).buffer},uint8array:function(b){return m(b,new Uint8Array(b.length))},nodebuffer:function(b){return m(b,l.allocBuffer(b.length))}},g.array={string:h,array:u,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return l.newBufferFrom(b)}},g.arraybuffer={string:function(b){return h(new Uint8Array(b))},array:function(b){return f(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:u,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return l.newBufferFrom(new Uint8Array(b))}},g.uint8array={string:h,array:function(b){return f(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:u,nodebuffer:function(b){return l.newBufferFrom(b)}},g.nodebuffer={string:h,array:function(b){return f(b,new Array(b.length))},arraybuffer:function(b){return g.nodebuffer.uint8array(b).buffer},uint8array:function(b){return f(b,new Uint8Array(b.length))},nodebuffer:u},i.transformTo=function(b,y){if(y=y||"",!b)return y;i.checkSupport(b);var p=i.getTypeOf(y);return g[p][b](y)},i.resolve=function(b){for(var y=b.split("/"),p=[],x=0;x<y.length;x++){var _=y[x];_==="."||_===""&&x!==0&&x!==y.length-1||(_===".."?p.pop():p.push(_))}return p.join("/")},i.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(b)?"nodebuffer":s.uint8array&&b instanceof Uint8Array?"uint8array":s.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(b){if(!s[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(b){var y,p,x="";for(p=0;p<(b||"").length;p++)x+="\\x"+((y=b.charCodeAt(p))<16?"0":"")+y.toString(16).toUpperCase();return x},i.delay=function(b,y,p){setImmediate(function(){b.apply(p||null,y||[])})},i.inherits=function(b,y){function p(){}p.prototype=y.prototype,b.prototype=new p},i.extend=function(){var b,y,p={};for(b=0;b<arguments.length;b++)for(y in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],y)&&p[y]===void 0&&(p[y]=arguments[b][y]);return p},i.prepareContent=function(b,y,p,x,_){return c.Promise.resolve(y).then(function(w){return s.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new c.Promise(function(E,j){var N=new FileReader;N.onload=function(D){E(D.target.result)},N.onerror=function(D){j(D.target.error)},N.readAsArrayBuffer(w)}):w}).then(function(w){var E=i.getTypeOf(w);return E?(E==="arraybuffer"?w=i.transformTo("uint8array",w):E==="string"&&(_?w=r.decode(w):p&&x!==!0&&(w=function(j){return m(j,s.uint8array?new Uint8Array(j.length):new Array(j.length))}(w))),w):c.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,a,i){var s=n("./reader/readerFor"),r=n("./utils"),l=n("./signature"),c=n("./zipEntry"),u=n("./support");function m(d){this.files=[],this.loadOptions=d}m.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(h)+", expected "+r.pretty(d)+")")}},isSignature:function(d,h){var f=this.reader.index;this.reader.setIndex(d);var g=this.reader.readString(4)===h;return this.reader.setIndex(f),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",f=r.transformTo(h,d);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,h,f,g=this.zip64EndOfCentralSize-44;0<g;)d=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[d]={id:d,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,h;for(d=0;d<this.files.length;d++)h=this.files[d],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(d=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var h=d;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var g=h-f;if(0<g)this.isSignature(h,l.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,a,i){var s=n("./reader/readerFor"),r=n("./utils"),l=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),m=n("./compressions"),d=n("./support");function h(f,g){this.options=f,this.loadOptions=g}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var g,b;if(f.skip(22),this.fileNameLength=f.readInt(2),b=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(y){for(var p in m)if(Object.prototype.hasOwnProperty.call(m,p)&&m[p].magic===y)return m[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,g,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var g=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(g),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=s(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var g,b,y,p=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<p;)g=f.readInt(2),b=f.readInt(2),y=f.readData(b),this.extraFields[g]={id:g,length:b,value:y};f.setIndex(p)},handleUTF8:function(){var f=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var b=r.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var p=r.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var g=s(f.value);return g.readInt(1)!==1||c(this.fileName)!==g.readInt(4)?null:u.utf8decode(g.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var g=s(f.value);return g.readInt(1)!==1||c(this.fileComment)!==g.readInt(4)?null:u.utf8decode(g.readData(f.length-5))}return null}},a.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,a,i){function s(g,b,y){this.name=g,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=b,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var r=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),m=n("./stream/GenericWorker");s.prototype={internalStream:function(g){var b=null,y="string";try{if(!g)throw new Error("No output type specified.");var p=(y=g.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),b=this._decompressWorker();var x=!this._dataBinary;x&&!p&&(b=b.pipe(new c.Utf8EncodeWorker)),!x&&p&&(b=b.pipe(new c.Utf8DecodeWorker))}catch(_){(b=new m("error")).error(_)}return new r(b,y,"")},async:function(g,b){return this.internalStream(g).accumulate(b)},nodeStream:function(g,b){return this.internalStream(g||"nodebuffer").toNodejsStream(b)},_compressWorker:function(g,b){if(this._data instanceof u&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(y,g,b)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof m?this._data:new l(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<d.length;f++)s.prototype[d[f]]=h;a.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,a,i){(function(s){var r,l,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var u=0,m=new c(g),d=s.document.createTextNode("");m.observe(d,{characterData:!0}),r=function(){d.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)r="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var b=s.document.createElement("script");b.onreadystatechange=function(){g(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},s.document.documentElement.appendChild(b)}:function(){setTimeout(g,0)};else{var h=new s.MessageChannel;h.port1.onmessage=g,r=function(){h.port2.postMessage(0)}}var f=[];function g(){var b,y;l=!0;for(var p=f.length;p;){for(y=f,f=[],b=-1;++b<p;)y[b]();p=f.length}l=!1}a.exports=function(b){f.push(b)!==1||l||r()}}).call(this,typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,a,i){var s=n("immediate");function r(){}var l={},c=["REJECTED"],u=["FULFILLED"],m=["PENDING"];function d(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,p!==r&&b(this,p)}function h(p,x,_){this.promise=p,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function f(p,x,_){s(function(){var w;try{w=x(_)}catch(E){return l.reject(p,E)}w===p?l.reject(p,new TypeError("Cannot resolve promise with itself")):l.resolve(p,w)})}function g(p){var x=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof x=="function")return function(){x.apply(p,arguments)}}function b(p,x){var _=!1;function w(N){_||(_=!0,l.reject(p,N))}function E(N){_||(_=!0,l.resolve(p,N))}var j=y(function(){x(E,w)});j.status==="error"&&w(j.value)}function y(p,x){var _={};try{_.value=p(x),_.status="success"}catch(w){_.status="error",_.value=w}return _}(a.exports=d).prototype.finally=function(p){if(typeof p!="function")return this;var x=this.constructor;return this.then(function(_){return x.resolve(p()).then(function(){return _})},function(_){return x.resolve(p()).then(function(){throw _})})},d.prototype.catch=function(p){return this.then(null,p)},d.prototype.then=function(p,x){if(typeof p!="function"&&this.state===u||typeof x!="function"&&this.state===c)return this;var _=new this.constructor(r);return this.state!==m?f(_,this.state===u?p:x,this.outcome):this.queue.push(new h(_,p,x)),_},h.prototype.callFulfilled=function(p){l.resolve(this.promise,p)},h.prototype.otherCallFulfilled=function(p){f(this.promise,this.onFulfilled,p)},h.prototype.callRejected=function(p){l.reject(this.promise,p)},h.prototype.otherCallRejected=function(p){f(this.promise,this.onRejected,p)},l.resolve=function(p,x){var _=y(g,x);if(_.status==="error")return l.reject(p,_.value);var w=_.value;if(w)b(p,w);else{p.state=u,p.outcome=x;for(var E=-1,j=p.queue.length;++E<j;)p.queue[E].callFulfilled(x)}return p},l.reject=function(p,x){p.state=c,p.outcome=x;for(var _=-1,w=p.queue.length;++_<w;)p.queue[_].callRejected(x);return p},d.resolve=function(p){return p instanceof this?p:l.resolve(new this(r),p)},d.reject=function(p){var x=new this(r);return l.reject(x,p)},d.all=function(p){var x=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=p.length,w=!1;if(!_)return this.resolve([]);for(var E=new Array(_),j=0,N=-1,D=new this(r);++N<_;)z(p[N],N);return D;function z(A,W){x.resolve(A).then(function(T){E[W]=T,++j!==_||w||(w=!0,l.resolve(D,E))},function(T){w||(w=!0,l.reject(D,T))})}},d.race=function(p){var x=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=p.length,w=!1;if(!_)return this.resolve([]);for(var E=-1,j=new this(r);++E<_;)N=p[E],x.resolve(N).then(function(D){w||(w=!0,l.resolve(j,D))},function(D){w||(w=!0,l.reject(j,D))});var N;return j}},{immediate:36}],38:[function(n,a,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),a.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,a,i){var s=n("./zlib/deflate"),r=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),m=Object.prototype.toString,d=0,h=-1,f=0,g=8;function b(p){if(!(this instanceof b))return new b(p);this.options=r.assign({level:h,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},p||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(_!==d)throw new Error(c[_]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var w;if(w=typeof x.dictionary=="string"?l.string2buf(x.dictionary):m.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(_=s.deflateSetDictionary(this.strm,w))!==d)throw new Error(c[_]);this._dict_set=!0}}function y(p,x){var _=new b(x);if(_.push(p,!0),_.err)throw _.msg||c[_.err];return _.result}b.prototype.push=function(p,x){var _,w,E=this.strm,j=this.options.chunkSize;if(this.ended)return!1;w=x===~~x?x:x===!0?4:0,typeof p=="string"?E.input=l.string2buf(p):m.call(p)==="[object ArrayBuffer]"?E.input=new Uint8Array(p):E.input=p,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new r.Buf8(j),E.next_out=0,E.avail_out=j),(_=s.deflate(E,w))!==1&&_!==d)return this.onEnd(_),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(r.shrinkBuf(E.output,E.next_out))):this.onData(r.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&_!==1);return w===4?(_=s.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===d):w!==2||(this.onEnd(d),!(E.avail_out=0))},b.prototype.onData=function(p){this.chunks.push(p)},b.prototype.onEnd=function(p){p===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Deflate=b,i.deflate=y,i.deflateRaw=function(p,x){return(x=x||{}).raw=!0,y(p,x)},i.gzip=function(p,x){return(x=x||{}).gzip=!0,y(p,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,a,i){var s=n("./zlib/inflate"),r=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),m=n("./zlib/zstream"),d=n("./zlib/gzheader"),h=Object.prototype.toString;function f(b){if(!(this instanceof f))return new f(b);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},b||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||b&&b.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var p=s.inflateInit2(this.strm,y.windowBits);if(p!==c.Z_OK)throw new Error(u[p]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function g(b,y){var p=new f(y);if(p.push(b,!0),p.err)throw p.msg||u[p.err];return p.result}f.prototype.push=function(b,y){var p,x,_,w,E,j,N=this.strm,D=this.options.chunkSize,z=this.options.dictionary,A=!1;if(this.ended)return!1;x=y===~~y?y:y===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof b=="string"?N.input=l.binstring2buf(b):h.call(b)==="[object ArrayBuffer]"?N.input=new Uint8Array(b):N.input=b,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new r.Buf8(D),N.next_out=0,N.avail_out=D),(p=s.inflate(N,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&z&&(j=typeof z=="string"?l.string2buf(z):h.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,p=s.inflateSetDictionary(this.strm,j)),p===c.Z_BUF_ERROR&&A===!0&&(p=c.Z_OK,A=!1),p!==c.Z_STREAM_END&&p!==c.Z_OK)return this.onEnd(p),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&p!==c.Z_STREAM_END&&(N.avail_in!==0||x!==c.Z_FINISH&&x!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=l.utf8border(N.output,N.next_out),w=N.next_out-_,E=l.buf2string(N.output,_),N.next_out=w,N.avail_out=D-w,w&&r.arraySet(N.output,N.output,_,w,0),this.onData(E)):this.onData(r.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(A=!0)}while((0<N.avail_in||N.avail_out===0)&&p!==c.Z_STREAM_END);return p===c.Z_STREAM_END&&(x=c.Z_FINISH),x===c.Z_FINISH?(p=s.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===c.Z_OK):x!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(N.avail_out=0))},f.prototype.onData=function(b){this.chunks.push(b)},f.prototype.onEnd=function(b){b===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Inflate=f,i.inflate=g,i.inflateRaw=function(b,y){return(y=y||{}).raw=!0,g(b,y)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,a,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var m=u.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var d in m)m.hasOwnProperty(d)&&(c[d]=m[d])}}return c},i.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var r={arraySet:function(c,u,m,d,h){if(u.subarray&&c.subarray)c.set(u.subarray(m,m+d),h);else for(var f=0;f<d;f++)c[h+f]=u[m+f]},flattenChunks:function(c){var u,m,d,h,f,g;for(u=d=0,m=c.length;u<m;u++)d+=c[u].length;for(g=new Uint8Array(d),u=h=0,m=c.length;u<m;u++)f=c[u],g.set(f,h),h+=f.length;return g}},l={arraySet:function(c,u,m,d,h){for(var f=0;f<d;f++)c[h+f]=u[m+f]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(s)},{}],42:[function(n,a,i){var s=n("./common"),r=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new s.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function m(d,h){if(h<65537&&(d.subarray&&l||!d.subarray&&r))return String.fromCharCode.apply(null,s.shrinkBuf(d,h));for(var f="",g=0;g<h;g++)f+=String.fromCharCode(d[g]);return f}c[254]=c[254]=1,i.string2buf=function(d){var h,f,g,b,y,p=d.length,x=0;for(b=0;b<p;b++)(64512&(f=d.charCodeAt(b)))==55296&&b+1<p&&(64512&(g=d.charCodeAt(b+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),b++),x+=f<128?1:f<2048?2:f<65536?3:4;for(h=new s.Buf8(x),b=y=0;y<x;b++)(64512&(f=d.charCodeAt(b)))==55296&&b+1<p&&(64512&(g=d.charCodeAt(b+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),b++),f<128?h[y++]=f:(f<2048?h[y++]=192|f>>>6:(f<65536?h[y++]=224|f>>>12:(h[y++]=240|f>>>18,h[y++]=128|f>>>12&63),h[y++]=128|f>>>6&63),h[y++]=128|63&f);return h},i.buf2binstring=function(d){return m(d,d.length)},i.binstring2buf=function(d){for(var h=new s.Buf8(d.length),f=0,g=h.length;f<g;f++)h[f]=d.charCodeAt(f);return h},i.buf2string=function(d,h){var f,g,b,y,p=h||d.length,x=new Array(2*p);for(f=g=0;f<p;)if((b=d[f++])<128)x[g++]=b;else if(4<(y=c[b]))x[g++]=65533,f+=y-1;else{for(b&=y===2?31:y===3?15:7;1<y&&f<p;)b=b<<6|63&d[f++],y--;1<y?x[g++]=65533:b<65536?x[g++]=b:(b-=65536,x[g++]=55296|b>>10&1023,x[g++]=56320|1023&b)}return m(x,g)},i.utf8border=function(d,h){var f;for((h=h||d.length)>d.length&&(h=d.length),f=h-1;0<=f&&(192&d[f])==128;)f--;return f<0||f===0?h:f+c[d[f]]>h?f:h}},{"./common":41}],43:[function(n,a,i){a.exports=function(s,r,l,c){for(var u=65535&s|0,m=s>>>16&65535|0,d=0;l!==0;){for(l-=d=2e3<l?2e3:l;m=m+(u=u+r[c++]|0)|0,--d;);u%=65521,m%=65521}return u|m<<16|0}},{}],44:[function(n,a,i){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,a,i){var s=function(){for(var r,l=[],c=0;c<256;c++){r=c;for(var u=0;u<8;u++)r=1&r?3988292384^r>>>1:r>>>1;l[c]=r}return l}();a.exports=function(r,l,c,u){var m=s,d=u+c;r^=-1;for(var h=u;h<d;h++)r=r>>>8^m[255&(r^l[h])];return-1^r}},{}],46:[function(n,a,i){var s,r=n("../utils/common"),l=n("./trees"),c=n("./adler32"),u=n("./crc32"),m=n("./messages"),d=0,h=4,f=0,g=-2,b=-1,y=4,p=2,x=8,_=9,w=286,E=30,j=19,N=2*w+1,D=15,z=3,A=258,W=A+z+1,T=42,I=113,S=1,R=2,F=3,q=4;function V(v,Q){return v.msg=m[Q],Q}function K(v){return(v<<1)-(4<v?9:0)}function Z(v){for(var Q=v.length;0<=--Q;)v[Q]=0}function O(v){var Q=v.state,G=Q.pending;G>v.avail_out&&(G=v.avail_out),G!==0&&(r.arraySet(v.output,Q.pending_buf,Q.pending_out,G,v.next_out),v.next_out+=G,Q.pending_out+=G,v.total_out+=G,v.avail_out-=G,Q.pending-=G,Q.pending===0&&(Q.pending_out=0))}function L(v,Q){l._tr_flush_block(v,0<=v.block_start?v.block_start:-1,v.strstart-v.block_start,Q),v.block_start=v.strstart,O(v.strm)}function ce(v,Q){v.pending_buf[v.pending++]=Q}function oe(v,Q){v.pending_buf[v.pending++]=Q>>>8&255,v.pending_buf[v.pending++]=255&Q}function re(v,Q){var G,C,k=v.max_chain_length,P=v.strstart,X=v.prev_length,J=v.nice_match,M=v.strstart>v.w_size-W?v.strstart-(v.w_size-W):0,Y=v.window,ee=v.w_mask,$=v.prev,fe=v.strstart+A,Ee=Y[P+X-1],ke=Y[P+X];v.prev_length>=v.good_match&&(k>>=2),J>v.lookahead&&(J=v.lookahead);do if(Y[(G=Q)+X]===ke&&Y[G+X-1]===Ee&&Y[G]===Y[P]&&Y[++G]===Y[P+1]){P+=2,G++;do;while(Y[++P]===Y[++G]&&Y[++P]===Y[++G]&&Y[++P]===Y[++G]&&Y[++P]===Y[++G]&&Y[++P]===Y[++G]&&Y[++P]===Y[++G]&&Y[++P]===Y[++G]&&Y[++P]===Y[++G]&&P<fe);if(C=A-(fe-P),P=fe-A,X<C){if(v.match_start=Q,J<=(X=C))break;Ee=Y[P+X-1],ke=Y[P+X]}}while((Q=$[Q&ee])>M&&--k!=0);return X<=v.lookahead?X:v.lookahead}function Le(v){var Q,G,C,k,P,X,J,M,Y,ee,$=v.w_size;do{if(k=v.window_size-v.lookahead-v.strstart,v.strstart>=$+($-W)){for(r.arraySet(v.window,v.window,$,$,0),v.match_start-=$,v.strstart-=$,v.block_start-=$,Q=G=v.hash_size;C=v.head[--Q],v.head[Q]=$<=C?C-$:0,--G;);for(Q=G=$;C=v.prev[--Q],v.prev[Q]=$<=C?C-$:0,--G;);k+=$}if(v.strm.avail_in===0)break;if(X=v.strm,J=v.window,M=v.strstart+v.lookahead,Y=k,ee=void 0,ee=X.avail_in,Y<ee&&(ee=Y),G=ee===0?0:(X.avail_in-=ee,r.arraySet(J,X.input,X.next_in,ee,M),X.state.wrap===1?X.adler=c(X.adler,J,ee,M):X.state.wrap===2&&(X.adler=u(X.adler,J,ee,M)),X.next_in+=ee,X.total_in+=ee,ee),v.lookahead+=G,v.lookahead+v.insert>=z)for(P=v.strstart-v.insert,v.ins_h=v.window[P],v.ins_h=(v.ins_h<<v.hash_shift^v.window[P+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[P+z-1])&v.hash_mask,v.prev[P&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=P,P++,v.insert--,!(v.lookahead+v.insert<z)););}while(v.lookahead<W&&v.strm.avail_in!==0)}function Pe(v,Q){for(var G,C;;){if(v.lookahead<W){if(Le(v),v.lookahead<W&&Q===d)return S;if(v.lookahead===0)break}if(G=0,v.lookahead>=z&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+z-1])&v.hash_mask,G=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),G!==0&&v.strstart-G<=v.w_size-W&&(v.match_length=re(v,G)),v.match_length>=z)if(C=l._tr_tally(v,v.strstart-v.match_start,v.match_length-z),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=z){for(v.match_length--;v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+z-1])&v.hash_mask,G=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart,--v.match_length!=0;);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else C=l._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(C&&(L(v,!1),v.strm.avail_out===0))return S}return v.insert=v.strstart<z-1?v.strstart:z-1,Q===h?(L(v,!0),v.strm.avail_out===0?F:q):v.last_lit&&(L(v,!1),v.strm.avail_out===0)?S:R}function we(v,Q){for(var G,C,k;;){if(v.lookahead<W){if(Le(v),v.lookahead<W&&Q===d)return S;if(v.lookahead===0)break}if(G=0,v.lookahead>=z&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+z-1])&v.hash_mask,G=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=z-1,G!==0&&v.prev_length<v.max_lazy_match&&v.strstart-G<=v.w_size-W&&(v.match_length=re(v,G),v.match_length<=5&&(v.strategy===1||v.match_length===z&&4096<v.strstart-v.match_start)&&(v.match_length=z-1)),v.prev_length>=z&&v.match_length<=v.prev_length){for(k=v.strstart+v.lookahead-z,C=l._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-z),v.lookahead-=v.prev_length-1,v.prev_length-=2;++v.strstart<=k&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+z-1])&v.hash_mask,G=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),--v.prev_length!=0;);if(v.match_available=0,v.match_length=z-1,v.strstart++,C&&(L(v,!1),v.strm.avail_out===0))return S}else if(v.match_available){if((C=l._tr_tally(v,0,v.window[v.strstart-1]))&&L(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return S}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(C=l._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<z-1?v.strstart:z-1,Q===h?(L(v,!0),v.strm.avail_out===0?F:q):v.last_lit&&(L(v,!1),v.strm.avail_out===0)?S:R}function Ne(v,Q,G,C,k){this.good_length=v,this.max_lazy=Q,this.nice_length=G,this.max_chain=C,this.func=k}function Oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*N),this.dyn_dtree=new r.Buf16(2*(2*E+1)),this.bl_tree=new r.Buf16(2*(2*j+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(D+1),this.heap=new r.Buf16(2*w+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*w+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ue(v){var Q;return v&&v.state?(v.total_in=v.total_out=0,v.data_type=p,(Q=v.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?T:I,v.adler=Q.wrap===2?0:1,Q.last_flush=d,l._tr_init(Q),f):V(v,g)}function Tt(v){var Q=Ue(v);return Q===f&&function(G){G.window_size=2*G.w_size,Z(G.head),G.max_lazy_match=s[G.level].max_lazy,G.good_match=s[G.level].good_length,G.nice_match=s[G.level].nice_length,G.max_chain_length=s[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=z-1,G.match_available=0,G.ins_h=0}(v.state),Q}function wt(v,Q,G,C,k,P){if(!v)return g;var X=1;if(Q===b&&(Q=6),C<0?(X=0,C=-C):15<C&&(X=2,C-=16),k<1||_<k||G!==x||C<8||15<C||Q<0||9<Q||P<0||y<P)return V(v,g);C===8&&(C=9);var J=new Oe;return(v.state=J).strm=v,J.wrap=X,J.gzhead=null,J.w_bits=C,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=k+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+z-1)/z),J.window=new r.Buf8(2*J.w_size),J.head=new r.Buf16(J.hash_size),J.prev=new r.Buf16(J.w_size),J.lit_bufsize=1<<k+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new r.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=Q,J.strategy=P,J.method=G,Tt(v)}s=[new Ne(0,0,0,0,function(v,Q){var G=65535;for(G>v.pending_buf_size-5&&(G=v.pending_buf_size-5);;){if(v.lookahead<=1){if(Le(v),v.lookahead===0&&Q===d)return S;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var C=v.block_start+G;if((v.strstart===0||v.strstart>=C)&&(v.lookahead=v.strstart-C,v.strstart=C,L(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-W&&(L(v,!1),v.strm.avail_out===0))return S}return v.insert=0,Q===h?(L(v,!0),v.strm.avail_out===0?F:q):(v.strstart>v.block_start&&(L(v,!1),v.strm.avail_out),S)}),new Ne(4,4,8,4,Pe),new Ne(4,5,16,8,Pe),new Ne(4,6,32,32,Pe),new Ne(4,4,16,16,we),new Ne(8,16,32,32,we),new Ne(8,16,128,128,we),new Ne(8,32,128,256,we),new Ne(32,128,258,1024,we),new Ne(32,258,258,4096,we)],i.deflateInit=function(v,Q){return wt(v,Q,x,15,8,0)},i.deflateInit2=wt,i.deflateReset=Tt,i.deflateResetKeep=Ue,i.deflateSetHeader=function(v,Q){return v&&v.state?v.state.wrap!==2?g:(v.state.gzhead=Q,f):g},i.deflate=function(v,Q){var G,C,k,P;if(!v||!v.state||5<Q||Q<0)return v?V(v,g):g;if(C=v.state,!v.output||!v.input&&v.avail_in!==0||C.status===666&&Q!==h)return V(v,v.avail_out===0?-5:g);if(C.strm=v,G=C.last_flush,C.last_flush=Q,C.status===T)if(C.wrap===2)v.adler=0,ce(C,31),ce(C,139),ce(C,8),C.gzhead?(ce(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),ce(C,255&C.gzhead.time),ce(C,C.gzhead.time>>8&255),ce(C,C.gzhead.time>>16&255),ce(C,C.gzhead.time>>24&255),ce(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),ce(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(ce(C,255&C.gzhead.extra.length),ce(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(v.adler=u(v.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(ce(C,0),ce(C,0),ce(C,0),ce(C,0),ce(C,0),ce(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),ce(C,3),C.status=I);else{var X=x+(C.w_bits-8<<4)<<8;X|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(X|=32),X+=31-X%31,C.status=I,oe(C,X),C.strstart!==0&&(oe(C,v.adler>>>16),oe(C,65535&v.adler)),v.adler=1}if(C.status===69)if(C.gzhead.extra){for(k=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>k&&(v.adler=u(v.adler,C.pending_buf,C.pending-k,k)),O(v),k=C.pending,C.pending!==C.pending_buf_size));)ce(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>k&&(v.adler=u(v.adler,C.pending_buf,C.pending-k,k)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){k=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>k&&(v.adler=u(v.adler,C.pending_buf,C.pending-k,k)),O(v),k=C.pending,C.pending===C.pending_buf_size)){P=1;break}P=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,ce(C,P)}while(P!==0);C.gzhead.hcrc&&C.pending>k&&(v.adler=u(v.adler,C.pending_buf,C.pending-k,k)),P===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){k=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>k&&(v.adler=u(v.adler,C.pending_buf,C.pending-k,k)),O(v),k=C.pending,C.pending===C.pending_buf_size)){P=1;break}P=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,ce(C,P)}while(P!==0);C.gzhead.hcrc&&C.pending>k&&(v.adler=u(v.adler,C.pending_buf,C.pending-k,k)),P===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&O(v),C.pending+2<=C.pending_buf_size&&(ce(C,255&v.adler),ce(C,v.adler>>8&255),v.adler=0,C.status=I)):C.status=I),C.pending!==0){if(O(v),v.avail_out===0)return C.last_flush=-1,f}else if(v.avail_in===0&&K(Q)<=K(G)&&Q!==h)return V(v,-5);if(C.status===666&&v.avail_in!==0)return V(v,-5);if(v.avail_in!==0||C.lookahead!==0||Q!==d&&C.status!==666){var J=C.strategy===2?function(M,Y){for(var ee;;){if(M.lookahead===0&&(Le(M),M.lookahead===0)){if(Y===d)return S;break}if(M.match_length=0,ee=l._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++,ee&&(L(M,!1),M.strm.avail_out===0))return S}return M.insert=0,Y===h?(L(M,!0),M.strm.avail_out===0?F:q):M.last_lit&&(L(M,!1),M.strm.avail_out===0)?S:R}(C,Q):C.strategy===3?function(M,Y){for(var ee,$,fe,Ee,ke=M.window;;){if(M.lookahead<=A){if(Le(M),M.lookahead<=A&&Y===d)return S;if(M.lookahead===0)break}if(M.match_length=0,M.lookahead>=z&&0<M.strstart&&($=ke[fe=M.strstart-1])===ke[++fe]&&$===ke[++fe]&&$===ke[++fe]){Ee=M.strstart+A;do;while($===ke[++fe]&&$===ke[++fe]&&$===ke[++fe]&&$===ke[++fe]&&$===ke[++fe]&&$===ke[++fe]&&$===ke[++fe]&&$===ke[++fe]&&fe<Ee);M.match_length=A-(Ee-fe),M.match_length>M.lookahead&&(M.match_length=M.lookahead)}if(M.match_length>=z?(ee=l._tr_tally(M,1,M.match_length-z),M.lookahead-=M.match_length,M.strstart+=M.match_length,M.match_length=0):(ee=l._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++),ee&&(L(M,!1),M.strm.avail_out===0))return S}return M.insert=0,Y===h?(L(M,!0),M.strm.avail_out===0?F:q):M.last_lit&&(L(M,!1),M.strm.avail_out===0)?S:R}(C,Q):s[C.level].func(C,Q);if(J!==F&&J!==q||(C.status=666),J===S||J===F)return v.avail_out===0&&(C.last_flush=-1),f;if(J===R&&(Q===1?l._tr_align(C):Q!==5&&(l._tr_stored_block(C,0,0,!1),Q===3&&(Z(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),O(v),v.avail_out===0))return C.last_flush=-1,f}return Q!==h?f:C.wrap<=0?1:(C.wrap===2?(ce(C,255&v.adler),ce(C,v.adler>>8&255),ce(C,v.adler>>16&255),ce(C,v.adler>>24&255),ce(C,255&v.total_in),ce(C,v.total_in>>8&255),ce(C,v.total_in>>16&255),ce(C,v.total_in>>24&255)):(oe(C,v.adler>>>16),oe(C,65535&v.adler)),O(v),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?f:1)},i.deflateEnd=function(v){var Q;return v&&v.state?(Q=v.state.status)!==T&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==I&&Q!==666?V(v,g):(v.state=null,Q===I?V(v,-3):f):g},i.deflateSetDictionary=function(v,Q){var G,C,k,P,X,J,M,Y,ee=Q.length;if(!v||!v.state||(P=(G=v.state).wrap)===2||P===1&&G.status!==T||G.lookahead)return g;for(P===1&&(v.adler=c(v.adler,Q,ee,0)),G.wrap=0,ee>=G.w_size&&(P===0&&(Z(G.head),G.strstart=0,G.block_start=0,G.insert=0),Y=new r.Buf8(G.w_size),r.arraySet(Y,Q,ee-G.w_size,G.w_size,0),Q=Y,ee=G.w_size),X=v.avail_in,J=v.next_in,M=v.input,v.avail_in=ee,v.next_in=0,v.input=Q,Le(G);G.lookahead>=z;){for(C=G.strstart,k=G.lookahead-(z-1);G.ins_h=(G.ins_h<<G.hash_shift^G.window[C+z-1])&G.hash_mask,G.prev[C&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=C,C++,--k;);G.strstart=C,G.lookahead=z-1,Le(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=z-1,G.match_available=0,v.next_in=J,v.input=M,v.avail_in=X,G.wrap=P,f},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,a,i){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,a,i){a.exports=function(s,r){var l,c,u,m,d,h,f,g,b,y,p,x,_,w,E,j,N,D,z,A,W,T,I,S,R;l=s.state,c=s.next_in,S=s.input,u=c+(s.avail_in-5),m=s.next_out,R=s.output,d=m-(r-s.avail_out),h=m+(s.avail_out-257),f=l.dmax,g=l.wsize,b=l.whave,y=l.wnext,p=l.window,x=l.hold,_=l.bits,w=l.lencode,E=l.distcode,j=(1<<l.lenbits)-1,N=(1<<l.distbits)-1;e:do{_<15&&(x+=S[c++]<<_,_+=8,x+=S[c++]<<_,_+=8),D=w[x&j];t:for(;;){if(x>>>=z=D>>>24,_-=z,(z=D>>>16&255)===0)R[m++]=65535&D;else{if(!(16&z)){if(!(64&z)){D=w[(65535&D)+(x&(1<<z)-1)];continue t}if(32&z){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}A=65535&D,(z&=15)&&(_<z&&(x+=S[c++]<<_,_+=8),A+=x&(1<<z)-1,x>>>=z,_-=z),_<15&&(x+=S[c++]<<_,_+=8,x+=S[c++]<<_,_+=8),D=E[x&N];n:for(;;){if(x>>>=z=D>>>24,_-=z,!(16&(z=D>>>16&255))){if(!(64&z)){D=E[(65535&D)+(x&(1<<z)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if(W=65535&D,_<(z&=15)&&(x+=S[c++]<<_,(_+=8)<z&&(x+=S[c++]<<_,_+=8)),f<(W+=x&(1<<z)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(x>>>=z,_-=z,(z=m-d)<W){if(b<(z=W-z)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(I=p,(T=0)===y){if(T+=g-z,z<A){for(A-=z;R[m++]=p[T++],--z;);T=m-W,I=R}}else if(y<z){if(T+=g+y-z,(z-=y)<A){for(A-=z;R[m++]=p[T++],--z;);if(T=0,y<A){for(A-=z=y;R[m++]=p[T++],--z;);T=m-W,I=R}}}else if(T+=y-z,z<A){for(A-=z;R[m++]=p[T++],--z;);T=m-W,I=R}for(;2<A;)R[m++]=I[T++],R[m++]=I[T++],R[m++]=I[T++],A-=3;A&&(R[m++]=I[T++],1<A&&(R[m++]=I[T++]))}else{for(T=m-W;R[m++]=R[T++],R[m++]=R[T++],R[m++]=R[T++],2<(A-=3););A&&(R[m++]=R[T++],1<A&&(R[m++]=R[T++]))}break}}break}}while(c<u&&m<h);c-=A=_>>3,x&=(1<<(_-=A<<3))-1,s.next_in=c,s.next_out=m,s.avail_in=c<u?u-c+5:5-(c-u),s.avail_out=m<h?h-m+257:257-(m-h),l.hold=x,l.bits=_}},{}],49:[function(n,a,i){var s=n("../utils/common"),r=n("./adler32"),l=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),m=1,d=2,h=0,f=-2,g=1,b=852,y=592;function p(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(T){var I;return T&&T.state?(I=T.state,T.total_in=T.total_out=I.total=0,T.msg="",I.wrap&&(T.adler=1&I.wrap),I.mode=g,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new s.Buf32(b),I.distcode=I.distdyn=new s.Buf32(y),I.sane=1,I.back=-1,h):f}function w(T){var I;return T&&T.state?((I=T.state).wsize=0,I.whave=0,I.wnext=0,_(T)):f}function E(T,I){var S,R;return T&&T.state?(R=T.state,I<0?(S=0,I=-I):(S=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?f:(R.window!==null&&R.wbits!==I&&(R.window=null),R.wrap=S,R.wbits=I,w(T))):f}function j(T,I){var S,R;return T?(R=new x,(T.state=R).window=null,(S=E(T,I))!==h&&(T.state=null),S):f}var N,D,z=!0;function A(T){if(z){var I;for(N=new s.Buf32(512),D=new s.Buf32(32),I=0;I<144;)T.lens[I++]=8;for(;I<256;)T.lens[I++]=9;for(;I<280;)T.lens[I++]=7;for(;I<288;)T.lens[I++]=8;for(u(m,T.lens,0,288,N,0,T.work,{bits:9}),I=0;I<32;)T.lens[I++]=5;u(d,T.lens,0,32,D,0,T.work,{bits:5}),z=!1}T.lencode=N,T.lenbits=9,T.distcode=D,T.distbits=5}function W(T,I,S,R){var F,q=T.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new s.Buf8(q.wsize)),R>=q.wsize?(s.arraySet(q.window,I,S-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(R<(F=q.wsize-q.wnext)&&(F=R),s.arraySet(q.window,I,S-R,F,q.wnext),(R-=F)?(s.arraySet(q.window,I,S-R,R,0),q.wnext=R,q.whave=q.wsize):(q.wnext+=F,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=F))),0}i.inflateReset=w,i.inflateReset2=E,i.inflateResetKeep=_,i.inflateInit=function(T){return j(T,15)},i.inflateInit2=j,i.inflate=function(T,I){var S,R,F,q,V,K,Z,O,L,ce,oe,re,Le,Pe,we,Ne,Oe,Ue,Tt,wt,v,Q,G,C,k=0,P=new s.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return f;(S=T.state).mode===12&&(S.mode=13),V=T.next_out,F=T.output,Z=T.avail_out,q=T.next_in,R=T.input,K=T.avail_in,O=S.hold,L=S.bits,ce=K,oe=Z,Q=h;e:for(;;)switch(S.mode){case g:if(S.wrap===0){S.mode=13;break}for(;L<16;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}if(2&S.wrap&&O===35615){P[S.check=0]=255&O,P[1]=O>>>8&255,S.check=l(S.check,P,2,0),L=O=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&O)<<8)+(O>>8))%31){T.msg="incorrect header check",S.mode=30;break}if((15&O)!=8){T.msg="unknown compression method",S.mode=30;break}if(L-=4,v=8+(15&(O>>>=4)),S.wbits===0)S.wbits=v;else if(v>S.wbits){T.msg="invalid window size",S.mode=30;break}S.dmax=1<<v,T.adler=S.check=1,S.mode=512&O?10:12,L=O=0;break;case 2:for(;L<16;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}if(S.flags=O,(255&S.flags)!=8){T.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){T.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=O>>8&1),512&S.flags&&(P[0]=255&O,P[1]=O>>>8&255,S.check=l(S.check,P,2,0)),L=O=0,S.mode=3;case 3:for(;L<32;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}S.head&&(S.head.time=O),512&S.flags&&(P[0]=255&O,P[1]=O>>>8&255,P[2]=O>>>16&255,P[3]=O>>>24&255,S.check=l(S.check,P,4,0)),L=O=0,S.mode=4;case 4:for(;L<16;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}S.head&&(S.head.xflags=255&O,S.head.os=O>>8),512&S.flags&&(P[0]=255&O,P[1]=O>>>8&255,S.check=l(S.check,P,2,0)),L=O=0,S.mode=5;case 5:if(1024&S.flags){for(;L<16;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}S.length=O,S.head&&(S.head.extra_len=O),512&S.flags&&(P[0]=255&O,P[1]=O>>>8&255,S.check=l(S.check,P,2,0)),L=O=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(K<(re=S.length)&&(re=K),re&&(S.head&&(v=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),s.arraySet(S.head.extra,R,q,re,v)),512&S.flags&&(S.check=l(S.check,R,re,q)),K-=re,q+=re,S.length-=re),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(K===0)break e;for(re=0;v=R[q+re++],S.head&&v&&S.length<65536&&(S.head.name+=String.fromCharCode(v)),v&&re<K;);if(512&S.flags&&(S.check=l(S.check,R,re,q)),K-=re,q+=re,v)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(K===0)break e;for(re=0;v=R[q+re++],S.head&&v&&S.length<65536&&(S.head.comment+=String.fromCharCode(v)),v&&re<K;);if(512&S.flags&&(S.check=l(S.check,R,re,q)),K-=re,q+=re,v)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;L<16;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}if(O!==(65535&S.check)){T.msg="header crc mismatch",S.mode=30;break}L=O=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),T.adler=S.check=0,S.mode=12;break;case 10:for(;L<32;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}T.adler=S.check=p(O),L=O=0,S.mode=11;case 11:if(S.havedict===0)return T.next_out=V,T.avail_out=Z,T.next_in=q,T.avail_in=K,S.hold=O,S.bits=L,2;T.adler=S.check=1,S.mode=12;case 12:if(I===5||I===6)break e;case 13:if(S.last){O>>>=7&L,L-=7&L,S.mode=27;break}for(;L<3;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}switch(S.last=1&O,L-=1,3&(O>>>=1)){case 0:S.mode=14;break;case 1:if(A(S),S.mode=20,I!==6)break;O>>>=2,L-=2;break e;case 2:S.mode=17;break;case 3:T.msg="invalid block type",S.mode=30}O>>>=2,L-=2;break;case 14:for(O>>>=7&L,L-=7&L;L<32;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}if((65535&O)!=(O>>>16^65535)){T.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&O,L=O=0,S.mode=15,I===6)break e;case 15:S.mode=16;case 16:if(re=S.length){if(K<re&&(re=K),Z<re&&(re=Z),re===0)break e;s.arraySet(F,R,q,re,V),K-=re,q+=re,Z-=re,V+=re,S.length-=re;break}S.mode=12;break;case 17:for(;L<14;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}if(S.nlen=257+(31&O),O>>>=5,L-=5,S.ndist=1+(31&O),O>>>=5,L-=5,S.ncode=4+(15&O),O>>>=4,L-=4,286<S.nlen||30<S.ndist){T.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;L<3;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}S.lens[X[S.have++]]=7&O,O>>>=3,L-=3}for(;S.have<19;)S.lens[X[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,G={bits:S.lenbits},Q=u(0,S.lens,0,19,S.lencode,0,S.work,G),S.lenbits=G.bits,Q){T.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;Ne=(k=S.lencode[O&(1<<S.lenbits)-1])>>>16&255,Oe=65535&k,!((we=k>>>24)<=L);){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}if(Oe<16)O>>>=we,L-=we,S.lens[S.have++]=Oe;else{if(Oe===16){for(C=we+2;L<C;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}if(O>>>=we,L-=we,S.have===0){T.msg="invalid bit length repeat",S.mode=30;break}v=S.lens[S.have-1],re=3+(3&O),O>>>=2,L-=2}else if(Oe===17){for(C=we+3;L<C;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}L-=we,v=0,re=3+(7&(O>>>=we)),O>>>=3,L-=3}else{for(C=we+7;L<C;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}L-=we,v=0,re=11+(127&(O>>>=we)),O>>>=7,L-=7}if(S.have+re>S.nlen+S.ndist){T.msg="invalid bit length repeat",S.mode=30;break}for(;re--;)S.lens[S.have++]=v}}if(S.mode===30)break;if(S.lens[256]===0){T.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,G={bits:S.lenbits},Q=u(m,S.lens,0,S.nlen,S.lencode,0,S.work,G),S.lenbits=G.bits,Q){T.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,G={bits:S.distbits},Q=u(d,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,G),S.distbits=G.bits,Q){T.msg="invalid distances set",S.mode=30;break}if(S.mode=20,I===6)break e;case 20:S.mode=21;case 21:if(6<=K&&258<=Z){T.next_out=V,T.avail_out=Z,T.next_in=q,T.avail_in=K,S.hold=O,S.bits=L,c(T,oe),V=T.next_out,F=T.output,Z=T.avail_out,q=T.next_in,R=T.input,K=T.avail_in,O=S.hold,L=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;Ne=(k=S.lencode[O&(1<<S.lenbits)-1])>>>16&255,Oe=65535&k,!((we=k>>>24)<=L);){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}if(Ne&&!(240&Ne)){for(Ue=we,Tt=Ne,wt=Oe;Ne=(k=S.lencode[wt+((O&(1<<Ue+Tt)-1)>>Ue)])>>>16&255,Oe=65535&k,!(Ue+(we=k>>>24)<=L);){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}O>>>=Ue,L-=Ue,S.back+=Ue}if(O>>>=we,L-=we,S.back+=we,S.length=Oe,Ne===0){S.mode=26;break}if(32&Ne){S.back=-1,S.mode=12;break}if(64&Ne){T.msg="invalid literal/length code",S.mode=30;break}S.extra=15&Ne,S.mode=22;case 22:if(S.extra){for(C=S.extra;L<C;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}S.length+=O&(1<<S.extra)-1,O>>>=S.extra,L-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;Ne=(k=S.distcode[O&(1<<S.distbits)-1])>>>16&255,Oe=65535&k,!((we=k>>>24)<=L);){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}if(!(240&Ne)){for(Ue=we,Tt=Ne,wt=Oe;Ne=(k=S.distcode[wt+((O&(1<<Ue+Tt)-1)>>Ue)])>>>16&255,Oe=65535&k,!(Ue+(we=k>>>24)<=L);){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}O>>>=Ue,L-=Ue,S.back+=Ue}if(O>>>=we,L-=we,S.back+=we,64&Ne){T.msg="invalid distance code",S.mode=30;break}S.offset=Oe,S.extra=15&Ne,S.mode=24;case 24:if(S.extra){for(C=S.extra;L<C;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}S.offset+=O&(1<<S.extra)-1,O>>>=S.extra,L-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){T.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(Z===0)break e;if(re=oe-Z,S.offset>re){if((re=S.offset-re)>S.whave&&S.sane){T.msg="invalid distance too far back",S.mode=30;break}Le=re>S.wnext?(re-=S.wnext,S.wsize-re):S.wnext-re,re>S.length&&(re=S.length),Pe=S.window}else Pe=F,Le=V-S.offset,re=S.length;for(Z<re&&(re=Z),Z-=re,S.length-=re;F[V++]=Pe[Le++],--re;);S.length===0&&(S.mode=21);break;case 26:if(Z===0)break e;F[V++]=S.length,Z--,S.mode=21;break;case 27:if(S.wrap){for(;L<32;){if(K===0)break e;K--,O|=R[q++]<<L,L+=8}if(oe-=Z,T.total_out+=oe,S.total+=oe,oe&&(T.adler=S.check=S.flags?l(S.check,F,oe,V-oe):r(S.check,F,oe,V-oe)),oe=Z,(S.flags?O:p(O))!==S.check){T.msg="incorrect data check",S.mode=30;break}L=O=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;L<32;){if(K===0)break e;K--,O+=R[q++]<<L,L+=8}if(O!==(4294967295&S.total)){T.msg="incorrect length check",S.mode=30;break}L=O=0}S.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;case 32:default:return f}return T.next_out=V,T.avail_out=Z,T.next_in=q,T.avail_in=K,S.hold=O,S.bits=L,(S.wsize||oe!==T.avail_out&&S.mode<30&&(S.mode<27||I!==4))&&W(T,T.output,T.next_out,oe-T.avail_out)?(S.mode=31,-4):(ce-=T.avail_in,oe-=T.avail_out,T.total_in+=ce,T.total_out+=oe,S.total+=oe,S.wrap&&oe&&(T.adler=S.check=S.flags?l(S.check,F,oe,T.next_out-oe):r(S.check,F,oe,T.next_out-oe)),T.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(ce==0&&oe===0||I===4)&&Q===h&&(Q=-5),Q)},i.inflateEnd=function(T){if(!T||!T.state)return f;var I=T.state;return I.window&&(I.window=null),T.state=null,h},i.inflateGetHeader=function(T,I){var S;return T&&T.state&&2&(S=T.state).wrap?((S.head=I).done=!1,h):f},i.inflateSetDictionary=function(T,I){var S,R=I.length;return T&&T.state?(S=T.state).wrap!==0&&S.mode!==11?f:S.mode===11&&r(1,I,R,0)!==S.check?-3:W(T,I,R,R)?(S.mode=31,-4):(S.havedict=1,h):f},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,a,i){var s=n("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(m,d,h,f,g,b,y,p){var x,_,w,E,j,N,D,z,A,W=p.bits,T=0,I=0,S=0,R=0,F=0,q=0,V=0,K=0,Z=0,O=0,L=null,ce=0,oe=new s.Buf16(16),re=new s.Buf16(16),Le=null,Pe=0;for(T=0;T<=15;T++)oe[T]=0;for(I=0;I<f;I++)oe[d[h+I]]++;for(F=W,R=15;1<=R&&oe[R]===0;R--);if(R<F&&(F=R),R===0)return g[b++]=20971520,g[b++]=20971520,p.bits=1,0;for(S=1;S<R&&oe[S]===0;S++);for(F<S&&(F=S),T=K=1;T<=15;T++)if(K<<=1,(K-=oe[T])<0)return-1;if(0<K&&(m===0||R!==1))return-1;for(re[1]=0,T=1;T<15;T++)re[T+1]=re[T]+oe[T];for(I=0;I<f;I++)d[h+I]!==0&&(y[re[d[h+I]]++]=I);if(N=m===0?(L=Le=y,19):m===1?(L=r,ce-=257,Le=l,Pe-=257,256):(L=c,Le=u,-1),T=S,j=b,V=I=O=0,w=-1,E=(Z=1<<(q=F))-1,m===1&&852<Z||m===2&&592<Z)return 1;for(;;){for(D=T-V,A=y[I]<N?(z=0,y[I]):y[I]>N?(z=Le[Pe+y[I]],L[ce+y[I]]):(z=96,0),x=1<<T-V,S=_=1<<q;g[j+(O>>V)+(_-=x)]=D<<24|z<<16|A|0,_!==0;);for(x=1<<T-1;O&x;)x>>=1;if(x!==0?(O&=x-1,O+=x):O=0,I++,--oe[T]==0){if(T===R)break;T=d[h+y[I]]}if(F<T&&(O&E)!==w){for(V===0&&(V=F),j+=S,K=1<<(q=T-V);q+V<R&&!((K-=oe[q+V])<=0);)q++,K<<=1;if(Z+=1<<q,m===1&&852<Z||m===2&&592<Z)return 1;g[w=O&E]=F<<24|q<<16|j-b|0}}return O!==0&&(g[j+O]=T-V<<24|64<<16|0),p.bits=F,0}},{"../utils/common":41}],51:[function(n,a,i){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,a,i){var s=n("../utils/common"),r=0,l=1;function c(k){for(var P=k.length;0<=--P;)k[P]=0}var u=0,m=29,d=256,h=d+1+m,f=30,g=19,b=2*h+1,y=15,p=16,x=7,_=256,w=16,E=17,j=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(h+2));c(W);var T=new Array(2*f);c(T);var I=new Array(512);c(I);var S=new Array(256);c(S);var R=new Array(m);c(R);var F,q,V,K=new Array(f);function Z(k,P,X,J,M){this.static_tree=k,this.extra_bits=P,this.extra_base=X,this.elems=J,this.max_length=M,this.has_stree=k&&k.length}function O(k,P){this.dyn_tree=k,this.max_code=0,this.stat_desc=P}function L(k){return k<256?I[k]:I[256+(k>>>7)]}function ce(k,P){k.pending_buf[k.pending++]=255&P,k.pending_buf[k.pending++]=P>>>8&255}function oe(k,P,X){k.bi_valid>p-X?(k.bi_buf|=P<<k.bi_valid&65535,ce(k,k.bi_buf),k.bi_buf=P>>p-k.bi_valid,k.bi_valid+=X-p):(k.bi_buf|=P<<k.bi_valid&65535,k.bi_valid+=X)}function re(k,P,X){oe(k,X[2*P],X[2*P+1])}function Le(k,P){for(var X=0;X|=1&k,k>>>=1,X<<=1,0<--P;);return X>>>1}function Pe(k,P,X){var J,M,Y=new Array(y+1),ee=0;for(J=1;J<=y;J++)Y[J]=ee=ee+X[J-1]<<1;for(M=0;M<=P;M++){var $=k[2*M+1];$!==0&&(k[2*M]=Le(Y[$]++,$))}}function we(k){var P;for(P=0;P<h;P++)k.dyn_ltree[2*P]=0;for(P=0;P<f;P++)k.dyn_dtree[2*P]=0;for(P=0;P<g;P++)k.bl_tree[2*P]=0;k.dyn_ltree[2*_]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function Ne(k){8<k.bi_valid?ce(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function Oe(k,P,X,J){var M=2*P,Y=2*X;return k[M]<k[Y]||k[M]===k[Y]&&J[P]<=J[X]}function Ue(k,P,X){for(var J=k.heap[X],M=X<<1;M<=k.heap_len&&(M<k.heap_len&&Oe(P,k.heap[M+1],k.heap[M],k.depth)&&M++,!Oe(P,J,k.heap[M],k.depth));)k.heap[X]=k.heap[M],X=M,M<<=1;k.heap[X]=J}function Tt(k,P,X){var J,M,Y,ee,$=0;if(k.last_lit!==0)for(;J=k.pending_buf[k.d_buf+2*$]<<8|k.pending_buf[k.d_buf+2*$+1],M=k.pending_buf[k.l_buf+$],$++,J===0?re(k,M,P):(re(k,(Y=S[M])+d+1,P),(ee=N[Y])!==0&&oe(k,M-=R[Y],ee),re(k,Y=L(--J),X),(ee=D[Y])!==0&&oe(k,J-=K[Y],ee)),$<k.last_lit;);re(k,_,P)}function wt(k,P){var X,J,M,Y=P.dyn_tree,ee=P.stat_desc.static_tree,$=P.stat_desc.has_stree,fe=P.stat_desc.elems,Ee=-1;for(k.heap_len=0,k.heap_max=b,X=0;X<fe;X++)Y[2*X]!==0?(k.heap[++k.heap_len]=Ee=X,k.depth[X]=0):Y[2*X+1]=0;for(;k.heap_len<2;)Y[2*(M=k.heap[++k.heap_len]=Ee<2?++Ee:0)]=1,k.depth[M]=0,k.opt_len--,$&&(k.static_len-=ee[2*M+1]);for(P.max_code=Ee,X=k.heap_len>>1;1<=X;X--)Ue(k,Y,X);for(M=fe;X=k.heap[1],k.heap[1]=k.heap[k.heap_len--],Ue(k,Y,1),J=k.heap[1],k.heap[--k.heap_max]=X,k.heap[--k.heap_max]=J,Y[2*M]=Y[2*X]+Y[2*J],k.depth[M]=(k.depth[X]>=k.depth[J]?k.depth[X]:k.depth[J])+1,Y[2*X+1]=Y[2*J+1]=M,k.heap[1]=M++,Ue(k,Y,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(ke,jt){var wn,et,an,Me,En,hn,At=jt.dyn_tree,Ln=jt.max_code,Qn=jt.stat_desc.static_tree,ka=jt.stat_desc.has_stree,Fa=jt.stat_desc.extra_bits,ne=jt.stat_desc.extra_base,ae=jt.stat_desc.max_length,ue=0;for(Me=0;Me<=y;Me++)ke.bl_count[Me]=0;for(At[2*ke.heap[ke.heap_max]+1]=0,wn=ke.heap_max+1;wn<b;wn++)ae<(Me=At[2*At[2*(et=ke.heap[wn])+1]+1]+1)&&(Me=ae,ue++),At[2*et+1]=Me,Ln<et||(ke.bl_count[Me]++,En=0,ne<=et&&(En=Fa[et-ne]),hn=At[2*et],ke.opt_len+=hn*(Me+En),ka&&(ke.static_len+=hn*(Qn[2*et+1]+En)));if(ue!==0){do{for(Me=ae-1;ke.bl_count[Me]===0;)Me--;ke.bl_count[Me]--,ke.bl_count[Me+1]+=2,ke.bl_count[ae]--,ue-=2}while(0<ue);for(Me=ae;Me!==0;Me--)for(et=ke.bl_count[Me];et!==0;)Ln<(an=ke.heap[--wn])||(At[2*an+1]!==Me&&(ke.opt_len+=(Me-At[2*an+1])*At[2*an],At[2*an+1]=Me),et--)}}(k,P),Pe(Y,Ee,k.bl_count)}function v(k,P,X){var J,M,Y=-1,ee=P[1],$=0,fe=7,Ee=4;for(ee===0&&(fe=138,Ee=3),P[2*(X+1)+1]=65535,J=0;J<=X;J++)M=ee,ee=P[2*(J+1)+1],++$<fe&&M===ee||($<Ee?k.bl_tree[2*M]+=$:M!==0?(M!==Y&&k.bl_tree[2*M]++,k.bl_tree[2*w]++):$<=10?k.bl_tree[2*E]++:k.bl_tree[2*j]++,Y=M,Ee=($=0)===ee?(fe=138,3):M===ee?(fe=6,3):(fe=7,4))}function Q(k,P,X){var J,M,Y=-1,ee=P[1],$=0,fe=7,Ee=4;for(ee===0&&(fe=138,Ee=3),J=0;J<=X;J++)if(M=ee,ee=P[2*(J+1)+1],!(++$<fe&&M===ee)){if($<Ee)for(;re(k,M,k.bl_tree),--$!=0;);else M!==0?(M!==Y&&(re(k,M,k.bl_tree),$--),re(k,w,k.bl_tree),oe(k,$-3,2)):$<=10?(re(k,E,k.bl_tree),oe(k,$-3,3)):(re(k,j,k.bl_tree),oe(k,$-11,7));Y=M,Ee=($=0)===ee?(fe=138,3):M===ee?(fe=6,3):(fe=7,4)}}c(K);var G=!1;function C(k,P,X,J){oe(k,(u<<1)+(J?1:0),3),function(M,Y,ee,$){Ne(M),ce(M,ee),ce(M,~ee),s.arraySet(M.pending_buf,M.window,Y,ee,M.pending),M.pending+=ee}(k,P,X)}i._tr_init=function(k){G||(function(){var P,X,J,M,Y,ee=new Array(y+1);for(M=J=0;M<m-1;M++)for(R[M]=J,P=0;P<1<<N[M];P++)S[J++]=M;for(S[J-1]=M,M=Y=0;M<16;M++)for(K[M]=Y,P=0;P<1<<D[M];P++)I[Y++]=M;for(Y>>=7;M<f;M++)for(K[M]=Y<<7,P=0;P<1<<D[M]-7;P++)I[256+Y++]=M;for(X=0;X<=y;X++)ee[X]=0;for(P=0;P<=143;)W[2*P+1]=8,P++,ee[8]++;for(;P<=255;)W[2*P+1]=9,P++,ee[9]++;for(;P<=279;)W[2*P+1]=7,P++,ee[7]++;for(;P<=287;)W[2*P+1]=8,P++,ee[8]++;for(Pe(W,h+1,ee),P=0;P<f;P++)T[2*P+1]=5,T[2*P]=Le(P,5);F=new Z(W,N,d+1,h,y),q=new Z(T,D,0,f,y),V=new Z(new Array(0),z,0,g,x)}(),G=!0),k.l_desc=new O(k.dyn_ltree,F),k.d_desc=new O(k.dyn_dtree,q),k.bl_desc=new O(k.bl_tree,V),k.bi_buf=0,k.bi_valid=0,we(k)},i._tr_stored_block=C,i._tr_flush_block=function(k,P,X,J){var M,Y,ee=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function($){var fe,Ee=4093624447;for(fe=0;fe<=31;fe++,Ee>>>=1)if(1&Ee&&$.dyn_ltree[2*fe]!==0)return r;if($.dyn_ltree[18]!==0||$.dyn_ltree[20]!==0||$.dyn_ltree[26]!==0)return l;for(fe=32;fe<d;fe++)if($.dyn_ltree[2*fe]!==0)return l;return r}(k)),wt(k,k.l_desc),wt(k,k.d_desc),ee=function($){var fe;for(v($,$.dyn_ltree,$.l_desc.max_code),v($,$.dyn_dtree,$.d_desc.max_code),wt($,$.bl_desc),fe=g-1;3<=fe&&$.bl_tree[2*A[fe]+1]===0;fe--);return $.opt_len+=3*(fe+1)+5+5+4,fe}(k),M=k.opt_len+3+7>>>3,(Y=k.static_len+3+7>>>3)<=M&&(M=Y)):M=Y=X+5,X+4<=M&&P!==-1?C(k,P,X,J):k.strategy===4||Y===M?(oe(k,2+(J?1:0),3),Tt(k,W,T)):(oe(k,4+(J?1:0),3),function($,fe,Ee,ke){var jt;for(oe($,fe-257,5),oe($,Ee-1,5),oe($,ke-4,4),jt=0;jt<ke;jt++)oe($,$.bl_tree[2*A[jt]+1],3);Q($,$.dyn_ltree,fe-1),Q($,$.dyn_dtree,Ee-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,ee+1),Tt(k,k.dyn_ltree,k.dyn_dtree)),we(k),J&&Ne(k)},i._tr_tally=function(k,P,X){return k.pending_buf[k.d_buf+2*k.last_lit]=P>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&P,k.pending_buf[k.l_buf+k.last_lit]=255&X,k.last_lit++,P===0?k.dyn_ltree[2*X]++:(k.matches++,P--,k.dyn_ltree[2*(S[X]+d+1)]++,k.dyn_dtree[2*L(P)]++),k.last_lit===k.lit_bufsize-1},i._tr_align=function(k){oe(k,2,3),re(k,_,W),function(P){P.bi_valid===16?(ce(P,P.bi_buf),P.bi_buf=0,P.bi_valid=0):8<=P.bi_valid&&(P.pending_buf[P.pending++]=255&P.bi_buf,P.bi_buf>>=8,P.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(n,a,i){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,a,i){(function(s){(function(r,l){if(!r.setImmediate){var c,u,m,d,h=1,f={},g=!1,b=r.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(r);y=y&&y.setTimeout?y:r,c={}.toString.call(r.process)==="[object process]"?function(w){process.nextTick(function(){x(w)})}:function(){if(r.postMessage&&!r.importScripts){var w=!0,E=r.onmessage;return r.onmessage=function(){w=!1},r.postMessage("","*"),r.onmessage=E,w}}()?(d="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",_,!1):r.attachEvent("onmessage",_),function(w){r.postMessage(d+w,"*")}):r.MessageChannel?((m=new MessageChannel).port1.onmessage=function(w){x(w.data)},function(w){m.port2.postMessage(w)}):b&&"onreadystatechange"in b.createElement("script")?(u=b.documentElement,function(w){var E=b.createElement("script");E.onreadystatechange=function(){x(w),E.onreadystatechange=null,u.removeChild(E),E=null},u.appendChild(E)}):function(w){setTimeout(x,0,w)},y.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var E=new Array(arguments.length-1),j=0;j<E.length;j++)E[j]=arguments[j+1];var N={callback:w,args:E};return f[h]=N,c(h),h++},y.clearImmediate=p}function p(w){delete f[w]}function x(w){if(g)setTimeout(x,0,w);else{var E=f[w];if(E){g=!0;try{(function(j){var N=j.callback,D=j.args;switch(D.length){case 0:N();break;case 1:N(D[0]);break;case 2:N(D[0],D[1]);break;case 3:N(D[0],D[1],D[2]);break;default:N.apply(l,D)}})(E)}finally{p(w),g=!1}}}}function _(w){w.source===r&&typeof w.data=="string"&&w.data.indexOf(d)===0&&x(+w.data.slice(d.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(iN);var hz=iN.exports;const mz=mp(hz);var it=(e=>(e.ADMIN="ADMIN",e.USER="USER",e.PHOTOGRAPHER="PHOTOGRAPHER",e))(it||{}),Ke=(e=>(e.FREE="FREE",e.BASIC="BASIC",e.PRO="PRO",e.STUDIO="STUDIO",e))(Ke||{});const Fn={FREE:{storageLimitMb:100,maxDurationHours:7,allowVideo:!1,allowBranding:!1,allowWatermark:!1},BASIC:{storageLimitMb:10240,maxDurationDays:30,allowVideo:!1,allowBranding:!1,allowWatermark:!1},PRO:{storageLimitMb:30720,maxDurationDays:30,allowVideo:!0,allowBranding:!0,allowWatermark:!0},STUDIO:{storageLimitMb:102400,maxDurationDays:null,allowVideo:!0,allowBranding:!0,allowWatermark:!0}},Nh=e=>(e==null?void 0:e.role)==="ADMIN"?{storageLimitMb:1/0,maxDurationDays:null,allowVideo:!0,allowBranding:!0,allowWatermark:!0}:Fn[(e==null?void 0:e.tier)||"FREE"],pz=e=>Fn[e],ut="https://snapify.skytech.mk",on=()=>{const e=localStorage.getItem("snapify_token");return e?{Authorization:`Bearer ${e}`}:{}},at={fetchUsers:async()=>(await fetch(`${ut}/api/users?_t=${Date.now()}`,{headers:{...on()}})).json(),login:async(e,t)=>{const n=await fetch(`${ut}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!n.ok)throw new Error("Invalid credentials");return n.json()},googleLogin:async e=>{const t=await fetch(`${ut}/api/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:e})});if(!t.ok)throw new Error("Google login failed");return t.json()},createUser:async e=>{const t=await fetch(`${ut}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Registration failed");return t.json()},updateUser:async e=>{await fetch(`${ut}/api/users/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...on()},body:JSON.stringify(e)})},upgradeUser:async(e,t)=>{await fetch(`${ut}/api/users/${e}/upgrade`,{method:"PUT",headers:{"Content-Type":"application/json",...on()},body:JSON.stringify({tier:t})})},deleteUser:async e=>{await fetch(`${ut}/api/users/${e}`,{method:"DELETE",headers:{...on()}})},fetchEvents:async()=>{const e=await fetch(`${ut}/api/events?_t=${Date.now()}`,{headers:{...on()}});return e.ok?(await e.json()).map(n=>({...n,media:n.media.map(a=>({...a,isWatermarked:!!a.isWatermarked}))})):[]},fetchEventById:async e=>{const t=await fetch(`${ut}/api/events/${e}?_t=${Date.now()}`);if(!t.ok)throw new Error("Failed to fetch event");const n=await t.json();return{...n,media:n.media.map(a=>({...a,isWatermarked:!!a.isWatermarked}))}},createEvent:async e=>(await fetch(`${ut}/api/events`,{method:"POST",headers:{"Content-Type":"application/json",...on()},body:JSON.stringify(e)})).json(),updateEvent:async e=>{await fetch(`${ut}/api/events/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...on()},body:JSON.stringify(e)})},deleteEvent:async e=>{await fetch(`${ut}/api/events/${e}`,{method:"DELETE",headers:{...on()}})},validateEventPin:async(e,t)=>(await(await fetch(`${ut}/api/events/${e}/validate-pin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:t})})).json()).success,fetchVendors:async e=>{let t=`${ut}/api/vendors`;e&&(t+=`?city=${encodeURIComponent(e)}`);const n=await fetch(t);return n.ok?n.json():[]},uploadMedia:async(e,t,n,a)=>{const i=new FormData;return i.append("file",e),i.append("id",t.id),i.append("eventId",n),i.append("type",t.type),i.append("caption",t.caption||""),i.append("uploadedAt",t.uploadedAt),i.append("uploaderName",t.uploaderName),i.append("uploaderId",t.uploaderId||""),i.append("isWatermarked",String(t.isWatermarked)),i.append("watermarkText",t.watermarkText||""),i.append("privacy",t.privacy||"public"),new Promise((s,r)=>{const l=new XMLHttpRequest;l.open("POST",`${ut}/api/media`);const c=localStorage.getItem("snapify_token");c&&l.setRequestHeader("Authorization",`Bearer ${c}`),a&&(l.upload.onprogress=u=>{if(u.lengthComputable){const m=Math.round(u.loaded/u.total*100);console.log("Upload progress:",m+"%"),a(m)}}),l.onload=()=>{if(console.log("Upload onload - status:",l.status,"response:",l.responseText),l.status>=200&&l.status<300)try{const u=JSON.parse(l.responseText);console.log("Upload success:",u),s(u)}catch(u){console.error("JSON parse error:",u,"response:",l.responseText),r(new Error("Invalid JSON response"))}else console.error("Upload failed - status:",l.status,"statusText:",l.statusText,"response:",l.responseText),r(new Error(`Upload failed: ${l.status} ${l.statusText}`))},l.onerror=()=>{console.error("Upload network error"),r(new Error("Network error during upload"))},l.ontimeout=()=>{console.error("Upload timeout"),r(new Error("Upload timeout"))},l.timeout=3e5,console.log("Starting upload to:",`${ut}/api/media`),l.send(i)})},generateImageCaption:async e=>(await(await fetch(`${ut}/api/ai/generate-caption`,{method:"POST",headers:{"Content-Type":"application/json",...on()},body:JSON.stringify({imageData:e})})).json()).caption||"Captured moment",generateEventDescription:async(e,t,n)=>(await(await fetch(`${ut}/api/ai/generate-event-description`,{method:"POST",headers:{"Content-Type":"application/json",...on()},body:JSON.stringify({title:e,date:t,type:n})})).json()).description||"Join us for an amazing celebration!",generateGuestReviews:async(e,t,n=6)=>{const a=`Generate ${n} diverse, authentic guest feedback reviews for a web app called Snapify, an event-sharing platform. The reviews should be from users in ${e}, written in ${t}, and reflect local cultural contexts, experiences, and perspectives.

Requirements:
- Mix of positive, neutral, and constructive criticism tones
- Varied lengths (short to medium)
- Include subtle references to local customs, cuisine, traditions, or events relevant to ${e}
- Use colloquial language and varied formality levels
- Make them feel genuine and realistic
- Each review should be in ${t}

Return the reviews as a JSON array of objects, each with:
- "review": the review text in ${t}
- "translation": English translation if not English
- "tone": "positive", "neutral", or "constructive"
- "rationale": brief explanation of realism

Example structure:
[
  {
    "review": "Review text here",
    "translation": "English translation",
    "tone": "positive",
    "rationale": "Reflects local culture..."
  }
]`;return(await(await fetch(`${ut}/api/ai/generate-guest-reviews`,{method:"POST",headers:{"Content-Type":"application/json",...on()},body:JSON.stringify({prompt:a,country:e,language:t,count:n})})).json()).reviews||[]},likeMedia:async e=>{await fetch(`${ut}/api/media/${e}/like`,{method:"PUT"})},deleteMedia:async e=>{await fetch(`${ut}/api/media/${e}`,{method:"DELETE",headers:{...on()}})},bulkDeleteMedia:async e=>{const n=await(await fetch(`${ut}/api/media/bulk-delete`,{method:"POST",headers:{"Content-Type":"application/json",...on()},body:JSON.stringify({mediaIds:e})})).json();return{success:n.success||!1,deletedCount:n.deletedCount||0}},addGuestbookEntry:async e=>(await fetch(`${ut}/api/guestbook`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),addComment:async e=>(await fetch(`${ut}/api/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),getSystemStorage:async()=>{const e=await fetch(`${ut}/api/system/storage`,{headers:{...on()}});if(!e.ok)throw new Error("Failed to get storage info");return e.json()},getSupportMessages:async()=>{const e=await fetch(`${ut}/api/support/messages`,{headers:{...on()}});if(!e.ok)throw new Error("Failed to get support messages");return e.json()},sendAdminReply:async(e,t)=>{if(!(await fetch(`${ut}/api/support/admin-reply`,{method:"POST",headers:{"Content-Type":"application/json",...on()},body:JSON.stringify({userId:e,message:t})})).ok)throw new Error("Failed to send reply")},markMessageAsRead:async e=>{if(!(await fetch(`${ut}/api/support/messages/${e}/read`,{method:"PUT",headers:{...on()}})).ok)throw new Error("Failed to mark message as read")}},kh={en:{appName:"SnapifY",appSubtitle:"Event Sharing Platform",heroTitlePrefix:"Every Angle.",heroTitleSuffix:"Every Moment.",heroDesc:"The modern digital guestbook. Collect photos and videos from every guest in real-time without them downloading an app.",getStarted:"Get Started",adminDemo:"Admin Demo",signIn:"Sign In",signUp:"Sign Up",fullName:"Full Name",email:"Email Address",password:"Password",createAccount:"Create Account",continueGoogle:"Continue with Google",terms:"By continuing, you agree to our Terms & Conditions",pricingTitle:"Simple, Transparent Pricing",bestValue:"Best Value",forProfessionals:"For Professionals",event:"event",currentPlan:"Current Plan",contactSales:"Contact Sales",startFree:"Start for Free",myEvents:"My Events",manageEvents:"Manage your parties and albums",newEvent:"New Event",noEvents:"No events yet",createFirst:"Create your first event to start snapping memories with friends!",createNow:"Create an event now",dateTBD:"Date TBD",memories:"memories",owner:"Owner",expired:"Expired",active:"Active",forever:"Forever",copyLink:"Copy Link",hostedBy:"Hosted by",gallery:"Gallery",noPhotos:"No photos yet",beFirst:"Be the first to snap a moment!",snap:"Snap",upload:"Upload",joinParty:"Join the Party",enterName:"Enter your name to contribute photos",yourName:"Your Name",continue:"Continue",cancel:"Cancel",createEvent:"Create New Event",eventTitle:"Event Title",eventTheme:"Event Theme",eventDate:"Event Date",setDate:"Set Date",aiDesc:"AI Description",autoGenerate:"Auto-Generate",generating:"Generating...",aiPlaceholder:"Click auto-generate to let AI write a fun description...",createParty:"Create Party",guest:"Guest",logOut:"Log Out",home:"Home",adminDashboard:"SnapifY Admin",masterControl:"Master Control Dashboard",users:"Users",events:"Events",exit:"Exit",totalUsers:"Total Users",totalEvents:"Total Events",totalMedia:"Total Media",storage:"Storage",registeredUsers:"Registered Users",tier:"Tier",actions:"Actions",deleteUserConfirm:"Are you sure you want to delete this user and all their data?",storageUsage:"Storage Usage by User",systemEvents:"System Events",host:"Host",status:"Status",mediaCount:"Media Count",items:"items",noDate:"No Date",exp:"Exp",unlimited:"Unlimited",editEvent:"Edit Event",modifyExpiration:"Modify Expiration",neverExpires:"Never Expires",expireImmediately:"Expire Immediately",setNewDuration:"Set New Duration (from now)",saveChanges:"Save Changes",modifyExpirationNote:"Modifying expiration will reset the timer starting from the moment you click Save.",seconds:"Seconds",minutes:"Minutes",hours:"Hours",days:"Days",managing:"Managing",mediaItems:"media items",noMedia:"No media in this event",deleteEventConfirm:"Delete this event and all its media permanently?",cameraError:"Unable to access camera. Please check permissions.",takePhoto:"Take Photo",retry:"Retry",eventExpiredTitle:"Event Expired",eventExpiredMsg:"This event's access period has ended. The gallery is no longer accessible to the public. Contact the event organizer for more information.",goHome:"Go Home",adminModeExpired:"Admin Mode: Viewing Expired Event",unknownUser:"Unknown User",authErrorFill:"Please fill in all fields",authErrorEmail:"This email is already registered",authErrorInvalid:"Invalid credentials. Please try again.",authErrorRequired:"Email and password are required",authErrorInvalidEmail:"Please enter a valid email address",authErrorPasswordLength:"Password must be at least 6 characters",authErrorNameRequired:"Name is required and must be at least 2 characters",linkCopied:"Link copied to clipboard!",salesContactMsg:"Thank you for your interest! Our sales team will contact you shortly to upgrade your plan.",adminSettings:"Admin Settings: Expiration",customDuration:"Custom Duration",iAmPhotographer:"I am a Photographer / Studio",applyForPhotographer:"Apply for Photographer/Studio",studioName:"Studio / Business Name",studioDashboard:"Studio Dashboard",verifiedStudio:"Verified Studio",downloadAll:"Download All",views:"Views",watermark:"Apply Watermark",watermarkApplied:"Watermark will be applied",applyWatermark:"Apply Watermark",storageLimit:"Storage Limit Reached! Please upgrade to upload more.",videoRestricted:"Video uploads are available on Pro and Studio plans.",videoDurationLimit:"Videos must be 10 seconds or less",videoTooLong:"Video too long. Maximum duration is 10 seconds.",upgradeToUpload:"Upgrade to Upload",setCover:"Set as Cover",coverSet:"Cover image updated!",contactSalesTitle:"Upgrade Tier",contactSalesDesc:"To unlock this tier, please upgrade your account. An administrator will process your upgrade immediately.",openWhatsapp:"Open WhatsApp",openEmail:"Send Email",downloading:"Zipping...",downloadReady:"Download Ready",zipError:"Error creating zip file.",slideshow:"Slideshow",exitSlideshow:"Exit Slideshow",play:"Play",pause:"Pause",studioSettings:"Studio Settings",uploadLogo:"Upload Logo/Signature",logoDesc:"Upload a PNG with transparent background for best results. This will be applied to the bottom-right of all photos.",currentLogo:"Current Logo",removeLogo:"Remove Logo",saveSettings:"Save Settings",opacity:"Opacity",size:"Size",preview:"Watermark Preview",position:"Position",offsetX:"Horizontal Offset",offsetY:"Vertical Offset",topLeft:"Top Left",topRight:"Top Right",bottomLeft:"Bottom Left",bottomRight:"Bottom Right",center:"Center",guestbook:"Guestbook",leaveMessage:"Leave a message...",signGuestbook:"Sign Guestbook",noMessages:"No messages yet. Be the first!",messageSent:"Message sent!",pinRequired:"PIN Required",enterPin:"Enter Event PIN",submitPin:"Unlock Event",optionalPin:"Optional PIN Code",pinDesc:"Leave blank for public access",invalidPin:"Incorrect PIN",findMe:"Find Me",findMeTitle:"Find Me with AI",findMeDesc:"Upload a selfie and we'll highlight photos of you in this gallery.",uploadSelfie:"Take Selfie",scanning:"Scanning Gallery...",noFaceDetected:"No face detected in your selfie. Try again.",foundMatches:"Found Matches",noMatchesFound:"No photos of you found yet.",clearFilter:"Clear Filter",processing:"Processing Video...",switchCamera:"Switch Camera",backToApp:"Back to App",termsTitle:"Terms & Privacy Policy",effectiveDate:"Effective Date",introTitle:"Introduction",introText:'Welcome to SnapifY ("Service"). By accessing or using our Service, you agree to be bound by these Terms. This Service is a platform for creating shared event albums and capturing photos/videos.',gdprTitle:"GDPR Compliance & Data Privacy",gdprText:"We act as a Data Controller regarding your personal information. We are committed to protecting your privacy in accordance with the General Data Protection Regulation (GDPR).",dataCollectTitle:"Data We Collect",dataCollectList:` Name & Email (for Authentication)
 Uploaded Photos & Videos
 Metadata (Date, Time of upload)
 Device Fingerprint (for Security)`,yourRightsTitle:"Your Rights",yourRightsList:` Right to Access: View your data.
 Right to Rectification: Correct details.
 Right to Erasure: Request deletion.
 Right to Portability: Download ZIPs.`,gdprNote:"* Photos are stored based on the event host's plan. Expired events may be permanently deleted from our servers to ensure data minimization.",userRespTitle:"User Responsibilities",userRespText:"By using this Service, you agree NOT to:",userRespList:` Upload content that is illegal, pornographic, violent, or offensive.
 Infringe on the copyright or privacy rights of others.
 Use the Service for any purpose that violates local laws.`,userRespFooter:"We reserve the right to remove any content and suspend accounts that violate these terms without prior notice.",liabilityTitle:"Limitation of Liability",liabilityText1:'THE SERVICE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND.',liabilityText2:"TO THE FULLEST EXTENT PERMITTED BY LAW, THE OWNER, ADMINISTRATORS, AND DEVELOPERS OF THIS SERVICE SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, OR ANY LOSS OF DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES, RESULTING FROM (A) YOUR ACCESS TO OR USE OF OR INABILITY TO ACCESS OR USE THE SERVICE; (B) ANY CONDUCT OR CONTENT OF ANY THIRD PARTY ON THE SERVICE.",contactUsTitle:"Contact Us",contactUsText:"For data deletion requests, privacy concerns, or legal inquiries, please contact the Data Protection Officer / Administrator at:",agreeFooter:"By using SnapifY, you agree to these terms.",iAgree:"I Understand & Agree",termsLink:"Terms & Privacy",loginForPrivacy:"Login for Privacy Control",privacyNote:"Register to enable Private Uploads and manage your history.",guestPublicNote:"Photos uploaded as a guest will be public.",private:"Private",public:"Public",loginRequired:"Login required for private uploads",uploadPrivacy:"Upload Privacy",myUploads:"My Uploads",allPhotos:"All Photos",deleteMediaConfirm:"Are you sure you want to delete this media? This cannot be undone.",liveWall:"Live Wall",shareLiveWall:"Share Live Wall",scanToView:"Scan to view this live wall",untitled:"Untitled",by:"by",close:"Close",findMeDevMode:" Experimental Feature: This feature is currently in development.",installApp:"Install App",installAppDesc:"Install SnapifY for a better experience.",addMemory:"Add Memory",tapToUpload:"TAP TO UPLOAD",loginHost:"Already have an account? Sign In",chooseAccess:"How would you like to join?",guestAccess:"Guest Access",continueAsGuest:"Continue as Guest",quickUpload:"Quick Uploads",publicGallery:"Public Gallery",memberLogin:"Login / Sign Up",privateUploadsHistory:"Private uploads & event history",mobileFriendly:"Mobile Optimized",callNow:"Call Now",sendSMS:"Send Text Message",mobileTips:"Mobile Tips: Tap any option above to instantly contact our admin for account upgrades and premium features.",city:"City",location:"Location",locationCity:"Location / City",locationHelpText:"We use this to find local photographers for you.",birthday:"Birthday",wedding:"Wedding",party:"Party",corporate:"Corporate",graduation:"Graduation",travel:"Travel",anniversary:"Anniversary",holiday:"Holiday",sports:"Sports",concert:"Concert",step1Title:"Create Event",step1Desc:"Set up your event in seconds. Choose a theme and privacy settings.",step2Title:"Share QR Code",step2Desc:"Guests scan the code to join. No app download required.",step3Title:"Watch Live",step3Desc:"Photos appear instantly on the Live Slideshow for everyone to see.",featNoApp:"No App Needed",featNoAppDesc:"Guests simply scan and snap. Frictionless participation.",featLiveWall:"Live Slideshow",featLiveWallDesc:"Project photos in real-time on big screens.",featAI:"AI Magic",featAIDesc:"Face detection helps guests find their photos instantly.",featPrivacy:"Total Privacy",featPrivacyDesc:"Secure your memories with PIN codes and admin controls.",proTitle:"For Event Professionals",proDesc:"Boost your photography business with instant delivery and branding.",statPhotos:"Photos Shared",statEvents:"Events Hosted"},mk:{appName:"SnapifY",appSubtitle:"   ",heroTitlePrefix:" .",heroTitleSuffix:" .",heroDesc:"    .              .",getStarted:"",adminDemo:" ",signIn:" ",signUp:" ",fullName:" ",email:"-",password:"",createAccount:" ",continueGoogle:"  Google",terms:" ,     ",pricingTitle:" ",bestValue:"",forProfessionals:" ",event:"",currentPlan:" ",contactSales:" ",startFree:" ",myEvents:" ",manageEvents:"     ",newEvent:" ",noEvents:"   ",createFirst:"      !",createNow:" ",dateTBD:" ",memories:"",owner:"",expired:"",active:"",forever:"",copyLink:" ",hostedBy:" ",gallery:"",noPhotos:" ",beFirst:"    !",snap:"",upload:"",joinParty:" ",enterName:"       ",yourName:" ",continue:"",cancel:"",createEvent:"  ",eventTitle:"  ",eventTheme:"  ",eventDate:"  ",setDate:" ",aiDesc:"AI ",autoGenerate:"",generating:" ...",aiPlaceholder:"   AI   ...",createParty:" ",guest:"",logOut:" ",home:"",adminDashboard:"SnapifY ",masterControl:"  ",users:"",events:"",exit:"",totalUsers:" ",totalEvents:" ",totalMedia:" ",storage:"",registeredUsers:" ",tier:"",actions:"",deleteUserConfirm:"        ?",storageUsage:"  ",systemEvents:" ",host:"",status:"",mediaCount:"  ",items:"",noDate:" ",exp:"",unlimited:"",editEvent:" ",modifyExpiration:" ",neverExpires:"  ",expireImmediately:" ",setNewDuration:"  ",saveChanges:" ",modifyExpirationNote:"          .",seconds:"",minutes:"",hours:"",days:"",managing:"",mediaItems:" ",noMedia:"    ",deleteEventConfirm:"   ?",cameraError:"   .",takePhoto:"",retry:"",eventExpiredTitle:"  ",eventExpiredMsg:"     .   .",goHome:"  ",adminModeExpired:" :    ",unknownUser:" ",authErrorFill:"     ",authErrorEmail:" -   ",authErrorInvalid:" .   .",authErrorRequired:"-    ",authErrorInvalidEmail:"    -",authErrorPasswordLength:"     6 ",authErrorNameRequired:"        2 ",linkCopied:"  !",salesContactMsg:" !     .",adminSettings:": ",customDuration:"",iAmPhotographer:"   / ",applyForPhotographer:"  /",studioName:"   / ",studioDashboard:" ",verifiedStudio:" ",downloadAll:" ",views:"",watermark:"  ",watermarkApplied:"    ",applyWatermark:"  ",storageLimit:"   !",videoRestricted:"     Pro  Studio.",videoDurationLimit:"    10   ",videoTooLong:"  .    10 .",upgradeToUpload:"  ",setCover:"  ",coverSet:"  !",contactSalesTitle:" ",contactSalesDesc:"     ,    .       .",openWhatsapp:" WhatsApp",openEmail:" -",downloading:"  ZIP...",downloadReady:"",zipError:"   ZIP",slideshow:"",exitSlideshow:"",play:"",pause:"",studioSettings:" ",uploadLogo:" /",logoDesc:" PNG   .       .",currentLogo:" ",removeLogo:" ",saveSettings:"",opacity:"",size:"",preview:"  ",position:"",offsetX:" ",offsetY:" ",topLeft:" ",topRight:" ",bottomLeft:" ",bottomRight:" ",center:"",guestbook:"  ",leaveMessage:" ...",signGuestbook:" ",noMessages:" .  !",messageSent:"  !",pinRequired:"  PIN",enterPin:" PIN",submitPin:"",optionalPin:" PIN ",pinDesc:"    ",invalidPin:" PIN",findMe:" ",findMeTitle:"   AI",findMeDesc:"        .",uploadSelfie:" ",scanning:"...",noFaceDetected:"   .",foundMatches:" ",noMatchesFound:"   .",clearFilter:" ",processing:"  ...",switchCamera:" ",backToApp:"  ",termsTitle:"  ",effectiveDate:"    ",introTitle:"",introText:"  SnapifY ().       ,        .            /.",gdprTitle:"GDPR     ",gdprText:"           .                 (GDPR).",dataCollectTitle:"   ",dataCollectList:`   - ( )
    
  (,   )
    ( )`,yourRightsTitle:" ",yourRightsList:`   :    .
   :   .
   :   .
   :  ZIP.`,gdprNote:"*           .                 .",userRespTitle:"  ",userRespText:"    ,    :",userRespList:`      , ,   .
           .
             .`,userRespFooter:"                   .",liabilityTitle:"  ",liabilityText1:"             .",liabilityText2:"     , ,             , , ,    ,     , ,      ,    ()             ; ()          .",contactUsTitle:"",contactUsText:"    ,      ,          /  :",agreeFooter:"   SnapifY,     .",iAgree:"   ",termsLink:"  ",loginForPrivacy:"   ",privacyNote:"        .",guestPublicNote:"     .",private:"",public:"",loginRequired:"    ",uploadPrivacy:"  ",myUploads:" ",allPhotos:" ",deleteMediaConfirm:"         ?",liveWall:" ",shareLiveWall:"  ",scanToView:"       ",untitled:" ",by:"",close:"",findMeDevMode:"  :      .",installApp:" ",installAppDesc:" SnapifY   .",install:"",offlineMode:"  ",chooseAccess:"    ?",guestAccess:" ",continueAsGuest:"  ",quickUpload:" ",publicGallery:" ",memberLogin:" / ",privateUploadsHistory:"   ",mobileFriendly:"  ",callNow:" ",sendSMS:" ",mobileTips:"  :                 .",city:"",location:"",locationCity:" / ",locationHelpText:"         .",birthday:"",wedding:"",party:"",corporate:"",graduation:"",travel:"",anniversary:"",holiday:"",sports:"",concert:"",loginHost:"  ?  ",addMemory:" ",tapToUpload:"  ",step1Title:" ",step1Desc:"      .    .",step2Title:" QR ",step2Desc:"       .    .",step3Title:"  ",step3Desc:"       .",featNoApp:" ",featNoAppDesc:"    .",featLiveWall:"  ",featLiveWallDesc:"       .",featAI:"AI ",featAIDesc:"            .",featPrivacy:" ",featPrivacyDesc:"     PIN    .",proTitle:" ",proDesc:"        .",statPhotos:" ",statEvents:" "},tr:{appName:"SnapifY",appSubtitle:"Etkinlik Paylam Platformu",heroTitlePrefix:"Her A.",heroTitleSuffix:"Her An.",heroDesc:"Modern dijital ziyareti defteri. Uygulama indirmeden her misafirden gerek zamanl fotoraf ve video toplayn.",getStarted:"Balayn",adminDemo:"Ynetici Demo",signIn:"Giri Yap",signUp:"Kayt Ol",fullName:"Ad Soyad",email:"E-posta Adresi",password:"ifre",createAccount:"Hesap Olutur",continueGoogle:"Google ile Devam Et",terms:"Devam ederek, artlar ve Koullar kabul etmi olursunuz",pricingTitle:"Basit, effaf Fiyatlandrma",bestValue:"En yi Deer",forProfessionals:"Profesyoneller in",event:"etkinlik",currentPlan:"Mevcut Plan",contactSales:"Sat Ekibiyle letiime Ge",startFree:"cretsiz Bala",myEvents:"Etkinliklerim",manageEvents:"Partilerinizi ve albmlerinizi ynetin",newEvent:"Yeni Etkinlik",noEvents:"Henz etkinlik yok",createFirst:"Arkadalarnzla an yakalamak iin ilk etkinliinizi oluturun!",createNow:"imdi etkinlik olutur",dateTBD:"Tarih Belirlenecek",memories:"anlar",owner:"Sahip",expired:"Sresi Doldu",active:"Aktif",forever:"Sonsuza Dek",copyLink:"Balanty Kopyala",hostedBy:"Ev Sahibi",gallery:"Galeri",noPhotos:"Henz fotoraf yok",beFirst:"lk fotoraf eken siz olun!",snap:"ek",upload:"Ykle",joinParty:"Partiye Katl",enterName:"Fotoraf yklemek iin adnz girin",yourName:"Adnz",continue:"Devam Et",cancel:"ptal",createEvent:"Yeni Etkinlik Olutur",eventTitle:"Etkinlik Bal",eventTheme:"Etkinlik Temas",eventDate:"Etkinlik Tarihi",setDate:"Tarih Ayarla",aiDesc:"AI Aklamas",autoGenerate:"Otomatik Olutur",generating:"Oluturuluyor...",aiPlaceholder:"AI'n elenceli bir aklama yazmas iin tklayn...",createParty:"Parti Olutur",guest:"Misafir",logOut:"k Yap",home:"Ana Sayfa",adminDashboard:"SnapifY Ynetici",masterControl:"Ana Kontrol Paneli",users:"Kullanclar",events:"Etkinlikler",exit:"k",totalUsers:"Toplam Kullanc",totalEvents:"Toplam Etkinlik",totalMedia:"Toplam Medya",storage:"Depolama",registeredUsers:"Kaytl Kullanclar",tier:"Seviye",actions:"lemler",deleteUserConfirm:"Bu kullancy ve tm verilerini silmek istediinizden emin misiniz?",storageUsage:"Kullanc Depolama Kullanm",systemEvents:"Sistem Etkinlikleri",host:"Ev Sahibi",status:"Durum",mediaCount:"Medya Says",items:"e",noDate:"Tarih Yok",exp:"Biti",unlimited:"Snrsz",editEvent:"Etkinlii Dzenle",modifyExpiration:"Sreyi Deitir",neverExpires:"Asla Sona Ermez",expireImmediately:"Hemen Sona Erdir",setNewDuration:"Yeni Sre Belirle",saveChanges:"Deiiklikleri Kaydet",modifyExpirationNote:"Sreyi deitirmek, kaydettiiniz andan itibaren zamanlaycy sfrlar.",seconds:"Saniye",minutes:"Dakika",hours:"Saat",days:"Gn",managing:"Ynetiliyor",mediaItems:"medya esi",noMedia:"Bu etkinlikte medya yok",deleteEventConfirm:"Bu etkinlii kalc olarak sil?",cameraError:"Kameraya eriilemiyor. zinleri kontrol edin.",takePhoto:"Fotoraf ek",retry:"Tekrar Dene",eventExpiredTitle:"Etkinlik Sona Erdi",eventExpiredMsg:"Bu etkinlie eriim sresi doldu. Daha fazla bilgi iin organizatrle iletiime gein.",goHome:"Ana Sayfaya Git",adminModeExpired:"Ynetici Modu: Sresi Dolmu Etkinlik",unknownUser:"Bilinmeyen Kullanc",authErrorFill:"Ltfen tm alanlar doldurun",authErrorEmail:"Bu e-posta zaten kaytl",authErrorInvalid:"Geersiz bilgiler. Tekrar deneyin.",authErrorRequired:"E-posta ve ifre gerekli",authErrorInvalidEmail:"Ltfen geerli bir e-posta adresi girin",authErrorPasswordLength:"ifre en az 6 karakter olmaldr",authErrorNameRequired:"Ad gerekli ve en az 2 karakter olmaldr",linkCopied:"Balant panoya kopyaland!",salesContactMsg:"lginiz iin teekkrler! Sat ekibimiz sizinle iletiime geecek.",adminSettings:"Ynetici Ayarlar: Sre",customDuration:"zel Sre",iAmPhotographer:"Ben Bir Fotorafym / Stdyoyum",applyForPhotographer:"Fotoraf/Stdyo Bavurusu",studioName:"Stdyo / letme Ad",studioDashboard:"Stdyo Paneli",verifiedStudio:"Onayl Stdyo",downloadAll:"Tmn ndir",views:"Grntleme",watermark:"Filigran Ekle",watermarkApplied:"Filigran uygulanacak",applyWatermark:"Filigran Uygula",storageLimit:"Depolama Snrna Ulald!",videoRestricted:"Video yklemeleri Pro ve Studio planlarnda mevcuttur.",videoDurationLimit:"Videolar 10 saniye veya daha az olmaldr",videoTooLong:"Video ok uzun. Maksimum sre 10 saniyedir.",upgradeToUpload:"Yklemek iin Ykselt",setCover:"Kapak Olarak Ayarla",coverSet:"Kapak gncellendi!",contactSalesTitle:"Seviye Ykselt",contactSalesDesc:"Bu seviyenin kilidini amak iin ltfen hesabnz ykseltin. Bir ynetici ykseltmenizi ileyecektir.",openWhatsapp:"WhatsApp' A",openEmail:"E-posta Gnder",downloading:"Sktrlyor...",downloadReady:"ndirme Hazr",zipError:"ZIP hatas",slideshow:"Slayt Gsterisi",exitSlideshow:"k",play:"Oynat",pause:"Duraklat",studioSettings:"Stdyo Ayarlar",uploadLogo:"Logo/mza Ykle",logoDesc:"En iyi sonu iin effaf arka planl PNG ykleyin. Tm fotoraflarn sa alt kesine uygulanacaktr.",currentLogo:"Mevcut Logo",removeLogo:"Logoyu Kaldr",saveSettings:"Ayarlar Kaydet",opacity:"Opaklk",size:"Boyut",preview:"Filigran nizleme",position:"Pozisyon",offsetX:"Yatay Ofset",offsetY:"Dikey Ofset",topLeft:"Sol st",topRight:"Sa st",bottomLeft:"Sol Alt",bottomRight:"Sa Alt",center:"Orta",guestbook:"Ziyareti Defteri",leaveMessage:"Mesaj brakn...",signGuestbook:"mzala",noMessages:"Henz mesaj yok. lk siz olun!",messageSent:"Mesaj gnderildi!",pinRequired:"PIN Gerekli",enterPin:"Etkinlik PIN'ini Girin",submitPin:"Etkinlii A",optionalPin:"stee Bal PIN Kodu",pinDesc:"Herkese ak eriim iin bo brakn",invalidPin:"Hatal PIN",findMe:"Beni Bul",findMeTitle:"AI ile Beni Bul",findMeDesc:"Bir selfie ykleyin ve bu galerideki fotoraflarnz vurgulayalm.",uploadSelfie:"Selfie ek",scanning:"Galeri Taranyor...",noFaceDetected:"Yz alglanamad. Tekrar deneyin.",foundMatches:"Elemeler Bulundu",noMatchesFound:"Henz fotorafnz bulunamad.",clearFilter:"Filtreyi Temizle",processing:"Video leniyor...",switchCamera:"Kameray Deitir",backToApp:"Uygulamaya Dn",termsTitle:"artlar ve Gizlilik Politikas",effectiveDate:"Yrrlk Tarihi",introTitle:"Giri",introText:`SnapifY'a ("Hizmet") ho geldiniz. Hizmetimize erierek veya kullanarak, bu artlara bal kalmay kabul edersiniz. Bu Hizmet, paylalan etkinlik albmleri oluturmak ve fotoraf/video ekmek iin bir platformdur.`,gdprTitle:"GDPR Uyumluluu ve Veri Gizlilii",gdprText:"Kiisel bilgilerinizle ilgili olarak Veri Sorumlusu olarak hareket ediyoruz. Gizliliinizi Genel Veri Koruma Ynetmelii (GDPR) uyarnca korumay taahht ediyoruz.",dataCollectTitle:"Topladmz Veriler",dataCollectList:` Ad ve E-posta (Kimlik Dorulama iin)
 Yklenen Fotoraflar ve Videolar
 Meta Veriler (Ykleme Tarihi, Saati)
 Cihaz Parmak zi (Gvenlik iin)`,yourRightsTitle:"Haklarnz",yourRightsList:` Eriim Hakk: Verilerinizi grntleyin.
 Dzeltme Hakk: Ayrntlar dzeltin.
 Silme Hakk: Silme talebinde bulunun.
 Tanabilirlik Hakk: ZIP indirin.`,gdprNote:"* Fotoraflar, etkinlik sahibinin planna gre saklanr. Sresi dolan etkinlikler, veri minimizasyonunu salamak iin sunucularmzdan kalc olarak silinebilir.",userRespTitle:"Kullanc Sorumluluklar",userRespText:"Bu Hizmeti kullanarak, aadakileri YAPMAMAYI kabul edersiniz:",userRespList:` Yasa d, pornografik, iddet ieren veya saldrgan ierik yklemek.
 Bakalarnn telif hakk veya gizlilik haklarn ihlal etmek.
 Hizmeti yerel yasalar ihlal eden herhangi bir ama iin kullanmak.`,userRespFooter:"Bu artlar ihlal eden herhangi bir ierii kaldrma ve hesaplar nceden haber vermeksizin askya alma hakkmz sakl tutarz.",liabilityTitle:"Sorumluluk Snrlamas",liabilityText1:'HZMET "OLDUU GB" VE "MEVCUT OLDUU EKLDE" HERHANG BR GARANT OLMAKSIZIN SALANIR.',liabilityText2:"YASALARIN ZN VERD EN GEN LDE, BU HZMETN SAHB, YNETCLER VE GELTRCLER; (A) HZMETE ERMNZ VEYA KULLANIMINIZ VEYA EREMEMENZ VEYA KULLANAMAMANIZ; (B) HZMETTEK HERHANG BR NC TARAFIN HERHANG BR DAVRANII VEYA ERNDEN KAYNAKLANAN HERHANG BR DOLAYLI, ARIZ, ZEL, SONU OLARAK ORTAYA IKAN VEYA CEZA HASARLARDAN VEYA VER, KULLANIM, Y NYET VEYA DER MADD OLMAYAN KAYIPLARDAN SORUMLU OLMAYACAKTIR.",contactUsTitle:"Bize Ulan",contactUsText:"Veri silme talepleri, gizlilik endieleri veya yasal sorular iin ltfen Veri Koruma Grevlisi / Ynetici ile u adresten iletiime gein:",agreeFooter:"SnapifY' kullanarak, bu artlar kabul etmi olursunuz.",iAgree:"Anlyorum ve Kabul Ediyorum",termsLink:"artlar ve Gizlilik",loginForPrivacy:"Gizlilik Kontrol iin Giri Yapn",privacyNote:"zel Yklemeleri etkinletirmek ve gemiinizi ynetmek iin kaydolun.",guestPublicNote:"Misafir olarak yklenen fotoraflar herkese ak olacaktr.",private:"zel",public:"Genel",loginRequired:"zel yklemeler iin giri gerekli",uploadPrivacy:"Ykleme Gizlilii",myUploads:"Yklemelerim",allPhotos:"Tm Fotoraflar",deleteMediaConfirm:"Bu medyay silmek istediinizden emin misiniz?",liveWall:"Canl Duvar",shareLiveWall:"Canl Duvar Payla",scanToView:"Bu canl duvar grmek iin tarayn",untitled:"Balksz",by:"tarafndan",close:"Kapat",findMeDevMode:" Deneysel zellik: Bu zellik u anda gelitirme aamasndadr.",installApp:"Uygulamay Ykle",installAppDesc:"Daha iyi bir deneyim iin SnapifY' ykleyin.",install:"Ykle",offlineMode:"u anda evrimdsnz",chooseAccess:"Nasl katlmak istersiniz?",guestAccess:"Misafir Girii",continueAsGuest:"Misafir Olarak Devam Et",quickUpload:"Hzl Ykleme",publicGallery:"Herkese Ak Galeri",memberLogin:"Giri Yap / Kayt Ol",privateUploadsHistory:"zel yklemeler ve etkinlik gemii",mobileFriendly:"Mobil Optimize",callNow:"Hemen Ara",sendSMS:"SMS Gnder",mobileTips:"Mobil pular: Hesap ykseltmeleri ve premium zellikler iin yneticimizle annda iletiime gemek iin yukardaki herhangi bir seenee dokunun.",city:"ehir",location:"Konum",locationCity:"Konum / ehir",locationHelpText:"Bununla size yerel fotoraflar buluyoruz.",birthday:"Doum Gn",wedding:"Dn",party:"Parti",corporate:"Kurumsal",graduation:"Mezuniyet",travel:"Seyahat",anniversary:"Yldnm",holiday:"Tatil",sports:"Spor",concert:"Konser",loginHost:"Zaten hesabnz var m? Giri Yap",addMemory:"An Ekle",tapToUpload:"YKLEMEK N DOKUN",step1Title:"Etkinlik Olutur",step1Desc:"Saniyeler iinde etkinliinizi kurun. Tema ve ayarlar sein.",step2Title:"QR Payla",step2Desc:"Misafirler katlmak iin kodu tarar. Uygulama gerekmez.",step3Title:"Canl zle",step3Desc:"Fotoraflar annda byk ekranda slayt gsterisi olarak grnr.",featNoApp:"Uygulama Yok",featNoAppDesc:"Misafirler sadece tarar ve eker. Kesintisiz katlm.",featLiveWall:"Canl Slayt Gsterisi",featLiveWallDesc:"Fotoraflar gerek zamanl olarak byk ekranlara yanstn.",featAI:"AI Sihri",featAIDesc:"Yz alglama, misafirlerin fotoraflarn annda bulmasna yardmc olur.",featPrivacy:"Tam Gizlilik",featPrivacyDesc:"Anlarnz PIN kodlar ve ynetici kontrolleriyle koruyun.",proTitle:"Profesyoneller in",proDesc:"Annda teslimat ve markalama ile fotoraflk iinizi bytn.",statPhotos:"Paylalan Fotoraf",statEvents:"Dzenlenen Etkinlik"},sq:{appName:"SnapifY",appSubtitle:"Platform pr Ndarjen e Ngjarjeve",heroTitlePrefix:"do Knd.",heroTitleSuffix:"do Moment.",heroDesc:"Libri modern digjital i mysafirve. Mblidhni foto dhe video nga do mysafir n koh reale pa shkarkuar aplikacion.",getStarted:"Fillo Tani",adminDemo:"Demo Admin",signIn:"Hyni",signUp:"Regjistrohu",fullName:"Emri i Plot",email:"Adresa Email",password:"Fjalkalimi",createAccount:"Krijo Llogari",continueGoogle:"Vazhdo me Google",terms:"Duke vazhduar, ju pajtoheni me Kushtet tona",pricingTitle:"mime t Thjeshta",bestValue:"Vlera m e mir",forProfessionals:"Pr Profesionistt",event:"ngjarje",currentPlan:"Plani Aktual",contactSales:"Kontakto Shitjet",startFree:"Fillo Falas",myEvents:"Ngjarjet e Mia",manageEvents:"Menaxho festat dhe albumet e tua",newEvent:"Ngjarje e Re",noEvents:"Ende asnj ngjarje",createFirst:"Krijo ngjarjen tnde t par!",createNow:"Krijo ngjarje tani",dateTBD:"Data s shpejti",memories:"kujtime",owner:"Pronari",expired:"Skaduar",active:"Aktive",forever:"Prgjithmon",copyLink:"Kopjo Linkun",hostedBy:"Organizuar nga",gallery:"Galeria",noPhotos:"Asnj foto ende",beFirst:"Bhu i pari q shkrep nj moment!",snap:"Shkrep",upload:"Ngarko",joinParty:"Bashkohu n Fest",enterName:"Shkruani emrin tuaj pr t ngarkuar foto",yourName:"Emri Juaj",continue:"Vazhdo",cancel:"Anulo",createEvent:"Krijo Ngjarje t Re",eventTitle:"Titulli i Ngjarjes",eventTheme:"Tema e Ngjarjes",eventDate:"Data e Ngjarjes",setDate:"Cakto Datn",aiDesc:"Prshkrim AI",autoGenerate:"Gjenero",generating:"Po gjenerohet...",aiPlaceholder:"Kliko pr t gjeneruar nj prshkrim...",createParty:"Krijo Fest",guest:"Mysafir",logOut:"Dil",home:"Kreu",adminDashboard:"SnapifY Admin",masterControl:"Paneli Kryesor i Kontrollit",users:"Prdoruesit",events:"Ngjarjet",exit:"Dalja",totalUsers:"Gjithsej Prdorues",totalEvents:"Gjithsej Ngjarje",totalMedia:"Gjithsej Media",storage:"Hapsira",registeredUsers:"Prdoruesit e Regjistruar",tier:"Niveli",actions:"Veprime",deleteUserConfirm:"A jeni t sigurt q doni ta fshini kt prdorues?",storageUsage:"Prdorimi i Hapsirs",systemEvents:"Ngjarjet e Sistemit",host:"Mikpritsi",status:"Statusi",mediaCount:"Numri i Mediave",items:"artikuj",noDate:"Pa Dat",exp:"Skadon",unlimited:"Pa limit",editEvent:"Ndrysho Ngjarjen",modifyExpiration:"Ndrysho Skadimin",neverExpires:"Nuk Skadon Kurr",expireImmediately:"Skado Menjher",setNewDuration:"Cakto Kohzgjatje t Re",saveChanges:"Ruaj Ndryshimet",modifyExpirationNote:"Ndryshimi i skadimit do t rifilloj kohmatsin.",seconds:"Sekonda",minutes:"Minuta",hours:"Or",days:"Dit",managing:"Duke menaxhuar",mediaItems:"artikuj media",noMedia:"Asnj media n kt ngjarje",deleteEventConfirm:"Fshi kt ngjarje prgjithmon?",cameraError:"Nuk mund t qaset kamera.",takePhoto:"Bj Foto",retry:"Provo Prsri",eventExpiredTitle:"Ngjarja ka Skaduar",eventExpiredMsg:"Qasja n kt ngjarje ka prfunduar.",goHome:"Shko n Kreu",adminModeExpired:"Admin: Po shikon ngjarje t skaduar",unknownUser:"Prdorues i Panjohur",authErrorFill:"Ju lutemi plotsoni t gjitha fushat",authErrorEmail:"Kjo email sht regjistruar tashm",authErrorInvalid:"T dhna t pasakta. Provo prsri.",authErrorRequired:"Email dhe fjalkalimi krkohen",authErrorInvalidEmail:"Ju lutemi shkruani nj adres email t vlefshme",authErrorPasswordLength:"Fjalkalimi duhet t ket t paktn 6 karaktere",authErrorNameRequired:"Emri krkohet dhe duhet t ket t paktn 2 karaktere",linkCopied:"Linku u kopjua!",salesContactMsg:"Faleminderit! Ekipi yn do t'ju kontaktoj.",adminSettings:"Cilsimet Admin: Skadimi",customDuration:"Kohzgjatje e Veant",iAmPhotographer:"Jam Fotograf / Studio",applyForPhotographer:"Apliko pr Fotograf/Studi",studioName:"Emri i Studios / Biznesit",studioDashboard:"Paneli i Studios",verifiedStudio:"Studio e Verifikuar",downloadAll:"Shkarko T Gjitha",views:"Shikime",watermark:"Apliko Watermark",watermarkApplied:"Watermark do t aplikohet",applyWatermark:"Apliko Watermark",storageLimit:"Kufiri i Hapsirs u Arrit!",videoRestricted:"Videot jan vetm pr planet Pro dhe Studio.",videoDurationLimit:"Videot duhet t jen 10 sekonda ose m pak",videoTooLong:"Video shum i gjat. Kohzgjatja maksimale sht 10 sekonda.",upgradeToUpload:"Prmirso pr t Ngarkuar",setCover:"Cakto si Kopertin",coverSet:"Kopertina u prditsua!",contactSalesTitle:"Prmirso Nivelin",contactSalesDesc:"Pr t zhbllokuar kt nivel, prmirsoni llogarin tuaj. Nj administrator do ta prpunoj prmirsimin tuaj menjher.",openWhatsapp:"Hap WhatsApp",openEmail:"Drgo Email",downloading:"Po krijon ZIP...",downloadReady:"Gati pr Shkarkim",zipError:"Gabim n krijimin e ZIP",slideshow:"Slideshow",exitSlideshow:"Dil",play:"Luaj",pause:"Pusho",studioSettings:"Cilsimet e Studios",uploadLogo:"Ngarko Logo/Nnshkrim",logoDesc:"Ngarkoni nj PNG me sfond transparent. Do t vendoset n cepin e djatht posht.",currentLogo:"Logo Aktuale",removeLogo:"Fshi Logo",saveSettings:"Ruaj Cilsimet",opacity:"Opaciteti",size:"Madhsia",preview:"Pamje paraprake",position:"Pozicioni",offsetX:"Zhvendosje Horizontale",offsetY:"Zhvendosje Vertikale",topLeft:"Lart Majtas",topRight:"Lart Djathtas",bottomLeft:"Posht Majtas",bottomRight:"Posht Djathtas",center:"Qendr",guestbook:"Libri i Mysafirve",leaveMessage:"Lini nj mesazh...",signGuestbook:"Nnshkruaj",noMessages:"Asnj mesazh ende. Bhu i pari!",messageSent:"Mesazhi u drgua!",pinRequired:"Krkohet PIN",enterPin:"Shkruani PIN-in",submitPin:"Zhblloko",optionalPin:"Kodi PIN Opsional",pinDesc:"Lreni bosh pr qasje publike",invalidPin:"PIN i Gabuar",findMe:"M Gjej",findMeTitle:"M Gjej me AI",findMeDesc:"Ngarkoni nj selfie dhe do t gjejm fotot tuaja.",uploadSelfie:"Bj Selfie",scanning:"Po skanon galerin...",noFaceDetected:"Nuk u gjet fytyr. Provo prsri.",foundMatches:"U Gjetn",noMatchesFound:"Asnj foto e juaja ende.",clearFilter:"Pastro",processing:"Duke procesuar videon...",switchCamera:"Ndrysho Kamern",backToApp:"Kthehu n Aplikacion",termsTitle:"Kushtet dhe Privatsia",effectiveDate:"Data e Hyjes n Fuqi",introTitle:"Hyrje",introText:'Mirsevini n SnapifY ("Shrbimi"). Duke hyr ose prdorur Shrbimin ton, ju pajtoheni q t jeni t detyruar nga kto Kushte. Ky Shrbim sht nj platform pr krijimin e albumeve t prbashkta t ngjarjeve dhe kapjen e fotove/videove.',gdprTitle:"Prputhshmria me GDPR dhe Privatsia e t Dhnave",gdprText:"Ne veprojm si Kontrollues t Dhnash n lidhje me informacionin tuaj personal. Ne jemi t prkushtuar t mbrojm privatsin tuaj n prputhje me Rregulloren e Prgjithshme pr Mbrojtjen e t Dhnave (GDPR).",dataCollectTitle:"T Dhnat q Mbledhim",dataCollectList:` Emri dhe Email-i (pr Autentifikim)
 Fotot dhe Videot e Ngarkuara
 T dhnat meta (Data, Koha e ngarkimit)
 Gjurmt e Pajisjes (pr Siguri)`,yourRightsTitle:"T Drejtat Tuaja",yourRightsList:` E drejta pr qasje: Shikoni t dhnat tuaja.
 E drejta pr korrigjim: Korrigjoni detajet.
 E drejta pr fshirje: Krkoni fshirjen.
 E drejta pr transportueshmri: Shkarkoni ZIP.`,gdprNote:"* Fotot ruhen bazuar n planin e organizatorit t ngjarjes. Ngjarjet e skaduara mund t fshihen prgjithmon nga servert tan pr t siguruar minimizimin e t dhnave.",userRespTitle:"Prgjegjsit e Prdoruesit",userRespText:"Duke prdorur kt Shrbim, ju pajtoheni t MOS:",userRespList:` Ngarkoni prmbajtje q sht e paligjshme, pornografike, e dhunshme ose ofenduese.
 Shkelni t drejtat e autorit ose t drejtat e privatsis s t tjerve.
 Prdorni Shrbimin pr ndonj qllim q shkel ligjet vendore.`,userRespFooter:"Ne rezervojm t drejtn t heqim do prmbajtje dhe t pezullojm llogarit q shkelin kto kushte pa njoftim paraprak.",liabilityTitle:"Kufizimi i Prgjegjsis",liabilityText1:'SHRBIMI OFROHET "SI SHT" DHE "SI SHT I DISPONUESHM" PA ASNJ LLOJ GARANCIE.',liabilityText2:"N SHKALLN M T PLOT T LEJUAR NGA LIGJI, PRONARI, ADMINISTRATORT DHE ZHVILLUESIT E KTIJ SHRBIMI NUK DO T JEN PRGJEGJS PR ASNJ DM T TRTHORT, AKSIDENTAL, T VEANT, T RNDSISHM OSE NDSHKUES, OSE NDONJ HUMBJE T T DHNAVE, PRDORIMIT, EMRIT T MIR OSE HUMBJE T TJERA T PAPREKSHME, Q RRJEDHIN NGA (A) QASJA JUAJ OSE PRDORIMI OSE PAMUNDSIA PR T HYR OSE PRDORUR SHRBIMIN; (B) DO SJELLJE OSE PRMBAJTJE E NDONJ PALE T TRET N SHRBIM.",contactUsTitle:"Na Kontaktoni",contactUsText:"Pr krkesa pr fshirjen e t dhnave, shqetsime pr privatsin ose pyetje ligjore, ju lutemi kontaktoni Zyrtarin pr Mbrojtjen e t Dhnave / Administratorin n:",agreeFooter:"Duke prdorur SnapifY, ju pajtoheni me kto kushte.",iAgree:"Kuptoj dhe Pajtohem",termsLink:"Kushtet dhe Privatsia",loginForPrivacy:"Hyni pr Kontrollin e Privatsis",privacyNote:"Regjistrohuni pr t aktivizuar Ngarkimet Private dhe pr t menaxhuar historin tuaj.",guestPublicNote:"Fotot e ngarkuara si mysafir do t jen publike.",private:"Private",public:"Publike",loginRequired:"Krkohet hyrja pr ngarkime private",uploadPrivacy:"Privatsia e Ngarkimit",myUploads:"Ngarkimet e Mia",allPhotos:"T Gjitha Fotot",deleteMediaConfirm:"A jeni i sigurt se doni t fshini kt media?",liveWall:"Mur i Gjall",shareLiveWall:"Ndaj Murin e Gjall",scanToView:"Skano pr t par kt mur t gjall",untitled:"Pa Titull",by:"nga",close:"Mbyll",findMeDevMode:" Veori Eksperimentale: Kjo veori sht aktualisht n zhvillim.",installApp:"Instalo Aplikacionin",installAppDesc:"Instalo SnapifY pr nj prvoj m t mir.",install:"Instalo",offlineMode:"Ju jeni aktualisht offline",chooseAccess:"Si dshironi t bashkoheni?",guestAccess:"Qasje si Mysafir",continueAsGuest:"Vazhdo si Mysafir",quickUpload:"Ngarkime t Shpejta",publicGallery:"Galeri Publike",memberLogin:"Hyni / Regjistrohuni",privateUploadsHistory:"Ngarkime private & historia e ngjarjeve",mobileFriendly:"Optimizuar pr Mobile",callNow:"Thirr Tani",sendSMS:"Drgo SMS",mobileTips:"Kshilla pr Mobile: Prekni do opsion pr t kontaktuar menjher adminin pr prmirsime t llogaris dhe veori premium.",city:"Qyteti",location:"Vendndodhja",locationCity:"Vendndodhja / Qyteti",locationHelpText:"E prdorim kt pr t gjetur fotograf lokal pr ju.",birthday:"Ditlindje",wedding:"Dasma",party:"Fest",corporate:"Korporative",graduation:"Diplomim",travel:"Udhtim",anniversary:"Prvjetor",holiday:"Pushime",sports:"Sport",concert:"Koncert",loginHost:"Keni llogari? Hyni",addMemory:"Shto Kujtime",tapToUpload:"PREK PR T NGARKUAR",step1Title:"Krijo Ngjarje",step1Desc:"Konfiguroni ngjarjen n sekonda. Zgjidhni temn dhe cilsimet.",step2Title:"Ndaj QR Kodin",step2Desc:"Mysafirt skanojn kodin pr t'u bashkuar. Nuk krkohet aplikacion.",step3Title:"Shiko Live",step3Desc:"Fotot shfaqen menjher n Slideshow.",featNoApp:"Pa Aplikacion",featNoAppDesc:"Mysafirt thjesht skanojn dhe shkrepin.",featLiveWall:"Slideshow Live",featLiveWallDesc:"Projektoni fotot n koh reale n ekrane t mdha.",featAI:"Magjia AI",featAIDesc:"Detektimi i fytyrs i ndihmon mysafirt t gjejn fotot e tyre menjher.",featPrivacy:"Privatsi Totale",featPrivacyDesc:"Siguroni kujtimet tuaja me PIN dhe kontrolle admini.",proTitle:"Pr Profesionistt",proDesc:"Prmirsoni biznesin tuaj t fotografis me shprndarje t menjhershme.",statPhotos:"Foto t Ndara",statEvents:"Ngjarje t Organizuara"}},gz=e=>[{id:Ke.FREE,name:"Party Starter",price:"Free",features:["7 Hours Access Limit","100MB Storage","Standard Support","Ad-supported"],cta:e("startFree"),limit:"7 Hours Active Time"},{id:Ke.BASIC,name:"Celebration Plus",price:"$9.99",features:["10GB Storage","30 Days Active","HD Photo Uploads","AI Auto-Captioning"],cta:e("contactSales"),limit:"30 Days Access"},{id:Ke.PRO,name:"Gala Elite",price:"$29.99",features:["30GB Storage","30 Days Active","4K Video Support","Priority Support","Custom Branding"],cta:e("contactSales"),limit:"30 Days Access"},{id:Ke.STUDIO,name:"Studio Enterprise",price:"$99",features:["Unlimited Events","Auto Watermarking","Studio Branding","Client Analytics","Instant ZIP Download"],cta:e("applyForPhotographer"),limit:"Professional Suite"}],bz=[{id:"Birthday",labelKey:"birthday",emoji:""},{id:"Wedding",labelKey:"wedding",emoji:""},{id:"Party",labelKey:"party",emoji:""},{id:"Corporate",labelKey:"corporate",emoji:""},{id:"Graduation",labelKey:"graduation",emoji:""},{id:"Travel",labelKey:"travel",emoji:""},{id:"Anniversary",labelKey:"anniversary",emoji:""},{id:"Holiday",labelKey:"holiday",emoji:""},{id:"Sports",labelKey:"sports",emoji:""},{id:"Concert",labelKey:"concert",emoji:""}],$y=["https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=1920","https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&q=80&w=1920","https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?auto=format&fit=crop&q=80&w=1920","https://images.unsplash.com/photo-1513151233558-d860c5398176?auto=format&fit=crop&q=80&w=1920"],xz="modulepreload",yz=function(e){return"/"+e},Ky={},vz=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=yz(c),c in Ky)return;Ky[c]=!0;const u=c.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":xz,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function Sz(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:a,onRegistered:i,onRegisteredSW:s,onRegisterError:r}=e;let l,c;const u=async(d=!0)=>{await c};async function m(){if("serviceWorker"in navigator){if(l=await vz(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/sw.js",{scope:"/",type:"classic"})).catch(d=>{r==null||r(d)}),!l)return;l.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),l.addEventListener("installed",d=>{d.isUpdate||a==null||a()}),l.register({immediate:t}).then(d=>{s?s("/sw.js",d):i==null||i(d)}).catch(d=>{r==null||r(d)})}}return c=m(),u}function sN(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:a,onRegistered:i,onRegisteredSW:s,onRegisterError:r}=e,[l,c]=H.useState(!1),[u,m]=H.useState(!1),[d]=H.useState(()=>Sz({immediate:t,onOfflineReady(){m(!0),a==null||a()},onNeedRefresh(){c(!0),n==null||n()},onRegistered:i,onRegisteredSW:s,onRegisterError:r}));return{needRefresh:[l,c],offlineReady:[u,m],updateServiceWorker:d}}const _z="https://snapify.skytech.mk";class wz{constructor(){this.socket=null}connect(t){this.socket&&this.socket.connected||(this.socket&&!this.socket.connected&&(this.socket.disconnect(),this.socket=null),this.socket=gN(_z,{transports:["websocket","polling"],timeout:2e4,forceNew:!1,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{var n;t&&((n=this.socket)==null||n.emit("authenticate",t))}),this.socket.on("disconnect",n=>{(n==="io client disconnect"||document.hidden)&&(this.socket=null)}),this.socket.on("connect_error",n=>{}))}joinEvent(t){this.socket&&this.socket.emit("join_event",t)}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}on(t,n){this.socket&&this.socket.on(t,n)}off(t,n){this.socket&&(n?this.socket.off(t,n):this.socket.off(t))}}const Ze=new wz,Ez=({users:e,events:t,onDeleteUser:n,onDeleteEvent:a,onDeleteMedia:i,onUpdateEvent:s,onUpdateUser:r,onNewEvent:l,onDownloadEvent:c,onClose:u,onLogout:m,t:d})=>{var ue,be,He,xt,ye,Ie;const[h,f]=H.useState("users"),{updateServiceWorker:g}=sN(),[b,y]=H.useState(null),[p,x]=H.useState(null),[_,w]=H.useState(null),[E,j]=H.useState(null),[N,D]=H.useState(null),[z,A]=H.useState(!1),[W,T]=H.useState([]),[I,S]=H.useState(!1),[R,F]=H.useState(null),[q,V]=H.useState(!1),[K,Z]=H.useState(null),[O,L]=H.useState(""),[ce,oe]=H.useState("custom"),[re,Le]=H.useState(30),[Pe,we]=H.useState("minutes"),[Ne,Oe]=H.useState(null),[Ue,Tt]=H.useState(""),[wt,v]=H.useState(""),[Q,G]=H.useState(""),[C,k]=H.useState(Ke.FREE),[P,X]=H.useState(it.USER),J=e.map(U=>({name:U.name.split(" ")[0],used:U.storageUsedMb,limit:U.storageLimitMb}));H.useEffect(()=>{h==="system"&&!N&&(async()=>{A(!0);try{const le=await at.getSystemStorage();D(le)}catch{}finally{A(!1)}})()},[h,N]),H.useEffect(()=>{const U=le=>{le.key==="Escape"&&(_?w(null):K?Z(null):Ne&&Oe(null))};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[_,K,Ne]),H.useEffect(()=>{Ze.connect();const U=le=>{var pe;T(Ve=>[le,...Ve]),"Notification"in window&&Notification.permission==="granted"&&new Notification("New Upgrade Request",{body:`${((pe=le.userInfo)==null?void 0:pe.name)||"Anonymous user"} requested upgrade to ${le.tier}`,icon:"/icon-192x192.png"})};return Ze.on("upgrade_request",U),()=>{Ze.off("upgrade_request",U)}},[]),H.useEffect(()=>{const U=le=>{I&&!le.target.closest(".notification-container")&&S(!1)};return I&&document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[I]);const M=U=>{var le;return((le=e.find(pe=>pe.id===U))==null?void 0:le.name)||d("unknownUser")},Y=U=>U?new Date>new Date(U):!1,ee=U=>t.filter(le=>le.hostId===U),$=U=>t.filter(le=>le.hostId===U).length,fe=U=>{let le="bg-green-50 text-green-700 border-green-200",pe=null;return U===Ke.STUDIO?(le="bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-900 border-amber-300",pe=o.jsx(Da,{size:10,className:"mr-1 fill-amber-700"})):U===Ke.PRO?(le="bg-purple-50 text-purple-700 border-purple-200",pe=o.jsx(_a,{size:10,className:"mr-1 fill-purple-500"})):U===Ke.BASIC?(le="bg-blue-50 text-blue-700 border-blue-200",pe=o.jsx(Dd,{size:10,className:"mr-1 fill-blue-500"})):le="bg-slate-100 text-slate-600 border-slate-200",o.jsxs("span",{className:`px-2.5 py-1 inline-flex items-center text-xs leading-5 font-bold rounded-full border ${le}`,children:[pe,U]})},Ee=U=>{j({isOpen:!0,type:"user",id:U.id,title:"Delete User Account",message:`Are you sure you want to delete ${U.name}? This will permanently remove their account AND all ${$(U.id)} events associated with them.`})},ke=U=>{j({isOpen:!0,type:"event",id:U.id,title:"Delete Event",message:`Are you sure you want to delete "${U.title}"? This will permanently delete the event gallery and all ${U.media.length} media items inside it.`})},jt=(U,le)=>{j({isOpen:!0,type:"media",id:le,parentId:U,title:"Delete Media Item",message:"Are you sure you want to delete this photo/video? It will be permanently removed from the gallery."})},wn=async()=>{if(!E)return;const{type:U,id:le,parentId:pe}=E;U==="user"?n(le):U==="event"?(a(le),(b==null?void 0:b.id)===le&&y(null)):U==="media"&&pe&&(i(pe,le),y(Ve=>Ve?{...Ve,media:Ve.media.filter(yt=>yt.id!==le)}:null),(_==null?void 0:_.id)===le&&w(null)),j(null)},et=U=>{Z(U),L(U.title),U.expiresAt?(oe("custom"),Le(30),we("minutes")):oe("unlimited")},an=()=>{if(!K)return;let U=K.expiresAt;if(ce==="unlimited")U=null;else if(ce==="immediate")U=new Date().toISOString();else{const pe=new Date().getTime();let Ve=1e3;Pe==="minutes"&&(Ve=60*1e3),Pe==="hours"&&(Ve=60*60*1e3),Pe==="days"&&(Ve=24*60*60*1e3),U=new Date(pe+re*Ve).toISOString()}const le={...K,title:O,expiresAt:U};s(le),Z(null)},Me=U=>{Oe(U),Tt(U.name),v(U.email),G(Fn[U.tier].allowBranding&&U.studioName||""),k(U.tier),X(U.role)},En=()=>{if(!Ne)return;const U=Fn[C],le={...Ne,name:Ue,email:wt,studioName:U.allowBranding?Q:void 0,role:P,tier:C};r(le),Oe(null)},hn=U=>{x(U),f("userEvents")},At=()=>{x(null),f("users")},Ln=async()=>{if(confirm("Force update app to latest version? This will unregister all service workers and reload the page.")){try{await g(!0)}catch(U){console.error(U)}if("serviceWorker"in navigator){const U=await navigator.serviceWorker.getRegistrations();for(const le of U)await le.unregister()}window.location.reload()}},Qn=()=>{if(confirm(` FORCE RELOAD ALL CLIENTS?

This will cause every user currently on the site to refresh their page immediately. Use this only after pushing a critical update.`)){const U=localStorage.getItem("snapify_token");U&&(Ze.socket?(Ze.socket.emit("admin_trigger_reload",U),alert("Signal sent. Clients should reload momentarily.")):alert("Socket not connected."))}},ka=()=>{if(!p)return null;const U=ee(p.id);return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-4 bg-slate-50",children:[o.jsxs("button",{onClick:At,className:"flex items-center gap-2 text-slate-600 hover:text-slate-800 transition-colors bg-white border border-slate-300 px-3 py-1.5 rounded-lg text-sm font-medium",children:[o.jsx(gv,{size:16}),"Back to Users"]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:[p.name,"'s Events"]}),o.jsxs("p",{className:"text-xs text-slate-500",children:[U.length," events found"]})]})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Event"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Media"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:U.map(le=>o.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-1",children:[le.title,le.pin&&o.jsx(Ji,{size:12,className:"text-amber-500"})]}),o.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1 mt-1",children:[o.jsx(Cs,{size:12})," ",le.date||d("noDate")]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Y(le.expiresAt)?o.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold bg-red-100 text-red-700 flex items-center w-fit border border-red-200",children:[o.jsx(fu,{size:12,className:"mr-1"})," ",d("expired")]}):o.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold bg-green-100 text-green-700 flex items-center w-fit border border-green-200",children:[o.jsx(_a,{size:12,className:"mr-1"})," ",d("active")]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 font-medium",children:[le.media.length," ",d("items")]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>c(le),className:"text-green-600 hover:bg-green-50 p-2 rounded-lg transition-colors",title:d("downloadAll"),children:o.jsx(Zs,{size:18})}),o.jsx("button",{onClick:()=>et(le),className:"text-blue-600 hover:bg-blue-50 p-2 rounded-lg transition-colors",title:"Edit Event",children:o.jsx(wf,{size:18})}),o.jsx("button",{onClick:()=>y(le),className:"text-indigo-600 hover:bg-indigo-50 p-2 rounded-lg transition-colors",title:"View Media",children:o.jsx(_f,{size:18})}),o.jsx("button",{onClick:()=>ke(le),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Delete Event",children:o.jsx(Rs,{size:18})})]})]},le.id))})]}),U.length===0&&o.jsxs("div",{className:"p-12 text-center text-slate-500",children:[o.jsx(Cs,{size:48,className:"mx-auto mb-4 text-slate-300"}),o.jsx("p",{className:"font-medium",children:"No events found for this user"})]})]})]})},Fa=()=>{const[U,le]=H.useState([]),[pe,Ve]=H.useState(null),[yt,sn]=H.useState(""),[qt,Ni]=H.useState(!1);H.useEffect(()=>{(async()=>{try{const Et=await at.getSupportMessages();le(Et)}catch{}})()},[]),H.useEffect(()=>{Ze.connect();const Se=Et=>{le(Fe=>Fe.find(ge=>ge.id===Et.id)?Fe:[...Fe,Et])};return Ze.on("new_support_message",Se),()=>{Ze.off("new_support_message",Se)}},[]);const ki=U.reduce((Se,Et)=>{const Fe=Et.userId||"anonymous";return Se[Fe]||(Se[Fe]={userId:Fe,userName:Et.userName,userEmail:Et.userEmail,messages:[],lastMessage:Et.createdAt,unreadCount:0}),Se[Fe].messages.push(Et),Se[Fe].lastMessage=Et.createdAt,!Et.isFromAdmin&&!Et.isRead&&Se[Fe].unreadCount++,Se},{}),Ti=Object.values(ki).sort((Se,Et)=>new Date(Et.lastMessage).getTime()-new Date(Se.lastMessage).getTime()),mt=pe?ki[pe]:null,pr=async()=>{if(!(!yt.trim()||!pe||qt)){Ni(!0);try{await at.sendAdminReply(pe,yt.trim()),sn("")}catch{}finally{Ni(!1)}}};return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center",children:o.jsx(Vi,{className:"text-indigo-600",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Support Chat Management"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Manage customer support conversations"})]})]}),o.jsxs("div",{className:"flex h-[600px]",children:[o.jsxs("div",{className:"w-1/3 border-r border-slate-200 flex flex-col",children:[o.jsx("div",{className:"p-4 border-b border-slate-100",children:o.jsxs("h4",{className:"font-bold text-slate-900",children:["Conversations (",Ti.length,")"]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:Ti.length===0?o.jsxs("div",{className:"p-8 text-center text-slate-500",children:[o.jsx(Vi,{size:48,className:"mx-auto mb-4 text-slate-300"}),o.jsx("p",{className:"font-medium",children:"No conversations yet"}),o.jsx("p",{className:"text-sm",children:"Support messages will appear here"})]}):Ti.map(Se=>{const Et=e.find(Fe=>Fe.id===Se.userId);return o.jsx("div",{onClick:()=>Ve(Se.userId),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${pe===Se.userId?"bg-indigo-50 border-l-4 border-l-indigo-500":""}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-bold",children:Se.userName.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"font-bold text-slate-900 truncate",children:Se.userName}),Se.unreadCount>0&&o.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:Se.unreadCount})]}),o.jsx("p",{className:"text-sm text-slate-500 truncate",children:Se.userEmail||"No email"}),Et&&o.jsx("div",{className:"flex items-center gap-2 mt-1",children:fe(Et.tier)}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(Se.lastMessage).toLocaleString()})]})]})},Se.userId)})})]}),o.jsx("div",{className:"flex-1 flex flex-col",children:mt?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-bold",children:mt.userName.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-900",children:mt.userName}),o.jsx("p",{className:"text-sm text-slate-500",children:mt.userEmail||"No email provided"})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:mt.messages.map(Se=>o.jsx("div",{className:`flex ${Se.isFromAdmin?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${Se.isFromAdmin?"bg-indigo-600 text-white":"bg-slate-100 text-slate-900"}`,children:[o.jsx("p",{className:"text-sm",children:Se.message}),o.jsx("p",{className:`text-xs mt-1 ${Se.isFromAdmin?"text-indigo-200":"text-slate-500"}`,children:new Date(Se.createdAt).toLocaleTimeString()})]})},Se.id))}),o.jsx("div",{className:"p-4 border-t border-slate-100 bg-white",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:yt,onChange:Se=>sn(Se.target.value),onKeyPress:Se=>Se.key==="Enter"&&pr(),placeholder:"Type your reply...",className:"flex-1 px-4 py-2 border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none"}),o.jsxs("button",{onClick:pr,disabled:!yt.trim()||qt,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[qt?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):o.jsx(jl,{size:16}),"Send"]})]})})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Vi,{size:64,className:"mx-auto mb-4 text-slate-300"}),o.jsx("p",{className:"font-medium",children:"Select a conversation to start chatting"}),o.jsx("p",{className:"text-sm",children:"Choose a user from the list to view their messages"})]})})})]})]})},ne=()=>o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden p-8 animate-in fade-in duration-300",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4 border border-red-100",children:o.jsx(M0,{className:"text-red-600",size:40})}),o.jsx("h2",{className:"text-3xl font-black text-slate-900 mb-2",children:"System Settings"}),o.jsx("p",{className:"text-slate-500",children:"Manage global configurations and perform critical maintenance tasks."})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"border border-indigo-200 rounded-2xl p-6 bg-indigo-50/50 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-lg font-bold text-indigo-900 mb-1 flex items-center gap-2",children:[o.jsx(hu,{size:18})," App Updates"]}),o.jsx("p",{className:"text-sm text-indigo-700",children:"Force this browser to fetch the latest version of the application immediately."})]}),o.jsxs("button",{onClick:Ln,className:"py-2.5 px-5 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-md flex items-center gap-2",children:[o.jsx(hu,{size:16}),"Force Reload App"]})]}),o.jsxs("div",{className:"border border-amber-200 rounded-2xl p-6 bg-amber-50/50 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-lg font-bold text-amber-900 mb-1 flex items-center gap-2",children:[o.jsx(_a,{size:18})," Global Client Refresh"]}),o.jsxs("p",{className:"text-sm text-amber-700 max-w-md",children:["Send a signal to ",o.jsx("strong",{children:"ALL connected users"})," to unregister their service worker and reload the page. Use this after deploying a new version to ensure everyone gets it immediately."]})]}),o.jsxs("button",{onClick:Qn,className:"py-2.5 px-5 bg-amber-600 text-white font-bold rounded-xl hover:bg-amber-700 transition-all shadow-md flex items-center gap-2",children:[o.jsx(hu,{size:16}),"Reload All Clients"]})]})]})]})}),ae=()=>o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden p-8 animate-in fade-in duration-300",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("div",{className:"w-20 h-20 bg-green-50 rounded-full flex items-center justify-center mx-auto mb-4 border border-green-100",children:o.jsx(Es,{className:"text-green-600",size:40})}),o.jsx("h2",{className:"text-3xl font-black text-slate-900 mb-2",children:"System Storage"}),o.jsx("p",{className:"text-slate-500",children:"Real-time monitoring of system and storage capacity."})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"border border-slate-200 rounded-2xl p-6 bg-slate-50/50",children:[o.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[o.jsx(Es,{size:18})," System Disk Usage"]}),z?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx("div",{className:"animate-spin border-2 border-slate-300 border-t-slate-600 rounded-full w-8 h-8"}),o.jsx("span",{className:"ml-3 text-slate-600",children:"Loading storage info..."})]}):N?o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[o.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Filesystem"}),o.jsx("div",{className:"text-lg font-black text-slate-900",children:N.system.filesystem})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[o.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Size"}),o.jsx("div",{className:"text-lg font-black text-slate-900",children:N.system.size})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[o.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Used"}),o.jsx("div",{className:"text-lg font-black text-slate-900",children:N.system.used})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[o.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Available"}),o.jsx("div",{className:"text-lg font-black text-slate-900",children:N.system.available})]})]}):o.jsxs("div",{className:"text-center py-8 text-slate-500",children:[o.jsx(Es,{size:48,className:"mx-auto mb-4 text-slate-300"}),o.jsx("p",{children:"Unable to load storage information"})]})]}),o.jsxs("div",{className:"border border-slate-200 rounded-2xl p-6 bg-slate-50/50",children:[o.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[o.jsx(Es,{size:18})," MinIO Storage Usage"]}),N?o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[o.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Filesystem"}),o.jsx("div",{className:"text-lg font-black text-slate-900",children:N.minio.filesystem})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[o.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Size"}),o.jsx("div",{className:"text-lg font-black text-slate-900",children:N.minio.size})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[o.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Used"}),o.jsx("div",{className:"text-lg font-black text-slate-900",children:N.minio.used})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[o.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Available"}),o.jsx("div",{className:"text-lg font-black text-slate-900",children:N.minio.available})]})]}):o.jsxs("div",{className:"text-center py-8 text-slate-500",children:[o.jsx(Es,{size:48,className:"mx-auto mb-4 text-slate-300"}),o.jsx("p",{children:"Unable to load MinIO information"})]})]}),N&&o.jsxs("div",{className:"text-center text-xs text-slate-400",children:["Last updated: ",new Date(N.timestamp).toLocaleString()]})]})]})});return o.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[o.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40 px-4 md:px-8 py-4 shadow-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg shadow-indigo-200 shadow-md",children:o.jsx(_a,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-black text-slate-900 tracking-tight",children:"SnapifY Admin"}),o.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wide",children:"Master Control"})]})]}),o.jsx("div",{className:"flex items-center gap-2 bg-slate-100 p-1.5 rounded-xl border border-slate-200",children:[{id:"users",icon:Rh,label:"Users"},{id:"events",icon:Cs,label:"Events"},{id:"support",icon:Vi,label:"Support"},{id:"system",icon:Es,label:"System"},{id:"settings",icon:Dh,label:"Settings"}].map(U=>o.jsxs("button",{onClick:()=>{f(U.id),x(null)},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${h===U.id?"bg-white text-indigo-600 shadow-sm ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}`,children:[o.jsx(U.icon,{size:16}),U.label]},U.id))}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:l,className:"flex items-center gap-2 bg-slate-900 text-white px-4 py-2.5 rounded-xl font-bold hover:bg-slate-800 transition-colors shadow-lg shadow-slate-500/20 text-sm",children:[o.jsx(Bu,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:d("newEvent")})]}),o.jsx("div",{className:"h-8 w-px bg-slate-200 mx-1"}),o.jsxs("div",{className:"relative notification-container",children:[o.jsxs("button",{onClick:()=>S(!I),className:"p-2.5 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-colors relative",title:"Notifications",children:[o.jsx(D0,{size:20}),W.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:W.length>9?"9+":W.length})]}),I&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-slate-200 z-50 max-h-96 overflow-y-auto notification-container",children:[o.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between",children:[o.jsx("h4",{className:"font-bold text-slate-900",children:"Notifications"}),o.jsx("button",{onClick:()=>T([]),className:"text-xs text-slate-500 hover:text-slate-700",children:"Clear All"})]}),W.length===0?o.jsxs("div",{className:"p-8 text-center text-slate-500",children:[o.jsx(D0,{size:32,className:"mx-auto mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:"No notifications"})]}):o.jsx("div",{className:"divide-y divide-slate-100",children:W.map((U,le)=>{var pe;return o.jsx("div",{onClick:()=>{F(U),V(!0),S(!1)},className:"p-4 hover:bg-slate-50 cursor-pointer transition-colors",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Da,{size:16,className:"text-indigo-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Upgrade Request"}),o.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[((pe=U.userInfo)==null?void 0:pe.name)||"Anonymous user","  ",U.tier]}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(U.timestamp).toLocaleString()})]}),o.jsx("div",{className:"text-slate-400",children:o.jsx(Da,{size:14})})]})},U.id||le)})})]})]}),o.jsx("button",{onClick:u,className:"p-2.5 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-colors",title:d("backToApp"),children:o.jsx(gp,{size:20})}),o.jsx("button",{onClick:m,className:"p-2.5 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-xl transition-colors",title:d("logOut"),children:o.jsx(Mh,{size:20})})]})]})}),o.jsxs("div",{className:"flex-1 p-4 md:p-8 max-w-7xl mx-auto w-full",children:[h!=="settings"&&!p&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-in slide-in-from-top-2",children:[o.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("span",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:d("totalUsers")}),o.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg text-indigo-600",children:o.jsx(Rh,{size:20})})]}),o.jsx("span",{className:"text-4xl font-black text-slate-900",children:e.length})]}),o.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("span",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:d("totalEvents")}),o.jsx("div",{className:"p-2 bg-pink-50 rounded-lg text-pink-600",children:o.jsx(Cs,{size:20})})]}),o.jsx("span",{className:"text-4xl font-black text-slate-900",children:t.length})]}),o.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("span",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:d("storage")}),o.jsx("div",{className:"p-2 bg-green-50 rounded-lg text-green-600",children:o.jsx(Es,{size:20})})]}),o.jsxs("span",{className:"text-4xl font-black text-slate-900",children:[e.reduce((U,le)=>U+le.storageUsedMb,0).toFixed(1)," ",o.jsx("span",{className:"text-lg font-medium text-slate-400",children:"MB"})]})]})]}),h==="settings"?ne():h==="system"?ae():h==="support"?Fa():h==="userEvents"?ka():h==="users"?o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900",children:d("registeredUsers")}),o.jsx("span",{className:"bg-slate-100 text-slate-600 text-xs font-bold px-2.5 py-1 rounded-full",children:e.length})]}),o.jsx("div",{className:"overflow-x-auto flex-1",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider pl-8",children:d("users")}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Stats"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:d("tier")}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase tracking-wider pr-8",children:d("actions")})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:e.map(U=>o.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[o.jsx("td",{className:"px-6 py-4 pl-8 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center text-white font-bold shadow-sm ${U.role===it.PHOTOGRAPHER?"bg-slate-900 border-2 border-amber-400":"bg-gradient-to-br from-indigo-500 to-purple-600"}`,children:U.role===it.PHOTOGRAPHER?o.jsx(Qi,{size:16,className:"text-amber-400"}):U.name.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("div",{className:"text-sm font-bold text-slate-900 flex flex-wrap items-center gap-2",children:[U.name,U.role===it.ADMIN&&o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-red-100 text-red-700 border border-red-200 uppercase tracking-wide",children:"ADMIN"})]}),o.jsx("div",{className:"text-xs text-slate-500",children:U.email})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("span",{className:"text-xs font-medium text-slate-700",children:[$(U.id)," Events"]}),o.jsx("div",{className:"w-24 bg-slate-200 rounded-full h-1.5",children:o.jsx("div",{className:"bg-indigo-500 h-1.5 rounded-full",style:{width:`${Math.min(U.storageUsedMb/U.storageLimitMb*100,100)}%`}})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:fe(U.tier)}),o.jsx("td",{className:"px-6 py-4 pr-8 whitespace-nowrap text-right text-sm font-medium",children:U.role!==it.ADMIN&&o.jsxs("div",{className:"flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>hn(U),className:"text-slate-500 hover:text-indigo-600 p-2 hover:bg-indigo-50 rounded-lg transition-colors",title:"View Events",children:o.jsx(_f,{size:16})}),o.jsx("button",{onClick:()=>Me(U),className:"text-slate-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit User",children:o.jsx(wf,{size:16})}),o.jsx("button",{onClick:()=>Ee(U),className:"text-slate-500 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Delete User",children:o.jsx(Rs,{size:16})})]})})]},U.id))})]})})]}),o.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 flex flex-col",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6",children:d("storageUsage")}),o.jsx("div",{className:"flex-1 min-h-[300px]",children:o.jsx(bN,{width:"100%",height:"100%",children:o.jsxs(xN,{data:J,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(yN,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0"}),o.jsx(vN,{type:"number",hide:!0}),o.jsx(SN,{dataKey:"name",type:"category",width:80,tick:{fontSize:12}}),o.jsx(_N,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),o.jsx(wN,{dataKey:"used",fill:"#6366f1",radius:[0,4,4,0],barSize:20,name:"Used (MB)"})]})})})]})]}):o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900",children:d("systemEvents")}),o.jsx("span",{className:"bg-slate-100 text-slate-600 text-xs font-bold px-2.5 py-1 rounded-full",children:t.length})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider pl-8",children:d("event")}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:d("host")}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:d("status")}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:d("mediaCount")}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase tracking-wider pr-8",children:d("actions")})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:t.map(U=>{var le;return o.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[o.jsx("td",{className:"px-6 py-4 pl-8 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-1",children:[U.title,U.pin&&o.jsx(Ji,{size:12,className:"text-amber-500"})]}),o.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1 mt-1",children:[o.jsx(Cs,{size:12})," ",U.date||d("noDate")]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm font-medium text-slate-700 flex items-center gap-1.5",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-200 flex items-center justify-center text-xs font-bold text-slate-600",children:M(U.hostId).charAt(0)}),M(U.hostId),((le=e.find(pe=>pe.id===U.hostId))==null?void 0:le.role)===it.PHOTOGRAPHER&&o.jsx(hv,{size:12,className:"text-amber-500"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Y(U.expiresAt)?o.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold bg-red-100 text-red-700 flex items-center w-fit border border-red-200",children:[o.jsx(fu,{size:12,className:"mr-1"})," ",d("expired")]}):o.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold bg-green-100 text-green-700 flex items-center w-fit border border-green-200",children:[o.jsx(_a,{size:12,className:"mr-1"})," ",d("active")]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 font-bold",children:U.media.length}),o.jsx("td",{className:"px-6 py-4 pr-8 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>c(U),className:"text-slate-500 hover:text-green-600 p-2 hover:bg-green-50 rounded-lg transition-colors",title:d("downloadAll"),children:o.jsx(Zs,{size:16})}),o.jsx("button",{onClick:()=>et(U),className:"text-slate-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Event",children:o.jsx(wf,{size:16})}),o.jsx("button",{onClick:()=>y(U),className:"text-slate-500 hover:text-indigo-600 p-2 hover:bg-indigo-50 rounded-lg transition-colors",title:"View Media",children:o.jsx(_f,{size:16})}),o.jsx("button",{onClick:()=>ke(U),className:"text-slate-500 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Event",children:o.jsx(Rs,{size:16})})]})})]},U.id)})})]})})]})]}),Ne&&o.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden scale-100",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[o.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Edit User Profile"}),o.jsx("button",{onClick:()=>Oe(null),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:o.jsx($t,{size:20})})]}),o.jsxs("div",{className:"p-6 space-y-5",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Display Name"}),o.jsx("input",{type:"text",value:Ue,onChange:U=>Tt(U.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all font-medium"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Email Address"}),o.jsxs("div",{className:"flex items-center px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-500",children:[o.jsx(mv,{size:18,className:"mr-3 text-slate-400"}),o.jsx("input",{type:"text",value:wt,onChange:U=>v(U.target.value),className:"bg-transparent w-full focus:outline-none font-medium"})]})]}),Fn[C].allowBranding&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Studio / Business"}),o.jsxs("div",{className:"flex items-center px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-900",children:[o.jsx(EN,{size:18,className:"mr-3 text-slate-400"}),o.jsx("input",{type:"text",value:Q,onChange:U=>G(U.target.value),className:"bg-transparent w-full focus:outline-none font-medium",placeholder:"No studio name"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"System Role"}),o.jsx("select",{value:P,onChange:U=>X(U.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-white text-slate-900 focus:ring-2 focus:ring-indigo-500 outline-none font-medium cursor-pointer",children:Object.values(it).map(U=>o.jsx("option",{value:U,children:U},U))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Tier Plan"}),o.jsx("select",{value:C,onChange:U=>k(U.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-white text-slate-900 focus:ring-2 focus:ring-indigo-500 outline-none font-medium cursor-pointer",children:Object.values(Ke).map(U=>o.jsx("option",{value:U,children:U},U))})]})]}),o.jsxs("button",{onClick:En,className:"w-full py-4 bg-black text-white rounded-xl font-bold hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 flex items-center justify-center gap-2 mt-4",children:[o.jsx(Oh,{size:18}),"Save Changes"]})]})]})}),K&&o.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[o.jsx("h3",{className:"text-xl font-black text-slate-900",children:d("editEvent")}),o.jsx("button",{onClick:()=>Z(null),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:o.jsx($t,{size:20})})]}),o.jsxs("div",{className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:d("eventTitle")}),o.jsx("input",{type:"text",value:O,onChange:U=>L(U.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all font-medium"})]}),o.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100",children:[o.jsxs("label",{className:"block text-xs font-bold text-amber-800 uppercase tracking-wider mb-3 flex items-center",children:[o.jsx(fu,{size:16,className:"mr-2"})," ",d("modifyExpiration")]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("label",{className:"flex items-center p-3 bg-white rounded-xl border border-amber-100 cursor-pointer hover:border-amber-300 transition-all",children:[o.jsx("input",{type:"radio",name:"expiryType",checked:ce==="unlimited",onChange:()=>oe("unlimited"),className:"w-4 h-4 text-amber-600 border-slate-300 focus:ring-amber-500"}),o.jsx("span",{className:"ml-3 text-sm font-bold text-slate-900",children:d("unlimited")}),o.jsx("span",{className:"ml-auto text-xs text-amber-600 font-medium",children:d("neverExpires")})]}),o.jsxs("label",{className:"flex items-center p-3 bg-white rounded-xl border border-amber-100 cursor-pointer hover:border-amber-300 transition-all",children:[o.jsx("input",{type:"radio",name:"expiryType",checked:ce==="immediate",onChange:()=>oe("immediate"),className:"w-4 h-4 text-amber-600 border-slate-300 focus:ring-amber-500"}),o.jsx("span",{className:"ml-3 text-sm font-bold text-slate-900",children:d("expireImmediately")})]}),o.jsxs("label",{className:"flex items-center p-3 bg-white rounded-xl border border-amber-100 cursor-pointer hover:border-amber-300 transition-all",children:[o.jsx("input",{type:"radio",name:"expiryType",checked:ce==="custom",onChange:()=>oe("custom"),className:"w-4 h-4 text-amber-600 border-slate-300 focus:ring-amber-500"}),o.jsx("span",{className:"ml-3 text-sm font-bold text-slate-900",children:d("setNewDuration")})]})]}),ce==="custom"&&o.jsxs("div",{className:"flex gap-2 animate-in fade-in slide-in-from-top-2",children:[o.jsx("input",{type:"number",min:"1",value:re,onChange:U=>Le(parseInt(U.target.value)||0),className:"w-1/3 px-4 py-3 border border-amber-200 rounded-xl text-sm font-bold text-slate-900 focus:ring-2 focus:ring-amber-500 outline-none"}),o.jsxs("select",{value:Pe,onChange:U=>we(U.target.value),className:"flex-1 px-4 py-3 border border-amber-200 rounded-xl text-sm font-bold text-slate-900 focus:ring-2 focus:ring-amber-500 outline-none bg-white cursor-pointer",children:[o.jsx("option",{value:"seconds",children:d("seconds")}),o.jsx("option",{value:"minutes",children:d("minutes")}),o.jsx("option",{value:"hours",children:d("hours")}),o.jsx("option",{value:"days",children:d("days")})]})]})]}),o.jsxs("button",{onClick:an,className:"w-full py-4 bg-black text-white rounded-xl font-bold hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[o.jsx(Oh,{size:18}),d("saveChanges")]})]})]})}),b&&o.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white w-full max-w-6xl h-[90vh] rounded-3xl shadow-2xl flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-xl font-black text-slate-900",children:[d("managing"),": ",b.title]}),o.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-1",children:[b.media.length," ",d("mediaItems"),"  ",d("totalMedia")]})]}),o.jsx("button",{onClick:()=>y(null),className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:o.jsx($t,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50",children:b.media.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[o.jsx(bp,{size:64,className:"mb-4 opacity-50"}),o.jsx("p",{className:"font-bold text-lg",children:d("noMedia")})]}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:b.media.map(U=>o.jsxs("div",{className:"relative group aspect-square bg-slate-200 rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all cursor-pointer border border-slate-200",onClick:()=>w(U),children:[U.type==="video"?o.jsx("video",{src:U.previewUrl||U.url,className:"w-full h-full object-cover",muted:!0}):o.jsx("img",{src:U.url,alt:"content",className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 backdrop-blur-[2px]",children:[o.jsx("div",{className:"bg-white/20 p-2 rounded-full backdrop-blur-md text-white hover:bg-white/40 transition-colors",children:o.jsx(NN,{size:20})}),o.jsx("button",{onClick:le=>{le.stopPropagation(),jt(b.id,U.id)},className:"bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transform hover:scale-110 transition-all shadow-lg",children:o.jsx(Rs,{size:20})})]}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/80 via-black/50 to-transparent",children:o.jsx("p",{className:"text-white text-xs font-medium truncate",children:U.uploaderName})})]},U.id))})})]})}),_&&o.jsxs("div",{className:"fixed inset-0 z-[70] bg-black/95 backdrop-blur-xl flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>w(null),children:[o.jsx("button",{className:"absolute top-6 right-6 text-white/70 hover:text-white p-3 bg-white/10 hover:bg-white/20 rounded-full transition-all z-50",onClick:()=>w(null),children:o.jsx($t,{size:32})}),o.jsx("div",{className:"max-w-full max-h-full overflow-hidden flex items-center justify-center relative w-full h-full",onClick:U=>U.stopPropagation(),children:_.type==="video"?o.jsx("video",{src:_.url,controls:!0,autoPlay:!0,className:"max-w-full max-h-[90vh] rounded-2xl shadow-2xl ring-1 ring-white/10"}):o.jsx("img",{src:_.url,alt:"preview",className:"max-w-full max-h-[90vh] object-contain rounded-2xl shadow-2xl ring-1 ring-white/10"})}),o.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white pointer-events-none",children:[o.jsx("p",{className:"font-black text-xl drop-shadow-lg mb-1",children:_.caption||"No caption"}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-white/60 font-medium",children:[o.jsx(Qi,{size:14}),o.jsxs("span",{children:["Uploaded by ",_.uploaderName]}),o.jsx("span",{children:""}),o.jsx("span",{children:new Date(_.uploadedAt).toLocaleDateString()})]})]})]}),E&&o.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden p-8 animate-in zoom-in-95",children:[o.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mb-6 mx-auto border border-red-100",children:E.type==="system"?o.jsx(M0,{className:"text-red-600",size:32}):o.jsx(pv,{className:"text-red-600",size:32})}),o.jsx("h3",{className:"text-2xl font-black text-slate-900 text-center mb-3",children:E.title}),o.jsx("p",{className:"text-slate-500 text-center mb-8 text-sm leading-relaxed font-medium",children:E.message}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>j(null),className:"flex-1 py-3.5 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:wn,className:"flex-1 py-3.5 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-red-500/20",children:[o.jsx(Rs,{size:18}),"Delete"]})]})]})}),q&&R&&o.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden p-6 animate-in zoom-in-95",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Da,{size:32})}),o.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Upgrade User"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Confirm upgrade for this user"})]}),o.jsx("div",{className:"space-y-4 mb-6",children:o.jsx("div",{className:"bg-slate-50 p-4 rounded-xl",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Full Name"}),o.jsx("p",{className:"text-slate-900 font-medium",children:((ue=R.userInfo)==null?void 0:ue.name)||"Anonymous User"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Email Address"}),o.jsx("p",{className:"text-slate-900 font-medium",children:((be=R.userInfo)==null?void 0:be.email)||"Not provided"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Requested Tier"}),o.jsx("p",{className:"text-slate-900 font-medium",children:R.tier})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Current Tier"}),o.jsx("p",{className:"text-slate-900 font-medium",children:((He=R.userInfo)==null?void 0:He.currentTier)||"FREE"})]}),!((xt=R.userInfo)!=null&&xt.id)&&o.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-3 rounded-lg",children:[o.jsx("p",{className:"text-sm text-amber-800 font-medium",children:" Anonymous Request"}),o.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"This user is not registered. You cannot upgrade anonymous users."})]})]})})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{V(!1),F(null)},className:"flex-1 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:(ye=R.userInfo)!=null&&ye.id?"Cancel":"Close"}),(Ie=R.userInfo)!=null&&Ie.id?o.jsxs("button",{onClick:async()=>{try{await at.upgradeUser(R.userInfo.id,R.tier);const U=e.find(le=>le.id===R.userInfo.id);U&&r({...U,tier:R.tier}),T(le=>le.filter(pe=>pe.id!==R.id)),V(!1),F(null),alert("User upgraded successfully!")}catch{alert("Failed to upgrade user. Please try again.")}},className:"flex-1 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[o.jsx(Da,{size:16}),"Confirm Upgrade"]}):o.jsx("button",{onClick:()=>{V(!1),F(null)},className:"flex-1 py-3 bg-slate-500 text-white font-bold rounded-xl cursor-not-allowed flex items-center justify-center gap-2",disabled:!0,children:"Cannot Upgrade Anonymous User"})]})]})})]})},Nz=({currentUser:e,guestName:t,view:n,currentEventTitle:a,language:i,onChangeLanguage:s,onLogout:r,onSignIn:l,onHome:c,onBack:u,onToAdmin:m,onOpenSettings:d,adminStatus:h=[],t:f})=>{const[g,b]=pp.useState(!1),y=()=>b(!g),p=()=>o.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>s("en"),className:`px-2 py-1 rounded text-xs font-bold transition-colors ${i==="en"?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"}`,children:"EN"}),o.jsx("button",{onClick:()=>s("mk"),className:`px-2 py-1 rounded text-xs font-bold transition-colors ${i==="mk"?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"}`,children:"MK"}),o.jsx("button",{onClick:()=>s("sq"),className:`px-2 py-1 rounded text-xs font-bold transition-colors ${i==="sq"?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"}`,children:"SQ"}),o.jsx("button",{onClick:()=>s("tr"),className:`px-2 py-1 rounded text-xs font-bold transition-colors ${i==="tr"?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"}`,children:"TR"})]});return o.jsxs("nav",{className:"px-4 py-3 md:px-8 md:py-4 max-w-7xl mx-auto flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[n==="event"?o.jsx("button",{onClick:u,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 text-slate-600 transition-colors",children:o.jsx(gv,{size:20})}):n!=="landing"&&n!=="dashboard"&&o.jsx("button",{onClick:c,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 text-slate-600 transition-colors",children:o.jsx(kN,{size:20})}),o.jsxs("div",{className:"flex flex-col justify-center",children:[o.jsxs("div",{onClick:c,className:"flex items-center gap-2 cursor-pointer select-none",children:[o.jsx("div",{className:"w-8 h-8 bg-black text-white rounded-lg flex items-center justify-center font-black text-lg shadow-md",children:"S"}),o.jsx("span",{className:"font-black text-xl tracking-tight text-slate-900 hidden sm:block",children:"SnapifY"}),o.jsx("span",{className:"text-[10px] text-slate-400 font-mono mt-1",children:"v2.1"})]}),a&&n==="event"&&o.jsx("p",{className:"text-xs font-bold text-indigo-600 truncate max-w-[150px] md:max-w-xs animate-in slide-in-from-left-2",children:a})]})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[p(),e?o.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-slate-200",children:[e.role===it.ADMIN&&o.jsxs("button",{onClick:m,className:"flex items-center gap-2 text-sm font-bold text-slate-600 hover:text-slate-900 transition-colors",children:[o.jsx(co,{size:16})," Admin"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-sm",children:e.name.charAt(0).toUpperCase()}),o.jsx("span",{className:"text-sm font-bold text-slate-700",children:e.name})]}),Fn[e.tier].allowBranding&&o.jsx("button",{onClick:d,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:o.jsx(Dh,{size:18})}),o.jsx("button",{onClick:r,className:"p-2 text-red-400 hover:text-red-600 transition-colors",children:o.jsx(Mh,{size:18})})]}):o.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-slate-200",children:[t&&o.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["Hi, ",t]}),o.jsx("button",{onClick:r,className:"text-sm font-bold text-slate-600 hover:text-slate-900",children:f("logOut")})]})]}),o.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[e&&o.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-sm border border-indigo-200",children:e.name.charAt(0).toUpperCase()}),o.jsx("button",{onClick:y,className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:g?o.jsx($t,{size:24}):o.jsx(bv,{size:24})})]}),g&&o.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border-b border-slate-200 shadow-xl p-4 flex flex-col gap-4 z-50 md:hidden animate-in slide-in-from-top-5",children:[o.jsx("div",{className:"flex justify-center pb-2",children:p()}),e?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white shadow-sm text-indigo-600 flex items-center justify-center font-bold text-lg",children:e.name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-slate-900",children:e.name}),o.jsx("p",{className:"text-xs text-slate-500",children:e.email})]})]}),e.role===it.ADMIN&&o.jsxs("button",{onClick:()=>{m(),b(!1)},className:"w-full py-3 px-4 bg-slate-100 rounded-xl font-bold text-slate-700 flex items-center gap-3",children:[o.jsx(co,{size:18})," Admin Dashboard"]}),e&&Fn[e.tier].allowBranding&&o.jsxs("button",{onClick:()=>{d(),b(!1)},className:"w-full py-3 px-4 bg-slate-100 rounded-xl font-bold text-slate-700 flex items-center gap-3",children:[o.jsx(Dh,{size:18})," ",f("studioSettings")]}),o.jsxs("button",{onClick:r,className:"w-full py-3 px-4 bg-red-50 text-red-600 rounded-xl font-bold flex items-center gap-3",children:[o.jsx(Mh,{size:18})," ",f("logOut")]})]}):o.jsx("button",{onClick:r,className:"w-full py-3 bg-slate-100 rounded-xl font-bold text-slate-700",children:f("logOut")})]})]})},kz=({onClose:e,t})=>{const n=a=>o.jsx("ul",{className:"text-xs space-y-1.5 text-slate-600",children:a.split(`
`).map((i,s)=>o.jsx("li",{children:i},s))});return o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl h-[85vh] flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/80 backdrop-blur-sm flex-shrink-0 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-indigo-100 p-2 rounded-xl text-indigo-600",children:o.jsx(co,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900",children:t("termsTitle")}),o.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:[t("effectiveDate"),": ",new Date().toLocaleDateString()]})]})]}),o.jsx("button",{onClick:e,className:"p-2 bg-white rounded-full hover:bg-slate-100 transition-colors border border-slate-200",children:o.jsx($t,{size:20,className:"text-slate-500"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 text-slate-600 space-y-8 custom-scrollbar",children:[o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center mr-3 text-slate-700 font-black text-xs",children:"01"}),t("introTitle")]}),o.jsx("p",{className:"text-sm leading-relaxed mb-2 pl-11",children:t("introText")})]}),o.jsxs("section",{className:"bg-indigo-50/50 p-6 rounded-2xl border border-indigo-100",children:[o.jsxs("h4",{className:"text-lg font-bold text-indigo-900 mb-4 flex items-center",children:[o.jsx(TN,{size:20,className:"mr-2 text-indigo-600"})," ",t("gdprTitle")]}),o.jsx("p",{className:"text-sm leading-relaxed mb-4 text-indigo-800",children:t("gdprText")}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-indigo-100 shadow-sm",children:[o.jsx("h5",{className:"font-bold text-indigo-900 text-xs uppercase tracking-wider mb-2",children:t("dataCollectTitle")}),n(t("dataCollectList"))]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-indigo-100 shadow-sm",children:[o.jsx("h5",{className:"font-bold text-indigo-900 text-xs uppercase tracking-wider mb-2",children:t("yourRightsTitle")}),n(t("yourRightsList"))]})]}),o.jsx("p",{className:"text-xs text-indigo-700/70 mt-4 italic",children:t("gdprNote")})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[o.jsx(jN,{size:20,className:"mr-2 text-slate-700"})," ",t("userRespTitle")]}),o.jsxs("div",{className:"pl-8",children:[o.jsx("p",{className:"text-sm leading-relaxed mb-3",children:t("userRespText")}),o.jsx("ul",{className:"list-disc pl-5 text-sm space-y-1 mb-3",children:t("userRespList").split(`
`).map((a,i)=>o.jsx("li",{children:a.replace(/^\s*/,"")},i))}),o.jsx("p",{className:"text-sm leading-relaxed",children:t("userRespFooter")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[o.jsx(Ji,{size:20,className:"mr-2 text-amber-600"})," ",t("liabilityTitle")]}),o.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100 text-amber-900 text-sm leading-relaxed font-medium",children:[o.jsx("p",{className:"mb-3",children:t("liabilityText1")}),o.jsx("p",{children:t("liabilityText2")})]})]}),o.jsxs("section",{children:[o.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-2",children:t("contactUsTitle")}),o.jsxs("p",{className:"text-sm leading-relaxed",children:[t("contactUsText")," ",o.jsx("a",{href:"mailto:admin@skytech.mk",className:"text-indigo-600 font-bold hover:underline",children:"admin@skytech.mk"})]})]})]}),o.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex-shrink-0 flex flex-col sm:flex-row gap-3 justify-between items-center",children:[o.jsx("p",{className:"text-xs text-slate-400",children:t("agreeFooter")}),o.jsx("button",{onClick:e,className:"w-full sm:w-auto px-8 bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition-colors shadow-lg",children:t("iAgree")})]})]})})},Tz=({onGoogleLogin:e,onEmailAuth:t,onContactSales:n,isLoggingIn:a,authError:i,language:s,onChangeLanguage:r,t:l})=>{const[c,u]=H.useState(0),[m,d]=H.useState(!1),[h,f]=H.useState(!1),[g,b]=H.useState(!1),y=H.useRef(null),[p,x]=H.useState(!1),[_,w]=H.useState(""),[E,j]=H.useState(""),[N,D]=H.useState(""),[z,A]=H.useState(!1),[W,T]=H.useState("");H.useEffect(()=>{const R=setInterval(()=>{u(F=>(F+1)%$y.length)},5e3);return()=>clearInterval(R)},[]),H.useEffect(()=>{const R=()=>{if(window.google&&window.google.accounts&&window.google.accounts.id&&window.googleSignInInitialized&&y.current)try{y.current.innerHTML="",window.google.accounts.id.renderButton(y.current,{theme:"filled_black",size:"large",width:"100%",text:"continue_with",shape:"pill"})}catch(F){console.error("GSI Render Error",F),y.current&&(y.current.innerHTML='<button class="w-full bg-white text-black font-bold py-3 rounded-full flex items-center justify-center gap-2"><span>Continue with Google</span></button>')}};if(window.google&&window.google.accounts&&window.google.accounts.id&&window.googleSignInInitialized)R();else{const F=()=>{window.google&&window.google.accounts&&window.google.accounts.id&&window.googleSignInInitialized?R():setTimeout(F,100)},q=setTimeout(F,100),V=setTimeout(()=>{y.current&&!y.current.innerHTML.includes("Google")&&(y.current.innerHTML='<button class="w-full bg-white text-black font-bold py-3 rounded-full flex items-center justify-center gap-2"><span>Continue with Google</span></button>')},5e3);return()=>{clearTimeout(q),clearTimeout(V)}}},[]);const I=R=>{R.preventDefault(),t({name:_,email:E,password:N,isPhotographer:z,studioName:W},p)},S=()=>{var R;(R=document.getElementById("auth-card"))==null||R.scrollIntoView({behavior:"smooth"})};return o.jsxs("div",{className:"min-h-screen bg-[#050505] text-white overflow-x-hidden font-sans selection:bg-indigo-500/30",role:"main",children:[o.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[$y.map((R,F)=>o.jsxs("div",{className:`absolute inset-0 transition-opacity duration-[2000ms] ease-in-out ${F===c?"opacity-30":"opacity-0"}`,children:[o.jsx("img",{src:R,alt:"Background",className:"w-full h-full object-cover scale-105"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-black/80 to-[#050505]"})]},F)),o.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay"})]}),o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-xl border-b border-white/5 bg-black/50 supports-[backdrop-filter]:bg-black/20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[o.jsx("div",{className:"bg-gradient-to-tr from-indigo-600 to-purple-600 p-2 rounded-xl shadow-lg shadow-indigo-500/20",children:o.jsx(_a,{size:20,className:"text-white fill-white"})}),o.jsx("span",{className:"text-xl font-bold tracking-tight",children:l("appName")})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[o.jsx("button",{onClick:()=>{var R;return(R=document.getElementById("how-it-works"))==null?void 0:R.scrollIntoView({behavior:"smooth"})},className:"text-sm font-medium text-slate-300 hover:text-white transition-colors",children:"How it Works"}),o.jsx("button",{onClick:()=>{var R;return(R=document.getElementById("features"))==null?void 0:R.scrollIntoView({behavior:"smooth"})},className:"text-sm font-medium text-slate-300 hover:text-white transition-colors",children:"Features"}),o.jsx("button",{onClick:()=>{var R;return(R=document.getElementById("pricing"))==null?void 0:R.scrollIntoView({behavior:"smooth"})},className:"text-sm font-medium text-slate-300 hover:text-white transition-colors",children:"Pricing"}),o.jsx("div",{className:"h-4 w-px bg-white/10"}),o.jsxs("div",{className:"relative group",children:[o.jsxs("button",{onClick:()=>f(!h),className:"flex items-center text-sm text-slate-300 hover:text-white gap-2 px-2 py-1 rounded-lg hover:bg-white/5 transition-colors",children:[o.jsx(xv,{size:14,className:"text-slate-400"}),o.jsx("span",{className:"font-semibold",children:s.toUpperCase()})]}),h&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),o.jsx("div",{className:"absolute top-full right-0 mt-4 w-32 bg-[#1a1a1a] border border-white/10 rounded-xl shadow-2xl overflow-hidden py-1 z-50",children:["en","mk","tr","sq"].map(R=>o.jsx("button",{onClick:()=>{r(R),f(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-white/5 ${s===R?"text-indigo-400 font-bold":"text-slate-300"}`,children:R.toUpperCase()},R))})]})]}),o.jsx("button",{onClick:S,className:"bg-white text-black px-5 py-2.5 rounded-full text-sm font-bold hover:bg-indigo-50 hover:scale-105 transition-all shadow-lg shadow-white/10","aria-label":"Sign in to your account",children:l("signIn")})]}),o.jsx("button",{className:"md:hidden text-white p-2",onClick:()=>d(!m),children:m?o.jsx($t,{}):o.jsx(bv,{})})]})}),m&&o.jsx("div",{className:"fixed inset-0 z-40 bg-black pt-24 px-6 md:hidden animate-in slide-in-from-top-10",children:o.jsxs("div",{className:"flex flex-col gap-6 text-xl font-bold",children:[o.jsx("button",{onClick:()=>{d(!1),S()},className:"text-left text-slate-300 hover:text-white transition-colors py-2 touch-manipulation min-h-[48px]",children:l("signIn")}),o.jsx("button",{onClick:()=>{var R;d(!1),(R=document.getElementById("how-it-works"))==null||R.scrollIntoView()},className:"text-left text-slate-300 hover:text-white transition-colors py-2 touch-manipulation min-h-[48px]",children:"How It Works"}),o.jsx("button",{onClick:()=>{var R;d(!1),(R=document.getElementById("features"))==null||R.scrollIntoView()},className:"text-left text-slate-300 hover:text-white transition-colors py-2 touch-manipulation min-h-[48px]",children:"Features"}),o.jsx("button",{onClick:()=>{var R;d(!1),(R=document.getElementById("pricing"))==null||R.scrollIntoView()},className:"text-left text-slate-300 hover:text-white transition-colors py-2 touch-manipulation min-h-[48px]",children:"Pricing"}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:["en","mk","tr","sq"].map(R=>o.jsx("button",{onClick:()=>{r(R),d(!1)},className:`p-3 rounded-lg text-sm text-center border touch-manipulation min-h-[48px] transition-all ${s===R?"bg-indigo-600 border-indigo-500":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:R.toUpperCase()},R))})]})}),o.jsx("main",{className:"relative z-10 pt-32 pb-20 px-6 max-w-7xl mx-auto min-h-screen flex flex-col justify-center",children:o.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-20",children:[o.jsxs("div",{className:"flex-1 text-center lg:text-left space-y-8",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-300 text-xs font-bold uppercase tracking-wider mb-2 animate-pulse",children:[o.jsxs("span",{className:"relative flex h-2 w-2",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),"The #1 Event Sharing Platform"]}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight leading-[1.1]",children:[l("heroTitlePrefix")," ",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400",children:l("heroTitleSuffix")})]}),o.jsx("p",{className:"text-lg text-slate-400 leading-relaxed max-w-xl mx-auto lg:mx-0",children:l("heroDesc")}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-2xl mx-auto lg:mx-0 mt-8 mb-8",children:[{icon:"",text:"Setup in 30 seconds"},{icon:"",text:"Works on any device"},{icon:"",text:"Private & secure"}].map((R,F)=>o.jsxs("div",{className:"flex items-center gap-3 text-slate-300",children:[o.jsx("span",{className:"text-2xl",children:R.icon}),o.jsx("span",{className:"text-sm font-medium",children:R.text})]},F))}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 justify-center lg:justify-start",children:[o.jsxs("button",{onClick:S,className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-500 active:bg-indigo-700 text-white px-8 py-4 rounded-full font-bold transition-all shadow-lg shadow-indigo-500/25 flex items-center justify-center gap-2 group touch-manipulation min-h-[48px]",children:[l("getStarted")," ",o.jsx(AN,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),o.jsxs("button",{className:"w-full sm:w-auto px-8 py-4 rounded-full border border-white/10 hover:bg-white/5 active:bg-white/10 font-semibold transition-all flex items-center justify-center gap-2 backdrop-blur-sm touch-manipulation min-h-[48px]",children:[o.jsx(Al,{size:18,className:"fill-white"})," Watch Demo"]})]}),o.jsxs("div",{className:"pt-8 flex items-center justify-center lg:justify-start gap-12 opacity-80",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-3xl font-bold text-white tracking-tighter",children:"1M+"}),o.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider font-semibold",children:l("statPhotos")||"Photos Shared"})]}),o.jsx("div",{className:"w-px h-10 bg-white/10"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-3xl font-bold text-white tracking-tighter",children:"50k+"}),o.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider font-semibold",children:l("statEvents")||"Events Hosted"})]})]})]}),o.jsxs("div",{className:"flex-1 w-full max-w-md relative group perspective-1000",children:[o.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-[2rem] blur opacity-30 group-hover:opacity-50 transition duration-1000"}),o.jsxs("div",{id:"auth-card",className:"relative bg-[#0A0A0A]/90 backdrop-blur-xl border border-white/10 p-8 rounded-[1.8rem] shadow-2xl",children:[o.jsxs("div",{className:"flex mb-8 bg-black/40 p-1.5 rounded-xl border border-white/5",children:[o.jsx("button",{onClick:()=>x(!1),className:`flex-1 py-3 text-sm font-bold rounded-lg transition-all duration-300 touch-manipulation min-h-[48px] ${p?"text-slate-500 hover:text-white active:bg-white/10":"bg-white text-black shadow-lg"}`,children:l("signIn")}),o.jsx("button",{onClick:()=>x(!0),className:`flex-1 py-3 text-sm font-bold rounded-lg transition-all duration-300 touch-manipulation min-h-[48px] ${p?"bg-white text-black shadow-lg":"text-slate-500 hover:text-white active:bg-white/10"}`,children:l("signUp")})]}),o.jsxs("form",{onSubmit:I,className:"space-y-4",children:[p&&o.jsxs("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 ml-1 uppercase tracking-wider",children:l("fullName")}),o.jsx("input",{type:"text",value:_,onChange:R=>w(R.target.value),className:"w-full mt-1.5 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-all placeholder:text-slate-600",placeholder:"Jane Doe"})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-white/5 border border-white/10 hover:border-indigo-500/30 transition-colors cursor-pointer",onClick:()=>A(!z),children:[o.jsx("input",{type:"checkbox",checked:z,onChange:R=>A(R.target.checked),className:"w-5 h-5 rounded border-slate-600 text-indigo-600 focus:ring-indigo-600 bg-transparent"}),o.jsx("span",{className:"text-sm font-medium text-slate-300",children:l("iAmPhotographer")})]}),z&&o.jsx("div",{className:"animate-in fade-in",children:o.jsx("input",{type:"text",value:W,onChange:R=>T(R.target.value),className:"w-full bg-amber-500/10 border border-amber-500/30 rounded-xl px-4 py-3 text-amber-200 placeholder-amber-500/50 focus:border-amber-500 outline-none transition-all",placeholder:l("studioName")})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"text-xs font-bold text-slate-500 ml-1 uppercase tracking-wider",children:l("email")}),o.jsx("input",{id:"email",type:"email",value:E,onChange:R=>j(R.target.value),className:"w-full mt-1.5 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-all placeholder:text-slate-600",placeholder:"name@example.com","aria-describedby":"email-error",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"text-xs font-bold text-slate-500 ml-1 uppercase tracking-wider",children:l("password")}),o.jsx("input",{id:"password",type:"password",value:N,onChange:R=>D(R.target.value),className:"w-full mt-1.5 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-all placeholder:text-slate-600",placeholder:"","aria-describedby":"password-error",required:!0})]}),i&&o.jsx("div",{id:"auth-error",className:"text-red-400 text-sm bg-red-500/10 p-3 rounded-xl border border-red-500/20 text-center animate-in fade-in",role:"alert","aria-live":"polite",children:i}),o.jsx("button",{disabled:a,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 active:from-indigo-700 active:to-purple-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-indigo-500/20 active:scale-95 transition-all flex justify-center items-center touch-manipulation min-h-[48px]",children:a?o.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):l(p?"createAccount":"signIn")})]}),o.jsxs("div",{className:"flex items-center gap-4 my-6 opacity-50",children:[o.jsx("div",{className:"h-px bg-white flex-1"}),o.jsx("span",{className:"text-xs font-bold tracking-widest",children:"OR"}),o.jsx("div",{className:"h-px bg-white flex-1"})]}),o.jsx("div",{ref:y,className:"h-[44px] w-full flex justify-center"}),o.jsxs("p",{className:"text-center text-xs text-slate-500 mt-6",children:[l("terms")," ",o.jsx("button",{onClick:()=>b(!0),className:"text-indigo-400 hover:underline underline-offset-2",children:l("termsLink")})]})]})]})]})}),o.jsx("section",{id:"how-it-works",className:"py-24 bg-[#0A0A0A] relative border-y border-white/5 scroll-mt-20 animate-in fade-in slide-in-from-bottom-4 duration-1000",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsxs("h2",{className:"text-3xl md:text-5xl font-black mb-4",children:["Three Steps to ",o.jsx("span",{className:"text-indigo-400",children:"Magic"})]}),o.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto text-lg",children:"Forget complex apps and signup forms for guests. We made it frictionless."})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8 relative",children:[o.jsx("div",{className:"hidden md:block absolute top-12 left-[16%] right-[16%] h-0.5 bg-gradient-to-r from-indigo-500/0 via-indigo-500/20 to-indigo-500/0 border-t border-dashed border-white/10"}),[{icon:yv,title:l("step1Title")||"1. Create",desc:l("step1Desc")||"Setup event in 30s"},{icon:vv,title:l("step2Title")||"2. Scan",desc:l("step2Desc")||"Guests scan QR to join"},{icon:O0,title:l("step3Title")||"3. Show",desc:l("step3Desc")||"Watch live on the big screen"}].map((R,F)=>o.jsxs("div",{className:"relative z-10 bg-[#050505] border border-white/10 p-8 rounded-3xl text-center hover:border-indigo-500/30 transition-all group hover:-translate-y-2 duration-300 shadow-2xl shadow-black",children:[o.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-indigo-500/10 to-purple-500/10 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 border border-white/5",children:o.jsx(R.icon,{className:"text-indigo-400",size:32})}),o.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:R.title}),o.jsx("p",{className:"text-slate-400 leading-relaxed",children:R.desc})]},F))]})]})}),o.jsxs("section",{id:"features",className:"py-24 px-6 max-w-7xl mx-auto scroll-mt-20 animate-in fade-in slide-in-from-bottom-4 duration-1000 delay-200",children:[o.jsxs("h2",{className:"text-3xl md:text-5xl font-black mb-16 text-center",children:["Everything you need to ",o.jsx("br",{}),"capture the ",o.jsx("span",{className:"text-purple-400",children:"Chaos & Joy"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 md:grid-rows-2 gap-6 h-auto md:h-[600px]",children:[o.jsxs("div",{className:"md:col-span-4 md:row-span-2 bg-[#111] border border-white/10 rounded-[2rem] overflow-hidden relative group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent z-10"}),o.jsx("img",{src:"https://images.unsplash.com/photo-1511795409834-ef04bbd61622?auto=format&fit=crop&q=80",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 opacity-60 grayscale group-hover:grayscale-0",alt:"Live Wall"}),o.jsxs("div",{className:"absolute bottom-0 left-0 p-8 md:p-12 z-20",children:[o.jsx("div",{className:"w-14 h-14 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center mb-6 border border-white/10",children:o.jsx(O0,{className:"text-white",size:28})}),o.jsx("h3",{className:"text-3xl font-bold mb-3",children:l("featLiveWall")||"Live Slideshow"}),o.jsx("p",{className:"text-slate-300 max-w-md text-lg leading-relaxed",children:l("featLiveWallDesc")||"Turn any TV or projector into a live social feed. Photos pop up seconds after they're snapped."})]})]}),o.jsxs("div",{className:"md:col-span-2 bg-[#111] border border-white/10 rounded-[2rem] p-8 hover:bg-[#161616] transition-colors relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-[-20px] right-[-20px] p-0 opacity-5 group-hover:opacity-10 transition-opacity rotate-12",children:o.jsx(CN,{size:180})}),o.jsxs("h3",{className:"text-xl font-bold mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"text-pink-500",children:""})," ",l("featAI")||"AI Find Me"]}),o.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-6",children:l("featAIDesc")||"Guests take a selfie and our AI instantly filters the gallery to show only their photos."}),o.jsx("div",{className:"w-full h-24 bg-gradient-to-r from-pink-500/20 to-purple-600/20 rounded-xl border border-pink-500/20 flex items-center justify-center",children:o.jsx("span",{className:"text-pink-300 text-xs font-mono",children:"Face Detection Active"})})]}),o.jsxs("div",{className:"md:col-span-2 bg-[#111] border border-white/10 rounded-[2rem] p-8 hover:bg-[#161616] transition-colors relative",children:[o.jsxs("h3",{className:"text-xl font-bold mb-3 flex items-center gap-2",children:[o.jsx(Sv,{className:"text-emerald-400",size:24})," ",l("featPrivacy")||"Private & Secure"]}),o.jsx("p",{className:"text-slate-400 text-sm mb-6 leading-relaxed",children:l("featPrivacyDesc")||"Optional PIN codes, admin moderation, and private uploads."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"h-3 flex-1 rounded-full bg-emerald-500/20 border border-emerald-500/30"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500 animate-pulse"})]})]})]})]}),o.jsx("section",{className:"py-24 bg-gradient-to-b from-[#0A0A0A] to-black border-t border-white/5",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs("div",{className:"bg-gradient-to-br from-amber-500/5 to-orange-600/5 border border-amber-500/20 rounded-[2.5rem] p-8 md:p-16 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-amber-500/10 blur-[120px] rounded-full pointer-events-none"}),o.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12 relative z-10",children:[o.jsxs("div",{className:"flex-1 space-y-8 text-center md:text-left",children:[o.jsx("div",{className:"inline-block px-4 py-1.5 rounded-full bg-amber-500/10 border border-amber-500/20 text-amber-300 font-bold text-xs uppercase tracking-wider",children:l("studioDashboard")||"SnapifY for Professionals"}),o.jsx("h2",{className:"text-3xl md:text-5xl font-black text-amber-50",children:l("proTitle")}),o.jsxs("p",{className:"text-amber-100/70 text-lg max-w-lg leading-relaxed mx-auto md:mx-0",children:[l("proDesc")," Instant delivery, automated watermarking, and lead generation. Stop chasing clients for emails."]}),o.jsx("ul",{className:"space-y-4 inline-block text-left",children:["Automated Watermarking","Instant ZIP Delivery","Client Data Capture","White-label Galleries"].map((R,F)=>o.jsxs("li",{className:"flex items-center gap-3 text-amber-100/80",children:[o.jsx(RN,{size:20,className:"text-amber-400 shrink-0"})," ",R]},F))}),o.jsx("div",{className:"pt-4",children:o.jsx("button",{onClick:()=>{A(!0),x(!0),S()},className:"bg-amber-500 hover:bg-amber-400 text-black px-8 py-4 rounded-xl font-bold transition-all shadow-lg shadow-amber-500/20",children:"Apply for Studio Account"})})]}),o.jsx("div",{className:"flex-1 w-full relative perspective-1000",children:o.jsxs("div",{className:"bg-[#0f0f0f] border border-amber-500/20 rounded-2xl p-6 shadow-2xl rotate-y-12 md:rotate-6 hover:rotate-0 transition-transform duration-700 max-w-sm mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-white/5 pb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/20 flex items-center justify-center text-amber-400 font-bold border border-amber-500/30",children:"LS"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-white",children:"Luxe Studios"}),o.jsx("div",{className:"text-xs text-slate-400",children:"Pro Dashboard"})]})]}),o.jsx("div",{className:"text-emerald-400 text-xs font-bold bg-emerald-500/10 px-2 py-1 rounded border border-emerald-500/20",children:"+24 Leads"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white/5 rounded-lg border border-white/5 p-4",children:[o.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-2",children:[o.jsx("span",{children:"Storage Used"}),o.jsx("span",{children:"75GB / 100GB"})]}),o.jsx("div",{className:"h-2 w-full bg-white/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full w-3/4 bg-amber-500 rounded-full"})})]}),o.jsx("div",{className:"h-32 bg-[url('https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80')] bg-cover rounded-lg opacity-50 flex items-end p-2 relative",children:o.jsx("div",{className:"absolute bottom-2 right-2 text-[10px] text-white/50 font-bold",children:"Luxe Studios "})})]})]})})]})]})})}),o.jsxs("section",{id:"pricing",className:"py-24 px-6 max-w-7xl mx-auto scroll-mt-20",children:[o.jsx("h2",{className:"text-3xl md:text-5xl font-black mb-6 text-center",children:"Contact Sales"}),o.jsx("p",{className:"text-slate-400 text-center max-w-2xl mx-auto mb-16 text-lg",children:"Get in touch with our team to discuss your event needs."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[{icon:"",method:"WhatsApp",contact:"+41 77 958 68 45",link:"https://wa.me/41779586845"},{icon:"",method:"Viber",contact:"+41 77 958 68 45",link:"viber://chat?number=%2B41779586845"},{icon:"",method:"Email",contact:"admin@skytech.mk",link:"mailto:admin@skytech.mk"}].map((R,F)=>o.jsxs("a",{href:R.link,target:"_blank",rel:"noopener noreferrer",className:"bg-[#111] border border-white/10 p-8 rounded-3xl text-center hover:border-indigo-500/30 transition-all group hover:-translate-y-1 duration-300 shadow-2xl shadow-black",children:[o.jsx("div",{className:"text-4xl mb-4",children:R.icon}),o.jsx("h3",{className:"text-xl font-bold mb-2 text-white",children:R.method}),o.jsx("p",{className:"text-slate-400",children:R.contact})]},F))})]}),o.jsx("section",{className:"py-24 bg-[#0A0A0A] border-y border-white/5",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsxs("h2",{className:"text-3xl md:text-5xl font-black mb-4",children:["Frequently Asked ",o.jsx("span",{className:"text-blue-400",children:"Questions"})]}),o.jsx("p",{className:"text-slate-400 text-lg",children:"Everything you need to know about SnapifY"})]}),o.jsx("div",{className:"space-y-6",children:[{question:"How does the live slideshow work?",answer:"Photos appear on the big screen within seconds of being taken. Our real-time system ensures instant sharing without any lag or delays."},{question:"Is my event data secure?",answer:"Absolutely. All photos are encrypted, and you control privacy settings. Optional PIN codes and admin moderation keep everything secure."},{question:"Do guests need to download an app?",answer:"No apps required! Guests simply scan a QR code with their phone's camera and can start sharing photos immediately."},{question:"What happens to photos after the event?",answer:"You get a complete gallery with all photos organized by AI. Professional accounts include automated watermarking and instant ZIP delivery."},{question:"Can I use this for corporate events?",answer:"Definitely! SnapifY works perfectly for conferences, team building, product launches, and any event where engagement matters."},{question:"What's the difference between free and paid plans?",answer:"Free plan includes basic event creation and sharing. Paid plans add unlimited events, advanced moderation, custom branding, and priority support."}].map((R,F)=>o.jsxs("details",{className:"group bg-[#111] border border-white/10 rounded-2xl p-6 hover:border-blue-500/30 transition-all",children:[o.jsxs("summary",{className:"cursor-pointer text-lg font-bold text-white flex items-center justify-between group-open:text-blue-400",children:[R.question,o.jsx("span",{className:"text-slate-400 group-open:rotate-45 transition-transform",children:""})]}),o.jsx("p",{className:"text-slate-400 mt-4 leading-relaxed",children:R.answer})]},F))}),o.jsxs("div",{className:"text-center mt-12",children:[o.jsx("p",{className:"text-slate-400 mb-4",children:"Still have questions?"}),o.jsx("button",{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-3 rounded-full font-bold transition-all",children:"Contact Support"})]})]})}),o.jsx("footer",{className:"bg-black border-t border-white/10 py-12 px-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"bg-white/10 p-2 rounded-lg",children:o.jsx(_a,{size:16})}),o.jsx("span",{className:"font-bold tracking-tight",children:l("appName")})]}),o.jsxs("div",{className:"text-sm text-slate-500",children:[" ",new Date().getFullYear()," ",l("appName"),". All rights reserved."]}),o.jsx("button",{onClick:()=>b(!0),className:"text-sm text-slate-400 hover:text-white transition-colors underline decoration-slate-600 underline-offset-4",children:l("termsLink")})]})}),g&&o.jsx(kz,{onClose:()=>b(!1),t:l})]})},jz=({events:e,currentUser:t,onNewEvent:n,onSelectEvent:a,onRequestUpgrade:i,t:s})=>{const r=l=>{if(l===Ke.FREE)return o.jsx("span",{className:"flex items-center px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider border bg-slate-100 text-slate-500 border-slate-200",children:"FREE PLAN"});let c="bg-indigo-100 text-indigo-700 border-indigo-200",u=null,m=l;return l===Ke.STUDIO?(c="bg-gradient-to-r from-amber-200 to-yellow-400 text-amber-900 border-amber-300 shadow-sm",u=o.jsx(Da,{size:12,className:"mr-1.5 fill-amber-700"}),m="STUDIO PLAN"):l===Ke.PRO?(c="bg-purple-100 text-purple-700 border-purple-200",u=o.jsx(_a,{size:12,className:"mr-1.5 fill-purple-500"}),m="PRO PLAN"):l===Ke.BASIC&&(c="bg-blue-100 text-blue-700 border-blue-200",u=o.jsx(Dd,{size:12,className:"mr-1.5 fill-blue-500"}),m="BASIC PLAN"),o.jsxs("span",{className:`flex items-center px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider border ${c}`,children:[u,m]})};return o.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4 bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:s("myEvents")}),r(t.tier)]}),o.jsx("p",{className:"text-slate-500",children:s("manageEvents")})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[t.tier===Ke.FREE&&o.jsxs("button",{onClick:i,className:"w-full sm:w-auto bg-gradient-to-r from-amber-200 to-yellow-400 text-amber-900 px-5 py-2.5 rounded-xl font-bold flex items-center justify-center space-x-2 hover:shadow-lg hover:scale-[1.02] transition-all",title:"Upgrade your plan",children:[o.jsx(Da,{size:20}),o.jsx("span",{children:s("contactSales")})]}),o.jsxs("button",{onClick:n,className:"w-full sm:w-auto bg-black text-white px-5 py-2.5 rounded-xl font-medium flex items-center justify-center space-x-2 hover:bg-slate-800 transition-all shadow-lg hover:shadow-xl",children:[o.jsx(Bu,{size:20}),o.jsx("span",{children:s("newEvent")})]})]})]}),e.length===0?o.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-slate-300 shadow-sm mx-4 sm:mx-0",children:[o.jsx("div",{className:"bg-indigo-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(_v,{className:"text-indigo-500",size:32})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900",children:s("noEvents")}),o.jsx("p",{className:"text-slate-500 mb-8 max-w-xs mx-auto",children:s("createFirst")}),o.jsx("button",{onClick:n,className:"text-indigo-600 font-bold hover:underline",children:s("createNow")})]}):o.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.filter(l=>!((l.expiresAt?new Date>new Date(l.expiresAt):!1)&&(t.tier===Ke.FREE||t.tier===Ke.BASIC||t.tier===Ke.PRO))).map(l=>{const c=l.expiresAt?new Date>new Date(l.expiresAt):!1,u=l.hostId===(t==null?void 0:t.id);return o.jsxs("div",{onClick:()=>a(l.id),className:`bg-white p-6 rounded-2xl border transition-all cursor-pointer group relative overflow-hidden ${c?"border-red-100 opacity-75 grayscale-[0.5]":"border-slate-200 shadow-sm hover:shadow-md"}`,children:[o.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:o.jsx(_a,{size:100})}),o.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold text-xl shadow-md",children:l.title.charAt(0)}),o.jsxs("div",{className:"flex gap-2",children:[c&&o.jsxs("span",{className:"bg-red-100 text-red-600 px-3 py-1 rounded-full text-xs font-bold border border-red-200 flex items-center",children:[o.jsx(fu,{size:10,className:"mr-1"})," ",s("expired")]}),u&&o.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-3 py-1 rounded-full text-xs font-bold border border-indigo-200",children:s("owner")}),!u&&t.role===it.ADMIN&&o.jsxs("span",{className:"bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-xs font-bold border border-amber-200 flex items-center",children:[o.jsx(wv,{size:10,className:"mr-1"})," User Event"]})]})]}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1 group-hover:text-indigo-600 transition-colors relative z-10",children:l.title}),o.jsxs("p",{className:"text-sm text-slate-500 mb-4 flex items-center relative z-10",children:[o.jsx(Cs,{size:14,className:"mr-1.5"}),l.date||s("dateTBD")]}),o.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mb-4 relative z-10 bg-slate-50 p-3 rounded-lg",children:l.description}),o.jsxs("div",{className:"pt-4 border-t border-slate-100 flex items-center text-sm text-slate-500 font-medium",children:[o.jsx(bp,{size:16,className:"mr-2 text-indigo-500"}),l.media.length," ",s("memories")]})]},l.id)})}),t.tier===Ke.PRO&&o.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(I0,{className:"text-purple-600",size:24}),o.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Analytics & Insights"})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-4 rounded-xl border border-purple-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(DN,{className:"text-purple-600",size:20}),o.jsx("span",{className:"text-2xl font-bold text-purple-900",children:e.length})]}),o.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Total Events"}),o.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Events created this month"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-4 rounded-xl border border-blue-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Rh,{className:"text-blue-600",size:20}),o.jsx("span",{className:"text-2xl font-bold text-blue-900",children:e.reduce((l,c)=>l+c.media.length,0)})]}),o.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Total Photos"}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Across all events"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border border-green-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Zs,{className:"text-green-600",size:20}),o.jsx("span",{className:"text-2xl font-bold text-green-900",children:e.reduce((l,c)=>l+(c.downloads||0),0)})]}),o.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Downloads"}),o.jsx("p",{className:"text-xs text-green-600 mt-1",children:"ZIP downloads requested"})]})]})]}),t.tier===Ke.BASIC&&o.jsxs("div",{className:"mt-8 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(_a,{className:"text-blue-600",size:24}),o.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Quick Actions"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("button",{onClick:n,className:"flex items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100 hover:shadow-md transition-all",children:[o.jsx(Bu,{className:"text-blue-600",size:20}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-bold text-blue-900",children:"Create Event"}),o.jsx("p",{className:"text-sm text-blue-700",children:"Start a new photo session"})]})]}),o.jsxs("button",{onClick:()=>{},className:"flex items-center gap-3 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100 hover:shadow-md transition-all",children:[o.jsx(Qi,{className:"text-green-600",size:20}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-bold text-green-900",children:"Bulk Upload"}),o.jsx("p",{className:"text-sm text-green-700",children:"Upload multiple photos"})]})]})]})]}),o.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-2xl border border-amber-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Da,{className:"text-amber-600",size:24}),o.jsx("h3",{className:"text-xl font-bold text-amber-900",children:"Unlock Premium Features"})]}),o.jsx("p",{className:"text-amber-700 mb-6",children:"Upgrade to PRO for advanced features and unlimited possibilities."}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[o.jsx(Ev,{className:"text-amber-600",size:18}),o.jsx("span",{className:"text-sm font-medium text-amber-900",children:"4K Video Support"})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[o.jsx(MN,{className:"text-amber-600",size:18}),o.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Custom Branding"})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[o.jsx(I0,{className:"text-amber-600",size:18}),o.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Analytics Dashboard"})]})]}),o.jsx("button",{onClick:i,className:"w-full bg-gradient-to-r from-amber-500 to-yellow-500 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Upgrade to PRO - $29.99/month"})]})]})]})},f0=()=>{if(typeof window>"u")return!1;const e="ontouchstart"in window||navigator.maxTouchPoints>0,t=window.innerWidth<=768,n=navigator.userAgent.toLowerCase(),a=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(n);return e&&(t||a)},Az=({eventId:e,eventTitle:t,onClose:n,t:a})=>{const i=`${window.location.origin}?event=${e}`,[s,r]=pp.useState(!1),l=async()=>{try{await navigator.clipboard.writeText(i),r(!0),setTimeout(()=>r(!1),2e3)}catch(m){console.error("Failed to copy",m)}},c=async()=>{if(navigator.share)try{await navigator.share({title:"SnapifY Event",text:`Join the party! ${t}`,url:i})}catch{}else l()},u=()=>{const m=document.getElementById("share-qr");if(m){const d=new XMLSerializer().serializeToString(m),h=document.createElement("canvas"),f=h.getContext("2d"),g=new Image;g.onload=()=>{h.width=g.width,h.height=g.height,f==null||f.drawImage(g,0,0);const b=h.toDataURL("image/png"),y=document.createElement("a");y.download=`QR_${t.replace(/\s+/g,"_")}.png`,y.href=b,y.click()},g.src="data:image/svg+xml;base64,"+btoa(d)}};return o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Share Event"}),o.jsx("button",{onClick:n,className:"p-2 bg-white rounded-full hover:bg-slate-100 transition-colors",children:o.jsx($t,{size:20,className:"text-slate-500"})})]}),o.jsxs("div",{className:"p-8 flex flex-col items-center space-y-6",children:[o.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-indigo-100",children:o.jsx(xp,{id:"share-qr",value:i,size:180,level:"H",includeMargin:!0})}),o.jsxs("div",{className:"w-full space-y-3",children:[typeof navigator<"u"&&navigator.share&&o.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 py-3.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200",children:[o.jsx(yp,{size:20})," Share via..."]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 rounded-xl border border-slate-200",children:[o.jsx(Nv,{size:16,className:"text-slate-400 flex-shrink-0"}),o.jsx("input",{type:"text",readOnly:!0,value:i,className:"bg-transparent text-sm text-slate-600 flex-1 outline-none truncate"}),o.jsx("button",{onClick:l,className:`p-2 rounded-lg transition-colors ${s?"bg-green-100 text-green-600":"hover:bg-white text-slate-500"}`,children:s?o.jsx(Ih,{size:16}):o.jsx(ON,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("a",{href:`https://wa.me/?text=${encodeURIComponent(`Join the party! ${t}: ${i}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 py-3 bg-[#25D366] text-white rounded-xl font-bold hover:opacity-90 transition-opacity",children:[o.jsx(Vi,{size:18})," WhatsApp"]}),o.jsxs("button",{onClick:u,className:"flex items-center justify-center gap-2 py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition-colors",children:[o.jsx(Zs,{size:18})," Save QR"]})]})]})]})]})})},Cz=({vendor:e})=>o.jsxs("div",{className:"relative group rounded-2xl overflow-hidden bg-white shadow-sm border border-indigo-100 hover:shadow-md transition-all cursor-pointer flex flex-col break-inside-avoid mb-4",children:[o.jsxs("div",{className:"absolute top-2 left-2 bg-black/70 backdrop-blur-sm text-white text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wider z-10",children:["Featured ",e.category]}),e.coverImage?o.jsx("div",{className:"h-48 w-full overflow-hidden",children:o.jsx("img",{src:e.coverImage,alt:e.businessName,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"})}):o.jsx("div",{className:"h-32 bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center text-white",children:o.jsx("span",{className:"font-bold text-2xl opacity-50",children:e.businessName.charAt(0)})}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"flex items-start justify-between mb-2",children:o.jsxs("h3",{className:"font-bold text-slate-900 text-lg leading-tight",children:[e.businessName,e.isVerified&&o.jsx(kv,{size:14,className:"inline ml-1 text-blue-500"})]})}),o.jsxs("p",{className:"text-slate-500 text-xs mb-3 flex items-center",children:[o.jsx(vp,{size:12,className:"mr-1"})," ",e.city]}),o.jsx("p",{className:"text-slate-600 text-sm line-clamp-2 mb-4",children:e.description}),o.jsxs("a",{href:e.website||`mailto:${e.contactEmail}`,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-slate-50 hover:bg-slate-100 text-slate-900 font-bold text-sm py-2.5 rounded-xl flex items-center justify-center transition-colors border border-slate-200",children:["Contact ",o.jsx(IN,{size:14,className:"ml-2"})]})]})]}),Wy=e=>{if(!e||e===1)return"";switch(e){case 2:return"scaleX(-1)";case 3:return"rotate(180deg)";case 4:return"scaleY(-1)";case 5:return"scaleX(-1) rotate(90deg)";case 6:return"rotate(90deg)";case 7:return"scaleX(-1) rotate(-90deg)";case 8:return"rotate(-90deg)";default:return""}},Rz=({item:e,onClick:t})=>{const n=H.useRef(null),[a,i]=H.useState(!1),s=f0();return H.useEffect(()=>{if(s)return;const r=new IntersectionObserver(l=>{l.forEach(c=>{if(n.current)if(c.isIntersecting){const u=n.current.play();u!==void 0&&u.then(()=>i(!0)).catch(()=>{i(!1)})}else n.current.pause(),i(!1)})},{threshold:.25});return n.current&&r.observe(n.current),()=>{n.current&&r.unobserve(n.current)}},[s]),e.isProcessing?o.jsxs("div",{className:"w-full aspect-video bg-slate-200 flex flex-col items-center justify-center text-slate-500",onClick:t,children:[o.jsx(Vr,{className:"animate-spin mb-2"}),o.jsx("span",{className:"text-xs font-bold",children:"Processing..."})]}):o.jsxs("div",{className:"relative group cursor-pointer",onClick:t,children:[o.jsx("video",{ref:n,src:e.previewUrl||e.url,className:"w-full h-auto object-cover rounded-lg pointer-events-none bg-black min-h-[150px]",muted:!0,playsInline:!0,loop:!0,preload:"metadata"}),o.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-colors pointer-events-none ${s?"bg-black/10":a?"bg-transparent":"bg-black/20 group-hover:bg-black/30"}`,children:(!a||s)&&o.jsx("div",{className:"bg-black/40 rounded-full p-3 backdrop-blur-sm border border-white/20",children:o.jsx(Al,{className:"text-white fill-white",size:24})})}),o.jsx("div",{className:"absolute top-2 right-2 bg-black/60 p-1.5 rounded-md pointer-events-none z-10 backdrop-blur-md",children:o.jsx(Ev,{className:"text-white",size:12})})]})},Dz=({event:e,currentUser:t,hostUser:n,isEventExpired:a,isOwner:i,isHostPhotographer:s,downloadingZip:r,applyWatermark:l,setApplyWatermark:c,onDownloadAll:u,onSetCover:m,onUpload:d,onLike:h,onOpenLiveSlideshow:f,t:g})=>{var Fe;const[b,y]=H.useState(e.media),[p,x]=H.useState(e.guestbook||[]),[_,w]=H.useState(!1),[E,j]=H.useState(null),[N,D]=H.useState(!1),[z,A]=H.useState(0),[W,T]=H.useState(!1),[I,S]=H.useState(!1),[R,F]=H.useState(!1),q=H.useRef(null),[V,K]=H.useState(""),[Z,O]=H.useState(!1),[L,ce]=H.useState("gallery"),[oe,re]=H.useState(""),[Le,Pe]=H.useState((t==null?void 0:t.name)||""),we=`unlocked_event_${e.id}`,[Ne,Oe]=H.useState(()=>i||(t==null?void 0:t.role)===it.ADMIN||sessionStorage.getItem(we)==="true"?!1:!!e.hasPin||!!e.pin&&e.pin.length>0),[Ue,Tt]=H.useState(""),[wt,v]=H.useState(""),[Q,G]=H.useState(!1),[C,k]=H.useState(null),[P,X]=H.useState(null),[J,M]=H.useState(""),[Y,ee]=H.useState(!1),[$,fe]=H.useState(!1),[Ee,ke]=H.useState(!1),[jt,wn]=H.useState(!1),[et,an]=H.useState(new Set),[Me,En]=H.useState(!1),[hn,At]=H.useState(!1),[Ln,Qn]=H.useState([]),ka=ie=>t?t.role===it.ADMIN||i?!0:ie.uploaderId===t.id:!1,Fa=()=>t?ae.some(ie=>ka(ie)):!1;H.useEffect(()=>(Ze.connect(),Ze.joinEvent(e.id),Ze.on("media_uploaded",ie=>{y(ge=>ge.some(he=>he.id===ie.id)?ge:[ie,...ge])}),Ze.on("media_processed",ie=>{y(ge=>ge.map(he=>he.id===ie.id?{...he,isProcessing:!1,previewUrl:ie.previewUrl,url:ie.url||he.url}:he))}),Ze.on("new_like",ie=>{y(ge=>ge.map(he=>he.id===ie.id?{...he,likes:ie.likes}:he))}),Ze.on("new_message",ie=>{x(ge=>ge.some(he=>he.id===ie.id)?ge:[ie,...ge])}),Ze.on("new_comment",ie=>{y(ge=>ge.map(he=>he.id===ie.mediaId?{...he,comments:[...he.comments||[],ie]}:he))}),wn(f0()),()=>{Ze.disconnect()}),[e.id]),H.useEffect(()=>{y(e.media)},[e.media]),H.useEffect(()=>{(i||(t==null?void 0:t.role)===it.ADMIN)&&Oe(!1)},[i,t]),H.useEffect(()=>{(async()=>{if(e.city)try{const ge=await at.fetchVendors(e.city);Qn(ge)}catch(ge){console.error("Failed to fetch vendors",ge)}})()},[e.city]),H.useEffect(()=>{(async()=>{if(window.faceapi&&!$)try{await Promise.all([window.faceapi.nets.ssdMobilenetv1.loadFromUri("https://cdn.jsdelivr.net/npm/@vladmandic/face-api/model"),window.faceapi.nets.faceLandmark68Net.loadFromUri("https://cdn.jsdelivr.net/npm/@vladmandic/face-api/model"),window.faceapi.nets.faceRecognitionNet.loadFromUri("https://cdn.jsdelivr.net/npm/@vladmandic/face-api/model")]),fe(!0)}catch(ge){console.error("Failed to load FaceAPI models",ge)}})()},[]);const ae=(()=>{let ie=P||b;if(!i&&(t==null?void 0:t.role)!==it.ADMIN&&(ie=ie.filter(ge=>ge.privacy!=="private"||t&&ge.uploaderId===t.id)),Ee&&t&&(ie=ie.filter(ge=>ge.uploaderId===t.id)),J.trim()){const ge=J.toLowerCase();ie=ie.filter(he=>he.caption&&he.caption.toLowerCase().includes(ge)||he.uploaderName&&he.uploaderName.toLowerCase().includes(ge))}return ie})(),ue=(n==null?void 0:n.tier)===Ke.STUDIO,be=ue?"#4f46e5":"#000000",He=ie=>{j(ie),D(!1),A(0),document.body.style.overflow="hidden"},xt=H.useCallback(()=>{j(null),D(!1),document.body.style.overflow="unset"},[]),ye=H.useCallback(ie=>{if(E===null||I)return;const ge=window.innerWidth,he=ie==="next"?-ge:ge;S(!0),A(he),setTimeout(()=>{const Xt=ae.length;let It;ie==="next"?It=(E+1)%Xt:It=(E-1+Xt)%Xt,F(!0),j(It),A(0),S(!1),setTimeout(()=>{F(!1)},50)},300)},[E,ae.length,I]),Ie=ie=>{I||(q.current=ie.clientX,T(!0))},U=ie=>{if(!q.current||I||!W)return;const he=ie.clientX-q.current;A(he)},le=()=>{if(!q.current||I||!W){T(!1);return}T(!1);const ie=window.innerWidth/4;z<-ie?ye("next"):z>ie?ye("prev"):(S(!0),A(0),setTimeout(()=>S(!1),300)),q.current=null};H.useEffect(()=>{const ie=ge=>{E!==null&&(ge.key==="Escape"&&xt(),ge.key==="ArrowRight"&&ye("next"),ge.key==="ArrowLeft"&&ye("prev"))};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[E,xt,ye]),H.useEffect(()=>{let ie;return N&&E!==null&&(ie=setInterval(()=>{ye("next")},3e3)),()=>clearInterval(ie)},[N,E,ye]);const pe=async()=>{const ie=`${window.location.origin}?event=${e.id}`;try{await navigator.clipboard.writeText(ie),w(!0),setTimeout(()=>w(!1),2e3)}catch{prompt(g("copyLink"),ie)}},Ve=async ie=>{ie.preventDefault(),await at.validateEventPin(e.id,Ue)?(Oe(!1),sessionStorage.setItem(we,"true")):v(g("invalidPin"))},yt=async ie=>{if(ie.preventDefault(),!oe.trim()||!Le.trim())return;const ge={id:crypto.randomUUID(),eventId:e.id,senderName:Le,message:oe,createdAt:new Date().toISOString()};await at.addGuestbookEntry(ge),re("")},sn=async ie=>{if(ie.preventDefault(),!V.trim()||E===null)return;const ge=ae[E],he=t?t.name:localStorage.getItem("snapify_guest_name")||"Guest",Xt={id:crypto.randomUUID(),mediaId:ge.id,eventId:e.id,senderName:he,text:V,createdAt:new Date().toISOString()};await at.addComment(Xt),K("")},qt=async ie=>{if(!ie.target.files||!ie.target.files[0]||!window.faceapi)return;const ge=ie.target.files[0],he=URL.createObjectURL(ge);k(he),ee(!0);try{const Xt=await window.faceapi.fetchImage(he),It=await window.faceapi.detectSingleFace(Xt).withFaceLandmarks().withFaceDescriptor();if(!It){alert(g("noFaceDetected")),ee(!1),k(null);return}const jc=new window.faceapi.FaceMatcher(It),Ko=[],ji=b.filter(Ga=>Ga.type==="image");for(const Ga of ji)try{const Ta=await window.faceapi.fetchImage(Ga.url);(await window.faceapi.detectAllFaces(Ta).withFaceLandmarks().withFaceDescriptors()).some(Ai=>jc.findBestMatch(Ai.descriptor).label!=="unknown")&&Ko.push(Ga)}catch{}X(Ko)}catch{alert(g("scanError"))}finally{ee(!1)}},Ni=()=>{Me?(an(new Set),En(!1)):En(!0)},ki=ie=>{const ge=new Set(et);ge.has(ie)?ge.delete(ie):ge.add(ie),an(ge)},Ti=()=>{et.size===ae.length?an(new Set):an(new Set(ae.map(ie=>ie.id)))},mt=async()=>{if(et.size!==0&&confirm(g("confirmBulkDelete").replace("{count}",et.size.toString()))){At(!0);try{const ie=Array.from(et);(await at.bulkDeleteMedia(ie)).success&&(y(he=>he.filter(Xt=>!et.has(Xt.id))),an(new Set),En(!1))}catch{}finally{At(!1)}}},Se=(()=>{const ie=[];let ge=0;(i||(t==null?void 0:t.role)===it.ADMIN||t)&&!Me&&!J&&ie.push({type:"add-memory"});for(let he=0;he<ae.length;he++){const Xt=ae[he];if(Ln.length>0&&!Me&&he>0&&he%8===0){const It=Ln[ge%Ln.length];ie.push({type:"ad",vendor:It}),ge++}ie.push(Xt)}return ie})(),Et=ie=>{const ge=Se[ie];if(ge.type==="add-memory")return o.jsxs("div",{onClick:()=>d("upload"),className:"relative group rounded-2xl overflow-hidden bg-gradient-to-br from-indigo-50 to-white border-2 border-dashed border-indigo-200 shadow-sm hover:shadow-md hover:border-indigo-400 transition-all cursor-pointer flex flex-col items-center justify-center min-h-[250px] animate-in fade-in slide-in-from-bottom-4 h-full",children:[o.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mb-4 shadow-inner group-hover:scale-110 transition-transform duration-300",children:o.jsx(Bu,{size:32,strokeWidth:3})}),o.jsx("h4",{className:"font-black text-indigo-900 text-lg",children:g("addMemory")}),o.jsx("p",{className:"text-indigo-500/80 text-xs font-bold uppercase tracking-wider mt-1",children:g("tapToUpload")})]});if(ge.type==="ad")return o.jsx(Cz,{vendor:ge.vendor},`ad-${ie}`);{const he=ge,Xt=ae.indexOf(he);return o.jsxs("div",{className:"relative group rounded-2xl overflow-hidden bg-slate-100 shadow-sm hover:shadow-md transition-all cursor-pointer h-full",onClick:()=>!Me&&He(Xt),children:[Me&&ka(he)&&o.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 z-20 bg-black/10 flex items-start justify-end p-3",children:o.jsx("button",{onClick:It=>{It.stopPropagation(),ki(he.id)},className:`w-6 h-6 rounded-full flex items-center justify-center transition-all shadow-sm ${et.has(he.id)?"bg-indigo-600 text-white":"bg-white text-slate-400"}`,children:et.has(he.id)?o.jsx(U0,{size:14}):o.jsx(HN,{size:14})})}),he.type==="video"?o.jsx(Rz,{item:he,onClick:()=>!Me&&He(Xt)}):o.jsx("div",{className:"w-full aspect-square bg-slate-200 relative overflow-hidden",children:o.jsx("img",{src:he.previewUrl||he.url,alt:he.caption||"Photo",className:"w-full h-full object-cover",style:{transform:Wy(he.orientation)},onError:It=>{console.error("Image failed to load:",he.previewUrl||he.url),It.currentTarget.src===(he.previewUrl||he.url)&&(It.currentTarget.src=he.url)}})}),he.isWatermarked&&he.watermarkText&&o.jsx("div",{className:"absolute bottom-2 right-2 pointer-events-none",children:o.jsx("p",{className:"text-white/60 text-[10px] font-bold uppercase tracking-widest drop-shadow-md px-1.5 py-0.5 rounded bg-black/30 backdrop-blur-sm",children:he.watermarkText})}),he.privacy==="private"&&o.jsx("div",{className:"absolute top-2 right-2 bg-black/60 text-white p-1 rounded-full shadow-sm backdrop-blur-sm z-10",children:o.jsx(Ji,{size:12})}),o.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4 pointer-events-none",children:[o.jsx("p",{className:"text-white text-sm font-medium truncate",children:he.caption}),o.jsxs("div",{className:"flex justify-between items-end mt-0.5",children:[o.jsxs("p",{className:"text-white/60 text-xs",children:["by ",he.uploaderName]}),he.comments&&he.comments.length>0&&o.jsxs("div",{className:"flex items-center gap-1 text-white/80 text-xs",children:[o.jsx(jv,{size:12})," ",he.comments.length]})]})]}),!Me&&o.jsxs("button",{onClick:It=>{It.stopPropagation(),h(he)},className:"absolute bottom-3 right-3 bg-white/90 backdrop-blur-md rounded-full p-2 text-slate-400 shadow-lg hover:text-red-500 hover:scale-110 transition-all flex items-center gap-1 pointer-events-auto z-10",children:[o.jsx(zh,{size:16,className:he.likes?"fill-red-500 text-red-500":""}),ge.likes?o.jsx("span",{className:"text-xs font-bold text-red-500",children:he.likes}):null]}),(i||(t==null?void 0:t.role)===it.ADMIN)&&he.type==="image"&&!Me&&o.jsx("button",{onClick:It=>{It.stopPropagation(),m(he)},className:"absolute top-3 left-3 bg-black/40 backdrop-blur-md rounded-full p-1.5 text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-indigo-600 pointer-events-auto z-10",children:o.jsx(Dd,{size:14})})]},he.id)}};return Ne?o.jsx("div",{className:"min-h-[60vh] flex items-center justify-center px-4",children:o.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full text-center border border-slate-200",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ji,{size:32,className:"text-slate-700"})}),o.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:g("pinRequired")}),o.jsxs("form",{onSubmit:Ve,children:[o.jsx("input",{type:"text",value:Ue,onChange:ie=>{Tt(ie.target.value),v("")},placeholder:"PIN Code",className:"w-full text-center text-2xl tracking-widest font-bold p-3 rounded-xl border border-slate-300 mb-4 uppercase",maxLength:6}),wt&&o.jsx("p",{className:"text-red-500 font-bold text-sm mb-4",children:wt}),o.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold",children:g("submitPin")})]})]})}):a&&(t==null?void 0:t.role)!==it.ADMIN&&(t==null?void 0:t.id)!==e.hostId?o.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-20 text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:g("eventExpiredTitle")}),o.jsx("p",{className:"text-slate-500 mb-8",children:g("eventExpiredMsg")}),o.jsx("button",{onClick:()=>window.location.href="/",className:"bg-slate-900 text-white px-8 py-3 rounded-xl font-bold",children:g("goHome")})]}):o.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-8 pb-32",children:[a&&(t==null?void 0:t.role)===it.ADMIN&&o.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-700 p-4 rounded-xl mb-6 flex items-center font-bold",children:[o.jsx(co,{className:"mr-2"})," ",g("adminModeExpired")]}),o.jsxs("div",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-sm border border-slate-200 mb-8 relative overflow-hidden group",children:[e.coverImage?o.jsxs("div",{className:"absolute inset-0 z-0",children:[e.coverMediaType==="video"?o.jsx("video",{src:e.coverImage,className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}):o.jsx("img",{src:e.coverImage,alt:"Cover",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-white/90 backdrop-blur-sm"})]}):o.jsx("div",{className:"absolute -top-20 -right-20 opacity-[0.03] pointer-events-none z-0",children:o.jsx("div",{className:"w-96 h-96 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-full blur-3xl"})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-8 relative z-10 items-center md:items-start",children:[o.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center",children:[o.jsx("div",{className:`bg-white p-4 rounded-2xl shadow-lg border inline-block ${ue?"border-amber-200 ring-4 ring-amber-50":"border-slate-100"}`,children:o.jsx(xp,{value:`${window.location.origin}?event=${e.id}`,size:140,fgColor:be})}),o.jsxs("button",{onClick:pe,className:`mt-3 flex items-center gap-2 text-sm font-bold px-3 py-1.5 rounded-lg transition-all ${_?"bg-green-100 text-green-700":"text-indigo-600 hover:bg-indigo-50"}`,children:[_?o.jsx(kv,{size:14}):o.jsx(Nv,{size:14}),g(_?"linkCopied":"copyLink")]})]}),o.jsxs("div",{className:"flex-1 text-center md:text-left w-full",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 tracking-tight mb-2",children:e.title}),o.jsxs("p",{className:"text-slate-500 flex items-center justify-center md:justify-start mb-2 font-medium",children:[o.jsx(Cs,{size:18,className:"mr-2 text-indigo-500"})," ",e.date||g("dateTBD")]}),e.city&&o.jsxs("p",{className:"text-slate-500 flex items-center justify-center md:justify-start mb-6 font-medium",children:[o.jsx(vp,{size:18,className:"mr-2 text-red-500"})," ",g("city"),": ",e.city]}),o.jsx("div",{className:"text-slate-700 bg-slate-50 p-5 rounded-2xl border border-slate-200 w-full text-left shadow-sm relative",children:o.jsx("p",{className:"italic",children:e.description})})]})]})]}),o.jsx("div",{className:"flex justify-center mb-8",children:o.jsxs("div",{className:"bg-white p-1.5 rounded-xl shadow-sm border border-slate-200 flex gap-2",children:[o.jsxs("button",{onClick:()=>ce("gallery"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${L==="gallery"?"bg-indigo-600 text-white shadow-md":"text-slate-600 hover:bg-slate-50"}`,children:[o.jsx(gp,{size:18})," ",g("gallery")]}),o.jsxs("button",{onClick:()=>ce("guestbook"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${L==="guestbook"?"bg-indigo-600 text-white shadow-md":"text-slate-600 hover:bg-slate-50"}`,children:[o.jsx(zN,{size:18})," ",g("guestbook")]})]})}),L==="gallery"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between bg-white p-4 rounded-2xl shadow-sm border border-slate-200",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(z0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),o.jsx("input",{type:"text",value:J,onChange:ie=>M(ie.target.value),placeholder:"Search memories...",className:"w-full pl-10 pr-4 py-2 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm"}),J&&o.jsx("button",{onClick:()=>M(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:o.jsx($t,{size:14})})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[P&&o.jsxs("button",{onClick:()=>{X(null),k(null)},className:"flex items-center gap-1 px-3 py-2 text-sm font-bold text-red-600 bg-red-50 rounded-xl hover:bg-red-100",children:[o.jsx($t,{size:16})," ",g("clearFilter")]}),t&&!Me&&o.jsx("button",{onClick:()=>ke(!Ee),className:`p-2 rounded-xl transition-colors ${Ee?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,title:g(Ee?"allPhotos":"myUploads"),children:o.jsx(L0,{size:20})}),Fa()&&ae.length>0&&o.jsx("button",{onClick:Ni,className:`p-2 rounded-xl transition-colors ${Me?"bg-slate-900 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,title:g(Me?"cancel":"selectMedia"),children:Me?o.jsx($t,{size:20}):o.jsx(U0,{size:20})}),Me&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:Ti,className:"px-3 py-2 text-xs font-bold bg-slate-100 rounded-xl hover:bg-slate-200",children:et.size===ae.length?"Deselect All":"Select All"}),et.size>0&&o.jsxs("button",{onClick:mt,disabled:hn,className:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white bg-red-600 hover:bg-red-700 rounded-xl",children:[hn?o.jsx(Vr,{size:16,className:"animate-spin"}):o.jsx(Rs,{size:16}),et.size]})]}),$&&b.length>0&&!Me&&o.jsx("button",{onClick:()=>G(!Q),className:`p-2 rounded-xl transition-colors ${Q?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,title:g("findMe"),children:o.jsx(LN,{size:20})}),ae.length>0&&!Me&&o.jsxs("button",{onClick:()=>{He(0),D(!0)},className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-xl hover:bg-slate-800 font-bold text-sm",children:[o.jsx(Al,{size:16})," ",o.jsx("span",{className:"hidden sm:inline",children:g("slideshow")})]}),ae.length>0&&!Me&&o.jsx("button",{onClick:()=>u(b),disabled:r,className:"p-2 text-indigo-600 bg-indigo-50 hover:bg-indigo-100 rounded-xl transition-colors disabled:opacity-50",title:g("downloadAll"),children:r?o.jsx(Vr,{size:20,className:"animate-spin"}):o.jsx(Zs,{size:20})})]})]}),Q&&o.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-md border border-indigo-100 mb-6 animate-in slide-in-from-top-2 flex flex-col items-center text-center relative overflow-hidden",children:[o.jsxs("div",{className:"w-full bg-amber-50 border-b border-amber-100 p-2 mb-4 flex items-center justify-center gap-2 text-amber-700 text-xs font-bold",children:[o.jsx(pv,{size:14}),g("findMeDevMode")]}),o.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:g("findMeTitle")}),o.jsx("p",{className:"text-sm text-slate-500 mb-4",children:g("findMeDesc")}),Y?o.jsxs("div",{className:"flex items-center justify-center py-4 text-indigo-600",children:[o.jsx(Vr,{className:"animate-spin mr-2"})," ",g("scanning")]}):o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("label",{className:"cursor-pointer bg-indigo-600 text-white px-6 py-3 rounded-full font-bold text-sm hover:bg-indigo-700 transition-colors flex items-center gap-2 shadow-lg shadow-indigo-200",children:[o.jsx(Qi,{size:18}),g("uploadSelfie"),o.jsx("input",{type:"file",accept:"image/*",capture:"user",className:"hidden",onChange:qt})]}),C&&o.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-indigo-500 shadow-sm",children:o.jsx("img",{src:C,className:"w-full h-full object-cover",alt:"Selfie"})})]})]}),o.jsx("div",{className:"mb-24",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Se.map((ie,ge)=>Et(ge))})}),ae.length===0&&o.jsxs("div",{className:"text-center py-20 bg-slate-50 rounded-3xl border-2 border-dashed border-slate-200",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-white rounded-full shadow-sm flex items-center justify-center mb-4",children:J?o.jsx(z0,{className:"text-slate-300",size:32}):o.jsx(Qi,{className:"text-slate-300",size:32})}),o.jsx("h3",{className:"text-lg font-medium text-slate-900",children:J?"No matches found":g("noPhotos")}),i&&!J&&o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-slate-500 mb-4",children:"Your event is live! Start the gallery."}),o.jsxs("button",{onClick:()=>d("upload"),className:"bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors flex items-center gap-2 mx-auto shadow-lg",children:[o.jsx(L0,{size:18}),g("upload")]})]}),!i&&!J&&o.jsx("p",{className:"text-slate-500",children:g("beFirst")}),J&&o.jsx("button",{onClick:()=>M(""),className:"mt-4 text-indigo-600 font-bold hover:underline",children:"Clear Search"})]})]}):o.jsxs("div",{className:"max-w-2xl mx-auto mb-24",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 mb-8",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:g("signGuestbook")}),o.jsxs("form",{onSubmit:yt,className:"space-y-4",children:[o.jsx("input",{type:"text",value:Le,onChange:ie=>Pe(ie.target.value),placeholder:g("yourName"),required:!0,className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"}),o.jsx("textarea",{value:oe,onChange:ie=>re(ie.target.value),placeholder:g("leaveMessage"),required:!0,className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none h-24 resize-none"}),o.jsxs("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[o.jsx(jl,{size:18})," ",g("signGuestbook")]})]})]}),o.jsx("div",{className:"space-y-4",children:p.map(ie=>o.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm animate-in slide-in-from-top-1",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-bold text-slate-900",children:ie.senderName}),o.jsx("span",{className:"text-xs text-slate-400",children:new Date(ie.createdAt).toLocaleDateString()})]}),o.jsx("p",{className:"text-slate-600",children:ie.message})]},ie.id))})]}),o.jsx("div",{className:"fixed bottom-[calc(2rem+env(safe-area-inset-bottom))] left-0 right-0 flex justify-center z-40 pointer-events-auto",children:o.jsxs("div",{className:"flex items-center gap-4 p-2 pr-3 pl-3 bg-black/80 backdrop-blur-xl rounded-full shadow-2xl border border-white/10 text-white",children:[jt&&o.jsx("button",{onClick:()=>d("camera"),className:"flex flex-col items-center justify-center w-12 h-12 rounded-full bg-white text-black shadow-lg active:scale-95 transition-transform",children:o.jsx(Qi,{size:24})}),o.jsx("button",{onClick:()=>d("upload"),className:`flex flex-col items-center justify-center w-12 h-12 rounded-full transition-colors ${jt?"bg-white/10 hover:bg-white/20":"bg-white text-black shadow-lg hover:bg-slate-100"}`,children:o.jsx(UN,{size:24})}),o.jsx("div",{className:"w-px h-8 bg-white/20"}),o.jsx("button",{onClick:()=>O(!0),className:"flex flex-col items-center justify-center w-10 h-10 rounded-full text-white/80 hover:text-white hover:bg-white/10 transition-colors",children:o.jsx(yp,{size:20})}),(t==null?void 0:t.role)===it.PHOTOGRAPHER&&o.jsx("button",{onClick:()=>c(!l),className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${l?"bg-amber-400 text-black":"text-white/50 hover:text-white"}`,children:o.jsx(co,{size:20})})]})}),E!==null&&o.jsxs("div",{className:"fixed inset-0 z-[60] bg-black flex items-center justify-center backdrop-blur-2xl animate-in fade-in duration-200 touch-none",onPointerDown:Ie,onPointerMove:U,onPointerUp:le,onPointerCancel:le,onPointerLeave:le,children:[o.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-50 bg-gradient-to-b from-black/60 to-transparent pt-[env(safe-area-inset-top)]",children:[o.jsxs("div",{className:"text-white/80 text-sm font-medium",children:[E+1," / ",ae.length]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>D(!N),className:"p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:N?o.jsx(Tv,{size:20}):o.jsx(Al,{size:20})}),o.jsx("button",{onClick:()=>{const ie=document.createElement("a");ie.href=ae[E].url,ie.download=`snapify_${ae[E].id}`,ie.click()},className:"p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:o.jsx(Zs,{size:20})}),o.jsx("button",{onClick:xt,className:"p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:o.jsx($t,{size:20})})]})]}),o.jsx("button",{onClick:()=>ye("prev"),className:"absolute left-4 p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors z-50 hidden md:block",children:o.jsx(BN,{size:32})}),o.jsx("button",{onClick:()=>ye("next"),className:"absolute right-4 p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors z-50 hidden md:block",children:o.jsx(PN,{size:32})}),o.jsxs("div",{className:"w-full h-full relative overflow-hidden",onClick:xt,children:[o.jsx("div",{className:"absolute top-0 left-0 h-full flex items-center",style:{transform:`translateX(calc(-100vw + ${z}px))`,transition:W||R?"none":"transform 0.3s ease-out",width:"300vw"},onClick:ie=>ie.stopPropagation(),children:[-1,0,1].map(ie=>{const ge=(E+ie+ae.length)%ae.length,he=ae[ge];return o.jsx("div",{className:"w-[100vw] h-full flex-shrink-0 flex items-center justify-center p-2 md:p-10",children:he.type==="video"?o.jsx("video",{src:he.url,controls:!0,autoPlay:ie===0&&N,className:"max-w-full max-h-full rounded-lg shadow-2xl object-contain bg-black pointer-events-none",playsInline:!0,muted:!0}):o.jsx("img",{src:he.previewUrl||he.url,alt:he.caption,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl select-none",style:{transform:Wy(he.orientation)},draggable:!1})},`${ge}-${ie}`)})}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/70 to-transparent p-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))] flex flex-col gap-4 max-h-[40vh] overflow-y-auto pointer-events-auto",onClick:ie=>ie.stopPropagation(),children:[o.jsxs("div",{className:"text-center mb-2",children:[ae[E].privacy==="private"&&o.jsxs("div",{className:"flex items-center justify-center gap-1 text-amber-400 mb-1 text-xs font-bold uppercase tracking-wider",children:[o.jsx(Ji,{size:12})," Private"]}),o.jsx("p",{className:"text-white text-lg font-bold drop-shadow-md",children:ae[E].caption}),o.jsxs("p",{className:"text-white/60 text-sm mt-1",children:[new Date(ae[E].uploadedAt).toLocaleDateString(),"  ",ae[E].uploaderName]})]}),o.jsxs("div",{className:"w-full max-w-lg mx-auto bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/10",children:[o.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2 mb-3 custom-scrollbar",children:(Fe=ae[E].comments)!=null&&Fe.length?ae[E].comments.map(ie=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:"font-bold text-white mr-2",children:[ie.senderName,":"]}),o.jsx("span",{className:"text-white/80",children:ie.text})]},ie.id)):o.jsx("p",{className:"text-white/40 text-xs text-center italic",children:"No comments yet."})}),o.jsxs("form",{onSubmit:sn,className:"flex gap-2",children:[o.jsx("input",{type:"text",value:V,onChange:ie=>K(ie.target.value),placeholder:"Add a comment...",className:"flex-1 bg-black/20 text-white text-sm rounded-lg px-3 py-2 border border-white/20 focus:outline-none focus:border-white/50 placeholder:text-white/30"}),o.jsx("button",{type:"submit",className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 text-white transition-colors",children:o.jsx(jl,{size:16})})]})]})]})]})]}),Z&&o.jsx(Az,{eventId:e.id,eventTitle:e.title,onClose:()=>O(!1),t:g})]})},Mz=({currentUser:e,onClose:t,onCreate:n,t:a})=>{const[i,s]=H.useState(""),[r,l]=H.useState(""),[c,u]=H.useState(""),[m,d]=H.useState([]),[h,f]=H.useState(!1),[g,b]=H.useState(!1),[y,p]=H.useState(!1),[x,_]=H.useState("Birthday"),[w,E]=H.useState(""),[j,N]=H.useState(""),[D,z]=H.useState(!1),[A,W]=H.useState("30d"),[T,I]=H.useState(30),[S,R]=H.useState("minutes"),F=H.useRef(null);H.useEffect(()=>{const O=L=>{F.current&&!F.current.contains(L.target)&&b(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const q=async O=>{if(u(O),O.length<3){d([]),b(!1);return}f(!0),b(!0);try{const ce=await(await fetch(`https://photon.komoot.io/api/?q=${encodeURIComponent(O)}&limit=5&lang=en`)).json();d(ce.features||[])}catch(L){console.error("City search failed",L)}finally{f(!1)}},V=O=>{const L=O.properties,ce=L.city||L.name,oe=L.country,re=oe?`${ce}, ${oe}`:ce;u(re),d([]),b(!1)},K=async()=>{if(!i)return;z(!0);const O=y&&r?r:"soon";try{const L=await at.generateEventDescription(i,O,x);E(L)}catch(L){console.error("Failed to generate description",L),E(`Join us for a amazing ${x.toLowerCase()}!`)}finally{z(!1)}},Z=O=>{O.preventDefault(),n({title:i,date:y?r:"",city:c.trim(),theme:x,description:w||`Join us for a amazing ${x.toLowerCase()}!`,pin:j,adminOptions:e.role===it.ADMIN?{expiryType:A,durationValue:T,durationUnit:S}:void 0})};return o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all max-h-[90vh] overflow-y-auto custom-scrollbar",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900",children:a("createEvent")}),o.jsx("button",{onClick:t,className:"p-2 bg-white rounded-full hover:bg-slate-100 transition-colors",children:o.jsx($t,{size:20,className:"text-slate-500"})})]}),o.jsxs("form",{onSubmit:Z,className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:a("eventTitle")}),o.jsx("input",{type:"text",required:!0,value:i,onChange:O=>s(O.target.value),placeholder:"e.g., Sarah's 30th Birthday",className:"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all"})]}),o.jsxs("div",{className:"relative",ref:F,children:[o.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[o.jsx(vp,{size:16,className:"text-slate-400"})," ",a("locationCity")]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:c,onChange:O=>q(O.target.value),placeholder:"Type to search city (e.g. Skopje)...",className:"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all",autoComplete:"off"}),h&&o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:o.jsx(Vr,{size:16,className:"animate-spin text-indigo-500"})})]}),g&&m.length>0&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-xl shadow-xl border border-slate-100 z-20 max-h-48 overflow-y-auto custom-scrollbar",children:m.map((O,L)=>o.jsxs("button",{type:"button",onClick:()=>V(O),className:"w-full text-left px-4 py-3 text-sm hover:bg-slate-50 border-b border-slate-50 last:border-0 flex flex-col",children:[o.jsx("span",{className:"font-bold text-slate-800",children:O.properties.name}),o.jsx("span",{className:"text-xs text-slate-500",children:[O.properties.state,O.properties.country].filter(Boolean).join(", ")})]},L))}),o.jsx("p",{className:"text-[10px] text-slate-400 mt-1 ml-1",children:a("locationHelpText")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:a("eventTheme")}),o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2",children:bz.map(O=>o.jsxs("button",{type:"button",onClick:()=>_(O.id),className:`flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all duration-200 min-h-[70px] ${x===O.id?"border-indigo-500 bg-indigo-50 text-indigo-700 shadow-sm":"border-slate-200 text-slate-500 hover:border-slate-300 hover:bg-slate-50"}`,children:[o.jsx("span",{className:"text-2xl mb-2",children:O.emoji}),o.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wide text-center leading-tight break-words px-1",children:a(O.labelKey)})]},O.id))})]}),(e==null?void 0:e.role)===it.ADMIN&&o.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100",children:[o.jsxs("label",{className:"block text-sm font-bold text-amber-800 mb-2 flex items-center",children:[o.jsx(co,{size:16,className:"mr-2"})," ",a("adminSettings")]}),o.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:["10d","20d","30d","unlimited","custom"].map(O=>o.jsx("button",{type:"button",onClick:()=>W(O),className:`px-3 py-2 rounded-lg text-sm font-medium border transition-colors text-left ${A===O?"bg-amber-100 border-amber-300 text-amber-900":"bg-white border-amber-200 text-slate-600 hover:bg-amber-50"}`,children:O==="unlimited"?a("unlimited"):O==="custom"?a("customDuration"):`${O.replace("d","")} ${a("days")}`},O))}),A==="custom"&&o.jsxs("div",{className:"flex gap-2 animate-in fade-in slide-in-from-top-2",children:[o.jsx("input",{type:"number",min:"1",value:T,onChange:O=>I(parseInt(O.target.value)||0),className:"w-1/3 px-3 py-2 border border-slate-300 rounded-lg text-sm bg-white text-slate-900 focus:ring-2 focus:ring-amber-200 outline-none"}),o.jsxs("select",{value:S,onChange:O=>R(O.target.value),className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm bg-white text-slate-900 focus:ring-2 focus:ring-amber-200 outline-none",children:[o.jsx("option",{value:"seconds",children:a("seconds")}),o.jsx("option",{value:"minutes",children:a("minutes")}),o.jsx("option",{value:"hours",children:a("hours")}),o.jsx("option",{value:"days",children:a("days")})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[o.jsx(Ji,{size:16,className:"text-slate-400"})," ",a("optionalPin")]}),o.jsx("input",{type:"text",value:j,onChange:O=>N(O.target.value),placeholder:a("pinDesc"),className:"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-sm font-bold text-slate-700",children:a("eventDate")}),o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[o.jsx("div",{className:`w-10 h-5 rounded-full p-1 transition-colors ${y?"bg-indigo-600":"bg-slate-300"}`,children:o.jsx("div",{className:`w-3 h-3 bg-white rounded-full shadow-md transform transition-transform ${y?"translate-x-5":""}`})}),o.jsx("input",{type:"checkbox",checked:y,onChange:O=>p(O.target.checked),className:"hidden"}),o.jsx("span",{className:"text-xs font-semibold text-slate-500",children:a("setDate")})]})]}),y&&o.jsx("input",{type:"date",value:r,onChange:O=>l(O.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all animate-in fade-in slide-in-from-top-1"})]}),o.jsxs("div",{className:"bg-indigo-50/50 p-4 rounded-xl border border-indigo-100",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("label",{className:"text-sm font-bold text-indigo-900 flex items-center",children:[o.jsx(_v,{size:14,className:"mr-1.5 text-indigo-500"}),a("aiDesc")]}),o.jsx("button",{type:"button",onClick:K,disabled:!i||D,className:"text-xs bg-white text-indigo-600 px-3 py-1 rounded-full shadow-sm font-bold hover:shadow-md transition-all disabled:opacity-50 disabled:shadow-none",children:a(D?"generating":"autoGenerate")})]}),o.jsx("textarea",{value:w,onChange:O=>E(O.target.value),placeholder:a("aiPlaceholder"),className:"w-full px-3 py-2 bg-white rounded-lg border border-indigo-200 text-sm focus:outline-none focus:border-indigo-400 h-24 resize-none text-slate-900"})]}),o.jsx("div",{className:"pt-2",children:o.jsx("button",{type:"submit",className:"w-full bg-black text-white py-4 rounded-xl font-bold text-lg hover:bg-slate-800 shadow-lg hover:shadow-xl transition-all transform active:scale-95",children:a("createParty")})})]})]})})},Xy=({onClose:e,t,tier:n})=>{const[a,i]=H.useState(n||null);f0();const s="+41779586845",r="+41 77 958 68 45",l="admin@skytech.mk",c=gz(t),u=h=>{const f=c.find(g=>g.id===h);return(f==null?void 0:f.name)||""},m=(h,f)=>{const g=u(h),b=`Hello! I'm interested in upgrading to the ${g} tier for SnapifY. Please provide me with pricing details and next steps.`;return f==="whatsapp"||f==="viber"?encodeURIComponent(b):f==="email"?encodeURIComponent(`Subject: SnapifY ${g} Tier Inquiry

${b}`):""},d=h=>{if(h.id===Ke.FREE)return null;let f="bg-indigo-100 text-indigo-700 border-indigo-200",g=null;return h.id===Ke.STUDIO?(f="bg-gradient-to-r from-amber-200 to-yellow-400 text-amber-900 border-amber-300 shadow-sm",g=o.jsx(Da,{size:12,className:"mr-1.5 fill-amber-700"})):h.id===Ke.PRO?(f="bg-purple-100 text-purple-700 border-purple-200",g=o.jsx(_a,{size:12,className:"mr-1.5 fill-purple-500"})):h.id===Ke.BASIC&&(f="bg-blue-100 text-blue-700 border-blue-200",g=o.jsx(Dd,{size:12,className:"mr-1.5 fill-blue-500"})),o.jsxs("span",{className:`flex items-center px-2 py-1 rounded-full text-xs font-bold border ${f}`,children:[g,h.id===Ke.STUDIO?"PROFESSIONAL":h.id===Ke.PRO?"PREMIUM":"PLUS"]})};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden p-6 relative",children:[o.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-slate-100 rounded-full hover:bg-slate-200 transition-colors",children:o.jsx($t,{size:20,className:"text-slate-500"})}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Da,{size:32})}),o.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Contact Sales"}),o.jsxs("p",{className:"text-slate-500 mt-2",children:["Choose your preferred contact method to discuss ",a?u(a):"your"," plan upgrade."]})]}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Select Plan:"}),c.filter(h=>h.id!==Ke.FREE).map(h=>o.jsxs("div",{onClick:()=>i(h.id),className:`relative p-4 border rounded-xl cursor-pointer transition-all ${a===h.id?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-200":"border-slate-200 bg-white hover:border-slate-300 hover:bg-slate-50"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[d(h),o.jsx("h4",{className:"font-bold text-slate-900",children:h.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"text-2xl font-black text-slate-900",children:h.price}),h.id!==Ke.STUDIO&&o.jsxs("span",{className:"text-slate-500",children:["/",t("event")]})]})]}),o.jsx("p",{className:"text-sm text-slate-600",children:h.limit}),a===h.id&&o.jsx("div",{className:"absolute top-2 right-2 w-4 h-4 bg-indigo-500 rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},h.id))]}),a&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold text-slate-900",children:"Contact Methods:"}),o.jsxs("a",{href:`https://wa.me/${s}?text=${m(a,"whatsapp")}`,target:"_blank",rel:"noreferrer",className:"flex items-center justify-center p-4 bg-green-50 rounded-xl border border-green-100 hover:border-green-300 hover:bg-green-100 transition-all group",children:[o.jsx(Vi,{size:24,className:"mr-3 text-green-600"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-bold text-green-900",children:"WhatsApp"}),o.jsx("div",{className:"text-sm text-green-700",children:r})]})]}),o.jsxs("a",{href:`viber://chat?number=${s}&text=${m(a,"viber")}`,className:"flex items-center justify-center p-4 bg-purple-50 rounded-xl border border-purple-100 hover:border-purple-300 hover:bg-purple-100 transition-all group",children:[o.jsx(vv,{size:24,className:"mr-3 text-purple-600"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-bold text-purple-900",children:"Viber"}),o.jsx("div",{className:"text-sm text-purple-700",children:r})]})]}),o.jsxs("a",{href:`mailto:${l}?body=${m(a,"email")}`,className:"flex items-center justify-center p-4 bg-slate-50 rounded-xl border border-slate-200 hover:border-indigo-300 hover:bg-indigo-50 transition-all group",children:[o.jsx(mv,{size:24,className:"mr-3 group-hover:text-indigo-600"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-bold text-slate-900",children:"Email"}),o.jsx("div",{className:"text-sm text-slate-600",children:l})]})]})]}),o.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200",children:o.jsx("button",{onClick:e,className:"w-full py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Close"})})]})})},Oz=({onLogin:e,onRegister:t,onCancel:n,t:a})=>{const[i,s]=H.useState(""),r=l=>{l.preventDefault(),i.trim()&&e(i)};return o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-[60] flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden relative flex flex-col",children:[o.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 hover:bg-slate-100 rounded-full transition-colors z-10",children:""}),o.jsxs("div",{className:"p-8 pb-6 text-center",children:[o.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:a("joinParty")}),o.jsx("p",{className:"text-slate-500 text-sm",children:a("chooseAccess")})]}),o.jsxs("div",{className:"px-8 space-y-6 pb-8",children:[o.jsxs("div",{className:"bg-indigo-50 p-6 rounded-2xl border border-indigo-100 relative group",children:[o.jsx("div",{className:"absolute -top-3 left-4 bg-indigo-600 text-white text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wide shadow-sm",children:a("guestAccess")}),o.jsxs("form",{onSubmit:r,className:"mt-2",children:[o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:i,onChange:l=>s(l.target.value),placeholder:a("yourName"),className:"bg-white text-slate-900 w-full px-4 py-3.5 rounded-xl border border-indigo-200 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all font-medium"})}),o.jsxs("button",{type:"submit",disabled:!i.trim(),className:"w-full bg-indigo-600 text-white py-3.5 rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:shadow-none",children:[a("continueAsGuest")," ",o.jsx(Qi,{size:18})]})]}),o.jsxs("div",{className:"mt-3 flex items-center justify-center gap-4 text-[10px] text-indigo-400 font-medium",children:[o.jsxs("span",{className:"flex items-center",children:[o.jsx(Ih,{size:10,className:"mr-1"})," ",a("quickUpload")]}),o.jsxs("span",{className:"flex items-center",children:[o.jsx(Ih,{size:10,className:"mr-1"})," ",a("publicGallery")]})]})]}),o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"border-t border-slate-200 w-full absolute"}),o.jsx("span",{className:"bg-white px-3 text-xs font-bold text-slate-400 uppercase tracking-wider relative z-10",children:"OR"})]}),o.jsx("div",{children:o.jsxs("button",{onClick:t,className:"w-full py-3.5 rounded-xl border-2 border-slate-200 text-slate-700 font-bold hover:bg-slate-50 hover:border-slate-300 transition-all flex items-center justify-center gap-3 group",children:[o.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center text-slate-500 group-hover:bg-white group-hover:text-slate-900 transition-colors",children:o.jsx(FN,{size:16})}),o.jsxs("div",{className:"text-left",children:[o.jsx("span",{className:"block text-sm",children:a("memberLogin")}),o.jsx("span",{className:"block text-[10px] text-slate-400 font-normal",children:a("privateUploadsHistory")})]})]})})]})]})})},Iz=({currentUser:e,onClose:t,onSave:n,t:a})=>{if(!Fn[e.tier].allowBranding)return t(),null;const[i,s]=H.useState(e.studioName||""),[r,l]=H.useState(e.logoUrl||""),[c,u]=H.useState(e.watermarkOpacity||.85),[m,d]=H.useState(e.watermarkSize||20),[h,f]=H.useState(e.watermarkPosition||"bottom-right"),[g,b]=H.useState(e.watermarkOffsetX||2),[y,p]=H.useState(e.watermarkOffsetY||2),x=H.useRef(null),_=j=>{var z;const N=(z=j.target.files)==null?void 0:z[0];if(!N)return;const D=new FileReader;D.onload=A=>{var T;const W=new Image;W.onload=()=>{const I=document.createElement("canvas"),R=Math.min(1,300/W.width);I.width=W.width*R,I.height=W.height*R;const F=I.getContext("2d");F&&(F.drawImage(W,0,0,I.width,I.height),l(I.toDataURL("image/png")))},W.src=(T=A.target)==null?void 0:T.result},D.readAsDataURL(N)},w=()=>{n({studioName:i,logoUrl:r,watermarkOpacity:c,watermarkSize:m,watermarkPosition:h,watermarkOffsetX:g,watermarkOffsetY:y}),t()},E=()=>{const j={position:"absolute",width:`${m}%`,opacity:c,height:"auto"};switch(h){case"top-left":j.top=`${y}%`,j.left=`${g}%`;break;case"top-right":j.top=`${y}%`,j.right=`${g}%`;break;case"bottom-left":j.bottom=`${y}%`,j.left=`${g}%`;break;case"bottom-right":j.bottom=`${y}%`,j.right=`${g}%`;break;case"center":j.top="50%",j.left="50%",j.transform=`translate(-50%, -50%) translate(${g}%, ${y}%)`;break}return j};return o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-xl overflow-hidden max-h-[90vh] overflow-y-auto custom-scrollbar",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hv,{className:"text-indigo-600",size:24}),o.jsx("h3",{className:"text-xl font-bold text-slate-900",children:a("studioSettings")})]}),o.jsx("button",{onClick:t,className:"p-2 bg-white rounded-full hover:bg-slate-100 transition-colors",children:o.jsx($t,{size:20,className:"text-slate-500"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:a("studioName")}),o.jsx("input",{type:"text",value:i,onChange:j=>s(j.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all"})]}),o.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[o.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center justify-between",children:[o.jsx("span",{children:a("uploadLogo")}),o.jsx("span",{className:"text-xs font-normal bg-indigo-100 text-indigo-700 px-2 py-0.5 rounded",children:"PNG / Transparent"})]}),o.jsx("p",{className:"text-xs text-slate-500 mb-4",children:a("logoDesc")}),r?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"relative w-full aspect-video bg-slate-200 rounded-lg overflow-hidden border border-slate-300 shadow-inner",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=60&w=600",className:"w-full h-full object-cover opacity-75 grayscale-[0.2]",alt:"Preview Background"}),o.jsx("img",{src:r,alt:"Watermark Preview",style:E()}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("button",{onClick:()=>l(""),className:"bg-white/80 text-red-600 p-1.5 rounded-full hover:bg-white transition-colors shadow-sm",title:a("removeLogo"),children:o.jsx(Rs,{size:14})})})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-2 flex items-center gap-2",children:[o.jsx(gp,{size:14})," ",a("position")]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 w-32 mb-4 mx-auto md:mx-0",children:[o.jsx("button",{onClick:()=>f("top-left"),className:`aspect-square border rounded flex items-start justify-start p-1 hover:bg-indigo-50 ${h==="top-left"?"border-indigo-600 bg-indigo-100":"border-slate-300"}`,children:o.jsx("div",{className:`w-2 h-2 rounded-sm ${h==="top-left"?"bg-indigo-600":"bg-slate-300"}`})}),o.jsx("div",{className:"aspect-square"}),o.jsx("button",{onClick:()=>f("top-right"),className:`aspect-square border rounded flex items-start justify-end p-1 hover:bg-indigo-50 ${h==="top-right"?"border-indigo-600 bg-indigo-100":"border-slate-300"}`,children:o.jsx("div",{className:`w-2 h-2 rounded-sm ${h==="top-right"?"bg-indigo-600":"bg-slate-300"}`})}),o.jsx("div",{className:"aspect-square"}),o.jsx("button",{onClick:()=>f("center"),className:`aspect-square border rounded flex items-center justify-center p-1 hover:bg-indigo-50 ${h==="center"?"border-indigo-600 bg-indigo-100":"border-slate-300"}`,children:o.jsx("div",{className:`w-2 h-2 rounded-sm ${h==="center"?"bg-indigo-600":"bg-slate-300"}`})}),o.jsx("div",{className:"aspect-square"}),o.jsx("button",{onClick:()=>f("bottom-left"),className:`aspect-square border rounded flex items-end justify-start p-1 hover:bg-indigo-50 ${h==="bottom-left"?"border-indigo-600 bg-indigo-100":"border-slate-300"}`,children:o.jsx("div",{className:`w-2 h-2 rounded-sm ${h==="bottom-left"?"bg-indigo-600":"bg-slate-300"}`})}),o.jsx("div",{className:"aspect-square"}),o.jsx("button",{onClick:()=>f("bottom-right"),className:`aspect-square border rounded flex items-end justify-end p-1 hover:bg-indigo-50 ${h==="bottom-right"?"border-indigo-600 bg-indigo-100":"border-slate-300"}`,children:o.jsx("div",{className:`w-2 h-2 rounded-sm ${h==="bottom-right"?"bg-indigo-600":"bg-slate-300"}`})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:[a("opacity"),": ",Math.round(c*100),"%"]}),o.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:c,onChange:j=>u(parseFloat(j.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:[a("size"),": ",m,"%"]}),o.jsx("input",{type:"range",min:"5",max:"50",step:"1",value:m,onChange:j=>d(parseInt(j.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 bg-slate-100 p-3 rounded-lg",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:[a("offsetX"),": ",g,"%"]}),o.jsx("input",{type:"range",min:"0",max:"30",step:"1",value:g,onChange:j=>b(parseInt(j.target.value)),className:"w-full h-2 bg-slate-300 rounded-lg appearance-none cursor-pointer accent-slate-600"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:[a("offsetY"),": ",y,"%"]}),o.jsx("input",{type:"range",min:"0",max:"30",step:"1",value:y,onChange:j=>p(parseInt(j.target.value)),className:"w-full h-2 bg-slate-300 rounded-lg appearance-none cursor-pointer accent-slate-600"})]})]})]}):o.jsxs("button",{onClick:()=>{var j;return(j=x.current)==null?void 0:j.click()},className:"w-full h-32 border-2 border-dashed border-slate-300 rounded-xl flex flex-col items-center justify-center text-slate-400 hover:border-indigo-400 hover:text-indigo-500 hover:bg-indigo-50 transition-all cursor-pointer",children:[o.jsx(bp,{size:32,className:"mb-2"}),o.jsx("span",{className:"text-sm font-bold",children:a("upload")})]}),o.jsx("input",{type:"file",ref:x,className:"hidden",accept:"image/png,image/jpeg",onChange:_})]}),o.jsxs("button",{onClick:w,className:"w-full bg-black text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-slate-800 shadow-lg transition-all",children:[o.jsx(Oh,{size:18}),a("saveSettings")]})]})]})})},zz=e=>new Promise(t=>{const n=new FileReader;n.onload=a=>{var l;if(!((l=a.target)!=null&&l.result))return t(1);const i=new DataView(a.target.result);if(i.getUint16(0,!1)!==65496)return t(-2);const s=i.byteLength;let r=2;for(;r<s;){if(i.getUint16(r+2,!1)<=8)return t(-1);const c=i.getUint16(r,!1);if(r+=2,c===65505){if(i.getUint32(r+=2,!1)!==1165519206)return t(-1);const u=i.getUint16(r+=6,!1)===18761;r+=i.getUint32(r+4,u);const m=i.getUint16(r,u);r+=2;for(let d=0;d<m;d++)if(i.getUint16(r+d*12,u)===274)return t(i.getUint16(r+d*12+8,u))}else{if((c&65280)!==65280)break;r+=i.getUint16(r,!1)}}return t(-1)},n.readAsArrayBuffer(e)}),Lz=zz,Zy=async(e,t,n,a,i,s,r,l)=>e,Uz=({type:e,src:t,onConfirm:n,onRetake:a,onCancel:i,isUploading:s,uploadProgress:r=0,isRegistered:l,t:c,file:u})=>{const[m,d]=H.useState(""),[h,f]=H.useState("public"),[g,b]=H.useState(0),y=H.useRef(null);H.useEffect(()=>{e==="image"&&u&&Lz(u).then(x=>{switch(x){case 3:b(180);break;case 6:b(90);break;case 8:b(-90);break;default:b(0);break}})},[u,e]);const p=x=>{if(x==="private"&&!l){alert("Please login or register to upload private photos.");return}f(x)};return o.jsxs("div",{className:"fixed inset-0 z-[60] bg-black flex flex-col animate-in fade-in duration-200 h-[100dvh]",children:[o.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-20 bg-gradient-to-b from-black/60 to-transparent",children:[o.jsx("button",{onClick:i,disabled:s,className:"p-2 bg-black/20 backdrop-blur-md rounded-full text-white hover:bg-black/40 transition-colors disabled:opacity-0",children:o.jsx($t,{size:24})}),o.jsx("h3",{className:"text-white font-bold text-lg drop-shadow-md",children:"Preview"}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"flex-1 min-h-0 flex items-center justify-center bg-black relative overflow-hidden",children:e==="video"?o.jsx("video",{src:t,autoPlay:!0,controls:!0,loop:!0,playsInline:!0,className:"max-w-full max-h-full object-contain"}):o.jsx("img",{ref:y,src:t,alt:"Preview",className:"max-w-full max-h-full object-contain transition-transform duration-300",style:{transform:`rotate(${g}deg)`}})}),o.jsxs("div",{className:"bg-black/80 backdrop-blur-xl p-6 pb-8 z-20 border-t border-white/10",children:[e==="video"&&o.jsxs("div",{className:"flex items-center justify-center mb-4 p-2 bg-amber-500/20 border border-amber-500/30 rounded-lg",children:[o.jsx(B0,{size:14,className:"text-amber-400 mr-2 flex-shrink-0"}),o.jsx("p",{className:"text-amber-200 text-xs font-medium text-center",children:c("videoDurationLimit")||"Videos must be 10 seconds or less"})]}),o.jsxs("div",{className:"flex flex-col items-center mb-4",children:[o.jsxs("div",{className:"bg-white/10 rounded-full p-1 flex relative",children:[o.jsxs("button",{onClick:()=>p("public"),className:`flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-bold transition-all ${h==="public"?"bg-white text-black":"text-white/60 hover:text-white"}`,children:[o.jsx(xv,{size:12}),c("public")]}),o.jsxs("button",{onClick:()=>p("private"),className:`flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-bold transition-all ${h==="private"?"bg-white text-black":l?"text-white/60 hover:text-white":"text-white/20 cursor-not-allowed"}`,children:[o.jsx(Ji,{size:12}),c("private")]})]}),!l&&o.jsxs("p",{className:"text-[10px] text-white/40 mt-2 flex items-center gap-1",children:[o.jsx(B0,{size:10})," ",c("loginRequired")]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/50",children:o.jsx(GN,{size:16})}),o.jsx("input",{type:"text",value:m,onChange:x=>d(x.target.value),placeholder:c("leaveMessage")||"Add a caption...",className:"w-full bg-white/10 border border-white/20 rounded-xl py-3 pl-10 pr-4 text-white placeholder:text-white/30 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:a,disabled:s,className:"flex-1 py-3.5 bg-white/10 text-white font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-white/20 transition-colors disabled:opacity-50",children:[o.jsx(Av,{size:18}),c("retry")||"Retake"]}),o.jsx("button",{onClick:()=>n(m,h),disabled:s,className:"flex-[2] py-3.5 bg-indigo-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-indigo-700 transition-colors disabled:opacity-70 shadow-lg shadow-indigo-900/30 relative overflow-hidden",children:s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute inset-0 bg-indigo-500 transition-all duration-200 ease-out",style:{width:`${r}%`}}),o.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[o.jsx(Vr,{size:18,className:"animate-spin"}),o.jsxs("span",{children:[r,"%"]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(jl,{size:18}),c("upload")||"Upload"]})})]})]})]})},Bz=({event:e,currentUser:t,hostUser:n,onClose:a,t:i})=>{const[s,r]=H.useState(e.media),[l,c]=H.useState(0),[u,m]=H.useState(!0),[d,h]=H.useState("next"),[f,g]=H.useState(!1),[b,y]=H.useState(!0),[p,x]=H.useState(!1),_=H.useRef(null),w=H.useRef(null),E=H.useRef(null),N=(n==null?void 0:n.tier)===Ke.STUDIO?"#4f46e5":"#000000";H.useEffect(()=>(Ze.connect(),Ze.joinEvent(e.id),Ze.on("media_uploaded",I=>{r(S=>S.some(R=>R.id===I.id)?S:[I,...S])}),Ze.on("media_processed",I=>{r(S=>S.map(R=>R.id===I.id?{...R,isProcessing:!1,previewUrl:I.previewUrl,url:I.url||R.url}:R))}),Ze.on("new_like",I=>{r(S=>S.map(R=>R.id===I.id?{...R,likes:I.likes}:R))}),()=>{Ze.disconnect()}),[e.id]),H.useEffect(()=>(u&&s.length>0?_.current=setInterval(()=>{D("next")},4e3):_.current&&clearInterval(_.current),()=>{_.current&&clearInterval(_.current)}),[u,s.length]),H.useEffect(()=>(b&&(w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{y(!1)},3e3)),()=>{w.current&&clearTimeout(w.current)}),[b]);const D=H.useCallback(I=>{f||s.length===0||(g(!0),h(I),setTimeout(()=>{c(I==="next"?S=>(S+1)%s.length:S=>(S-1+s.length)%s.length),g(!1)},600))},[f,s.length]),z=async I=>{await at.likeMedia(I.id)},A=I=>{const S=document.createElement("a");S.href=I.url,S.download=`snapify_${I.id}`,S.click()},W=()=>{const I=`${window.location.origin}?event=${e.id}`;navigator.clipboard.writeText(I).then(()=>{alert(i("linkCopied"))})},T=s[l];return T?o.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center overflow-hidden",onClick:()=>y(I=>!I),children:[o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[o.jsx("div",{ref:E,className:`absolute inset-0 transition-all duration-1000 ease-in-out ${f?d==="next"?"opacity-0 scale-110 translate-x-4":"opacity-0 scale-90 -translate-x-4":"opacity-100 scale-100 translate-x-0"}`,children:T.type==="video"?o.jsx("video",{src:T.url,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"w-full h-full object-contain"}):o.jsxs("div",{className:"w-full h-full relative",children:[o.jsx("img",{src:T.previewUrl||T.url,alt:T.caption,className:"w-full h-full object-contain animate-ken-burns",draggable:!1}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/20 animate-ken-burns-overlay"})]})}),o.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/70 to-transparent p-8 transition-all duration-300 ${b?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-6",children:[T.privacy==="private"&&o.jsxs("div",{className:"flex items-center justify-center gap-2 text-amber-400 mb-2 text-sm font-bold uppercase tracking-wider",children:[o.jsx("span",{children:""})," ",i("private")]}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-2 drop-shadow-lg",children:T.caption||i("untitled")}),o.jsxs("p",{className:"text-white/70 text-lg",children:[i("by")," ",T.uploaderName,"  ",new Date(T.uploadedAt).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center justify-center gap-6",children:[o.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[o.jsx(zh,{size:20,className:T.likes?"fill-red-500 text-red-500":""}),o.jsx("span",{className:"font-bold",children:T.likes||0})]}),T.comments&&T.comments.length>0&&o.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[o.jsx(jv,{size:20}),o.jsx("span",{className:"font-bold",children:T.comments.length})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:I=>{I.stopPropagation(),z(T)},className:"p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:o.jsx(zh,{size:20,className:T.likes?"fill-red-500 text-red-500":""})}),o.jsx("button",{onClick:I=>{I.stopPropagation(),A(T)},className:"p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:o.jsx(Zs,{size:20})})]})]})]})}),o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-white/20",children:o.jsx("div",{className:"h-full bg-white transition-all duration-4000 linear",style:{width:u&&!f?"100%":"0%",transition:u&&!f?"width 4s linear":"none"}},l)}),o.jsxs("div",{className:`absolute top-0 left-0 right-0 p-6 flex justify-between items-center transition-all duration-300 ${b?"translate-y-0 opacity-100":"-translate-y-full opacity-0"}`,children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:I=>{I.stopPropagation(),a()},className:"p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:o.jsx($t,{size:24})}),o.jsxs("div",{className:"text-white/80 font-medium",children:[l+1," / ",s.length]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:I=>{I.stopPropagation(),x(!0)},className:"p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:o.jsx(yv,{size:20})}),o.jsx("button",{onClick:I=>{I.stopPropagation(),W()},className:"p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:o.jsx(yp,{size:20})}),o.jsx("button",{onClick:I=>{I.stopPropagation(),m(!u)},className:"p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:u?o.jsx(Tv,{size:20}):o.jsx(Al,{size:20})})]})]}),o.jsx("button",{onClick:I=>{I.stopPropagation(),D("prev")},className:"absolute left-6 p-4 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors opacity-0 hover:opacity-100",children:""}),o.jsx("button",{onClick:I=>{I.stopPropagation(),D("next")},className:"absolute right-6 p-4 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors opacity-0 hover:opacity-100",children:""})]}),p&&o.jsx("div",{className:"absolute inset-0 bg-black/90 flex items-center justify-center z-10",children:o.jsxs("div",{className:"bg-white p-8 rounded-3xl text-center max-w-sm mx-4",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:i("shareLiveWall")}),o.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-slate-100 inline-block mb-4",children:o.jsx(xp,{value:`${window.location.origin}?event=${e.id}`,size:200,fgColor:N})}),o.jsx("p",{className:"text-slate-600 text-sm mb-4",children:i("scanToView")}),o.jsx("button",{onClick:I=>{I.stopPropagation(),x(!1)},className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition-colors",children:i("close")})]})}),o.jsx("style",{children:`
        @keyframes ken-burns {
          0% {
            transform: scale(1) translate(0, 0);
          }
          100% {
            transform: scale(1.1) translate(-1%, -1%);
          }
        }
        
        @keyframes ken-burns-overlay {
          0% {
            opacity: 0;
          }
          50% {
            opacity: 0.3;
          }
          100% {
            opacity: 0;
          }
        }
        
        .animate-ken-burns {
          animation: ken-burns 8s ease-in-out infinite alternate;
        }
        
        .animate-ken-burns-overlay {
          animation: ken-burns-overlay 8s ease-in-out infinite;
        }
      `})]}):o.jsx("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-white text-center",children:[o.jsx(Qi,{size:64,className:"mx-auto mb-4 opacity-50"}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:i("noPhotos")}),o.jsx("p",{className:"text-white/60",children:i("beFirst")}),o.jsx("button",{onClick:a,className:"mt-6 px-6 py-3 bg-white/20 rounded-xl hover:bg-white/30 transition-colors",children:i("close")})]})})},Qy=({t:e})=>null,Pz=({t:e})=>{const[t,n]=H.useState(navigator.onLine);return H.useEffect(()=>{const a=()=>n(!0),i=()=>n(!1);return window.addEventListener("online",a),window.addEventListener("offline",i),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",i)}},[]),t?null:o.jsxs("div",{className:"bg-red-500 text-white px-4 py-2 text-center text-xs font-bold flex items-center justify-center gap-2 sticky top-0 z-[60] shadow-md animate-in slide-in-from-top-full",children:[o.jsx(qN,{size:14}),o.jsx("span",{children:e("offlineMode")})]})},Hz=({onShareReceive:e})=>(H.useEffect(()=>{const t=new URLSearchParams(window.location.search),n=t.get("title"),a=t.get("text"),i=t.get("url");if(n||a||i){const s=[n,a,i].filter(Boolean).join(`
`);if(s){e(s);const r=window.location.pathname;window.history.replaceState({},"",r)}}},[e]),null),Fz=()=>{const[e]=H.useState(()=>!1),[t,n]=H.useState(!1),{offlineReady:[a,i],needRefresh:[s,r],updateServiceWorker:l}=sN({onRegistered(m){m&&setInterval(()=>{document.hidden||m.update()},e?3e4:3e5)},onRegisterError(m){console.warn("Service Worker registration error:",m)}}),c=()=>{i(!1),r(!1)},u=async()=>{n(!0);try{"serviceWorker"in navigator&&await(await navigator.serviceWorker.ready).update(),setTimeout(()=>n(!1),1e3)}catch(m){console.error("Failed to check for updates:",m),n(!1)}};return H.useEffect(()=>{if(!e)return;const m=d=>{(d.ctrlKey||d.metaKey)&&d.shiftKey&&d.key==="R"&&(d.preventDefault(),u())};return window.forceAppUpdate=u,window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[e]),!e&&!a&&!s?null:o.jsxs("div",{className:"fixed bottom-6 right-6 z-[100] bg-slate-900 text-white p-4 rounded-xl shadow-2xl border border-slate-700 flex flex-col gap-3 max-w-sm animate-in slide-in-from-bottom-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-sm",children:a?"App ready to work offline":s?"New content available, click on reload button to update.":"Development Mode"}),!s&&!a&&o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Auto-checks for updates every 5 seconds",e?"  Ctrl+Shift+R or use forceAppUpdate() in console":""]})]}),!e&&o.jsx("button",{onClick:c,className:"text-slate-400 hover:text-white",children:o.jsx($t,{size:16})})]}),o.jsxs("div",{className:"flex gap-2",children:[s&&o.jsxs("button",{onClick:()=>l(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors flex-1",children:[o.jsx(Av,{size:16})," Reload & Update"]}),e&&o.jsxs("button",{onClick:u,disabled:t,className:"bg-green-600 hover:bg-green-700 disabled:bg-green-800 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors flex-1",children:[o.jsx(hu,{size:16,className:t?"animate-spin":""}),t?"Checking...":"Check Updates"]})]})]})};var Gz={};const qz=({isOpen:e,onClose:t,currentUser:n,t:a})=>{const[i,s]=H.useState([]),[r,l]=H.useState(""),[c,u]=H.useState(!1),[m,d]=H.useState(!1),h=H.useRef(null),f=H.useRef(null),g=()=>{var E;(E=h.current)==null||E.scrollIntoView({behavior:"smooth"})};H.useEffect(()=>{var E;e&&(b(),(E=f.current)==null||E.focus(),n&&"serviceWorker"in navigator&&"PushManager"in window&&x())},[e,n]),H.useEffect(()=>{g()},[i]),H.useEffect(()=>{const E=j=>{((n==null?void 0:n.role)==="ADMIN"||j.userId===(n==null?void 0:n.id)||!n&&!j.userId)&&s(N=>N.some(D=>D.id===j.id)?N:[...N,j])};return Ze.on("new_support_message",E),()=>{Ze.off("new_support_message",E)}},[n]);const b=async()=>{if(n){u(!0);try{const j=await(await fetch("/api/support/messages",{headers:{Authorization:`Bearer ${localStorage.getItem("snapify_token")}`}})).json();s(j)}catch(E){console.error("Failed to load support messages:",E)}finally{u(!1)}}},y=async()=>{if(!(!r.trim()||m)){d(!0);try{const E=await fetch("/api/support/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:n?`Bearer ${localStorage.getItem("snapify_token")}`:void 0},body:JSON.stringify({message:r.trim()})});E.ok?l(""):console.error("Failed to send message:",E.statusText)}catch(E){console.error("Failed to send message:",E)}finally{d(!1)}}},p=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),y())},x=async()=>{try{const j=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_(Gz.VITE_VAPID_PUBLIC_KEY||"")});await fetch("/api/push/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("snapify_token")}`},body:JSON.stringify({subscription:j})})}catch(E){console.warn("Push notification subscription failed:",E)}},_=E=>{const j="=".repeat((4-E.length%4)%4),N=(E+j).replace(/-/g,"+").replace(/_/g,"/"),D=window.atob(N),z=new Uint8Array(D.length);for(let A=0;A<D.length;++A)z[A]=D.charCodeAt(A);return z},w=E=>new Date(E).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e?o.jsx("div",{className:"fixed inset-0 z-[100] flex items-end justify-center p-4 pointer-events-none",children:o.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl border border-slate-200 pointer-events-auto max-h-[80vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-indigo-100 p-2 rounded-full",children:o.jsx(Vi,{className:"w-5 h-5 text-indigo-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-slate-900",children:"Support Chat"}),o.jsx("p",{className:"text-xs text-slate-500",children:(n==null?void 0:n.role)==="ADMIN"?"Administrator":"Get help from our team"})]})]}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 p-1",children:o.jsx($t,{size:20})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[c?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"})}):i.length===0?o.jsxs("div",{className:"text-center py-8 text-slate-500",children:[o.jsx(Vi,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),o.jsx("p",{className:"text-sm",children:"No messages yet. How can we help you?"})]}):i.map(E=>o.jsx("div",{className:`flex ${E.isFromAdmin?"justify-start":"justify-end"}`,children:o.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${E.isFromAdmin?"bg-slate-100 text-slate-900":"bg-indigo-600 text-white"}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.isFromAdmin?o.jsx(Sv,{size:14,className:"text-slate-600"}):o.jsx(wv,{size:14,className:"opacity-80"}),o.jsx("span",{className:"text-xs font-medium opacity-75",children:E.userName}),o.jsx("span",{className:"text-xs opacity-60",children:w(E.createdAt)})]}),o.jsx("p",{className:"text-sm leading-relaxed",children:E.message})]})},E.id)),o.jsx("div",{ref:h})]}),o.jsxs("div",{className:"p-4 border-t border-slate-200",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{ref:f,type:"text",value:r,onChange:E=>l(E.target.value),onKeyPress:p,placeholder:"Type your message...",className:"flex-1 px-4 py-2 border border-slate-300 rounded-full focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",disabled:m}),o.jsx("button",{onClick:y,disabled:!r.trim()||m,className:"bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 text-white p-2 rounded-full transition-colors disabled:cursor-not-allowed",children:o.jsx(jl,{size:18})})]}),o.jsxs("p",{className:"text-xs text-slate-500 mt-2 text-center",children:[n?"":"Continue as guest  ","Messages are responded to during business hours"]})]})]})}):null},Yz=()=>{localStorage.removeItem("snapify_device_fingerprint")};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */var Th,Jy;function ev(){if(Jy)return Th;Jy=1;const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:a,getOwnPropertyDescriptor:i}=Object;let{freeze:s,seal:r,create:l}=Object,{apply:c,construct:u}=typeof Reflect<"u"&&Reflect;s||(s=function(Y){return Y}),r||(r=function(Y){return Y}),c||(c=function(Y,ee){for(var $=arguments.length,fe=new Array($>2?$-2:0),Ee=2;Ee<$;Ee++)fe[Ee-2]=arguments[Ee];return Y.apply(ee,fe)}),u||(u=function(Y){for(var ee=arguments.length,$=new Array(ee>1?ee-1:0),fe=1;fe<ee;fe++)$[fe-1]=arguments[fe];return new Y(...$)});const m=D(Array.prototype.forEach),d=D(Array.prototype.lastIndexOf),h=D(Array.prototype.pop),f=D(Array.prototype.push),g=D(Array.prototype.splice),b=D(String.prototype.toLowerCase),y=D(String.prototype.toString),p=D(String.prototype.match),x=D(String.prototype.replace),_=D(String.prototype.indexOf),w=D(String.prototype.trim),E=D(Object.prototype.hasOwnProperty),j=D(RegExp.prototype.test),N=z(TypeError);function D(M){return function(Y){Y instanceof RegExp&&(Y.lastIndex=0);for(var ee=arguments.length,$=new Array(ee>1?ee-1:0),fe=1;fe<ee;fe++)$[fe-1]=arguments[fe];return c(M,Y,$)}}function z(M){return function(){for(var Y=arguments.length,ee=new Array(Y),$=0;$<Y;$++)ee[$]=arguments[$];return u(M,ee)}}function A(M,Y){let ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b;t&&t(M,null);let $=Y.length;for(;$--;){let fe=Y[$];if(typeof fe=="string"){const Ee=ee(fe);Ee!==fe&&(n(Y)||(Y[$]=Ee),fe=Ee)}M[fe]=!0}return M}function W(M){for(let Y=0;Y<M.length;Y++)E(M,Y)||(M[Y]=null);return M}function T(M){const Y=l(null);for(const[ee,$]of e(M))E(M,ee)&&(Array.isArray($)?Y[ee]=W($):$&&typeof $=="object"&&$.constructor===Object?Y[ee]=T($):Y[ee]=$);return Y}function I(M,Y){for(;M!==null;){const $=i(M,Y);if($){if($.get)return D($.get);if(typeof $.value=="function")return D($.value)}M=a(M)}function ee(){return null}return ee}const S=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),R=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),q=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),V=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),K=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Z=s(["#text"]),O=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),L=s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ce=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),oe=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),re=r(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Le=r(/<%[\w\W]*|[\w\W]*%>/gm),Pe=r(/\$\{[\w\W]*/gm),we=r(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ne=r(/^aria-[\-\w]+$/),Oe=r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ue=r(/^(?:\w+script|data):/i),Tt=r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wt=r(/^html$/i),v=r(/^[a-z][.\w]*(-[.\w]+)+$/i);var Q=Object.freeze({__proto__:null,ARIA_ATTR:Ne,ATTR_WHITESPACE:Tt,CUSTOM_ELEMENT:v,DATA_ATTR:we,DOCTYPE_NAME:wt,ERB_EXPR:Le,IS_ALLOWED_URI:Oe,IS_SCRIPT_OR_DATA:Ue,MUSTACHE_EXPR:re,TMPLIT_EXPR:Pe});const G={element:1,text:3,progressingInstruction:7,comment:8,document:9},C=function(){return typeof window>"u"?null:window},k=function(Y,ee){if(typeof Y!="object"||typeof Y.createPolicy!="function")return null;let $=null;const fe="data-tt-policy-suffix";ee&&ee.hasAttribute(fe)&&($=ee.getAttribute(fe));const Ee="dompurify"+($?"#"+$:"");try{return Y.createPolicy(Ee,{createHTML(ke){return ke},createScriptURL(ke){return ke}})}catch{return console.warn("TrustedTypes policy "+Ee+" could not be created."),null}},P=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function X(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C();const Y=_e=>X(_e);if(Y.version="3.3.0",Y.removed=[],!M||!M.document||M.document.nodeType!==G.document||!M.Element)return Y.isSupported=!1,Y;let{document:ee}=M;const $=ee,fe=$.currentScript,{DocumentFragment:Ee,HTMLTemplateElement:ke,Node:jt,Element:wn,NodeFilter:et,NamedNodeMap:an=M.NamedNodeMap||M.MozNamedAttrMap,HTMLFormElement:Me,DOMParser:En,trustedTypes:hn}=M,At=wn.prototype,Ln=I(At,"cloneNode"),Qn=I(At,"remove"),ka=I(At,"nextSibling"),Fa=I(At,"childNodes"),ne=I(At,"parentNode");if(typeof ke=="function"){const _e=ee.createElement("template");_e.content&&_e.content.ownerDocument&&(ee=_e.content.ownerDocument)}let ae,ue="";const{implementation:be,createNodeIterator:He,createDocumentFragment:xt,getElementsByTagName:ye}=ee,{importNode:Ie}=$;let U=P();Y.isSupported=typeof e=="function"&&typeof ne=="function"&&be&&be.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:le,ERB_EXPR:pe,TMPLIT_EXPR:Ve,DATA_ATTR:yt,ARIA_ATTR:sn,IS_SCRIPT_OR_DATA:qt,ATTR_WHITESPACE:Ni,CUSTOM_ELEMENT:ki}=Q;let{IS_ALLOWED_URI:Ti}=Q,mt=null;const pr=A({},[...S,...R,...F,...V,...Z]);let Se=null;const Et=A({},[...O,...L,...ce,...oe]);let Fe=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ie=null,ge=null;const he=Object.seal(l(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Xt=!0,It=!0,jc=!1,Ko=!0,ji=!1,Ga=!0,Ta=!1,Ac=!1,Cc=!1,Ai=!1,Wo=!1,Rc=!1,h0=!0,m0=!1;const oN="user-content-";let mf=!0,Xo=!1,gr={},br=null;const p0=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let g0=null;const b0=A({},["audio","video","img","source","image","track"]);let pf=null;const x0=A({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Dc="http://www.w3.org/1998/Math/MathML",Mc="http://www.w3.org/2000/svg",qa="http://www.w3.org/1999/xhtml";let xr=qa,gf=!1,bf=null;const lN=A({},[Dc,Mc,qa],y);let Oc=A({},["mi","mo","mn","ms","mtext"]),Ic=A({},["annotation-xml"]);const cN=A({},["title","style","font","a","script"]);let Zo=null;const uN=["application/xhtml+xml","text/html"],dN="text/html";let Zt=null,yr=null;const fN=ee.createElement("form"),y0=function(B){return B instanceof RegExp||B instanceof Function},xf=function(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(yr&&yr===B)){if((!B||typeof B!="object")&&(B={}),B=T(B),Zo=uN.indexOf(B.PARSER_MEDIA_TYPE)===-1?dN:B.PARSER_MEDIA_TYPE,Zt=Zo==="application/xhtml+xml"?y:b,mt=E(B,"ALLOWED_TAGS")?A({},B.ALLOWED_TAGS,Zt):pr,Se=E(B,"ALLOWED_ATTR")?A({},B.ALLOWED_ATTR,Zt):Et,bf=E(B,"ALLOWED_NAMESPACES")?A({},B.ALLOWED_NAMESPACES,y):lN,pf=E(B,"ADD_URI_SAFE_ATTR")?A(T(x0),B.ADD_URI_SAFE_ATTR,Zt):x0,g0=E(B,"ADD_DATA_URI_TAGS")?A(T(b0),B.ADD_DATA_URI_TAGS,Zt):b0,br=E(B,"FORBID_CONTENTS")?A({},B.FORBID_CONTENTS,Zt):p0,ie=E(B,"FORBID_TAGS")?A({},B.FORBID_TAGS,Zt):T({}),ge=E(B,"FORBID_ATTR")?A({},B.FORBID_ATTR,Zt):T({}),gr=E(B,"USE_PROFILES")?B.USE_PROFILES:!1,Xt=B.ALLOW_ARIA_ATTR!==!1,It=B.ALLOW_DATA_ATTR!==!1,jc=B.ALLOW_UNKNOWN_PROTOCOLS||!1,Ko=B.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ji=B.SAFE_FOR_TEMPLATES||!1,Ga=B.SAFE_FOR_XML!==!1,Ta=B.WHOLE_DOCUMENT||!1,Ai=B.RETURN_DOM||!1,Wo=B.RETURN_DOM_FRAGMENT||!1,Rc=B.RETURN_TRUSTED_TYPE||!1,Cc=B.FORCE_BODY||!1,h0=B.SANITIZE_DOM!==!1,m0=B.SANITIZE_NAMED_PROPS||!1,mf=B.KEEP_CONTENT!==!1,Xo=B.IN_PLACE||!1,Ti=B.ALLOWED_URI_REGEXP||Oe,xr=B.NAMESPACE||qa,Oc=B.MATHML_TEXT_INTEGRATION_POINTS||Oc,Ic=B.HTML_INTEGRATION_POINTS||Ic,Fe=B.CUSTOM_ELEMENT_HANDLING||{},B.CUSTOM_ELEMENT_HANDLING&&y0(B.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Fe.tagNameCheck=B.CUSTOM_ELEMENT_HANDLING.tagNameCheck),B.CUSTOM_ELEMENT_HANDLING&&y0(B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Fe.attributeNameCheck=B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),B.CUSTOM_ELEMENT_HANDLING&&typeof B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Fe.allowCustomizedBuiltInElements=B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ji&&(It=!1),Wo&&(Ai=!0),gr&&(mt=A({},Z),Se=[],gr.html===!0&&(A(mt,S),A(Se,O)),gr.svg===!0&&(A(mt,R),A(Se,L),A(Se,oe)),gr.svgFilters===!0&&(A(mt,F),A(Se,L),A(Se,oe)),gr.mathMl===!0&&(A(mt,V),A(Se,ce),A(Se,oe))),B.ADD_TAGS&&(typeof B.ADD_TAGS=="function"?he.tagCheck=B.ADD_TAGS:(mt===pr&&(mt=T(mt)),A(mt,B.ADD_TAGS,Zt))),B.ADD_ATTR&&(typeof B.ADD_ATTR=="function"?he.attributeCheck=B.ADD_ATTR:(Se===Et&&(Se=T(Se)),A(Se,B.ADD_ATTR,Zt))),B.ADD_URI_SAFE_ATTR&&A(pf,B.ADD_URI_SAFE_ATTR,Zt),B.FORBID_CONTENTS&&(br===p0&&(br=T(br)),A(br,B.FORBID_CONTENTS,Zt)),mf&&(mt["#text"]=!0),Ta&&A(mt,["html","head","body"]),mt.table&&(A(mt,["tbody"]),delete ie.tbody),B.TRUSTED_TYPES_POLICY){if(typeof B.TRUSTED_TYPES_POLICY.createHTML!="function")throw N('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof B.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw N('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ae=B.TRUSTED_TYPES_POLICY,ue=ae.createHTML("")}else ae===void 0&&(ae=k(hn,fe)),ae!==null&&typeof ue=="string"&&(ue=ae.createHTML(""));s&&s(B),yr=B}},v0=A({},[...R,...F,...q]),S0=A({},[...V,...K]),hN=function(B){let de=ne(B);(!de||!de.tagName)&&(de={namespaceURI:xr,tagName:"template"});const xe=b(B.tagName),Nt=b(de.tagName);return bf[B.namespaceURI]?B.namespaceURI===Mc?de.namespaceURI===qa?xe==="svg":de.namespaceURI===Dc?xe==="svg"&&(Nt==="annotation-xml"||Oc[Nt]):!!v0[xe]:B.namespaceURI===Dc?de.namespaceURI===qa?xe==="math":de.namespaceURI===Mc?xe==="math"&&Ic[Nt]:!!S0[xe]:B.namespaceURI===qa?de.namespaceURI===Mc&&!Ic[Nt]||de.namespaceURI===Dc&&!Oc[Nt]?!1:!S0[xe]&&(cN[xe]||!v0[xe]):!!(Zo==="application/xhtml+xml"&&bf[B.namespaceURI]):!1},ja=function(B){f(Y.removed,{element:B});try{ne(B).removeChild(B)}catch{Qn(B)}},ws=function(B,de){try{f(Y.removed,{attribute:de.getAttributeNode(B),from:de})}catch{f(Y.removed,{attribute:null,from:de})}if(de.removeAttribute(B),B==="is")if(Ai||Wo)try{ja(de)}catch{}else try{de.setAttribute(B,"")}catch{}},_0=function(B){let de=null,xe=null;if(Cc)B="<remove></remove>"+B;else{const Ut=p(B,/^[\r\n\t ]+/);xe=Ut&&Ut[0]}Zo==="application/xhtml+xml"&&xr===qa&&(B='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+B+"</body></html>");const Nt=ae?ae.createHTML(B):B;if(xr===qa)try{de=new En().parseFromString(Nt,Zo)}catch{}if(!de||!de.documentElement){de=be.createDocument(xr,"template",null);try{de.documentElement.innerHTML=gf?ue:Nt}catch{}}const mn=de.body||de.documentElement;return B&&xe&&mn.insertBefore(ee.createTextNode(xe),mn.childNodes[0]||null),xr===qa?ye.call(de,Ta?"html":"body")[0]:Ta?de.documentElement:mn},w0=function(B){return He.call(B.ownerDocument||B,B,et.SHOW_ELEMENT|et.SHOW_COMMENT|et.SHOW_TEXT|et.SHOW_PROCESSING_INSTRUCTION|et.SHOW_CDATA_SECTION,null)},yf=function(B){return B instanceof Me&&(typeof B.nodeName!="string"||typeof B.textContent!="string"||typeof B.removeChild!="function"||!(B.attributes instanceof an)||typeof B.removeAttribute!="function"||typeof B.setAttribute!="function"||typeof B.namespaceURI!="string"||typeof B.insertBefore!="function"||typeof B.hasChildNodes!="function")},E0=function(B){return typeof jt=="function"&&B instanceof jt};function Ya(_e,B,de){m(_e,xe=>{xe.call(Y,B,de,yr)})}const N0=function(B){let de=null;if(Ya(U.beforeSanitizeElements,B,null),yf(B))return ja(B),!0;const xe=Zt(B.nodeName);if(Ya(U.uponSanitizeElement,B,{tagName:xe,allowedTags:mt}),Ga&&B.hasChildNodes()&&!E0(B.firstElementChild)&&j(/<[/\w!]/g,B.innerHTML)&&j(/<[/\w!]/g,B.textContent)||B.nodeType===G.progressingInstruction||Ga&&B.nodeType===G.comment&&j(/<[/\w]/g,B.data))return ja(B),!0;if(!(he.tagCheck instanceof Function&&he.tagCheck(xe))&&(!mt[xe]||ie[xe])){if(!ie[xe]&&T0(xe)&&(Fe.tagNameCheck instanceof RegExp&&j(Fe.tagNameCheck,xe)||Fe.tagNameCheck instanceof Function&&Fe.tagNameCheck(xe)))return!1;if(mf&&!br[xe]){const Nt=ne(B)||B.parentNode,mn=Fa(B)||B.childNodes;if(mn&&Nt){const Ut=mn.length;for(let Nn=Ut-1;Nn>=0;--Nn){const Va=Ln(mn[Nn],!0);Va.__removalCount=(B.__removalCount||0)+1,Nt.insertBefore(Va,ka(B))}}}return ja(B),!0}return B instanceof wn&&!hN(B)||(xe==="noscript"||xe==="noembed"||xe==="noframes")&&j(/<\/no(script|embed|frames)/i,B.innerHTML)?(ja(B),!0):(ji&&B.nodeType===G.text&&(de=B.textContent,m([le,pe,Ve],Nt=>{de=x(de,Nt," ")}),B.textContent!==de&&(f(Y.removed,{element:B.cloneNode()}),B.textContent=de)),Ya(U.afterSanitizeElements,B,null),!1)},k0=function(B,de,xe){if(h0&&(de==="id"||de==="name")&&(xe in ee||xe in fN))return!1;if(!(It&&!ge[de]&&j(yt,de))){if(!(Xt&&j(sn,de))){if(!(he.attributeCheck instanceof Function&&he.attributeCheck(de,B))){if(!Se[de]||ge[de]){if(!(T0(B)&&(Fe.tagNameCheck instanceof RegExp&&j(Fe.tagNameCheck,B)||Fe.tagNameCheck instanceof Function&&Fe.tagNameCheck(B))&&(Fe.attributeNameCheck instanceof RegExp&&j(Fe.attributeNameCheck,de)||Fe.attributeNameCheck instanceof Function&&Fe.attributeNameCheck(de,B))||de==="is"&&Fe.allowCustomizedBuiltInElements&&(Fe.tagNameCheck instanceof RegExp&&j(Fe.tagNameCheck,xe)||Fe.tagNameCheck instanceof Function&&Fe.tagNameCheck(xe))))return!1}else if(!pf[de]){if(!j(Ti,x(xe,Ni,""))){if(!((de==="src"||de==="xlink:href"||de==="href")&&B!=="script"&&_(xe,"data:")===0&&g0[B])){if(!(jc&&!j(qt,x(xe,Ni,"")))){if(xe)return!1}}}}}}}return!0},T0=function(B){return B!=="annotation-xml"&&p(B,ki)},j0=function(B){Ya(U.beforeSanitizeAttributes,B,null);const{attributes:de}=B;if(!de||yf(B))return;const xe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se,forceKeepAttr:void 0};let Nt=de.length;for(;Nt--;){const mn=de[Nt],{name:Ut,namespaceURI:Nn,value:Va}=mn,vr=Zt(Ut),vf=Va;let rn=Ut==="value"?vf:w(vf);if(xe.attrName=vr,xe.attrValue=rn,xe.keepAttr=!0,xe.forceKeepAttr=void 0,Ya(U.uponSanitizeAttribute,B,xe),rn=xe.attrValue,m0&&(vr==="id"||vr==="name")&&(ws(Ut,B),rn=oN+rn),Ga&&j(/((--!?|])>)|<\/(style|title|textarea)/i,rn)){ws(Ut,B);continue}if(vr==="attributename"&&p(rn,"href")){ws(Ut,B);continue}if(xe.forceKeepAttr)continue;if(!xe.keepAttr){ws(Ut,B);continue}if(!Ko&&j(/\/>/i,rn)){ws(Ut,B);continue}ji&&m([le,pe,Ve],C0=>{rn=x(rn,C0," ")});const A0=Zt(B.nodeName);if(!k0(A0,vr,rn)){ws(Ut,B);continue}if(ae&&typeof hn=="object"&&typeof hn.getAttributeType=="function"&&!Nn)switch(hn.getAttributeType(A0,vr)){case"TrustedHTML":{rn=ae.createHTML(rn);break}case"TrustedScriptURL":{rn=ae.createScriptURL(rn);break}}if(rn!==vf)try{Nn?B.setAttributeNS(Nn,Ut,rn):B.setAttribute(Ut,rn),yf(B)?ja(B):h(Y.removed)}catch{ws(Ut,B)}}Ya(U.afterSanitizeAttributes,B,null)},mN=function _e(B){let de=null;const xe=w0(B);for(Ya(U.beforeSanitizeShadowDOM,B,null);de=xe.nextNode();)Ya(U.uponSanitizeShadowNode,de,null),N0(de),j0(de),de.content instanceof Ee&&_e(de.content);Ya(U.afterSanitizeShadowDOM,B,null)};return Y.sanitize=function(_e){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=null,xe=null,Nt=null,mn=null;if(gf=!_e,gf&&(_e="<!-->"),typeof _e!="string"&&!E0(_e))if(typeof _e.toString=="function"){if(_e=_e.toString(),typeof _e!="string")throw N("dirty is not a string, aborting")}else throw N("toString is not a function");if(!Y.isSupported)return _e;if(Ac||xf(B),Y.removed=[],typeof _e=="string"&&(Xo=!1),Xo){if(_e.nodeName){const Va=Zt(_e.nodeName);if(!mt[Va]||ie[Va])throw N("root node is forbidden and cannot be sanitized in-place")}}else if(_e instanceof jt)de=_0("<!---->"),xe=de.ownerDocument.importNode(_e,!0),xe.nodeType===G.element&&xe.nodeName==="BODY"||xe.nodeName==="HTML"?de=xe:de.appendChild(xe);else{if(!Ai&&!ji&&!Ta&&_e.indexOf("<")===-1)return ae&&Rc?ae.createHTML(_e):_e;if(de=_0(_e),!de)return Ai?null:Rc?ue:""}de&&Cc&&ja(de.firstChild);const Ut=w0(Xo?_e:de);for(;Nt=Ut.nextNode();)N0(Nt),j0(Nt),Nt.content instanceof Ee&&mN(Nt.content);if(Xo)return _e;if(Ai){if(Wo)for(mn=xt.call(de.ownerDocument);de.firstChild;)mn.appendChild(de.firstChild);else mn=de;return(Se.shadowroot||Se.shadowrootmode)&&(mn=Ie.call($,mn,!0)),mn}let Nn=Ta?de.outerHTML:de.innerHTML;return Ta&&mt["!doctype"]&&de.ownerDocument&&de.ownerDocument.doctype&&de.ownerDocument.doctype.name&&j(wt,de.ownerDocument.doctype.name)&&(Nn="<!DOCTYPE "+de.ownerDocument.doctype.name+`>
`+Nn),ji&&m([le,pe,Ve],Va=>{Nn=x(Nn,Va," ")}),ae&&Rc?ae.createHTML(Nn):Nn},Y.setConfig=function(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xf(_e),Ac=!0},Y.clearConfig=function(){yr=null,Ac=!1},Y.isValidAttribute=function(_e,B,de){yr||xf({});const xe=Zt(_e),Nt=Zt(B);return k0(xe,Nt,de)},Y.addHook=function(_e,B){typeof B=="function"&&f(U[_e],B)},Y.removeHook=function(_e,B){if(B!==void 0){const de=d(U[_e],B);return de===-1?void 0:g(U[_e],de,1)[0]}return h(U[_e])},Y.removeHooks=function(_e){U[_e]=[]},Y.removeAllHooks=function(){U=P()},Y}var J=X();return Th=J,Th}var Vz=self.DOMPurify||(self.DOMPurify=ev().default||ev());const $z=mp(Vz),Kz=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)&&e.length<=254,tv=e=>e.length>=2&&e.length<=50&&/^[a-zA-Z\s\-']+$/.test(e),Wz=e=>e.length>=8&&e.length<=128,Xz=e=>e.length>=1&&e.length<=100,Zz=e=>e.length<=500,jh=e=>typeof e!="string"?"":$z.sanitize(e.trim(),{ALLOWED_TAGS:[]}),nv=async(e={})=>{const{clearLocalStorage:t=!1,clearSessionStorage:n=!1,clearServiceWorker:a=!0,reloadData:i=!1}=e;if(t&&localStorage.clear(),n&&sessionStorage.clear(),a&&"serviceWorker"in navigator&&"caches"in window)try{const s=await navigator.serviceWorker.getRegistrations();for(const l of s)await l.unregister();const r=await caches.keys();await Promise.all(r.map(l=>caches.delete(l)))}catch{}i&&window.location.reload()},Qz={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"admin@skytech.mk",VITE_ADMIN_PASSWORD:"Nanaipi123@",VITE_API_URL:"https://snapify.skytech.mk",VITE_GEMINI_API_KEY:"AIzaSyA0TYo3zhiQNyoDN-LgyuIR5IX7KR_OXww",VITE_GOOGLE_CLIENT_ID:"223882036926-6dibdklep37f9853o2p0ema52vloh6tq.apps.googleusercontent.com",VITE_MINIO_CONTAINER_SIZE_MB:"21504",VITE_OLLAMA_MODEL:"phi4:latest",VITE_OLLAMA_URL:"http://192.168.20.30:11434"},Ah=Qz||{},Ch="",Jz=(e,t)=>{try{localStorage.setItem(e,t)}catch(n){console.warn("Failed to save to localStorage:",n)}},e4=e=>{try{return localStorage.getItem(e)||""}catch{return""}},t4=e=>{try{localStorage.removeItem(e)}catch{}};function n4(){const[e,t]=H.useState("landing"),[n,a]=H.useState(null),[i,s]=H.useState([]),[r,l]=H.useState(null),[c,u]=H.useState([]),[m,d]=H.useState(!1),[h,f]=H.useState("en"),[g,b]=H.useState(""),[y,p]=H.useState(()=>e4("snapify_guest_name")||""),[x,_]=H.useState(!1),[w,E]=H.useState(null),[j,N]=H.useState("upload"),[D,z]=H.useState(!1),[A,W]=H.useState(!1),[T,I]=H.useState(void 0),[S,R]=H.useState(!1),[F,q]=H.useState(!1),[V,K]=H.useState(!1),[Z,O]=H.useState(null),[L,ce]=H.useState(!1),[oe,re]=H.useState(0),[Le,Pe]=H.useState([]),[we,Ne]=H.useState(!1),Oe=H.useRef(null),Ue=H.useRef(null);H.useEffect(()=>{n&&localStorage.setItem("snapify_user_obj",JSON.stringify(n))},[n]),H.useEffect(()=>{const ne=()=>{if(!document.hidden){const ye=localStorage.getItem("snapify_token");Ze.connect(ye||void 0)}};if(!document.hidden){const ye=localStorage.getItem("snapify_token");Ze.connect(ye||void 0)}document.addEventListener("visibilitychange",ne);let ae=0;const ue=async()=>{const ye=Date.now();if(ye-ae<3e4){console.log("Ignoring rapid reload request");return}if(ae=ye,"serviceWorker"in navigator){const Ie=await navigator.serviceWorker.getRegistrations();for(const U of Ie)await U.unregister()}"caches"in window&&(await caches.keys()).forEach(U=>caches.delete(U)),window.location.reload()};Ze.on("force_client_reload",ue);const be=ye=>{Pe(Ie=>Ie.find(le=>le.adminId===ye.adminId)?Ie.map(le=>le.adminId===ye.adminId?ye:le):[...Ie,ye])};Ze.on("admin_status_update",be);const He=async ye=>{console.log("Cache invalidation received:",ye),ye.type==="full_reset"?(await nv({clearLocalStorage:!0,clearServiceWorker:!0}),s([]),l(null),a(null),u([]),p(""),Tt()):ye.type==="force_refresh"&&(await nv({clearServiceWorker:!0}),console.log("Admin triggered data refresh"),Tt())};return Ze.on("cache_invalidate",He),(async()=>{try{const Ie=await(await fetch(`${Ch}/api/admin/status`)).json();Pe(Ie.admins||[])}catch(ye){console.warn("Failed to load admin status:",ye)}})(),()=>{document.removeEventListener("visibilitychange",ne),Ze.off("force_client_reload",ue),Ze.off("admin_status_update",be),Ze.off("cache_invalidate",He)}},[]),H.useEffect(()=>{if(n!=null&&n.id){const ne=ae=>{ae.id===n.id&&a(ue=>ue?{...ue,...ae}:null),u(ue=>ue.map(be=>be.id===ae.id?{...be,...ae}:be))};return Ze.on("user_updated",ne),()=>{Ze.off("user_updated",ne)}}},[n==null?void 0:n.id]);const Tt=async()=>{try{const ne=localStorage.getItem("snapify_token"),ae=localStorage.getItem("snapify_user_id");let ue=null,be=!1;if(ne&&ae)try{const ye=localStorage.getItem("snapify_user_obj");if(ye&&(ue=JSON.parse(ye),a(ue),be=!0),be){const Ie=await at.fetchEvents();if(s(Ie),(ue==null?void 0:ue.role)===it.ADMIN){const U=await at.fetchUsers();u(U)}}}catch(ye){console.warn("Auth validation failed, logging out:",ye),Qn(),ue=null,be=!1}const xt=new URLSearchParams(window.location.search).get("event");if(xt)try{const ye=await at.fetchEventById(xt);if(ye){s(Ie=>Ie.find(U=>U.id===xt)?Ie:[...Ie,ye]),l(xt),t("event"),Q(xt,[ye]);return}}catch(ye){console.warn("Failed to load shared event:",ye)}t(be&&ue?ue.role===it.ADMIN?"admin":"dashboard":"landing")}catch(ne){console.error("Error in loadInitialData:",ne),t("landing")}};H.useEffect(()=>{Tt();const ne=()=>{if(window.google&&Ah.VITE_GOOGLE_CLIENT_ID&&!window.googleSignInInitialized)try{window.google.accounts.id.initialize({client_id:Ah.VITE_GOOGLE_CLIENT_ID,callback:wt}),window.googleSignInInitialized=!0}catch(ae){console.warn("Google Sign-In initialization failed:",ae)}};if(window.google)ne();else{const ae=setInterval(()=>{window.google&&(ne(),clearInterval(ae))},500);setTimeout(()=>clearInterval(ae),15e3)}},[]);const wt=async ne=>{try{const ae=ne.credential;try{const ue=await at.googleLogin(ae);v(ue.user,ue.token)}catch{b("Authentication failed")}}catch{b(kh[h].authErrorInvalid)}},v=async(ne,ae)=>{a(ne),localStorage.setItem("snapify_token",ae),localStorage.setItem("snapify_user_id",ne.id),localStorage.setItem("snapify_user_obj",JSON.stringify(ne));try{const ue=await at.fetchEvents();s(ue);const He=new URLSearchParams(window.location.search).get("event");if(He)if(ue.find(ye=>ye.id===He))l(He),t("event");else try{const ye=await at.fetchEventById(He);s(Ie=>[...Ie,ye]),l(He),t("event")}catch{t("dashboard")}else ne.role===it.ADMIN?(at.fetchUsers().then(u),t("admin")):t("dashboard")}catch{t("dashboard")}},Q=async(ne,ae)=>{const ue=ae.map(be=>be.id===ne?{...be,views:(be.views||0)+1}:be);s(ue),await fetch(`${Ch}/api/events/${ne}/view`,{method:"POST"})};H.useEffect(()=>{localStorage.setItem("snapify_lang",h)},[h]);const G=ne=>kh[h][ne]||kh.en[ne]||ne,C=ne=>f(ne),k=i.find(ne=>ne.id===r),P=n&&k&&n.id===k.hostId,X=k!=null&&k.expiresAt?new Date>new Date(k.expiresAt):!1,J=c.find(ne=>ne.id===(k==null?void 0:k.hostId))||((n==null?void 0:n.id)===(k==null?void 0:k.hostId)?n:void 0),M=(J==null?void 0:J.role)===it.PHOTOGRAPHER,Y=async(ne,ae)=>{if(!m){b(""),d(!0);try{const{email:ue,password:be,name:He,isPhotographer:xt,studioName:ye}=ne;if(!ue||!be)return b(G("authErrorRequired"));if(!Kz(ue))return b(G("authErrorInvalidEmail"));if(!Wz(be))return b(G("authErrorPasswordLength"));if(ae){if(!He||!tv(He))return b(G("authErrorNameRequired"));const Ie=jh(He),U=xt&&ye?jh(ye):void 0,le={id:`user-${Date.now()}`,name:Ie,email:ue.toLowerCase().trim(),role:it.USER,tier:Ke.FREE,storageUsedMb:0,storageLimitMb:100,joinedDate:new Date().toISOString().split("T")[0],studioName:U},pe=await at.createUser(le);await v(pe.user,pe.token)}else{const Ie=await at.login(ue.toLowerCase().trim(),be);await v(Ie.user,Ie.token)}}catch{b(G("authErrorInvalid"))}finally{d(!1)}}},ee=ne=>{var ue,be;if(!tv(ne)){alert(G("authErrorNameRequired"));return}const ae=jh(ne);p(ae),Jz("snapify_guest_name",ae),_(!1),r&&t("event"),w==="camera"?(ue=Ue.current)==null||ue.click():w==="upload"&&((be=Oe.current)==null||be.click()),E(null)},$=()=>{_(!1),t("landing")},fe=async ne=>{if(!n)return;const{title:ae,date:ue,theme:be,description:He,pin:xt,adminOptions:ye}=ne;if(!Xz(ae)){alert("Event title must be 1-100 characters long");return}if(!Zz(He)){alert("Event description must be less than 500 characters");return}let Ie=null;const U=new Date().getTime();if(n.role===it.ADMIN&&ye){const{expiryType:pe,durationValue:Ve,durationUnit:yt}=ye;if(pe==="unlimited")Ie=null;else if(pe==="custom"){let sn=1e3;yt==="minutes"&&(sn=60*1e3),yt==="hours"&&(sn=60*60*1e3),yt==="days"&&(sn=24*60*60*1e3),Ie=new Date(U+Ve*sn).toISOString()}else{const sn=parseInt(pe.replace("d",""));Ie=new Date(U+(sn||30)*24*60*60*1e3).toISOString()}}else{const pe=Nh(n);pe.maxDurationDays===null?Ie=null:n.tier===Ke.FREE&&pe.maxDurationHours?Ie=new Date(U+pe.maxDurationHours*60*60*1e3).toISOString():Ie=new Date(U+(pe.maxDurationDays||30)*24*60*60*1e3).toISOString()}const le={id:crypto.randomUUID(),title:ae,date:ue,description:He,hostId:n.id,code:Math.random().toString(36).substring(2,8).toUpperCase(),media:[],expiresAt:Ie,pin:xt,views:0,downloads:0};try{const pe=await at.createEvent(le);s(Ve=>[pe,...Ve]),z(!1),l(pe.id),t("event")}catch{alert("Failed to create event")}},Ee=async ne=>{await at.updateEvent(ne),s(ae=>ae.map(ue=>ue.id===ne.id?ne:ue))},ke=async ne=>{if(!r||!k)return;const ae={...k,coverImage:ne.url,coverMediaType:ne.type};await at.updateEvent(ae),s(ue=>ue.map(be=>be.id===r?ae:be)),alert(G("coverSet"))},jt=async ne=>{r&&(s(ae=>ae.map(ue=>ue.id===r?{...ue,media:ue.media.map(be=>be.id===ne.id?{...be,likes:(be.likes||0)+1}:be)}:ue)),await at.likeMedia(ne.id))},wn=async ne=>{await at.deleteEvent(ne),s(ae=>ae.filter(ue=>ue.id!==ne)),r===ne&&l(null)},et=async ne=>{const ae=Fn[ne.tier].storageLimitMb,ue={...ne,storageLimitMb:ae};await at.updateUser(ue),u(be=>be.map(He=>He.id===ne.id?ue:He)),n&&n.id===ne.id&&(a(ue),localStorage.setItem("snapify_user_obj",JSON.stringify(ue)))},an=async(ne,ae)=>{await at.deleteMedia(ae),s(ue=>ue.map(be=>be.id===ne?{...be,media:be.media.filter(He=>He.id!==ae)}:be))},Me=async ne=>{if(!n)return;const ae={...n,...ne};await at.updateUser(ae),a(ae),u(ue=>ue.map(be=>be.id===n.id?ae:be)),localStorage.setItem("snapify_user_obj",JSON.stringify(ae))},En=ne=>{var ae,ue;N(ne),n||y?ne==="camera"?(ae=Ue.current)==null||ae.click():(ue=Oe.current)==null||ue.click():(E(ne),_(!0))},hn=ne=>{if(!ne.target.files||!ne.target.files[0]||!k)return;const ae=ne.target.files[0],ue=ae.type.startsWith("video")?"video":"image",be=URL.createObjectURL(ae);O({type:ue,src:be,file:ae})},At=async(ne,ae)=>{if(!(!k||!Z)){ce(!0),re(0);try{const{type:ue,src:be,file:He}=Z,xt=n?Fn[n.tier].allowBranding&&n.studioName?n.studioName:n.name:y||"Guest";if(ue==="video"){let qt;if(n&&k.hostId===n.id?qt=Nh(n):k.hostTier?qt=pz(k.hostTier):qt=Fn[Ke.FREE],!qt.allowVideo){alert(G("videoRestricted")),ce(!1);return}}const ye=He?He.size/(1024*1024):0;n&&n.storageLimitMb!==-1&&n.storageUsedMb+ye>n.storageLimitMb;let Ie=ne;!Ie&&ue==="image"&&(Ie=await at.generateImageCaption(be));const U=n?Nh(n):Fn[Ke.FREE],le=(n==null?void 0:n.role)===it.PHOTOGRAPHER&&U.allowWatermark,pe=n?Fn[n.tier].allowBranding:!1,Ve=F&&le;let yt=He;if(Ve&&ue==="image"&&n||!He&&ue==="image"){let qt=be;Ve&&n&&(qt=await Zy(be,pe&&n.studioName||null,pe&&n.logoUrl||null,pe?n.watermarkOpacity:void 0,pe?n.watermarkSize:void 0,pe?n.watermarkPosition:void 0,pe?n.watermarkOffsetX:void 0,pe?n.watermarkOffsetY:void 0));const ki=await(await fetch(qt)).blob();yt=new File([ki],"capture.jpg",{type:"image/jpeg"})}const sn={id:`media-${Date.now()}`,type:ue,caption:Ie,uploadedAt:new Date().toISOString(),uploaderName:xt,uploaderId:n?n.id:`guest-${y}-${Date.now()}`,isWatermarked:Ve,watermarkText:Ve&&pe?n==null?void 0:n.studioName:void 0,privacy:ae};yt&&(console.log("Starting upload:",{source:He?"photo_library":"camera_capture",fileSize:yt.size,fileType:yt.type,fileName:yt.name,metadata:sn}),await at.uploadMedia(yt,sn,k.id,qt=>{re(qt)})),O(null),Oe.current&&(Oe.current.value=""),Ue.current&&(Ue.current.value="")}catch(ue){console.error("Upload failed",ue),ue.message==="Storage limit exceeded"||ue.response&&ue.response.status===413?alert(G("storageLimit")):alert("Upload failed. Please try again.")}finally{ce(!1),re(0)}}},Ln=async ne=>{if(!(!ne||ne.media.length===0)){K(!0);try{const ae=new mz,ue=ae.folder(ne.title.replace(/[^a-z0-9]/gi,"_")),be=c.find(le=>le.id===ne.hostId),He=!be||be.tier===Ke.FREE,xt=async le=>{const pe=le.startsWith("http")||le.startsWith("data:")?le:`${Ah.VITE_API_URL||""}${le}`;return(await fetch(pe)).blob()},ye=le=>new Promise(pe=>{const Ve=new FileReader;Ve.onloadend=()=>pe(Ve.result),Ve.readAsDataURL(le)});for(const le of ne.media){const pe=`${le.id}.${le.type==="video"?"mp4":"jpg"}`;if(!le.url)continue;let Ve=await xt(le.url);if(He&&le.type==="image")try{const yt=await ye(Ve),qt=(await Zy(yt,"SnapifY",null,.5,30,"center",0,0)).split(",")[1];ue&&ue.file(pe,qt,{base64:!0});continue}catch(yt){console.warn("Failed to watermark image for zip",yt)}ue&&ue.file(pe,Ve)}const Ie=await ae.generateAsync({type:"blob"}),U=document.createElement("a");U.href=URL.createObjectURL(Ie),U.download=`${ne.title.replace(/[^a-z0-9]/gi,"_")}_memories.zip`,document.body.appendChild(U),U.click(),document.body.removeChild(U),await at.updateEvent({...ne,downloads:(ne.downloads||0)+1}),s(le=>le.map(pe=>pe.id===ne.id?{...pe,downloads:(pe.downloads||0)+1}:pe))}catch{alert(G("zipError"))}finally{K(!1)}}},Qn=async()=>{if(n)try{await fetch(`${Ch}/api/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("snapify_token")}`,"Content-Type":"application/json"}})}catch(ne){console.warn("Logout API call failed:",ne)}if(a(null),p(""),t("landing"),l(null),localStorage.removeItem("snapify_token"),localStorage.removeItem("snapify_user_id"),localStorage.removeItem("snapify_user_obj"),t4("snapify_guest_name"),Yz(),typeof window<"u"){const ne=new URL(window.location.href);ne.search="",window.history.pushState({},"",ne.toString()),window.location.href="/"}},ka=()=>{if(e==="event"){l(null);const ne=new URL(window.location.href);ne.searchParams.has("event")&&(ne.searchParams.delete("event"),window.history.replaceState({},"",ne.toString())),t(n?n.role===it.ADMIN?"admin":"dashboard":"landing")}else(e==="dashboard"||e==="admin")&&Qn()},Fa=ne=>{r?alert(`Shared to SnapifY: ${ne}`):localStorage.setItem("snapify_shared_pending",ne)};return o.jsxs("div",{className:"h-[100dvh] w-full flex flex-col bg-slate-50",children:[o.jsx(Pz,{t:G}),o.jsx(Hz,{onShareReceive:Fa}),o.jsx(Fz,{}),o.jsxs("div",{className:"flex-shrink-0 z-50 w-full bg-slate-50/95 backdrop-blur-md border-b border-slate-200",children:[o.jsx(Nz,{currentUser:n,guestName:y,view:e,currentEventTitle:k==null?void 0:k.title,language:h,onChangeLanguage:C,onLogout:Qn,onSignIn:$,onHome:()=>{l(null),t(n?n.role===it.ADMIN?"admin":"dashboard":"landing")},onBack:ka,onToAdmin:()=>t("admin"),onOpenSettings:()=>R(!0),t:G}),n&&o.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-3 z-60",children:[o.jsx("div",{className:"flex items-center gap-2 bg-white/90 backdrop-blur rounded-full px-3 py-1.5 shadow-sm border border-slate-200",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${Le.some(ne=>ne.online)?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{className:"text-xs font-medium text-slate-700",children:Le.some(ne=>ne.online)?"Admin Online":"Admin Offline"})]})}),o.jsx("button",{onClick:()=>Ne(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white rounded-full p-2.5 shadow-lg hover:shadow-xl transition-all",title:"Contact Support",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden scroll-smooth w-full relative no-scrollbar",children:[e==="landing"?o.jsxs("div",{className:"min-h-full w-full",children:[o.jsx(Tz,{onGoogleLogin:()=>{window.google&&window.google.accounts.id.prompt()},onEmailAuth:Y,onContactSales:ne=>{I(ne),W(!0)},isLoggingIn:m,authError:g,language:h,onChangeLanguage:C,t:G}),o.jsx(Qy,{t:G}),A&&o.jsx(Xy,{onClose:()=>{W(!1),I(void 0)},t:G,tier:T})]}):o.jsx("div",{className:"flex flex-col min-h-full",children:o.jsxs("div",{className:"flex-1 pb-32",children:[e==="admin"&&(n==null?void 0:n.role)===it.ADMIN&&o.jsx(Ez,{users:c,events:i,onClose:()=>t("dashboard"),onLogout:Qn,onDeleteUser:async ne=>{await at.deleteUser(ne),u(ae=>ae.filter(ue=>ue.id!==ne))},onDeleteEvent:wn,onDeleteMedia:an,onUpdateEvent:Ee,onUpdateUser:et,onNewEvent:()=>z(!0),onDownloadEvent:Ln,t:G}),e==="dashboard"&&n&&o.jsx(jz,{events:i,currentUser:n,onNewEvent:()=>z(!0),onSelectEvent:ne=>{l(ne),t("event")},onRequestUpgrade:()=>W(!0),t:G}),e==="event"&&k&&o.jsx(Dz,{event:k,currentUser:n,hostUser:J,isEventExpired:X,isOwner:!!P,isHostPhotographer:!!M,downloadingZip:V,applyWatermark:F,setApplyWatermark:q,onDownloadAll:ne=>Ln({...k,media:ne||k.media}),onSetCover:ke,onUpload:En,onLike:jt,onOpenLiveSlideshow:()=>t("live"),t:G},k.id)]})}),e==="live"&&k&&o.jsx(Bz,{event:k,currentUser:n,hostUser:J,onClose:()=>t("event"),t:G})]}),o.jsx(Qy,{t:G}),o.jsx("input",{type:"file",ref:Oe,className:"hidden",accept:"image/*,video/*",onChange:hn}),o.jsx("input",{type:"file",ref:Ue,className:"hidden",accept:"image/*",capture:"environment",onChange:hn},"camera-input-v2"),Z&&o.jsx(Uz,{type:Z.type,src:Z.src,onConfirm:At,onRetake:()=>{var ne,ae;O(null),j==="camera"?(ne=Ue.current)==null||ne.click():(ae=Oe.current)==null||ae.click()},onCancel:()=>O(null),isUploading:L,uploadProgress:oe,isRegistered:!!n,t:G,file:Z.file}),o.jsx("div",{className:"fixed bottom-4 left-4 z-[9999] pointer-events-none bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-lg opacity-80",children:"v2.1 NATIVE"}),A&&o.jsx(Xy,{onClose:()=>{W(!1),I(void 0)},t:G,tier:T}),x&&o.jsx(Oz,{onLogin:ee,onRegister:$,onCancel:()=>_(!1),t:G}),D&&n&&o.jsx(Mz,{currentUser:n,onClose:()=>z(!1),onCreate:fe,t:G}),S&&n&&o.jsx(Iz,{currentUser:n,onClose:()=>R(!1),onSave:Me,t:G}),o.jsx(qz,{isOpen:we,onClose:()=>Ne(!1),currentUser:n,t:G})]})}class a4 extends H.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),Mg(t,{contexts:{react:{componentStack:n.componentStack}}}),this.props.onError&&this.props.onError(t,n)}render(){var t;return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page."}),o.jsx("button",{onClick:()=>window.location.reload(),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Refresh Page"}),o.jsxs("details",{className:"mt-4 text-left",children:[o.jsx("summary",{className:"cursor-pointer text-sm text-gray-500 hover:text-gray-700",children:"Error Details"}),o.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto",children:(t=this.state.error)==null?void 0:t.message})]})]})}):this.props.children}}const i4=e=>{typeof gtag<"u"&&gtag("event",e.name,{event_category:"Web Vitals",event_label:e.id,value:Math.round(e.value),custom_map:{metric_value:e.value}})};var s4={};UI({dsn:s4.VITE_SENTRY_DSN||"https://placeholder-dsn@sentry.io/placeholder",environment:"production",integrations:[MI(),mI()],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1});const r4=new uz,rN=document.getElementById("root");if(!rN)throw new Error("Could not find root element to mount to");const o4=_j.createRoot(rN);window.addEventListener("load",()=>{const e=performance.getEntriesByType("navigation")[0];e&&i4({name:"TTFB",value:e.responseStart-e.requestStart,id:"ttfb"})});o4.render(o.jsx(pp.StrictMode,{children:o.jsx(fz,{client:r4,children:o.jsx(a4,{children:o.jsx(n4,{})})})}));
