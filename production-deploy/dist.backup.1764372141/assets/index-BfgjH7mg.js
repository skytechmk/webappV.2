var M0=e=>{throw TypeError(e)};var wf=(e,t,a)=>t.has(e)||M0("Cannot "+a);var ne=(e,t,a)=>(wf(e,t,"read from private field"),a?a.call(e):t.get(e)),Ke=(e,t,a)=>t.has(e)?M0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,a),De=(e,t,a,i)=>(wf(e,t,"write to private field"),i?i.call(e,a):t.set(e,a),a),gn=(e,t,a)=>(wf(e,t,"access private method"),a);var Uc=(e,t,a,i)=>({set _(s){De(e,t,s,a)},get _(){return ne(e,t,i)}});import{r as V,a as bN,g as Md,c as ol,b as xp}from"./vendor-BOfUEBiL.js";import{l as yN,Z as wa,U as Mh,C as Rs,M as $i,H as Ns,S as Oh,P as Pu,B as O0,a as Ma,L as bp,b as Ih,c as Ji,E as Ef,d as Nf,T as Ds,R as vN,e as SN,f as _N,X as wN,Y as EN,g as NN,h as kN,i as es,j as gv,k as hu,D as Qs,m as Kt,n as xv,o as TN,p as zh,I as yp,q as jN,r as I0,s as bv,t as mu,u as Cl,A as yv,v as Od,w as AN,x as uo,y as vv,z as CN,F as RN,G as Sv,J as DN,K as Rl,Q as _v,N as wv,O as z0,V as MN,W as Ev,_ as ON,$ as Nv,a0 as kv,a1 as L0,a2 as IN,a3 as Tv,a4 as zN,a5 as vp,a6 as Sp,a7 as jv,a8 as Lh,a9 as LN,aa as Av,ab as _p,ac as UN,ad as BN,ae as U0,af as B0,ag as P0,ah as $r,ai as PN,aj as FN,ak as Cv,al as HN,am as GN,an as qN,ao as Rv,ap as Uh,aq as YN,ar as F0,as as VN,at as Dv,au as $N}from"./libs-DOqAdg-N.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}})();var Mv={exports:{}},Id={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KN=Symbol.for("react.transitional.element"),WN=Symbol.for("react.fragment");function Ov(e,t,a){var i=null;if(a!==void 0&&(i=""+a),t.key!==void 0&&(i=""+t.key),"key"in t){a={};for(var s in t)s!=="key"&&(a[s]=t[s])}else a=t;return t=a.ref,{$$typeof:KN,type:e,key:i,ref:t!==void 0?t:null,props:a}}Id.Fragment=WN;Id.jsx=Ov;Id.jsxs=Ov;Mv.exports=Id;var l=Mv.exports,Iv={exports:{}},zd={},zv={exports:{}},Lv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,H){var P=U.length;U.push(H);e:for(;0<P;){var X=P-1>>>1,$=U[X];if(0<s($,H))U[X]=H,U[P]=$,P=X;else break e}}function a(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var H=U[0],P=U.pop();if(P!==H){U[0]=P;e:for(var X=0,$=U.length,L=$>>>1;X<L;){var F=2*(X+1)-1,ue=U[F],le=F+1,oe=U[le];if(0>s(ue,P))le<$&&0>s(oe,ue)?(U[X]=oe,U[le]=P,X=le):(U[X]=ue,U[F]=P,X=F);else if(le<$&&0>s(oe,P))U[X]=oe,U[le]=P,X=le;else break e}}return H}function s(U,H){var P=U.sortIndex-H.sortIndex;return P!==0?P:U.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],d=[],p=1,f=null,m=3,h=!1,x=!1,b=!1,S=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function E(U){for(var H=a(d);H!==null;){if(H.callback===null)i(d);else if(H.startTime<=U)i(d),H.sortIndex=H.expirationTime,t(u,H);else break;H=a(d)}}function k(U){if(b=!1,E(U),!x)if(a(u)!==null)x=!0,M||(M=!0,T());else{var H=a(d);H!==null&&D(k,H.startTime-U)}}var M=!1,A=-1,I=5,j=-1;function N(){return S?!0:!(e.unstable_now()-j<I)}function z(){if(S=!1,M){var U=e.unstable_now();j=U;var H=!0;try{e:{x=!1,b&&(b=!1,y(A),A=-1),h=!0;var P=m;try{t:{for(E(U),f=a(u);f!==null&&!(f.expirationTime>U&&N());){var X=f.callback;if(typeof X=="function"){f.callback=null,m=f.priorityLevel;var $=X(f.expirationTime<=U);if(U=e.unstable_now(),typeof $=="function"){f.callback=$,E(U),H=!0;break t}f===a(u)&&i(u),E(U)}else i(u);f=a(u)}if(f!==null)H=!0;else{var L=a(d);L!==null&&D(k,L.startTime-U),H=!1}}break e}finally{f=null,m=P,h=!1}H=void 0}}finally{H?T():M=!1}}}var T;if(typeof w=="function")T=function(){w(z)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,v=C.port2;C.port1.onmessage=z,T=function(){v.postMessage(null)}}else T=function(){g(z,0)};function D(U,H){A=g(function(){U(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(U){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var P=m;m=H;try{return U()}finally{m=P}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var P=m;m=U;try{return H()}finally{m=P}},e.unstable_scheduleCallback=function(U,H,P){var X=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?X+P:X):P=X,U){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=P+$,U={id:p++,callback:H,priorityLevel:U,startTime:P,expirationTime:$,sortIndex:-1},P>X?(U.sortIndex=P,t(d,U),a(u)===null&&U===a(d)&&(b?(y(A),A=-1):b=!0,D(k,P-X))):(U.sortIndex=$,t(u,U),x||h||(x=!0,M||(M=!0,T()))),U},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(U){var H=m;return function(){var P=m;m=H;try{return U.apply(this,arguments)}finally{m=P}}}})(Lv);zv.exports=Lv;var XN=zv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=XN,Uv=V,ZN=bN;function re(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Bv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rc(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Pv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function H0(e){if(rc(e)!==e)throw Error(re(188))}function QN(e){var t=e.alternate;if(!t){if(t=rc(e),t===null)throw Error(re(188));return t!==e?null:e}for(var a=e,i=t;;){var s=a.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){a=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===a)return H0(s),e;if(r===i)return H0(s),t;r=r.sibling}throw Error(re(188))}if(a.return!==i.return)a=s,i=r;else{for(var o=!1,c=s.child;c;){if(c===a){o=!0,a=s,i=r;break}if(c===i){o=!0,i=s,a=r;break}c=c.sibling}if(!o){for(c=r.child;c;){if(c===a){o=!0,a=r,i=s;break}if(c===i){o=!0,i=r,a=s;break}c=c.sibling}if(!o)throw Error(re(189))}}if(a.alternate!==i)throw Error(re(190))}if(a.tag!==3)throw Error(re(188));return a.stateNode.current===a?e:t}function Hv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Hv(e),t!==null)return t;e=e.sibling}return null}var wt=Object.assign,JN=Symbol.for("react.element"),Bc=Symbol.for("react.transitional.element"),ll=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),Gv=Symbol.for("react.strict_mode"),Bh=Symbol.for("react.profiler"),qv=Symbol.for("react.consumer"),si=Symbol.for("react.context"),wp=Symbol.for("react.forward_ref"),Ph=Symbol.for("react.suspense"),Fh=Symbol.for("react.suspense_list"),Ep=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),Hh=Symbol.for("react.activity"),ek=Symbol.for("react.memo_cache_sentinel"),G0=Symbol.iterator;function Jo(e){return e===null||typeof e!="object"?null:(e=G0&&e[G0]||e["@@iterator"],typeof e=="function"?e:null)}var tk=Symbol.for("react.client.reference");function Gh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tk?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case Bh:return"Profiler";case Gv:return"StrictMode";case Ph:return"Suspense";case Fh:return"SuspenseList";case Hh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ll:return"Portal";case si:return e.displayName||"Context";case qv:return(e._context.displayName||"Context")+".Consumer";case wp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ep:return t=e.displayName||null,t!==null?t:Gh(e.type)||"Memo";case Mi:t=e._payload,e=e._init;try{return Gh(e(t))}catch{}}return null}var cl=Array.isArray,je=Uv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=ZN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Hs={pending:!1,data:null,method:null,action:null},qh=[],Rr=-1;function Pa(e){return{current:e}}function nn(e){0>Rr||(e.current=qh[Rr],qh[Rr]=null,Rr--)}function bt(e,t){Rr++,qh[Rr]=e.current,e.current=t}var Ua=Pa(null),Dl=Pa(null),ts=Pa(null),Fu=Pa(null);function Hu(e,t){switch(bt(ts,t),bt(Dl,e),bt(Ua,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wx(t),e=uw(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nn(Ua),bt(Ua,e)}function fo(){nn(Ua),nn(Dl),nn(ts)}function Yh(e){e.memoizedState!==null&&bt(Fu,e);var t=Ua.current,a=uw(t,e.type);t!==a&&(bt(Dl,e),bt(Ua,a))}function Gu(e){Dl.current===e&&(nn(Ua),nn(Dl)),Fu.current===e&&(nn(Fu),Gl._currentValue=Hs)}var kf,q0;function Ts(e){if(kf===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);kf=t&&t[1]||"",q0=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kf+e+q0}var Tf=!1;function jf(e,t){if(!e||Tf)return"";Tf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var m=h}Reflect.construct(e,[],f)}else{try{f.call()}catch(h){m=h}e.call(f.prototype)}}else{try{throw Error()}catch(h){m=h}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),o=r[0],c=r[1];if(o&&c){var u=o.split(`
`),d=c.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<d.length&&!d[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===d.length)for(i=u.length-1,s=d.length-1;1<=i&&0<=s&&u[i]!==d[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==d[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==d[s]){var p=`
`+u[i].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=i&&0<=s);break}}}finally{Tf=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ts(a):""}function nk(e,t){switch(e.tag){case 26:case 27:case 5:return Ts(e.type);case 16:return Ts("Lazy");case 13:return e.child!==t&&t!==null?Ts("Suspense Fallback"):Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 15:return jf(e.type,!1);case 11:return jf(e.type.render,!1);case 1:return jf(e.type,!0);case 31:return Ts("Activity");default:return""}}function Y0(e){try{var t="",a=null;do t+=nk(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Vh=Object.prototype.hasOwnProperty,Np=Wt.unstable_scheduleCallback,Af=Wt.unstable_cancelCallback,ak=Wt.unstable_shouldYield,ik=Wt.unstable_requestPaint,Yn=Wt.unstable_now,sk=Wt.unstable_getCurrentPriorityLevel,Yv=Wt.unstable_ImmediatePriority,Vv=Wt.unstable_UserBlockingPriority,qu=Wt.unstable_NormalPriority,rk=Wt.unstable_LowPriority,$v=Wt.unstable_IdlePriority,ok=Wt.log,lk=Wt.unstable_setDisableYieldValue,oc=null,Vn=null;function Ki(e){if(typeof ok=="function"&&lk(e),Vn&&typeof Vn.setStrictMode=="function")try{Vn.setStrictMode(oc,e)}catch{}}var $n=Math.clz32?Math.clz32:dk,ck=Math.log,uk=Math.LN2;function dk(e){return e>>>=0,e===0?32:31-(ck(e)/uk|0)|0}var Pc=256,Fc=262144,Hc=4194304;function js(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ld(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var c=i&134217727;return c!==0?(i=c&~r,i!==0?s=js(i):(o&=c,o!==0?s=js(o):a||(a=c&~e,a!==0&&(s=js(a))))):(c=i&~r,c!==0?s=js(c):o!==0?s=js(o):a||(a=i&~e,a!==0&&(s=js(a)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:s}function lc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function fk(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kv(){var e=Hc;return Hc<<=1,!(Hc&62914560)&&(Hc=4194304),e}function Cf(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function cc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hk(e,t,a,i,s,r){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var c=e.entanglements,u=e.expirationTimes,d=e.hiddenUpdates;for(a=o&~a;0<a;){var p=31-$n(a),f=1<<p;c[p]=0,u[p]=-1;var m=d[p];if(m!==null)for(d[p]=null,p=0;p<m.length;p++){var h=m[p];h!==null&&(h.lane&=-536870913)}a&=~f}i!==0&&Wv(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(o&~t))}function Wv(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-$n(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function Xv(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-$n(a),s=1<<i;s&t|e[i]&t&&(e[i]|=t),a&=~s}}function Zv(e,t){var a=t&-t;return a=a&42?1:kp(a),a&(e.suspendedLanes|t)?0:a}function kp(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tp(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Qv(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:Sw(e.type))}function V0(e,t){var a=ot.p;try{return ot.p=e,t()}finally{ot.p=a}}var bs=Math.random().toString(36).slice(2),un="__reactFiber$"+bs,On="__reactProps$"+bs,Do="__reactContainer$"+bs,$h="__reactEvents$"+bs,mk="__reactListeners$"+bs,pk="__reactHandles$"+bs,$0="__reactResources$"+bs,uc="__reactMarker$"+bs;function jp(e){delete e[un],delete e[On],delete e[$h],delete e[mk],delete e[pk]}function Dr(e){var t=e[un];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Do]||a[un]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=eb(e);e!==null;){if(a=e[un])return a;e=eb(e)}return t}e=a,a=e.parentNode}return null}function Mo(e){if(e=e[un]||e[Do]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ul(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(re(33))}function Kr(e){var t=e[$0];return t||(t=e[$0]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tn(e){e[uc]=!0}var Jv=new Set,eS={};function lr(e,t){ho(e,t),ho(e+"Capture",t)}function ho(e,t){for(eS[e]=t,e=0;e<t.length;e++)Jv.add(t[e])}var gk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),K0={},W0={};function xk(e){return Vh.call(W0,e)?!0:Vh.call(K0,e)?!1:gk.test(e)?W0[e]=!0:(K0[e]=!0,!1)}function pu(e,t,a){if(xk(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Gc(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ka(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function ia(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bk(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,r.call(this,o)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kh(e){if(!e._valueTracker){var t=tS(e)?"checked":"value";e._valueTracker=bk(e,t,""+e[t])}}function nS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=tS(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Yu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yk=/[\n"\\]/g;function oa(e){return e.replace(yk,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Wh(e,t,a,i,s,r,o,c){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ia(t)):e.value!==""+ia(t)&&(e.value=""+ia(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Xh(e,o,ia(t)):a!=null?Xh(e,o,ia(a)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+ia(c):e.removeAttribute("name")}function aS(e,t,a,i,s,r,o,c){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Kh(e);return}a=a!=null?""+ia(a):"",t=t!=null?""+ia(t):a,c||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=c?e.checked:!!i,e.defaultChecked=!!i,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Kh(e)}function Xh(e,t,a){t==="number"&&Yu(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Wr(e,t,a,i){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&i&&(e[a].defaultSelected=!0)}else{for(a=""+ia(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function iS(e,t,a){if(t!=null&&(t=""+ia(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ia(a):""}function sS(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(re(92));if(cl(i)){if(1<i.length)throw Error(re(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=ia(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),Kh(e)}function mo(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var vk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function X0(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||vk.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function rS(e,t,a){if(t!=null&&typeof t!="object")throw Error(re(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&a[s]!==i&&X0(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&X0(e,r,t[r])}function Ap(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_k=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gu(e){return _k.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ri(){}var Zh=null;function Cp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mr=null,Xr=null;function Z0(e){var t=Mo(e);if(t&&(e=t.stateNode)){var a=e[On]||null;e:switch(e=t.stateNode,t.type){case"input":if(Wh(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+oa(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var s=i[On]||null;if(!s)throw Error(re(90));Wh(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&nS(i)}break e;case"textarea":iS(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Wr(e,!!a.multiple,t,!1)}}}var Rf=!1;function oS(e,t,a){if(Rf)return e(t,a);Rf=!0;try{var i=e(t);return i}finally{if(Rf=!1,(Mr!==null||Xr!==null)&&(Wd(),Mr&&(t=Mr,e=Xr,Xr=Mr=null,Z0(t),e)))for(t=0;t<e.length;t++)Z0(e[t])}}function Ml(e,t){var a=e.stateNode;if(a===null)return null;var i=a[On]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(re(231,t,typeof a));return a}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qh=!1;if(pi)try{var el={};Object.defineProperty(el,"passive",{get:function(){Qh=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Qh=!1}var Wi=null,Rp=null,xu=null;function lS(){if(xu)return xu;var e,t=Rp,a=t.length,i,s="value"in Wi?Wi.value:Wi.textContent,r=s.length;for(e=0;e<a&&t[e]===s[e];e++);var o=a-e;for(i=1;i<=o&&t[a-i]===s[r-i];i++);return xu=s.slice(e,1<i?1-i:void 0)}function bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qc(){return!0}function Q0(){return!1}function zn(e){function t(a,i,s,r,o){this._reactName=a,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(a=e[c],this[c]=a?a(r):r[c]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?qc:Q0,this.isPropagationStopped=Q0,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qc)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qc)},persist:function(){},isPersistent:qc}),t}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ud=zn(cr),dc=wt({},cr,{view:0,detail:0}),wk=zn(dc),Df,Mf,tl,Bd=wt({},dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tl&&(tl&&e.type==="mousemove"?(Df=e.screenX-tl.screenX,Mf=e.screenY-tl.screenY):Mf=Df=0,tl=e),Df)},movementY:function(e){return"movementY"in e?e.movementY:Mf}}),J0=zn(Bd),Ek=wt({},Bd,{dataTransfer:0}),Nk=zn(Ek),kk=wt({},dc,{relatedTarget:0}),Of=zn(kk),Tk=wt({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),jk=zn(Tk),Ak=wt({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ck=zn(Ak),Rk=wt({},cr,{data:0}),ex=zn(Rk),Dk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ok={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ik(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ok[e])?!!t[e]:!1}function Dp(){return Ik}var zk=wt({},dc,{key:function(e){if(e.key){var t=Dk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dp,charCode:function(e){return e.type==="keypress"?bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lk=zn(zk),Uk=wt({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tx=zn(Uk),Bk=wt({},dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dp}),Pk=zn(Bk),Fk=wt({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hk=zn(Fk),Gk=wt({},Bd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qk=zn(Gk),Yk=wt({},cr,{newState:0,oldState:0}),Vk=zn(Yk),$k=[9,13,27,32],Mp=pi&&"CompositionEvent"in window,hl=null;pi&&"documentMode"in document&&(hl=document.documentMode);var Kk=pi&&"TextEvent"in window&&!hl,cS=pi&&(!Mp||hl&&8<hl&&11>=hl),nx=" ",ax=!1;function uS(e,t){switch(e){case"keyup":return $k.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function Wk(e,t){switch(e){case"compositionend":return dS(t);case"keypress":return t.which!==32?null:(ax=!0,nx);case"textInput":return e=t.data,e===nx&&ax?null:e;default:return null}}function Xk(e,t){if(Or)return e==="compositionend"||!Mp&&uS(e,t)?(e=lS(),xu=Rp=Wi=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cS&&t.locale!=="ko"?null:t.data;default:return null}}var Zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ix(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zk[e.type]:t==="textarea"}function fS(e,t,a,i){Mr?Xr?Xr.push(i):Xr=[i]:Mr=i,t=cd(t,"onChange"),0<t.length&&(a=new Ud("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var ml=null,Ol=null;function Qk(e){ow(e,0)}function Pd(e){var t=ul(e);if(nS(t))return e}function sx(e,t){if(e==="change")return t}var hS=!1;if(pi){var If;if(pi){var zf="oninput"in document;if(!zf){var rx=document.createElement("div");rx.setAttribute("oninput","return;"),zf=typeof rx.oninput=="function"}If=zf}else If=!1;hS=If&&(!document.documentMode||9<document.documentMode)}function ox(){ml&&(ml.detachEvent("onpropertychange",mS),Ol=ml=null)}function mS(e){if(e.propertyName==="value"&&Pd(Ol)){var t=[];fS(t,Ol,e,Cp(e)),oS(Qk,t)}}function Jk(e,t,a){e==="focusin"?(ox(),ml=t,Ol=a,ml.attachEvent("onpropertychange",mS)):e==="focusout"&&ox()}function eT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pd(Ol)}function tT(e,t){if(e==="click")return Pd(t)}function nT(e,t){if(e==="input"||e==="change")return Pd(t)}function aT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xn=typeof Object.is=="function"?Object.is:aT;function Il(e,t){if(Xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var s=a[i];if(!Vh.call(t,s)||!Xn(e[s],t[s]))return!1}return!0}function lx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cx(e,t){var a=lx(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lx(a)}}function pS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gS(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yu(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Yu(e.document)}return t}function Op(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var iT=pi&&"documentMode"in document&&11>=document.documentMode,Ir=null,Jh=null,pl=null,em=!1;function ux(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;em||Ir==null||Ir!==Yu(i)||(i=Ir,"selectionStart"in i&&Op(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),pl&&Il(pl,i)||(pl=i,i=cd(Jh,"onSelect"),0<i.length&&(t=new Ud("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Ir)))}function ks(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var zr={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Lf={},xS={};pi&&(xS=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function ur(e){if(Lf[e])return Lf[e];if(!zr[e])return e;var t=zr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in xS)return Lf[e]=t[a];return e}var bS=ur("animationend"),yS=ur("animationiteration"),vS=ur("animationstart"),sT=ur("transitionrun"),rT=ur("transitionstart"),oT=ur("transitioncancel"),SS=ur("transitionend"),_S=new Map,tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tm.push("scrollEnd");function ka(e,t){_S.set(e,t),lr(t,[e])}var Vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},aa=[],Lr=0,Ip=0;function Fd(){for(var e=Lr,t=Ip=Lr=0;t<e;){var a=aa[t];aa[t++]=null;var i=aa[t];aa[t++]=null;var s=aa[t];aa[t++]=null;var r=aa[t];if(aa[t++]=null,i!==null&&s!==null){var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}r!==0&&wS(a,s,r)}}function Hd(e,t,a,i){aa[Lr++]=e,aa[Lr++]=t,aa[Lr++]=a,aa[Lr++]=i,Ip|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function zp(e,t,a,i){return Hd(e,t,a,i),$u(e)}function dr(e,t){return Hd(e,null,null,t),$u(e)}function wS(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var s=!1,r=e.return;r!==null;)r.childLanes|=a,i=r.alternate,i!==null&&(i.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-$n(a),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=a|536870912),r):null}function $u(e){if(50<El)throw El=0,_m=null,Error(re(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ur={};function lT(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(e,t,a,i){return new lT(e,t,a,i)}function Lp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function li(e,t){var a=e.alternate;return a===null?(a=Hn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ES(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function yu(e,t,a,i,s,r){var o=0;if(i=e,typeof e=="function")Lp(e)&&(o=1);else if(typeof e=="string")o=hj(e,a,Ua.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Hh:return e=Hn(31,a,t,s),e.elementType=Hh,e.lanes=r,e;case Cr:return Gs(a.children,s,r,t);case Gv:o=8,s|=24;break;case Bh:return e=Hn(12,a,t,s|2),e.elementType=Bh,e.lanes=r,e;case Ph:return e=Hn(13,a,t,s),e.elementType=Ph,e.lanes=r,e;case Fh:return e=Hn(19,a,t,s),e.elementType=Fh,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case si:o=10;break e;case qv:o=9;break e;case wp:o=11;break e;case Ep:o=14;break e;case Mi:o=16,i=null;break e}o=29,a=Error(re(130,e===null?"null":typeof e,"")),i=null}return t=Hn(o,a,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function Gs(e,t,a,i){return e=Hn(7,e,i,t),e.lanes=a,e}function Uf(e,t,a){return e=Hn(6,e,null,t),e.lanes=a,e}function NS(e){var t=Hn(18,null,null,0);return t.stateNode=e,t}function Bf(e,t,a){return t=Hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var dx=new WeakMap;function la(e,t){if(typeof e=="object"&&e!==null){var a=dx.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Y0(t)},dx.set(e,t),t)}return{value:e,source:t,stack:Y0(t)}}var Br=[],Pr=0,Ku=null,zl=0,sa=[],ra=0,ds=null,Oa=1,Ia="";function ni(e,t){Br[Pr++]=zl,Br[Pr++]=Ku,Ku=e,zl=t}function kS(e,t,a){sa[ra++]=Oa,sa[ra++]=Ia,sa[ra++]=ds,ds=e;var i=Oa;e=Ia;var s=32-$n(i)-1;i&=~(1<<s),a+=1;var r=32-$n(t)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Oa=1<<32-$n(t)+s|a<<s|i,Ia=r+e}else Oa=1<<r|a<<s|i,Ia=e}function Up(e){e.return!==null&&(ni(e,1),kS(e,1,0))}function Bp(e){for(;e===Ku;)Ku=Br[--Pr],Br[Pr]=null,zl=Br[--Pr],Br[Pr]=null;for(;e===ds;)ds=sa[--ra],sa[ra]=null,Ia=sa[--ra],sa[ra]=null,Oa=sa[--ra],sa[ra]=null}function TS(e,t){sa[ra++]=Oa,sa[ra++]=Ia,sa[ra++]=ds,Oa=t.id,Ia=t.overflow,ds=e}var dn=null,_t=null,Xe=!1,ns=null,ca=!1,nm=Error(re(519));function fs(e){var t=Error(re(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(la(t,e)),nm}function fx(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[un]=e,t[On]=i,a){case"dialog":qe("cancel",t),qe("close",t);break;case"iframe":case"object":case"embed":qe("load",t);break;case"video":case"audio":for(a=0;a<Fl.length;a++)qe(Fl[a],t);break;case"source":qe("error",t);break;case"img":case"image":case"link":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"input":qe("invalid",t),aS(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":qe("invalid",t);break;case"textarea":qe("invalid",t),sS(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||cw(t.textContent,a)?(i.popover!=null&&(qe("beforetoggle",t),qe("toggle",t)),i.onScroll!=null&&qe("scroll",t),i.onScrollEnd!=null&&qe("scrollend",t),i.onClick!=null&&(t.onclick=ri),t=!0):t=!1,t||fs(e,!0)}function hx(e){for(dn=e.return;dn;)switch(dn.tag){case 5:case 31:case 13:ca=!1;return;case 27:case 3:ca=!0;return;default:dn=dn.return}}function _r(e){if(e!==dn)return!1;if(!Xe)return hx(e),Xe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Tm(e.type,e.memoizedProps)),a=!a),a&&_t&&fs(e),hx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));_t=Jx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));_t=Jx(e)}else t===27?(t=_t,ys(e.type)?(e=Rm,Rm=null,_t=e):_t=t):_t=dn?da(e.stateNode.nextSibling):null;return!0}function Js(){_t=dn=null,Xe=!1}function Pf(){var e=ns;return e!==null&&(Rn===null?Rn=e:Rn.push.apply(Rn,e),ns=null),e}function Ll(e){ns===null?ns=[e]:ns.push(e)}var am=Pa(null),fr=null,oi=null;function Li(e,t,a){bt(am,t._currentValue),t._currentValue=a}function ci(e){e._currentValue=am.current,nn(am)}function im(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function sm(e,t,a,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var o=s.child;r=r.firstContext;e:for(;r!==null;){var c=r;r=s;for(var u=0;u<t.length;u++)if(c.context===t[u]){r.lanes|=a,c=r.alternate,c!==null&&(c.lanes|=a),im(r.return,a,e),i||(o=null);break e}r=c.next}}else if(s.tag===18){if(o=s.return,o===null)throw Error(re(341));o.lanes|=a,r=o.alternate,r!==null&&(r.lanes|=a),im(o,a,e),o=null}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}}function Oo(e,t,a,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var o=s.alternate;if(o===null)throw Error(re(387));if(o=o.memoizedProps,o!==null){var c=s.type;Xn(s.pendingProps.value,o.value)||(e!==null?e.push(c):e=[c])}}else if(s===Fu.current){if(o=s.alternate,o===null)throw Error(re(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Gl):e=[Gl])}s=s.return}e!==null&&sm(t,e,a,i),t.flags|=262144}function Wu(e){for(e=e.firstContext;e!==null;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function er(e){fr=e,oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function fn(e){return jS(fr,e)}function Yc(e,t){return fr===null&&er(e),jS(e,t)}function jS(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},oi===null){if(e===null)throw Error(re(308));oi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else oi=oi.next=t;return a}var cT=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},uT=Wt.unstable_scheduleCallback,dT=Wt.unstable_NormalPriority,Gt={$$typeof:si,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pp(){return{controller:new cT,data:new Map,refCount:0}}function fc(e){e.refCount--,e.refCount===0&&uT(dT,function(){e.controller.abort()})}var gl=null,rm=0,po=0,Zr=null;function fT(e,t){if(gl===null){var a=gl=[];rm=0,po=dg(),Zr={status:"pending",value:void 0,then:function(i){a.push(i)}}}return rm++,t.then(mx,mx),t}function mx(){if(--rm===0&&gl!==null){Zr!==null&&(Zr.status="fulfilled");var e=gl;gl=null,po=0,Zr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hT(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),i}var px=je.S;je.S=function(e,t){H_=Yn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&fT(e,t),px!==null&&px(e,t)};var qs=Pa(null);function Fp(){var e=qs.current;return e!==null?e:mt.pooledCache}function vu(e,t){t===null?bt(qs,qs.current):bt(qs,t.pool)}function AS(){var e=Fp();return e===null?null:{parent:Gt._currentValue,pool:e}}var Io=Error(re(460)),Hp=Error(re(474)),Gd=Error(re(542)),Xu={then:function(){}};function gx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function CS(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ri,ri),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bx(e),e;default:if(typeof t.status=="string")t.then(ri,ri);else{if(e=mt,e!==null&&100<e.shellSuspendCounter)throw Error(re(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bx(e),e}throw Ys=t,Io}}function As(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ys=a,Io):a}}var Ys=null;function xx(){if(Ys===null)throw Error(re(459));var e=Ys;return Ys=null,e}function bx(e){if(e===Io||e===Gd)throw Error(re(483))}var Qr=null,Ul=0;function Vc(e){var t=Ul;return Ul+=1,Qr===null&&(Qr=[]),CS(Qr,e,t)}function nl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $c(e,t){throw t.$$typeof===JN?Error(re(525)):(e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function RS(e){function t(g,y){if(e){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function a(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function i(g){for(var y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(g,y){return g=li(g,y),g.index=0,g.sibling=null,g}function r(g,y,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=67108866,y):w):(g.flags|=67108866,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function c(g,y,w,E){return y===null||y.tag!==6?(y=Uf(w,g.mode,E),y.return=g,y):(y=s(y,w),y.return=g,y)}function u(g,y,w,E){var k=w.type;return k===Cr?p(g,y,w.props.children,E,w.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mi&&As(k)===y.type)?(y=s(y,w.props),nl(y,w),y.return=g,y):(y=yu(w.type,w.key,w.props,null,g.mode,E),nl(y,w),y.return=g,y)}function d(g,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Bf(w,g.mode,E),y.return=g,y):(y=s(y,w.children||[]),y.return=g,y)}function p(g,y,w,E,k){return y===null||y.tag!==7?(y=Gs(w,g.mode,E,k),y.return=g,y):(y=s(y,w),y.return=g,y)}function f(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Uf(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bc:return w=yu(y.type,y.key,y.props,null,g.mode,w),nl(w,y),w.return=g,w;case ll:return y=Bf(y,g.mode,w),y.return=g,y;case Mi:return y=As(y),f(g,y,w)}if(cl(y)||Jo(y))return y=Gs(y,g.mode,w,null),y.return=g,y;if(typeof y.then=="function")return f(g,Vc(y),w);if(y.$$typeof===si)return f(g,Yc(g,y),w);$c(g,y)}return null}function m(g,y,w,E){var k=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return k!==null?null:c(g,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bc:return w.key===k?u(g,y,w,E):null;case ll:return w.key===k?d(g,y,w,E):null;case Mi:return w=As(w),m(g,y,w,E)}if(cl(w)||Jo(w))return k!==null?null:p(g,y,w,E,null);if(typeof w.then=="function")return m(g,y,Vc(w),E);if(w.$$typeof===si)return m(g,y,Yc(g,w),E);$c(g,w)}return null}function h(g,y,w,E,k){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return g=g.get(w)||null,c(y,g,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Bc:return g=g.get(E.key===null?w:E.key)||null,u(y,g,E,k);case ll:return g=g.get(E.key===null?w:E.key)||null,d(y,g,E,k);case Mi:return E=As(E),h(g,y,w,E,k)}if(cl(E)||Jo(E))return g=g.get(w)||null,p(y,g,E,k,null);if(typeof E.then=="function")return h(g,y,w,Vc(E),k);if(E.$$typeof===si)return h(g,y,w,Yc(y,E),k);$c(y,E)}return null}function x(g,y,w,E){for(var k=null,M=null,A=y,I=y=0,j=null;A!==null&&I<w.length;I++){A.index>I?(j=A,A=null):j=A.sibling;var N=m(g,A,w[I],E);if(N===null){A===null&&(A=j);break}e&&A&&N.alternate===null&&t(g,A),y=r(N,y,I),M===null?k=N:M.sibling=N,M=N,A=j}if(I===w.length)return a(g,A),Xe&&ni(g,I),k;if(A===null){for(;I<w.length;I++)A=f(g,w[I],E),A!==null&&(y=r(A,y,I),M===null?k=A:M.sibling=A,M=A);return Xe&&ni(g,I),k}for(A=i(A);I<w.length;I++)j=h(A,g,I,w[I],E),j!==null&&(e&&j.alternate!==null&&A.delete(j.key===null?I:j.key),y=r(j,y,I),M===null?k=j:M.sibling=j,M=j);return e&&A.forEach(function(z){return t(g,z)}),Xe&&ni(g,I),k}function b(g,y,w,E){if(w==null)throw Error(re(151));for(var k=null,M=null,A=y,I=y=0,j=null,N=w.next();A!==null&&!N.done;I++,N=w.next()){A.index>I?(j=A,A=null):j=A.sibling;var z=m(g,A,N.value,E);if(z===null){A===null&&(A=j);break}e&&A&&z.alternate===null&&t(g,A),y=r(z,y,I),M===null?k=z:M.sibling=z,M=z,A=j}if(N.done)return a(g,A),Xe&&ni(g,I),k;if(A===null){for(;!N.done;I++,N=w.next())N=f(g,N.value,E),N!==null&&(y=r(N,y,I),M===null?k=N:M.sibling=N,M=N);return Xe&&ni(g,I),k}for(A=i(A);!N.done;I++,N=w.next())N=h(A,g,I,N.value,E),N!==null&&(e&&N.alternate!==null&&A.delete(N.key===null?I:N.key),y=r(N,y,I),M===null?k=N:M.sibling=N,M=N);return e&&A.forEach(function(T){return t(g,T)}),Xe&&ni(g,I),k}function S(g,y,w,E){if(typeof w=="object"&&w!==null&&w.type===Cr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bc:e:{for(var k=w.key;y!==null;){if(y.key===k){if(k=w.type,k===Cr){if(y.tag===7){a(g,y.sibling),E=s(y,w.props.children),E.return=g,g=E;break e}}else if(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mi&&As(k)===y.type){a(g,y.sibling),E=s(y,w.props),nl(E,w),E.return=g,g=E;break e}a(g,y);break}else t(g,y);y=y.sibling}w.type===Cr?(E=Gs(w.props.children,g.mode,E,w.key),E.return=g,g=E):(E=yu(w.type,w.key,w.props,null,g.mode,E),nl(E,w),E.return=g,g=E)}return o(g);case ll:e:{for(k=w.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){a(g,y.sibling),E=s(y,w.children||[]),E.return=g,g=E;break e}else{a(g,y);break}else t(g,y);y=y.sibling}E=Bf(w,g.mode,E),E.return=g,g=E}return o(g);case Mi:return w=As(w),S(g,y,w,E)}if(cl(w))return x(g,y,w,E);if(Jo(w)){if(k=Jo(w),typeof k!="function")throw Error(re(150));return w=k.call(w),b(g,y,w,E)}if(typeof w.then=="function")return S(g,y,Vc(w),E);if(w.$$typeof===si)return S(g,y,Yc(g,w),E);$c(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,y!==null&&y.tag===6?(a(g,y.sibling),E=s(y,w),E.return=g,g=E):(a(g,y),E=Uf(w,g.mode,E),E.return=g,g=E),o(g)):a(g,y)}return function(g,y,w,E){try{Ul=0;var k=S(g,y,w,E);return Qr=null,k}catch(A){if(A===Io||A===Gd)throw A;var M=Hn(29,A,null,g.mode);return M.lanes=E,M.return=g,M}finally{}}}var tr=RS(!0),DS=RS(!1),Oi=!1;function Gp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function om(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function as(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function is(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,rt&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=$u(e),wS(e,null,a),t}return Hd(e,i,t,a),$u(e)}function xl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Xv(e,a)}}function Ff(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var s=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?s=r=o:r=r.next=o,a=a.next}while(a!==null);r===null?s=r=t:r=r.next=t}else s=r=t;a={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var lm=!1;function bl(){if(lm){var e=Zr;if(e!==null)throw e}}function yl(e,t,a,i){lm=!1;var s=e.updateQueue;Oi=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?r=d:o.next=d,o=u;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==o&&(c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=u))}if(r!==null){var f=s.baseState;o=0,p=d=u=null,c=r;do{var m=c.lane&-536870913,h=m!==c.lane;if(h?(Ve&m)===m:(i&m)===m){m!==0&&m===po&&(lm=!0),p!==null&&(p=p.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var x=e,b=c;m=t;var S=a;switch(b.tag){case 1:if(x=b.payload,typeof x=="function"){f=x.call(S,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,m=typeof x=="function"?x.call(S,f,m):x,m==null)break e;f=wt({},f,m);break e;case 2:Oi=!0}}m=c.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=s.callbacks,h===null?s.callbacks=[m]:h.push(m))}else h={lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(d=p=h,u=f):p=p.next=h,o|=m;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;h=c,c=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);p===null&&(u=f),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=p,r===null&&(s.shared.lanes=0),ms|=o,e.lanes=o,e.memoizedState=f}}function MS(e,t){if(typeof e!="function")throw Error(re(191,e));e.call(t)}function OS(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)MS(a[e],t)}var go=Pa(null),Zu=Pa(0);function yx(e,t){e=yi,bt(Zu,e),bt(go,t),yi=e|t.baseLanes}function cm(){bt(Zu,yi),bt(go,go.current)}function qp(){yi=Zu.current,nn(go),nn(Zu)}var Zn=Pa(null),ua=null;function Ui(e){var t=e.alternate;bt(Lt,Lt.current&1),bt(Zn,e),ua===null&&(t===null||go.current!==null||t.memoizedState!==null)&&(ua=e)}function um(e){bt(Lt,Lt.current),bt(Zn,e),ua===null&&(ua=e)}function IS(e){e.tag===22?(bt(Lt,Lt.current),bt(Zn,e),ua===null&&(ua=e)):Bi()}function Bi(){bt(Lt,Lt.current),bt(Zn,Zn.current)}function Fn(e){nn(Zn),ua===e&&(ua=null),nn(Lt)}var Lt=Pa(0);function Qu(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Am(a)||Cm(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gi=0,Le=null,ht=null,Ft=null,Ju=!1,Jr=!1,nr=!1,ed=0,Bl=0,eo=null,mT=0;function Dt(){throw Error(re(321))}function Yp(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Xn(e[a],t[a]))return!1;return!0}function Vp(e,t,a,i,s,r){return gi=r,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,je.H=e===null||e.memoizedState===null?f_:ag,nr=!1,r=a(i,s),nr=!1,Jr&&(r=LS(t,a,i,s)),zS(e),r}function zS(e){je.H=Pl;var t=ht!==null&&ht.next!==null;if(gi=0,Ft=ht=Le=null,Ju=!1,Bl=0,eo=null,t)throw Error(re(300));e===null||qt||(e=e.dependencies,e!==null&&Wu(e)&&(qt=!0))}function LS(e,t,a,i){Le=e;var s=0;do{if(Jr&&(eo=null),Bl=0,Jr=!1,25<=s)throw Error(re(301));if(s+=1,Ft=ht=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}je.H=h_,r=t(a,i)}while(Jr);return r}function pT(){var e=je.H,t=e.useState()[0];return t=typeof t.then=="function"?hc(t):t,e=e.useState()[0],(ht!==null?ht.memoizedState:null)!==e&&(Le.flags|=1024),t}function $p(){var e=ed!==0;return ed=0,e}function Kp(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Wp(e){if(Ju){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ju=!1}gi=0,Ft=ht=Le=null,Jr=!1,Bl=ed=0,eo=null}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?Le.memoizedState=Ft=e:Ft=Ft.next=e,Ft}function Ut(){if(ht===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=Ft===null?Le.memoizedState:Ft.next;if(t!==null)Ft=t,ht=e;else{if(e===null)throw Le.alternate===null?Error(re(467)):Error(re(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ft===null?Le.memoizedState=Ft=e:Ft=Ft.next=e}return Ft}function qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hc(e){var t=Bl;return Bl+=1,eo===null&&(eo=[]),e=CS(eo,e,t),t=Le,(Ft===null?t.memoizedState:Ft.next)===null&&(t=t.alternate,je.H=t===null||t.memoizedState===null?f_:ag),e}function Yd(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hc(e);if(e.$$typeof===si)return fn(e)}throw Error(re(438,String(e)))}function Xp(e){var t=null,a=Le.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=Le.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=qd(),Le.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=ek;return t.index++,a}function xi(e,t){return typeof t=="function"?t(e):t}function Su(e){var t=Ut();return Zp(t,ht,e)}function Zp(e,t,a){var i=e.queue;if(i===null)throw Error(re(311));i.lastRenderedReducer=a;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var c=o=null,u=null,d=t,p=!1;do{var f=d.lane&-536870913;if(f!==d.lane?(Ve&f)===f:(gi&f)===f){var m=d.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),f===po&&(p=!0);else if((gi&m)===m){d=d.next,m===po&&(p=!0);continue}else f={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},u===null?(c=u=f,o=r):u=u.next=f,Le.lanes|=m,ms|=m;f=d.action,nr&&a(r,f),r=d.hasEagerState?d.eagerState:a(r,f)}else m={lane:f,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},u===null?(c=u=m,o=r):u=u.next=m,Le.lanes|=f,ms|=f;d=d.next}while(d!==null&&d!==t);if(u===null?o=r:u.next=c,!Xn(r,e.memoizedState)&&(qt=!0,p&&(a=Zr,a!==null)))throw a;e.memoizedState=r,e.baseState=o,e.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Hf(e){var t=Ut(),a=t.queue;if(a===null)throw Error(re(311));a.lastRenderedReducer=e;var i=a.dispatch,s=a.pending,r=t.memoizedState;if(s!==null){a.pending=null;var o=s=s.next;do r=e(r,o.action),o=o.next;while(o!==s);Xn(r,t.memoizedState)||(qt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,i]}function US(e,t,a){var i=Le,s=Ut(),r=Xe;if(r){if(a===void 0)throw Error(re(407));a=a()}else a=t();var o=!Xn((ht||s).memoizedState,a);if(o&&(s.memoizedState=a,qt=!0),s=s.queue,Qp(FS.bind(null,i,s,e),[e]),s.getSnapshot!==t||o||Ft!==null&&Ft.memoizedState.tag&1){if(i.flags|=2048,xo(9,{destroy:void 0},PS.bind(null,i,s,a,t),null),mt===null)throw Error(re(349));r||gi&127||BS(i,t,a)}return a}function BS(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Le.updateQueue,t===null?(t=qd(),Le.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function PS(e,t,a,i){t.value=a,t.getSnapshot=i,HS(t)&&GS(e)}function FS(e,t,a){return a(function(){HS(t)&&GS(e)})}function HS(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Xn(e,a)}catch{return!0}}function GS(e){var t=dr(e,2);t!==null&&Mn(t,e,2)}function dm(e){var t=vn();if(typeof e=="function"){var a=e;if(e=a(),nr){Ki(!0);try{a()}finally{Ki(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t}function qS(e,t,a,i){return e.baseState=a,Zp(e,ht,typeof i=="function"?i:xi)}function gT(e,t,a,i,s){if($d(e))throw Error(re(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){r.listeners.push(o)}};je.T!==null?a(!0):r.isTransition=!1,i(r),a=t.pending,a===null?(r.next=t.pending=r,YS(t,r)):(r.next=a.next,t.pending=a.next=r)}}function YS(e,t){var a=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=je.T,o={};je.T=o;try{var c=a(s,i),u=je.S;u!==null&&u(o,c),vx(e,t,c)}catch(d){fm(e,t,d)}finally{r!==null&&o.types!==null&&(r.types=o.types),je.T=r}}else try{r=a(s,i),vx(e,t,r)}catch(d){fm(e,t,d)}}function vx(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Sx(e,t,i)},function(i){return fm(e,t,i)}):Sx(e,t,a)}function Sx(e,t,a){t.status="fulfilled",t.value=a,VS(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,YS(e,a)))}function fm(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,VS(t),t=t.next;while(t!==i)}e.action=null}function VS(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $S(e,t){return t}function _x(e,t){if(Xe){var a=mt.formState;if(a!==null){e:{var i=Le;if(Xe){if(_t){t:{for(var s=_t,r=ca;s.nodeType!==8;){if(!r){s=null;break t}if(s=da(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){_t=da(s.nextSibling),i=s.data==="F!";break e}}fs(i)}i=!1}i&&(t=a[0])}}return a=vn(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$S,lastRenderedState:t},a.queue=i,a=c_.bind(null,Le,i),i.dispatch=a,i=dm(!1),r=ng.bind(null,Le,!1,i.queue),i=vn(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,a=gT.bind(null,Le,s,r,a),s.dispatch=a,i.memoizedState=e,[t,a,!1]}function wx(e){var t=Ut();return KS(t,ht,e)}function KS(e,t,a){if(t=Zp(e,t,$S)[0],e=Su(xi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=hc(t)}catch(o){throw o===Io?Gd:o}else i=t;t=Ut();var s=t.queue,r=s.dispatch;return a!==t.memoizedState&&(Le.flags|=2048,xo(9,{destroy:void 0},xT.bind(null,s,a),null)),[i,r,e]}function xT(e,t){e.action=t}function Ex(e){var t=Ut(),a=ht;if(a!==null)return KS(t,a,e);Ut(),t=t.memoizedState,a=Ut();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function xo(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=Le.updateQueue,t===null&&(t=qd(),Le.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function WS(){return Ut().memoizedState}function _u(e,t,a,i){var s=vn();Le.flags|=e,s.memoizedState=xo(1|t,{destroy:void 0},a,i===void 0?null:i)}function Vd(e,t,a,i){var s=Ut();i=i===void 0?null:i;var r=s.memoizedState.inst;ht!==null&&i!==null&&Yp(i,ht.memoizedState.deps)?s.memoizedState=xo(t,r,a,i):(Le.flags|=e,s.memoizedState=xo(1|t,r,a,i))}function Nx(e,t){_u(8390656,8,e,t)}function Qp(e,t){Vd(2048,8,e,t)}function bT(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=qd(),Le.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function XS(e){var t=Ut().memoizedState;return bT({ref:t,nextImpl:e}),function(){if(rt&2)throw Error(re(440));return t.impl.apply(void 0,arguments)}}function ZS(e,t){return Vd(4,2,e,t)}function QS(e,t){return Vd(4,4,e,t)}function JS(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function e_(e,t,a){a=a!=null?a.concat([e]):null,Vd(4,4,JS.bind(null,t,e),a)}function Jp(){}function t_(e,t){var a=Ut();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&Yp(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function n_(e,t){var a=Ut();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&Yp(t,i[1]))return i[0];if(i=e(),nr){Ki(!0);try{e()}finally{Ki(!1)}}return a.memoizedState=[i,t],i}function eg(e,t,a){return a===void 0||gi&1073741824&&!(Ve&261930)?e.memoizedState=t:(e.memoizedState=a,e=q_(),Le.lanes|=e,ms|=e,a)}function a_(e,t,a,i){return Xn(a,t)?a:go.current!==null?(e=eg(e,a,i),Xn(e,t)||(qt=!0),e):!(gi&42)||gi&1073741824&&!(Ve&261930)?(qt=!0,e.memoizedState=a):(e=q_(),Le.lanes|=e,ms|=e,t)}function i_(e,t,a,i,s){var r=ot.p;ot.p=r!==0&&8>r?r:8;var o=je.T,c={};je.T=c,ng(e,!1,t,a);try{var u=s(),d=je.S;if(d!==null&&d(c,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var p=hT(u,i);vl(e,t,p,Kn(e))}else vl(e,t,i,Kn(e))}catch(f){vl(e,t,{then:function(){},status:"rejected",reason:f},Kn())}finally{ot.p=r,o!==null&&c.types!==null&&(o.types=c.types),je.T=o}}function yT(){}function hm(e,t,a,i){if(e.tag!==5)throw Error(re(476));var s=s_(e).queue;i_(e,s,t,Hs,a===null?yT:function(){return r_(e),a(i)})}function s_(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Hs,baseState:Hs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:Hs},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function r_(e){var t=s_(e);t.next===null&&(t=e.alternate.memoizedState),vl(e,t.next.queue,{},Kn())}function tg(){return fn(Gl)}function o_(){return Ut().memoizedState}function l_(){return Ut().memoizedState}function vT(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Kn();e=as(a);var i=is(t,e,a);i!==null&&(Mn(i,t,a),xl(i,t,a)),t={cache:Pp()},e.payload=t;return}t=t.return}}function ST(e,t,a){var i=Kn();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$d(e)?u_(t,a):(a=zp(e,t,a,i),a!==null&&(Mn(a,e,i),d_(a,t,i)))}function c_(e,t,a){var i=Kn();vl(e,t,a,i)}function vl(e,t,a,i){var s={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($d(e))u_(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,c=r(o,a);if(s.hasEagerState=!0,s.eagerState=c,Xn(c,o))return Hd(e,t,s,0),mt===null&&Fd(),!1}catch{}finally{}if(a=zp(e,t,s,i),a!==null)return Mn(a,e,i),d_(a,t,i),!0}return!1}function ng(e,t,a,i){if(i={lane:2,revertLane:dg(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},$d(e)){if(t)throw Error(re(479))}else t=zp(e,a,i,2),t!==null&&Mn(t,e,2)}function $d(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function u_(e,t){Jr=Ju=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function d_(e,t,a){if(a&4194048){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Xv(e,a)}}var Pl={readContext:fn,use:Yd,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};Pl.useEffectEvent=Dt;var f_={readContext:fn,use:Yd,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:fn,useEffect:Nx,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,_u(4194308,4,JS.bind(null,t,e),a)},useLayoutEffect:function(e,t){return _u(4194308,4,e,t)},useInsertionEffect:function(e,t){_u(4,2,e,t)},useMemo:function(e,t){var a=vn();t=t===void 0?null:t;var i=e();if(nr){Ki(!0);try{e()}finally{Ki(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=vn();if(a!==void 0){var s=a(t);if(nr){Ki(!0);try{a(t)}finally{Ki(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=ST.bind(null,Le,e),[i.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:function(e){e=dm(e);var t=e.queue,a=c_.bind(null,Le,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Jp,useDeferredValue:function(e,t){var a=vn();return eg(a,e,t)},useTransition:function(){var e=dm(!1);return e=i_.bind(null,Le,e.queue,!0,!1),vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=Le,s=vn();if(Xe){if(a===void 0)throw Error(re(407));a=a()}else{if(a=t(),mt===null)throw Error(re(349));Ve&127||BS(i,t,a)}s.memoizedState=a;var r={value:a,getSnapshot:t};return s.queue=r,Nx(FS.bind(null,i,r,e),[e]),i.flags|=2048,xo(9,{destroy:void 0},PS.bind(null,i,r,a,t),null),a},useId:function(){var e=vn(),t=mt.identifierPrefix;if(Xe){var a=Ia,i=Oa;a=(i&~(1<<32-$n(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ed++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=mT++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tg,useFormState:_x,useActionState:_x,useOptimistic:function(e){var t=vn();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ng.bind(null,Le,!0,a),a.dispatch=t,[e,t]},useMemoCache:Xp,useCacheRefresh:function(){return vn().memoizedState=vT.bind(null,Le)},useEffectEvent:function(e){var t=vn(),a={impl:e};return t.memoizedState=a,function(){if(rt&2)throw Error(re(440));return a.impl.apply(void 0,arguments)}}},ag={readContext:fn,use:Yd,useCallback:t_,useContext:fn,useEffect:Qp,useImperativeHandle:e_,useInsertionEffect:ZS,useLayoutEffect:QS,useMemo:n_,useReducer:Su,useRef:WS,useState:function(){return Su(xi)},useDebugValue:Jp,useDeferredValue:function(e,t){var a=Ut();return a_(a,ht.memoizedState,e,t)},useTransition:function(){var e=Su(xi)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:hc(e),t]},useSyncExternalStore:US,useId:o_,useHostTransitionStatus:tg,useFormState:wx,useActionState:wx,useOptimistic:function(e,t){var a=Ut();return qS(a,ht,e,t)},useMemoCache:Xp,useCacheRefresh:l_};ag.useEffectEvent=XS;var h_={readContext:fn,use:Yd,useCallback:t_,useContext:fn,useEffect:Qp,useImperativeHandle:e_,useInsertionEffect:ZS,useLayoutEffect:QS,useMemo:n_,useReducer:Hf,useRef:WS,useState:function(){return Hf(xi)},useDebugValue:Jp,useDeferredValue:function(e,t){var a=Ut();return ht===null?eg(a,e,t):a_(a,ht.memoizedState,e,t)},useTransition:function(){var e=Hf(xi)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:hc(e),t]},useSyncExternalStore:US,useId:o_,useHostTransitionStatus:tg,useFormState:Ex,useActionState:Ex,useOptimistic:function(e,t){var a=Ut();return ht!==null?qS(a,ht,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Xp,useCacheRefresh:l_};h_.useEffectEvent=XS;function Gf(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:wt({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var mm={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Kn(),s=as(i);s.payload=t,a!=null&&(s.callback=a),t=is(e,s,i),t!==null&&(Mn(t,e,i),xl(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Kn(),s=as(i);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=is(e,s,i),t!==null&&(Mn(t,e,i),xl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Kn(),i=as(a);i.tag=2,t!=null&&(i.callback=t),t=is(e,i,a),t!==null&&(Mn(t,e,a),xl(t,e,a))}};function kx(e,t,a,i,s,r,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,o):t.prototype&&t.prototype.isPureReactComponent?!Il(a,i)||!Il(s,r):!0}function Tx(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&mm.enqueueReplaceState(t,t.state,null)}function ar(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=wt({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function m_(e){Vu(e)}function p_(e){console.error(e)}function g_(e){Vu(e)}function td(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function jx(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function pm(e,t,a){return a=as(a),a.tag=3,a.payload={element:null},a.callback=function(){td(e,t)},a}function x_(e){return e=as(e),e.tag=3,e}function b_(e,t,a,i){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){jx(t,a,i)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){jx(t,a,i),typeof s!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var c=i.stack;this.componentDidCatch(i.value,{componentStack:c!==null?c:""})})}function _T(e,t,a,i,s){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&Oo(t,a,s,!0),a=Zn.current,a!==null){switch(a.tag){case 31:case 13:return ua===null?rd():a.alternate===null&&Ot===0&&(Ot=3),a.flags&=-257,a.flags|=65536,a.lanes=s,i===Xu?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),eh(e,i,s)),!1;case 22:return a.flags|=65536,i===Xu?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),eh(e,i,s)),!1}throw Error(re(435,a.tag))}return eh(e,i,s),rd(),!1}if(Xe)return t=Zn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==nm&&(e=Error(re(422),{cause:i}),Ll(la(e,a)))):(i!==nm&&(t=Error(re(423),{cause:i}),Ll(la(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=la(i,a),s=pm(e.stateNode,i,s),Ff(e,s),Ot!==4&&(Ot=2)),!1;var r=Error(re(520),{cause:i});if(r=la(r,a),wl===null?wl=[r]:wl.push(r),Ot!==4&&(Ot=2),t===null)return!0;i=la(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=pm(a.stateNode,i,e),Ff(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ss===null||!ss.has(r))))return a.flags|=65536,s&=-s,a.lanes|=s,s=x_(s),b_(s,e,a,i),Ff(a,s),!1}a=a.return}while(a!==null);return!1}var ig=Error(re(461)),qt=!1;function cn(e,t,a,i){t.child=e===null?DS(t,null,a,i):tr(t,e.child,a,i)}function Ax(e,t,a,i,s){a=a.render;var r=t.ref;if("ref"in i){var o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}else o=i;return er(t),i=Vp(e,t,a,o,r,s),c=$p(),e!==null&&!qt?(Kp(e,t,s),bi(e,t,s)):(Xe&&c&&Up(t),t.flags|=1,cn(e,t,i,s),t.child)}function Cx(e,t,a,i,s){if(e===null){var r=a.type;return typeof r=="function"&&!Lp(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,y_(e,t,r,i,s)):(e=yu(a.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!sg(e,s)){var o=r.memoizedProps;if(a=a.compare,a=a!==null?a:Il,a(o,i)&&e.ref===t.ref)return bi(e,t,s)}return t.flags|=1,e=li(r,i),e.ref=t.ref,e.return=t,t.child=e}function y_(e,t,a,i,s){if(e!==null){var r=e.memoizedProps;if(Il(r,i)&&e.ref===t.ref)if(qt=!1,t.pendingProps=i=r,sg(e,s))e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,bi(e,t,s)}return gm(e,t,a,i,s)}function v_(e,t,a,i){var s=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|a:a,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,t.child=null;return Rx(e,t,r,a,i)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vu(t,r!==null?r.cachePool:null),r!==null?yx(t,r):cm(),IS(t);else return i=t.lanes=536870912,Rx(e,t,r!==null?r.baseLanes|a:a,a,i)}else r!==null?(vu(t,r.cachePool),yx(t,r),Bi(),t.memoizedState=null):(e!==null&&vu(t,null),cm(),Bi());return cn(e,t,s,a),t.child}function dl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Rx(e,t,a,i,s){var r=Fp();return r=r===null?null:{parent:Gt._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&vu(t,null),cm(),IS(t),e!==null&&Oo(e,t,i,!0),t.childLanes=s,null}function wu(e,t){return t=nd({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Dx(e,t,a){return tr(t,e.child,null,a),e=wu(t,t.pendingProps),e.flags|=2,Fn(t),t.memoizedState=null,e}function wT(e,t,a){var i=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Xe){if(i.mode==="hidden")return e=wu(t,i),t.lanes=536870912,dl(null,e);if(um(t),(e=_t)?(e=fw(e,ca),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ds!==null?{id:Oa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},a=NS(e),a.return=t,t.child=a,dn=t,_t=null)):e=null,e===null)throw fs(t);return t.lanes=536870912,null}return wu(t,i)}var r=e.memoizedState;if(r!==null){var o=r.dehydrated;if(um(t),s)if(t.flags&256)t.flags&=-257,t=Dx(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(re(558));else if(qt||Oo(e,t,a,!1),s=(a&e.childLanes)!==0,qt||s){if(i=mt,i!==null&&(o=Zv(i,a),o!==0&&o!==r.retryLane))throw r.retryLane=o,dr(e,o),Mn(i,e,o),ig;rd(),t=Dx(e,t,a)}else e=r.treeContext,_t=da(o.nextSibling),dn=t,Xe=!0,ns=null,ca=!1,e!==null&&TS(t,e),t=wu(t,i),t.flags|=4096;return t}return e=li(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Eu(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(re(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function gm(e,t,a,i,s){return er(t),a=Vp(e,t,a,i,void 0,s),i=$p(),e!==null&&!qt?(Kp(e,t,s),bi(e,t,s)):(Xe&&i&&Up(t),t.flags|=1,cn(e,t,a,s),t.child)}function Mx(e,t,a,i,s,r){return er(t),t.updateQueue=null,a=LS(t,i,a,s),zS(e),i=$p(),e!==null&&!qt?(Kp(e,t,r),bi(e,t,r)):(Xe&&i&&Up(t),t.flags|=1,cn(e,t,a,r),t.child)}function Ox(e,t,a,i,s){if(er(t),t.stateNode===null){var r=Ur,o=a.contextType;typeof o=="object"&&o!==null&&(r=fn(o)),r=new a(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=mm,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},Gp(t),o=a.contextType,r.context=typeof o=="object"&&o!==null?fn(o):Ur,r.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(Gf(t,a,o,i),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(o=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),o!==r.state&&mm.enqueueReplaceState(r,r.state,null),yl(t,i,r,s),bl(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var c=t.memoizedProps,u=ar(a,c);r.props=u;var d=r.context,p=a.contextType;o=Ur,typeof p=="object"&&p!==null&&(o=fn(p));var f=a.getDerivedStateFromProps;p=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,p||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(c||d!==o)&&Tx(t,r,i,o),Oi=!1;var m=t.memoizedState;r.state=m,yl(t,i,r,s),bl(),d=t.memoizedState,c||m!==d||Oi?(typeof f=="function"&&(Gf(t,a,f,i),d=t.memoizedState),(u=Oi||kx(t,a,u,i,m,d,o))?(p||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=d),r.props=i,r.state=d,r.context=o,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,om(e,t),o=t.memoizedProps,p=ar(a,o),r.props=p,f=t.pendingProps,m=r.context,d=a.contextType,u=Ur,typeof d=="object"&&d!==null&&(u=fn(d)),c=a.getDerivedStateFromProps,(d=typeof c=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o!==f||m!==u)&&Tx(t,r,i,u),Oi=!1,m=t.memoizedState,r.state=m,yl(t,i,r,s),bl();var h=t.memoizedState;o!==f||m!==h||Oi||e!==null&&e.dependencies!==null&&Wu(e.dependencies)?(typeof c=="function"&&(Gf(t,a,c,i),h=t.memoizedState),(p=Oi||kx(t,a,p,i,m,h,u)||e!==null&&e.dependencies!==null&&Wu(e.dependencies))?(d||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,h,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,h,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),r.props=i,r.state=h,r.context=u,i=p):(typeof r.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Eu(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=tr(t,e.child,null,s),t.child=tr(t,null,a,s)):cn(e,t,a,s),t.memoizedState=r.state,e=t.child):e=bi(e,t,s),e}function Ix(e,t,a,i){return Js(),t.flags|=256,cn(e,t,a,i),t.child}var qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(e){return{baseLanes:e,cachePool:AS()}}function Vf(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=qn),e}function S_(e,t,a){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,o;if((o=r)||(o=e!==null&&e.memoizedState===null?!1:(Lt.current&2)!==0),o&&(s=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(Xe){if(s?Ui(t):Bi(),(e=_t)?(e=fw(e,ca),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ds!==null?{id:Oa,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},a=NS(e),a.return=t,t.child=a,dn=t,_t=null)):e=null,e===null)throw fs(t);return Cm(e)?t.lanes=32:t.lanes=536870912,null}var c=i.children;return i=i.fallback,s?(Bi(),s=t.mode,c=nd({mode:"hidden",children:c},s),i=Gs(i,s,a,null),c.return=t,i.return=t,c.sibling=i,t.child=c,i=t.child,i.memoizedState=Yf(a),i.childLanes=Vf(e,o,a),t.memoizedState=qf,dl(null,i)):(Ui(t),xm(t,c))}var u=e.memoizedState;if(u!==null&&(c=u.dehydrated,c!==null)){if(r)t.flags&256?(Ui(t),t.flags&=-257,t=$f(e,t,a)):t.memoizedState!==null?(Bi(),t.child=e.child,t.flags|=128,t=null):(Bi(),c=i.fallback,s=t.mode,i=nd({mode:"visible",children:i.children},s),c=Gs(c,s,a,null),c.flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,tr(t,e.child,null,a),i=t.child,i.memoizedState=Yf(a),i.childLanes=Vf(e,o,a),t.memoizedState=qf,t=dl(null,i));else if(Ui(t),Cm(c)){if(o=c.nextSibling&&c.nextSibling.dataset,o)var d=o.dgst;o=d,i=Error(re(419)),i.stack="",i.digest=o,Ll({value:i,source:null,stack:null}),t=$f(e,t,a)}else if(qt||Oo(e,t,a,!1),o=(a&e.childLanes)!==0,qt||o){if(o=mt,o!==null&&(i=Zv(o,a),i!==0&&i!==u.retryLane))throw u.retryLane=i,dr(e,i),Mn(o,e,i),ig;Am(c)||rd(),t=$f(e,t,a)}else Am(c)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,_t=da(c.nextSibling),dn=t,Xe=!0,ns=null,ca=!1,e!==null&&TS(t,e),t=xm(t,i.children),t.flags|=4096);return t}return s?(Bi(),c=i.fallback,s=t.mode,u=e.child,d=u.sibling,i=li(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,d!==null?c=li(d,c):(c=Gs(c,s,a,null),c.flags|=2),c.return=t,i.return=t,i.sibling=c,t.child=i,dl(null,i),i=t.child,c=e.child.memoizedState,c===null?c=Yf(a):(s=c.cachePool,s!==null?(u=Gt._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=AS(),c={baseLanes:c.baseLanes|a,cachePool:s}),i.memoizedState=c,i.childLanes=Vf(e,o,a),t.memoizedState=qf,dl(e.child,i)):(Ui(t),a=e.child,e=a.sibling,a=li(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function xm(e,t){return t=nd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function nd(e,t){return e=Hn(22,e,null,t),e.lanes=0,e}function $f(e,t,a){return tr(t,e.child,null,a),e=xm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zx(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),im(e.return,t,a)}function Kf(e,t,a,i,s,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:s,treeForkCount:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=a,o.tailMode=s,o.treeForkCount=r)}function __(e,t,a){var i=t.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var o=Lt.current,c=(o&2)!==0;if(c?(o=o&1|2,t.flags|=128):o&=1,bt(Lt,o),cn(e,t,i,a),i=Xe?zl:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zx(e,a,t);else if(e.tag===19)zx(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&Qu(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),Kf(t,!1,s,a,r,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qu(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}Kf(t,!0,a,null,r,i);break;case"together":Kf(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function bi(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ms|=t.lanes,!(a&t.childLanes))if(e!==null){if(Oo(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,a=li(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=li(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function sg(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Wu(e)))}function ET(e,t,a){switch(t.tag){case 3:Hu(t,t.stateNode.containerInfo),Li(t,Gt,e.memoizedState.cache),Js();break;case 27:case 5:Yh(t);break;case 4:Hu(t,t.stateNode.containerInfo);break;case 10:Li(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,um(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ui(t),t.flags|=128,null):a&t.child.childLanes?S_(e,t,a):(Ui(t),e=bi(e,t,a),e!==null?e.sibling:null);Ui(t);break;case 19:var s=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(Oo(e,t,a,!1),i=(a&t.childLanes)!==0),s){if(i)return __(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),bt(Lt,Lt.current),i)break;return null;case 22:return t.lanes=0,v_(e,t,a,t.pendingProps);case 24:Li(t,Gt,e.memoizedState.cache)}return bi(e,t,a)}function w_(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)qt=!0;else{if(!sg(e,a)&&!(t.flags&128))return qt=!1,ET(e,t,a);qt=!!(e.flags&131072)}else qt=!1,Xe&&t.flags&1048576&&kS(t,zl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=As(t.elementType),t.type=e,typeof e=="function")Lp(e)?(i=ar(e,i),t.tag=1,t=Ox(null,t,e,i,a)):(t.tag=0,t=gm(null,t,e,i,a));else{if(e!=null){var s=e.$$typeof;if(s===wp){t.tag=11,t=Ax(null,t,e,i,a);break e}else if(s===Ep){t.tag=14,t=Cx(null,t,e,i,a);break e}}throw t=Gh(e)||e,Error(re(306,t,""))}}return t;case 0:return gm(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,s=ar(i,t.pendingProps),Ox(e,t,i,s,a);case 3:e:{if(Hu(t,t.stateNode.containerInfo),e===null)throw Error(re(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,om(e,t),yl(t,i,null,a);var o=t.memoizedState;if(i=o.cache,Li(t,Gt,i),i!==r.cache&&sm(t,[Gt],a,!0),bl(),i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Ix(e,t,i,a);break e}else if(i!==s){s=la(Error(re(424)),t),Ll(s),t=Ix(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(_t=da(e.firstChild),dn=t,Xe=!0,ns=null,ca=!0,a=DS(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Js(),i===s){t=bi(e,t,a);break e}cn(e,t,i,a)}t=t.child}return t;case 26:return Eu(e,t),e===null?(a=nb(t.type,null,t.pendingProps,null))?t.memoizedState=a:Xe||(a=t.type,e=t.pendingProps,i=ud(ts.current).createElement(a),i[un]=t,i[On]=e,hn(i,a,e),tn(i),t.stateNode=i):t.memoizedState=nb(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Yh(t),e===null&&Xe&&(i=t.stateNode=hw(t.type,t.pendingProps,ts.current),dn=t,ca=!0,s=_t,ys(t.type)?(Rm=s,_t=da(i.firstChild)):_t=s),cn(e,t,t.pendingProps.children,a),Eu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Xe&&((s=i=_t)&&(i=ej(i,t.type,t.pendingProps,ca),i!==null?(t.stateNode=i,dn=t,_t=da(i.firstChild),ca=!1,s=!0):s=!1),s||fs(t)),Yh(t),s=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,i=r.children,Tm(s,r)?i=null:o!==null&&Tm(s,o)&&(t.flags|=32),t.memoizedState!==null&&(s=Vp(e,t,pT,null,null,a),Gl._currentValue=s),Eu(e,t),cn(e,t,i,a),t.child;case 6:return e===null&&Xe&&((e=a=_t)&&(a=tj(a,t.pendingProps,ca),a!==null?(t.stateNode=a,dn=t,_t=null,e=!0):e=!1),e||fs(t)),null;case 13:return S_(e,t,a);case 4:return Hu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=tr(t,null,i,a):cn(e,t,i,a),t.child;case 11:return Ax(e,t,t.type,t.pendingProps,a);case 7:return cn(e,t,t.pendingProps,a),t.child;case 8:return cn(e,t,t.pendingProps.children,a),t.child;case 12:return cn(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Li(t,t.type,i.value),cn(e,t,i.children,a),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,er(t),s=fn(s),i=i(s),t.flags|=1,cn(e,t,i,a),t.child;case 14:return Cx(e,t,t.type,t.pendingProps,a);case 15:return y_(e,t,t.type,t.pendingProps,a);case 19:return __(e,t,a);case 31:return wT(e,t,a);case 22:return v_(e,t,a,t.pendingProps);case 24:return er(t),i=fn(Gt),e===null?(s=Fp(),s===null&&(s=mt,r=Pp(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=a),s=r),t.memoizedState={parent:i,cache:s},Gp(t),Li(t,Gt,s)):(e.lanes&a&&(om(e,t),yl(t,null,null,a),bl()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Li(t,Gt,i)):(i=r.cache,Li(t,Gt,i),i!==s.cache&&sm(t,[Gt],a,!0))),cn(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(re(156,t.tag))}function Wa(e){e.flags|=4}function Wf(e,t,a,i,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if($_())e.flags|=8192;else throw Ys=Xu,Hp}else e.flags&=-16777217}function Lx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!gw(t))if($_())e.flags|=8192;else throw Ys=Xu,Hp}function Kc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Kv():536870912,e.lanes|=t,bo|=t)}function al(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function NT(e,t,a){var i=t.pendingProps;switch(Bp(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return St(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ci(Gt),fo(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_r(t)?Wa(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pf())),St(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(Wa(t),r!==null?(St(t),Lx(t,r)):(St(t),Wf(t,s,null,i,a))):r?r!==e.memoizedState?(Wa(t),St(t),Lx(t,r)):(St(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Wa(t),St(t),Wf(t,s,e,i,a)),null;case 27:if(Gu(t),a=ts.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Wa(t);else{if(!i){if(t.stateNode===null)throw Error(re(166));return St(t),null}e=Ua.current,_r(t)?fx(t):(e=hw(s,i,a),t.stateNode=e,Wa(t))}return St(t),null;case 5:if(Gu(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Wa(t);else{if(!i){if(t.stateNode===null)throw Error(re(166));return St(t),null}if(r=Ua.current,_r(t))fx(t);else{var o=ud(ts.current);switch(r){case 1:r=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?o.createElement(s,{is:i.is}):o.createElement(s)}}r[un]=t,r[On]=i;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=r;e:switch(hn(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Wa(t)}}return St(t),Wf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Wa(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(re(166));if(e=ts.current,_r(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,s=dn,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[un]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||cw(e.nodeValue,a)),e||fs(t,!0)}else e=ud(e).createTextNode(i),e[un]=t,t.stateNode=e}return St(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=_r(t),a!==null){if(e===null){if(!i)throw Error(re(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(557));e[un]=t}else Js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),e=!1}else a=Pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Fn(t),t):(Fn(t),null);if(t.flags&128)throw Error(re(558))}return St(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=_r(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(re(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[un]=t}else Js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),s=!1}else s=Pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Fn(t),t):(Fn(t),null)}return Fn(t),t.flags&128?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Kc(t,t.updateQueue),St(t),null);case 4:return fo(),e===null&&fg(t.stateNode.containerInfo),St(t),null;case 10:return ci(t.type),St(t),null;case 19:if(nn(Lt),i=t.memoizedState,i===null)return St(t),null;if(s=(t.flags&128)!==0,r=i.rendering,r===null)if(s)al(i,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Qu(e),r!==null){for(t.flags|=128,al(i,!1),e=r.updateQueue,t.updateQueue=e,Kc(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ES(a,e),a=a.sibling;return bt(Lt,Lt.current&1|2),Xe&&ni(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Yn()>id&&(t.flags|=128,s=!0,al(i,!1),t.lanes=4194304)}else{if(!s)if(e=Qu(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Kc(t,e),al(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!Xe)return St(t),null}else 2*Yn()-i.renderingStartTime>id&&a!==536870912&&(t.flags|=128,s=!0,al(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Yn(),e.sibling=null,a=Lt.current,bt(Lt,s?a&1|2:a&1),Xe&&ni(t,i.treeForkCount),e):(St(t),null);case 22:case 23:return Fn(t),qp(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?a&536870912&&!(t.flags&128)&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),a=t.updateQueue,a!==null&&Kc(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&nn(qs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ci(Gt),St(t),null;case 25:return null;case 30:return null}throw Error(re(156,t.tag))}function kT(e,t){switch(Bp(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ci(Gt),fo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Gu(t),null;case 31:if(t.memoizedState!==null){if(Fn(t),t.alternate===null)throw Error(re(340));Js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nn(Lt),null;case 4:return fo(),null;case 10:return ci(t.type),null;case 22:case 23:return Fn(t),qp(),e!==null&&nn(qs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ci(Gt),null;case 25:return null;default:return null}}function E_(e,t){switch(Bp(t),t.tag){case 3:ci(Gt),fo();break;case 26:case 27:case 5:Gu(t);break;case 4:fo();break;case 31:t.memoizedState!==null&&Fn(t);break;case 13:Fn(t);break;case 19:nn(Lt);break;case 10:ci(t.type);break;case 22:case 23:Fn(t),qp(),e!==null&&nn(qs);break;case 24:ci(Gt)}}function mc(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var s=i.next;a=s;do{if((a.tag&e)===e){i=void 0;var r=a.create,o=a.inst;i=r(),o.destroy=i}a=a.next}while(a!==s)}}catch(c){ct(t,t.return,c)}}function hs(e,t,a){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var o=i.inst,c=o.destroy;if(c!==void 0){o.destroy=void 0,s=t;var u=a,d=c;try{d()}catch(p){ct(s,u,p)}}}i=i.next}while(i!==r)}}catch(p){ct(t,t.return,p)}}function N_(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{OS(t,a)}catch(i){ct(e,e.return,i)}}}function k_(e,t,a){a.props=ar(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){ct(e,t,i)}}function Sl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(s){ct(e,t,s)}}function za(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(s){ct(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){ct(e,t,s)}else a.current=null}function T_(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(s){ct(e,e.return,s)}}function Xf(e,t,a){try{var i=e.stateNode;KT(i,e.type,a,t),i[On]=t}catch(s){ct(e,e.return,s)}}function j_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ys(e.type)||e.tag===4}function Zf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||j_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ys(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bm(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ri));else if(i!==4&&(i===27&&ys(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(bm(e,t,a),e=e.sibling;e!==null;)bm(e,t,a),e=e.sibling}function ad(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&ys(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ad(e,t,a),e=e.sibling;e!==null;)ad(e,t,a),e=e.sibling}function A_(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);hn(t,i,a),t[un]=e,t[On]=a}catch(r){ct(e,e.return,r)}}var ii=!1,Ht=!1,Qf=!1,Ux=typeof WeakSet=="function"?WeakSet:Set,en=null;function TT(e,t){if(e=e.containerInfo,Nm=md,e=gS(e),Op(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var o=0,c=-1,u=-1,d=0,p=0,f=e,m=null;t:for(;;){for(var h;f!==a||s!==0&&f.nodeType!==3||(c=o+s),f!==r||i!==0&&f.nodeType!==3||(u=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===a&&++d===s&&(c=o),m===r&&++p===i&&(u=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}a=c===-1||u===-1?null:{start:c,end:u}}else a=null}a=a||{start:0,end:0}}else a=null;for(km={focusedElem:e,selectionRange:a},md=!1,en=t;en!==null;)if(t=en,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,en=e;else for(;en!==null;){switch(t=en,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,a=t,s=r.memoizedProps,r=r.memoizedState,i=a.stateNode;try{var x=ar(a.type,s);e=i.getSnapshotBeforeUpdate(x,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(b){ct(a,a.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)jm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(re(163))}if(e=t.sibling,e!==null){e.return=t.return,en=e;break}en=t.return}}function C_(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Za(e,a),i&4&&mc(5,a);break;case 1:if(Za(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){ct(a,a.return,o)}else{var s=ar(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ct(a,a.return,o)}}i&64&&N_(a),i&512&&Sl(a,a.return);break;case 3:if(Za(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{OS(e,t)}catch(o){ct(a,a.return,o)}}break;case 27:t===null&&i&4&&A_(a);case 26:case 5:Za(e,a),t===null&&i&4&&T_(a),i&512&&Sl(a,a.return);break;case 12:Za(e,a);break;case 31:Za(e,a),i&4&&M_(e,a);break;case 13:Za(e,a),i&4&&O_(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=zT.bind(null,a),nj(e,a))));break;case 22:if(i=a.memoizedState!==null||ii,!i){t=t!==null&&t.memoizedState!==null||Ht,s=ii;var r=Ht;ii=i,(Ht=t)&&!r?Ja(e,a,(a.subtreeFlags&8772)!==0):Za(e,a),ii=s,Ht=r}break;case 30:break;default:Za(e,a)}}function R_(e){var t=e.alternate;t!==null&&(e.alternate=null,R_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tt=null,Cn=!1;function Xa(e,t,a){for(a=a.child;a!==null;)D_(e,t,a),a=a.sibling}function D_(e,t,a){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(oc,a)}catch{}switch(a.tag){case 26:Ht||za(a,t),Xa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ht||za(a,t);var i=Tt,s=Cn;ys(a.type)&&(Tt=a.stateNode,Cn=!1),Xa(e,t,a),Nl(a.stateNode),Tt=i,Cn=s;break;case 5:Ht||za(a,t);case 6:if(i=Tt,s=Cn,Tt=null,Xa(e,t,a),Tt=i,Cn=s,Tt!==null)if(Cn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(a.stateNode)}catch(r){ct(a,t,r)}else try{Tt.removeChild(a.stateNode)}catch(r){ct(a,t,r)}break;case 18:Tt!==null&&(Cn?(e=Tt,Zx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),_o(e)):Zx(Tt,a.stateNode));break;case 4:i=Tt,s=Cn,Tt=a.stateNode.containerInfo,Cn=!0,Xa(e,t,a),Tt=i,Cn=s;break;case 0:case 11:case 14:case 15:hs(2,a,t),Ht||hs(4,a,t),Xa(e,t,a);break;case 1:Ht||(za(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&k_(a,t,i)),Xa(e,t,a);break;case 21:Xa(e,t,a);break;case 22:Ht=(i=Ht)||a.memoizedState!==null,Xa(e,t,a),Ht=i;break;default:Xa(e,t,a)}}function M_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_o(e)}catch(a){ct(t,t.return,a)}}}function O_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_o(e)}catch(a){ct(t,t.return,a)}}function jT(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ux),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ux),t;default:throw Error(re(435,e.tag))}}function Wc(e,t){var a=jT(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var s=LT.bind(null,e,i);i.then(s,s)}})}function Tn(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var s=a[i],r=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 27:if(ys(c.type)){Tt=c.stateNode,Cn=!1;break e}break;case 5:Tt=c.stateNode,Cn=!1;break e;case 3:case 4:Tt=c.stateNode.containerInfo,Cn=!0;break e}c=c.return}if(Tt===null)throw Error(re(160));D_(r,o,s),Tt=null,Cn=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)I_(t,e),t=t.sibling}var va=null;function I_(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(t,e),jn(e),i&4&&(hs(3,e,e.return),mc(3,e),hs(5,e,e.return));break;case 1:Tn(t,e),jn(e),i&512&&(Ht||a===null||za(a,a.return)),i&64&&ii&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var s=va;if(Tn(t,e),jn(e),i&512&&(Ht||a===null||za(a,a.return)),i&4){var r=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[uc]||r[un]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),hn(r,i,a),r[un]=e,tn(r),i=r;break e;case"link":var o=ib("link","href",s).get(i+(a.href||""));if(o){for(var c=0;c<o.length;c++)if(r=o[c],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(c,1);break t}}r=s.createElement(i),hn(r,i,a),s.head.appendChild(r);break;case"meta":if(o=ib("meta","content",s).get(i+(a.content||""))){for(c=0;c<o.length;c++)if(r=o[c],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(c,1);break t}}r=s.createElement(i),hn(r,i,a),s.head.appendChild(r);break;default:throw Error(re(468,i))}r[un]=e,tn(r),i=r}e.stateNode=i}else sb(s,e.type,e.stateNode);else e.stateNode=ab(s,i,e.memoizedProps);else r!==i?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,i===null?sb(s,e.type,e.stateNode):ab(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Xf(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tn(t,e),jn(e),i&512&&(Ht||a===null||za(a,a.return)),a!==null&&i&4&&Xf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tn(t,e),jn(e),i&512&&(Ht||a===null||za(a,a.return)),e.flags&32){s=e.stateNode;try{mo(s,"")}catch(x){ct(e,e.return,x)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,Xf(e,s,a!==null?a.memoizedProps:s)),i&1024&&(Qf=!0);break;case 6:if(Tn(t,e),jn(e),i&4){if(e.stateNode===null)throw Error(re(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(x){ct(e,e.return,x)}}break;case 3:if(Tu=null,s=va,va=dd(t.containerInfo),Tn(t,e),va=s,jn(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(t.containerInfo)}catch(x){ct(e,e.return,x)}Qf&&(Qf=!1,z_(e));break;case 4:i=va,va=dd(e.stateNode.containerInfo),Tn(t,e),jn(e),va=i;break;case 12:Tn(t,e),jn(e);break;case 31:Tn(t,e),jn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Wc(e,i)));break;case 13:Tn(t,e),jn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kd=Yn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Wc(e,i)));break;case 22:s=e.memoizedState!==null;var u=a!==null&&a.memoizedState!==null,d=ii,p=Ht;if(ii=d||s,Ht=p||u,Tn(t,e),Ht=p,ii=d,jn(e),i&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||u||ii||Ht||Cs(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){u=a=t;try{if(r=u.stateNode,s)o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{c=u.stateNode;var f=u.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;c.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(x){ct(u,u.return,x)}}}else if(t.tag===6){if(a===null){u=t;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(x){ct(u,u.return,x)}}}else if(t.tag===18){if(a===null){u=t;try{var h=u.stateNode;s?Qx(h,!0):Qx(u.stateNode,!1)}catch(x){ct(u,u.return,x)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Wc(e,a))));break;case 19:Tn(t,e),jn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Wc(e,i)));break;case 30:break;case 21:break;default:Tn(t,e),jn(e)}}function jn(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(j_(i)){a=i;break}i=i.return}if(a==null)throw Error(re(160));switch(a.tag){case 27:var s=a.stateNode,r=Zf(e);ad(e,r,s);break;case 5:var o=a.stateNode;a.flags&32&&(mo(o,""),a.flags&=-33);var c=Zf(e);ad(e,c,o);break;case 3:case 4:var u=a.stateNode.containerInfo,d=Zf(e);bm(e,d,u);break;default:throw Error(re(161))}}catch(p){ct(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;z_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Za(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)C_(e,t.alternate,t),t=t.sibling}function Cs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:hs(4,t,t.return),Cs(t);break;case 1:za(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&k_(t,t.return,a),Cs(t);break;case 27:Nl(t.stateNode);case 26:case 5:za(t,t.return),Cs(t);break;case 22:t.memoizedState===null&&Cs(t);break;case 30:Cs(t);break;default:Cs(t)}e=e.sibling}}function Ja(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,o=r.flags;switch(r.tag){case 0:case 11:case 15:Ja(s,r,a),mc(4,r);break;case 1:if(Ja(s,r,a),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(d){ct(i,i.return,d)}if(i=r,s=i.updateQueue,s!==null){var c=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)MS(u[s],c)}catch(d){ct(i,i.return,d)}}a&&o&64&&N_(r),Sl(r,r.return);break;case 27:A_(r);case 26:case 5:Ja(s,r,a),a&&i===null&&o&4&&T_(r),Sl(r,r.return);break;case 12:Ja(s,r,a);break;case 31:Ja(s,r,a),a&&o&4&&M_(s,r);break;case 13:Ja(s,r,a),a&&o&4&&O_(s,r);break;case 22:r.memoizedState===null&&Ja(s,r,a),Sl(r,r.return);break;case 30:break;default:Ja(s,r,a)}t=t.sibling}}function rg(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&fc(a))}function og(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fc(e))}function pa(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)L_(e,t,a,i),t=t.sibling}function L_(e,t,a,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:pa(e,t,a,i),s&2048&&mc(9,t);break;case 1:pa(e,t,a,i);break;case 3:pa(e,t,a,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fc(e)));break;case 12:if(s&2048){pa(e,t,a,i),e=t.stateNode;try{var r=t.memoizedProps,o=r.id,c=r.onPostCommit;typeof c=="function"&&c(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){ct(t,t.return,u)}}else pa(e,t,a,i);break;case 31:pa(e,t,a,i);break;case 13:pa(e,t,a,i);break;case 23:break;case 22:r=t.stateNode,o=t.alternate,t.memoizedState!==null?r._visibility&2?pa(e,t,a,i):_l(e,t):r._visibility&2?pa(e,t,a,i):(r._visibility|=2,kr(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),s&2048&&rg(o,t);break;case 24:pa(e,t,a,i),s&2048&&og(t.alternate,t);break;default:pa(e,t,a,i)}}function kr(e,t,a,i,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,o=t,c=a,u=i,d=o.flags;switch(o.tag){case 0:case 11:case 15:kr(r,o,c,u,s),mc(8,o);break;case 23:break;case 22:var p=o.stateNode;o.memoizedState!==null?p._visibility&2?kr(r,o,c,u,s):_l(r,o):(p._visibility|=2,kr(r,o,c,u,s)),s&&d&2048&&rg(o.alternate,o);break;case 24:kr(r,o,c,u,s),s&&d&2048&&og(o.alternate,o);break;default:kr(r,o,c,u,s)}t=t.sibling}}function _l(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,s=i.flags;switch(i.tag){case 22:_l(a,i),s&2048&&rg(i.alternate,i);break;case 24:_l(a,i),s&2048&&og(i.alternate,i);break;default:_l(a,i)}t=t.sibling}}var fl=8192;function wr(e,t,a){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)U_(e,t,a),e=e.sibling}function U_(e,t,a){switch(e.tag){case 26:wr(e,t,a),e.flags&fl&&e.memoizedState!==null&&mj(a,va,e.memoizedState,e.memoizedProps);break;case 5:wr(e,t,a);break;case 3:case 4:var i=va;va=dd(e.stateNode.containerInfo),wr(e,t,a),va=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=fl,fl=16777216,wr(e,t,a),fl=i):wr(e,t,a));break;default:wr(e,t,a)}}function B_(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function il(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];en=i,F_(i,e)}B_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)P_(e),e=e.sibling}function P_(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&hs(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Nu(e)):il(e);break;default:il(e)}}function Nu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];en=i,F_(i,e)}B_(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:hs(8,t,t.return),Nu(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Nu(t));break;default:Nu(t)}e=e.sibling}}function F_(e,t){for(;en!==null;){var a=en;switch(a.tag){case 0:case 11:case 15:hs(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:fc(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,en=i;else e:for(a=e;en!==null;){i=en;var s=i.sibling,r=i.return;if(R_(i),i===a){en=null;break e}if(s!==null){s.return=r,en=s;break e}en=r}}}var AT={getCacheForType:function(e){var t=fn(Gt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return fn(Gt).controller.signal}},CT=typeof WeakMap=="function"?WeakMap:Map,rt=0,mt=null,Ye=null,Ve=0,lt=0,Bn=null,Xi=!1,zo=!1,lg=!1,yi=0,Ot=0,ms=0,Vs=0,cg=0,qn=0,bo=0,wl=null,Rn=null,ym=!1,Kd=0,H_=0,id=1/0,sd=null,ss=null,$t=0,rs=null,yo=null,ui=0,vm=0,Sm=null,G_=null,El=0,_m=null;function Kn(){return rt&2&&Ve!==0?Ve&-Ve:je.T!==null?dg():Qv()}function q_(){if(qn===0)if(!(Ve&536870912)||Xe){var e=Fc;Fc<<=1,!(Fc&3932160)&&(Fc=262144),qn=e}else qn=536870912;return e=Zn.current,e!==null&&(e.flags|=32),qn}function Mn(e,t,a){(e===mt&&(lt===2||lt===9)||e.cancelPendingCommit!==null)&&(vo(e,0),Zi(e,Ve,qn,!1)),cc(e,a),(!(rt&2)||e!==mt)&&(e===mt&&(!(rt&2)&&(Vs|=a),Ot===4&&Zi(e,Ve,qn,!1)),Fa(e))}function Y_(e,t,a){if(rt&6)throw Error(re(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||lc(e,t),s=i?MT(e,t):Jf(e,t,!0),r=i;do{if(s===0){zo&&!i&&Zi(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!RT(a)){s=Jf(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var c=e;s=wl;var u=c.current.memoizedState.isDehydrated;if(u&&(vo(c,o).flags|=256),o=Jf(c,o,!1),o!==2){if(lg&&!u){c.errorRecoveryDisabledLanes|=r,Vs|=r,s=4;break e}r=Rn,Rn=s,r!==null&&(Rn===null?Rn=r:Rn.push.apply(Rn,r))}s=o}if(r=!1,s!==2)continue}}if(s===1){vo(e,0),Zi(e,t,0,!0);break}e:{switch(i=e,r=s,r){case 0:case 1:throw Error(re(345));case 4:if((t&4194048)!==t)break;case 6:Zi(i,t,qn,!Xi);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(re(329))}if((t&62914560)===t&&(s=Kd+300-Yn(),10<s)){if(Zi(i,t,qn,!Xi),Ld(i,0,!0)!==0)break e;ui=t,i.timeoutHandle=dw(Bx.bind(null,i,a,Rn,sd,ym,t,qn,Vs,bo,Xi,r,"Throttled",-0,0),s);break e}Bx(i,a,Rn,sd,ym,t,qn,Vs,bo,Xi,r,null,-0,0)}}break}while(!0);Fa(e)}function Bx(e,t,a,i,s,r,o,c,u,d,p,f,m,h){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},U_(t,r,f);var x=(r&62914560)===r?Kd-Yn():(r&4194048)===r?H_-Yn():0;if(x=pj(f,x),x!==null){ui=r,e.cancelPendingCommit=x(Fx.bind(null,e,t,r,a,i,s,o,c,u,p,f,null,m,h)),Zi(e,r,o,!d);return}}Fx(e,t,r,a,i,s,o,c,u)}function RT(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var s=a[i],r=s.getSnapshot;s=s.value;try{if(!Xn(r(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zi(e,t,a,i){t&=~cg,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-$n(s),o=1<<r;i[r]=-1,s&=~o}a!==0&&Wv(e,a,t)}function Wd(){return rt&6?!0:(pc(0),!1)}function ug(){if(Ye!==null){if(lt===0)var e=Ye.return;else e=Ye,oi=fr=null,Wp(e),Qr=null,Ul=0,e=Ye;for(;e!==null;)E_(e.alternate,e),e=e.return;Ye=null}}function vo(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ZT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ui=0,ug(),mt=e,Ye=a=li(e.current,null),Ve=t,lt=0,Bn=null,Xi=!1,zo=lc(e,t),lg=!1,bo=qn=cg=Vs=ms=Ot=0,Rn=wl=null,ym=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-$n(i),r=1<<s;t|=e[s],i&=~r}return yi=t,Fd(),a}function V_(e,t){Le=null,je.H=Pl,t===Io||t===Gd?(t=xx(),lt=3):t===Hp?(t=xx(),lt=4):lt=t===ig?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bn=t,Ye===null&&(Ot=1,td(e,la(t,e.current)))}function $_(){var e=Zn.current;return e===null?!0:(Ve&4194048)===Ve?ua===null:(Ve&62914560)===Ve||Ve&536870912?e===ua:!1}function K_(){var e=je.H;return je.H=Pl,e===null?Pl:e}function W_(){var e=je.A;return je.A=AT,e}function rd(){Ot=4,Xi||(Ve&4194048)!==Ve&&Zn.current!==null||(zo=!0),!(ms&134217727)&&!(Vs&134217727)||mt===null||Zi(mt,Ve,qn,!1)}function Jf(e,t,a){var i=rt;rt|=2;var s=K_(),r=W_();(mt!==e||Ve!==t)&&(sd=null,vo(e,t)),t=!1;var o=Ot;e:do try{if(lt!==0&&Ye!==null){var c=Ye,u=Bn;switch(lt){case 8:ug(),o=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(t=!0);var d=lt;if(lt=0,Bn=null,Fr(e,c,u,d),a&&zo){o=0;break e}break;default:d=lt,lt=0,Bn=null,Fr(e,c,u,d)}}DT(),o=Ot;break}catch(p){V_(e,p)}while(!0);return t&&e.shellSuspendCounter++,oi=fr=null,rt=i,je.H=s,je.A=r,Ye===null&&(mt=null,Ve=0,Fd()),o}function DT(){for(;Ye!==null;)X_(Ye)}function MT(e,t){var a=rt;rt|=2;var i=K_(),s=W_();mt!==e||Ve!==t?(sd=null,id=Yn()+500,vo(e,t)):zo=lc(e,t);e:do try{if(lt!==0&&Ye!==null){t=Ye;var r=Bn;t:switch(lt){case 1:lt=0,Bn=null,Fr(e,t,r,1);break;case 2:case 9:if(gx(r)){lt=0,Bn=null,Px(t);break}t=function(){lt!==2&&lt!==9||mt!==e||(lt=7),Fa(e)},r.then(t,t);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:gx(r)?(lt=0,Bn=null,Px(t)):(lt=0,Bn=null,Fr(e,t,r,7));break;case 5:var o=null;switch(Ye.tag){case 26:o=Ye.memoizedState;case 5:case 27:var c=Ye;if(o?gw(o):c.stateNode.complete){lt=0,Bn=null;var u=c.sibling;if(u!==null)Ye=u;else{var d=c.return;d!==null?(Ye=d,Xd(d)):Ye=null}break t}}lt=0,Bn=null,Fr(e,t,r,5);break;case 6:lt=0,Bn=null,Fr(e,t,r,6);break;case 8:ug(),Ot=6;break e;default:throw Error(re(462))}}OT();break}catch(p){V_(e,p)}while(!0);return oi=fr=null,je.H=i,je.A=s,rt=a,Ye!==null?0:(mt=null,Ve=0,Fd(),Ot)}function OT(){for(;Ye!==null&&!ak();)X_(Ye)}function X_(e){var t=w_(e.alternate,e,yi);e.memoizedProps=e.pendingProps,t===null?Xd(e):Ye=t}function Px(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Mx(a,t,t.pendingProps,t.type,void 0,Ve);break;case 11:t=Mx(a,t,t.pendingProps,t.type.render,t.ref,Ve);break;case 5:Wp(t);default:E_(a,t),t=Ye=ES(t,yi),t=w_(a,t,yi)}e.memoizedProps=e.pendingProps,t===null?Xd(e):Ye=t}function Fr(e,t,a,i){oi=fr=null,Wp(t),Qr=null,Ul=0;var s=t.return;try{if(_T(e,s,t,a,Ve)){Ot=1,td(e,la(a,e.current)),Ye=null;return}}catch(r){if(s!==null)throw Ye=s,r;Ot=1,td(e,la(a,e.current)),Ye=null;return}t.flags&32768?(Xe||i===1?e=!0:zo||Ve&536870912?e=!1:(Xi=e=!0,(i===2||i===9||i===3||i===6)&&(i=Zn.current,i!==null&&i.tag===13&&(i.flags|=16384))),Z_(t,e)):Xd(t)}function Xd(e){var t=e;do{if(t.flags&32768){Z_(t,Xi);return}e=t.return;var a=NT(t.alternate,t,yi);if(a!==null){Ye=a;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);Ot===0&&(Ot=5)}function Z_(e,t){do{var a=kT(e.alternate,e);if(a!==null){a.flags&=32767,Ye=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ye=e;return}Ye=e=a}while(e!==null);Ot=6,Ye=null}function Fx(e,t,a,i,s,r,o,c,u){e.cancelPendingCommit=null;do Zd();while($t!==0);if(rt&6)throw Error(re(327));if(t!==null){if(t===e.current)throw Error(re(177));if(r=t.lanes|t.childLanes,r|=Ip,hk(e,a,r,o,c,u),e===mt&&(Ye=mt=null,Ve=0),yo=t,rs=e,ui=a,vm=r,Sm=s,G_=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,UT(qu,function(){return nw(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=je.T,je.T=null,s=ot.p,ot.p=2,o=rt,rt|=4;try{TT(e,t,a)}finally{rt=o,ot.p=s,je.T=i}}$t=1,Q_(),J_(),ew()}}function Q_(){if($t===1){$t=0;var e=rs,t=yo,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=je.T,je.T=null;var i=ot.p;ot.p=2;var s=rt;rt|=4;try{I_(t,e);var r=km,o=gS(e.containerInfo),c=r.focusedElem,u=r.selectionRange;if(o!==c&&c&&c.ownerDocument&&pS(c.ownerDocument.documentElement,c)){if(u!==null&&Op(c)){var d=u.start,p=u.end;if(p===void 0&&(p=d),"selectionStart"in c)c.selectionStart=d,c.selectionEnd=Math.min(p,c.value.length);else{var f=c.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var h=m.getSelection(),x=c.textContent.length,b=Math.min(u.start,x),S=u.end===void 0?b:Math.min(u.end,x);!h.extend&&b>S&&(o=S,S=b,b=o);var g=cx(c,b),y=cx(c,S);if(g&&y&&(h.rangeCount!==1||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var w=f.createRange();w.setStart(g.node,g.offset),h.removeAllRanges(),b>S?(h.addRange(w),h.extend(y.node,y.offset)):(w.setEnd(y.node,y.offset),h.addRange(w))}}}}for(f=[],h=c;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<f.length;c++){var E=f[c];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}md=!!Nm,km=Nm=null}finally{rt=s,ot.p=i,je.T=a}}e.current=t,$t=2}}function J_(){if($t===2){$t=0;var e=rs,t=yo,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=je.T,je.T=null;var i=ot.p;ot.p=2;var s=rt;rt|=4;try{C_(e,t.alternate,t)}finally{rt=s,ot.p=i,je.T=a}}$t=3}}function ew(){if($t===4||$t===3){$t=0,ik();var e=rs,t=yo,a=ui,i=G_;t.subtreeFlags&10256||t.flags&10256?$t=5:($t=0,yo=rs=null,tw(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ss=null),Tp(a),t=t.stateNode,Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(oc,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=je.T,s=ot.p,ot.p=2,je.T=null;try{for(var r=e.onRecoverableError,o=0;o<i.length;o++){var c=i[o];r(c.value,{componentStack:c.stack})}}finally{je.T=t,ot.p=s}}ui&3&&Zd(),Fa(e),s=e.pendingLanes,a&261930&&s&42?e===_m?El++:(El=0,_m=e):El=0,pc(0)}}function tw(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fc(t)))}function Zd(){return Q_(),J_(),ew(),nw()}function nw(){if($t!==5)return!1;var e=rs,t=vm;vm=0;var a=Tp(ui),i=je.T,s=ot.p;try{ot.p=32>a?32:a,je.T=null,a=Sm,Sm=null;var r=rs,o=ui;if($t=0,yo=rs=null,ui=0,rt&6)throw Error(re(331));var c=rt;if(rt|=4,P_(r.current),L_(r,r.current,o,a),rt=c,pc(0,!1),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(oc,r)}catch{}return!0}finally{ot.p=s,je.T=i,tw(e,t)}}function Hx(e,t,a){t=la(a,t),t=pm(e.stateNode,t,2),e=is(e,t,2),e!==null&&(cc(e,2),Fa(e))}function ct(e,t,a){if(e.tag===3)Hx(e,e,a);else for(;t!==null;){if(t.tag===3){Hx(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ss===null||!ss.has(i))){e=la(a,e),a=x_(2),i=is(t,a,2),i!==null&&(b_(a,i,t,e),cc(i,2),Fa(i));break}}t=t.return}}function eh(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new CT;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(a)||(lg=!0,s.add(a),e=IT.bind(null,e,t,a),t.then(e,e))}function IT(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,mt===e&&(Ve&a)===a&&(Ot===4||Ot===3&&(Ve&62914560)===Ve&&300>Yn()-Kd?!(rt&2)&&vo(e,0):cg|=a,bo===Ve&&(bo=0)),Fa(e)}function aw(e,t){t===0&&(t=Kv()),e=dr(e,t),e!==null&&(cc(e,t),Fa(e))}function zT(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),aw(e,a)}function LT(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(re(314))}i!==null&&i.delete(t),aw(e,a)}function UT(e,t){return Np(e,t)}var od=null,Tr=null,wm=!1,ld=!1,th=!1,Qi=0;function Fa(e){e!==Tr&&e.next===null&&(Tr===null?od=Tr=e:Tr=Tr.next=e),ld=!0,wm||(wm=!0,PT())}function pc(e,t){if(!th&&ld){th=!0;do for(var a=!1,i=od;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var o=i.suspendedLanes,c=i.pingedLanes;r=(1<<31-$n(42|e)+1)-1,r&=s&~(o&~c),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,Gx(i,r))}else r=Ve,r=Ld(i,i===mt?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||lc(i,r)||(a=!0,Gx(i,r));i=i.next}while(a);th=!1}}function BT(){iw()}function iw(){ld=wm=!1;var e=0;Qi!==0&&XT()&&(e=Qi);for(var t=Yn(),a=null,i=od;i!==null;){var s=i.next,r=sw(i,t);r===0?(i.next=null,a===null?od=s:a.next=s,s===null&&(Tr=a)):(a=i,(e!==0||r&3)&&(ld=!0)),i=s}$t!==0&&$t!==5||pc(e),Qi!==0&&(Qi=0)}function sw(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var o=31-$n(r),c=1<<o,u=s[o];u===-1?(!(c&a)||c&i)&&(s[o]=fk(c,t)):u<=t&&(e.expiredLanes|=c),r&=~c}if(t=mt,a=Ve,a=Ld(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(lt===2||lt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Af(i),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||lc(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Af(i),Tp(a)){case 2:case 8:a=Vv;break;case 32:a=qu;break;case 268435456:a=$v;break;default:a=qu}return i=rw.bind(null,e),a=Np(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Af(i),e.callbackPriority=2,e.callbackNode=null,2}function rw(e,t){if($t!==0&&$t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Zd()&&e.callbackNode!==a)return null;var i=Ve;return i=Ld(e,e===mt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Y_(e,i,t),sw(e,Yn()),e.callbackNode!=null&&e.callbackNode===a?rw.bind(null,e):null)}function Gx(e,t){if(Zd())return null;Y_(e,t,!0)}function PT(){QT(function(){rt&6?Np(Yv,BT):iw()})}function dg(){if(Qi===0){var e=po;e===0&&(e=Pc,Pc<<=1,!(Pc&261888)&&(Pc=256)),Qi=e}return Qi}function qx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gu(""+e)}function Yx(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function FT(e,t,a,i,s){if(t==="submit"&&a&&a.stateNode===s){var r=qx((s[On]||null).action),o=i.submitter;o&&(t=(t=o[On]||null)?qx(t.formAction):o.getAttribute("formAction"),t!==null&&(r=t,o=null));var c=new Ud("action","action",null,i,s);e.push({event:c,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Qi!==0){var u=o?Yx(s,o):new FormData(s);hm(a,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(c.preventDefault(),u=o?Yx(s,o):new FormData(s),hm(a,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var nh=0;nh<tm.length;nh++){var ah=tm[nh],HT=ah.toLowerCase(),GT=ah[0].toUpperCase()+ah.slice(1);ka(HT,"on"+GT)}ka(bS,"onAnimationEnd");ka(yS,"onAnimationIteration");ka(vS,"onAnimationStart");ka("dblclick","onDoubleClick");ka("focusin","onFocus");ka("focusout","onBlur");ka(sT,"onTransitionRun");ka(rT,"onTransitionStart");ka(oT,"onTransitionCancel");ka(SS,"onTransitionEnd");ho("onMouseEnter",["mouseout","mouseover"]);ho("onMouseLeave",["mouseout","mouseover"]);ho("onPointerEnter",["pointerout","pointerover"]);ho("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function ow(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],s=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var o=i.length-1;0<=o;o--){var c=i[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==r&&s.isPropagationStopped())break e;r=c,s.currentTarget=d;try{r(s)}catch(p){Vu(p)}s.currentTarget=null,r=u}else for(o=0;o<i.length;o++){if(c=i[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==r&&s.isPropagationStopped())break e;r=c,s.currentTarget=d;try{r(s)}catch(p){Vu(p)}s.currentTarget=null,r=u}}}}function qe(e,t){var a=t[$h];a===void 0&&(a=t[$h]=new Set);var i=e+"__bubble";a.has(i)||(lw(t,e,2,!1),a.add(i))}function ih(e,t,a){var i=0;t&&(i|=4),lw(a,e,i,t)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function fg(e){if(!e[Xc]){e[Xc]=!0,Jv.forEach(function(a){a!=="selectionchange"&&(qT.has(a)||ih(a,!1,e),ih(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xc]||(t[Xc]=!0,ih("selectionchange",!1,t))}}function lw(e,t,a,i){switch(Sw(t)){case 2:var s=bj;break;case 8:s=yj;break;default:s=gg}a=s.bind(null,t,a,e),s=void 0,!Qh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function sh(e,t,a,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var c=i.stateNode.containerInfo;if(c===s)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&o.stateNode.containerInfo===s)return;o=o.return}for(;c!==null;){if(o=Dr(c),o===null)return;if(u=o.tag,u===5||u===6||u===26||u===27){i=r=o;continue e}c=c.parentNode}}i=i.return}oS(function(){var d=r,p=Cp(a),f=[];e:{var m=_S.get(e);if(m!==void 0){var h=Ud,x=e;switch(e){case"keypress":if(bu(a)===0)break e;case"keydown":case"keyup":h=Lk;break;case"focusin":x="focus",h=Of;break;case"focusout":x="blur",h=Of;break;case"beforeblur":case"afterblur":h=Of;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=J0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Nk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Pk;break;case bS:case yS:case vS:h=jk;break;case SS:h=Hk;break;case"scroll":case"scrollend":h=wk;break;case"wheel":h=qk;break;case"copy":case"cut":case"paste":h=Ck;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=tx;break;case"toggle":case"beforetoggle":h=Vk}var b=(t&4)!==0,S=!b&&(e==="scroll"||e==="scrollend"),g=b?m!==null?m+"Capture":null:m;b=[];for(var y=d,w;y!==null;){var E=y;if(w=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||w===null||g===null||(E=Ml(y,g),E!=null&&b.push(Hl(y,E,w))),S)break;y=y.return}0<b.length&&(m=new h(m,x,null,a,p),f.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&a!==Zh&&(x=a.relatedTarget||a.fromElement)&&(Dr(x)||x[Do]))break e;if((h||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,h?(x=a.relatedTarget||a.toElement,h=d,x=x?Dr(x):null,x!==null&&(S=rc(x),b=x.tag,x!==S||b!==5&&b!==27&&b!==6)&&(x=null)):(h=null,x=d),h!==x)){if(b=J0,E="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(b=tx,E="onPointerLeave",g="onPointerEnter",y="pointer"),S=h==null?m:ul(h),w=x==null?m:ul(x),m=new b(E,y+"leave",h,a,p),m.target=S,m.relatedTarget=w,E=null,Dr(p)===d&&(b=new b(g,y+"enter",x,a,p),b.target=w,b.relatedTarget=S,E=b),S=E,h&&x)t:{for(b=YT,g=h,y=x,w=0,E=g;E;E=b(E))w++;E=0;for(var k=y;k;k=b(k))E++;for(;0<w-E;)g=b(g),w--;for(;0<E-w;)y=b(y),E--;for(;w--;){if(g===y||y!==null&&g===y.alternate){b=g;break t}g=b(g),y=b(y)}b=null}else b=null;h!==null&&Vx(f,m,h,b,!1),x!==null&&S!==null&&Vx(f,S,x,b,!0)}}e:{if(m=d?ul(d):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var M=sx;else if(ix(m))if(hS)M=nT;else{M=eT;var A=Jk}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?d&&Ap(d.elementType)&&(M=sx):M=tT;if(M&&(M=M(e,d))){fS(f,M,a,p);break e}A&&A(e,m,d),e==="focusout"&&d&&m.type==="number"&&d.memoizedProps.value!=null&&Xh(m,"number",m.value)}switch(A=d?ul(d):window,e){case"focusin":(ix(A)||A.contentEditable==="true")&&(Ir=A,Jh=d,pl=null);break;case"focusout":pl=Jh=Ir=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,ux(f,a,p);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":ux(f,a,p)}var I;if(Mp)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Or?uS(e,a)&&(j="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(j="onCompositionStart");j&&(cS&&a.locale!=="ko"&&(Or||j!=="onCompositionStart"?j==="onCompositionEnd"&&Or&&(I=lS()):(Wi=p,Rp="value"in Wi?Wi.value:Wi.textContent,Or=!0)),A=cd(d,j),0<A.length&&(j=new ex(j,e,null,a,p),f.push({event:j,listeners:A}),I?j.data=I:(I=dS(a),I!==null&&(j.data=I)))),(I=Kk?Wk(e,a):Xk(e,a))&&(j=cd(d,"onBeforeInput"),0<j.length&&(A=new ex("onBeforeInput","beforeinput",null,a,p),f.push({event:A,listeners:j}),A.data=I)),FT(f,e,d,a,p)}ow(f,t)})}function Hl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function cd(e,t){for(var a=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Ml(e,a),s!=null&&i.unshift(Hl(e,s,r)),s=Ml(e,t),s!=null&&i.push(Hl(e,s,r))),e.tag===3)return i;e=e.return}return[]}function YT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vx(e,t,a,i,s){for(var r=t._reactName,o=[];a!==null&&a!==i;){var c=a,u=c.alternate,d=c.stateNode;if(c=c.tag,u!==null&&u===i)break;c!==5&&c!==26&&c!==27||d===null||(u=d,s?(d=Ml(a,r),d!=null&&o.unshift(Hl(a,d,u))):s||(d=Ml(a,r),d!=null&&o.push(Hl(a,d,u)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var VT=/\r\n?/g,$T=/\u0000|\uFFFD/g;function $x(e){return(typeof e=="string"?e:""+e).replace(VT,`
`).replace($T,"")}function cw(e,t){return t=$x(t),$x(e)===t}function ft(e,t,a,i,s,r){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||mo(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&mo(e,""+i);break;case"className":Gc(e,"class",i);break;case"tabIndex":Gc(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Gc(e,a,i);break;case"style":rS(e,i,r);break;case"data":if(t!=="object"){Gc(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=gu(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&ft(e,t,"name",s.name,s,null),ft(e,t,"formEncType",s.formEncType,s,null),ft(e,t,"formMethod",s.formMethod,s,null),ft(e,t,"formTarget",s.formTarget,s,null)):(ft(e,t,"encType",s.encType,s,null),ft(e,t,"method",s.method,s,null),ft(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=gu(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=ri);break;case"onScroll":i!=null&&qe("scroll",e);break;case"onScrollEnd":i!=null&&qe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(re(61));if(a=i.__html,a!=null){if(s.children!=null)throw Error(re(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=gu(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":qe("beforetoggle",e),qe("toggle",e),pu(e,"popover",i);break;case"xlinkActuate":Ka(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Ka(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Ka(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Ka(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Ka(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Ka(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Ka(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Ka(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Ka(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":pu(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sk.get(a)||a,pu(e,a,i))}}function Em(e,t,a,i,s,r){switch(a){case"style":rS(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(re(61));if(a=i.__html,a!=null){if(s.children!=null)throw Error(re(60));e.innerHTML=a}}break;case"children":typeof i=="string"?mo(e,i):(typeof i=="number"||typeof i=="bigint")&&mo(e,""+i);break;case"onScroll":i!=null&&qe("scroll",e);break;case"onScrollEnd":i!=null&&qe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eS.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),r=e[On]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,s);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):pu(e,a,i)}}}function hn(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",e),qe("load",e);var i=!1,s=!1,r;for(r in a)if(a.hasOwnProperty(r)){var o=a[r];if(o!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(re(137,t));default:ft(e,t,r,o,a,null)}}s&&ft(e,t,"srcSet",a.srcSet,a,null),i&&ft(e,t,"src",a.src,a,null);return;case"input":qe("invalid",e);var c=r=o=s=null,u=null,d=null;for(i in a)if(a.hasOwnProperty(i)){var p=a[i];if(p!=null)switch(i){case"name":s=p;break;case"type":o=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":r=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(re(137,t));break;default:ft(e,t,i,p,a,null)}}aS(e,r,c,u,d,o,s,!1);return;case"select":qe("invalid",e),i=o=r=null;for(s in a)if(a.hasOwnProperty(s)&&(c=a[s],c!=null))switch(s){case"value":r=c;break;case"defaultValue":o=c;break;case"multiple":i=c;default:ft(e,t,s,c,a,null)}t=r,a=o,e.multiple=!!i,t!=null?Wr(e,!!i,t,!1):a!=null&&Wr(e,!!i,a,!0);return;case"textarea":qe("invalid",e),r=s=i=null;for(o in a)if(a.hasOwnProperty(o)&&(c=a[o],c!=null))switch(o){case"value":i=c;break;case"defaultValue":s=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(re(91));break;default:ft(e,t,o,c,a,null)}sS(e,i,s,r);return;case"option":for(u in a)if(a.hasOwnProperty(u)&&(i=a[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ft(e,t,u,i,a,null)}return;case"dialog":qe("beforetoggle",e),qe("toggle",e),qe("cancel",e),qe("close",e);break;case"iframe":case"object":qe("load",e);break;case"video":case"audio":for(i=0;i<Fl.length;i++)qe(Fl[i],e);break;case"image":qe("error",e),qe("load",e);break;case"details":qe("toggle",e);break;case"embed":case"source":case"link":qe("error",e),qe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in a)if(a.hasOwnProperty(d)&&(i=a[d],i!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(re(137,t));default:ft(e,t,d,i,a,null)}return;default:if(Ap(t)){for(p in a)a.hasOwnProperty(p)&&(i=a[p],i!==void 0&&Em(e,t,p,i,a,void 0));return}}for(c in a)a.hasOwnProperty(c)&&(i=a[c],i!=null&&ft(e,t,c,i,a,null))}function KT(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,o=null,c=null,u=null,d=null,p=null;for(h in a){var f=a[h];if(a.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":u=f;default:i.hasOwnProperty(h)||ft(e,t,h,null,i,f)}}for(var m in i){var h=i[m];if(f=a[m],i.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"type":r=h;break;case"name":s=h;break;case"checked":d=h;break;case"defaultChecked":p=h;break;case"value":o=h;break;case"defaultValue":c=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(re(137,t));break;default:h!==f&&ft(e,t,m,h,i,f)}}Wh(e,o,c,u,d,p,r,s);return;case"select":h=o=c=m=null;for(r in a)if(u=a[r],a.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":h=u;default:i.hasOwnProperty(r)||ft(e,t,r,null,i,u)}for(s in i)if(r=i[s],u=a[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":m=r;break;case"defaultValue":c=r;break;case"multiple":o=r;default:r!==u&&ft(e,t,s,r,i,u)}t=c,a=o,i=h,m!=null?Wr(e,!!a,m,!1):!!i!=!!a&&(t!=null?Wr(e,!!a,t,!0):Wr(e,!!a,a?[]:"",!1));return;case"textarea":h=m=null;for(c in a)if(s=a[c],a.hasOwnProperty(c)&&s!=null&&!i.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:ft(e,t,c,null,i,s)}for(o in i)if(s=i[o],r=a[o],i.hasOwnProperty(o)&&(s!=null||r!=null))switch(o){case"value":m=s;break;case"defaultValue":h=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(re(91));break;default:s!==r&&ft(e,t,o,s,i,r)}iS(e,m,h);return;case"option":for(var x in a)if(m=a[x],a.hasOwnProperty(x)&&m!=null&&!i.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:ft(e,t,x,null,i,m)}for(u in i)if(m=i[u],h=a[u],i.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ft(e,t,u,m,i,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in a)m=a[b],a.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b)&&ft(e,t,b,null,i,m);for(d in i)if(m=i[d],h=a[d],i.hasOwnProperty(d)&&m!==h&&(m!=null||h!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(re(137,t));break;default:ft(e,t,d,m,i,h)}return;default:if(Ap(t)){for(var S in a)m=a[S],a.hasOwnProperty(S)&&m!==void 0&&!i.hasOwnProperty(S)&&Em(e,t,S,void 0,i,m);for(p in i)m=i[p],h=a[p],!i.hasOwnProperty(p)||m===h||m===void 0&&h===void 0||Em(e,t,p,m,i,h);return}}for(var g in a)m=a[g],a.hasOwnProperty(g)&&m!=null&&!i.hasOwnProperty(g)&&ft(e,t,g,null,i,m);for(f in i)m=i[f],h=a[f],!i.hasOwnProperty(f)||m===h||m==null&&h==null||ft(e,t,f,m,i,h)}function Kx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var s=a[i],r=s.transferSize,o=s.initiatorType,c=s.duration;if(r&&c&&Kx(o)){for(o=0,c=s.responseEnd,i+=1;i<a.length;i++){var u=a[i],d=u.startTime;if(d>c)break;var p=u.transferSize,f=u.initiatorType;p&&Kx(f)&&(u=u.responseEnd,o+=p*(u<c?1:(c-d)/(u-d)))}if(--i,t+=8*(r+o)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nm=null,km=null;function ud(e){return e.nodeType===9?e:e.ownerDocument}function Wx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uw(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Tm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rh=null;function XT(){var e=window.event;return e&&e.type==="popstate"?e===rh?!1:(rh=e,!0):(rh=null,!1)}var dw=typeof setTimeout=="function"?setTimeout:void 0,ZT=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,QT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx<"u"?function(e){return Xx.resolve(null).then(e).catch(JT)}:dw;function JT(e){setTimeout(function(){throw e})}function ys(e){return e==="head"}function Zx(e,t){var a=t,i=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(s),_o(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")Nl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Nl(a);for(var r=a.firstChild;r;){var o=r.nextSibling,c=r.nodeName;r[uc]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=o}}else a==="body"&&Nl(e.ownerDocument.body);a=s}while(a);_o(t)}function Qx(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function jm(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jm(a),jp(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ej(e,t,a,i){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[uc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=da(e.nextSibling),e===null)break}return null}function tj(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=da(e.nextSibling),e===null))return null;return e}function fw(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=da(e.nextSibling),e===null))return null;return e}function Am(e){return e.data==="$?"||e.data==="$~"}function Cm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nj(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Rm=null;function Jx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return da(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function eb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function hw(e,t,a){switch(t=ud(a),e){case"html":if(e=t.documentElement,!e)throw Error(re(452));return e;case"head":if(e=t.head,!e)throw Error(re(453));return e;case"body":if(e=t.body,!e)throw Error(re(454));return e;default:throw Error(re(451))}}function Nl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jp(e)}var ha=new Map,tb=new Set;function dd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ni=ot.d;ot.d={f:aj,r:ij,D:sj,C:rj,L:oj,m:lj,X:uj,S:cj,M:dj};function aj(){var e=Ni.f(),t=Wd();return e||t}function ij(e){var t=Mo(e);t!==null&&t.tag===5&&t.type==="form"?r_(t):Ni.r(e)}var Lo=typeof document>"u"?null:document;function mw(e,t,a){var i=Lo;if(i&&typeof t=="string"&&t){var s=oa(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),tb.has(s)||(tb.add(s),e={rel:e,crossOrigin:a,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),hn(t,"link",e),tn(t),i.head.appendChild(t)))}}function sj(e){Ni.D(e),mw("dns-prefetch",e,null)}function rj(e,t){Ni.C(e,t),mw("preconnect",e,t)}function oj(e,t,a){Ni.L(e,t,a);var i=Lo;if(i&&e&&t){var s='link[rel="preload"][as="'+oa(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+oa(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+oa(a.imageSizes)+'"]')):s+='[href="'+oa(e)+'"]';var r=s;switch(t){case"style":r=So(e);break;case"script":r=Uo(e)}ha.has(r)||(e=wt({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ha.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(gc(r))||t==="script"&&i.querySelector(xc(r))||(t=i.createElement("link"),hn(t,"link",e),tn(t),i.head.appendChild(t)))}}function lj(e,t){Ni.m(e,t);var a=Lo;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+oa(i)+'"][href="'+oa(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Uo(e)}if(!ha.has(r)&&(e=wt({rel:"modulepreload",href:e},t),ha.set(r,e),a.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xc(r)))return}i=a.createElement("link"),hn(i,"link",e),tn(i),a.head.appendChild(i)}}}function cj(e,t,a){Ni.S(e,t,a);var i=Lo;if(i&&e){var s=Kr(i).hoistableStyles,r=So(e);t=t||"default";var o=s.get(r);if(!o){var c={loading:0,preload:null};if(o=i.querySelector(gc(r)))c.loading=5;else{e=wt({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ha.get(r))&&hg(e,a);var u=o=i.createElement("link");tn(u),hn(u,"link",e),u._p=new Promise(function(d,p){u.onload=d,u.onerror=p}),u.addEventListener("load",function(){c.loading|=1}),u.addEventListener("error",function(){c.loading|=2}),c.loading|=4,ku(o,t,i)}o={type:"stylesheet",instance:o,count:1,state:c},s.set(r,o)}}}function uj(e,t){Ni.X(e,t);var a=Lo;if(a&&e){var i=Kr(a).hoistableScripts,s=Uo(e),r=i.get(s);r||(r=a.querySelector(xc(s)),r||(e=wt({src:e,async:!0},t),(t=ha.get(s))&&mg(e,t),r=a.createElement("script"),tn(r),hn(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function dj(e,t){Ni.M(e,t);var a=Lo;if(a&&e){var i=Kr(a).hoistableScripts,s=Uo(e),r=i.get(s);r||(r=a.querySelector(xc(s)),r||(e=wt({src:e,async:!0,type:"module"},t),(t=ha.get(s))&&mg(e,t),r=a.createElement("script"),tn(r),hn(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function nb(e,t,a,i){var s=(s=ts.current)?dd(s):null;if(!s)throw Error(re(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=So(a.href),a=Kr(s).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=So(a.href);var r=Kr(s).hoistableStyles,o=r.get(e);if(o||(s=s.ownerDocument||s,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,o),(r=s.querySelector(gc(e)))&&!r._p&&(o.instance=r,o.state.loading=5),ha.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ha.set(e,a),r||fj(s,e,a,o.state))),t&&i===null)throw Error(re(528,""));return o}if(t&&i!==null)throw Error(re(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Uo(a),a=Kr(s).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(re(444,e))}}function So(e){return'href="'+oa(e)+'"'}function gc(e){return'link[rel="stylesheet"]['+e+"]"}function pw(e){return wt({},e,{"data-precedence":e.precedence,precedence:null})}function fj(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),hn(t,"link",a),tn(t),e.head.appendChild(t))}function Uo(e){return'[src="'+oa(e)+'"]'}function xc(e){return"script[async]"+e}function ab(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+oa(a.href)+'"]');if(i)return t.instance=i,tn(i),i;var s=wt({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),tn(i),hn(i,"style",s),ku(i,a.precedence,e),t.instance=i;case"stylesheet":s=So(a.href);var r=e.querySelector(gc(s));if(r)return t.state.loading|=4,t.instance=r,tn(r),r;i=pw(a),(s=ha.get(s))&&hg(i,s),r=(e.ownerDocument||e).createElement("link"),tn(r);var o=r;return o._p=new Promise(function(c,u){o.onload=c,o.onerror=u}),hn(r,"link",i),t.state.loading|=4,ku(r,a.precedence,e),t.instance=r;case"script":return r=Uo(a.src),(s=e.querySelector(xc(r)))?(t.instance=s,tn(s),s):(i=a,(s=ha.get(r))&&(i=wt({},a),mg(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),tn(s),hn(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(re(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,ku(i,a.precedence,e));return t.instance}function ku(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,o=0;o<i.length;o++){var c=i[o];if(c.dataset.precedence===t)r=c;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function hg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Tu=null;function ib(e,t,a){if(Tu===null){var i=new Map,s=Tu=new Map;s.set(a,i)}else s=Tu,i=s.get(a),i||(i=new Map,s.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var r=a[s];if(!(r[uc]||r[un]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var o=r.getAttribute(t)||"";o=e+o;var c=i.get(o);c?c.push(r):i.set(o,[r])}}return i}function sb(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function hj(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gw(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function mj(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var s=So(i.href),r=t.querySelector(gc(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=fd.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,tn(r);return}r=t.ownerDocument||t,i=pw(i),(s=ha.get(s))&&hg(i,s),r=r.createElement("link"),tn(r);var o=r;o._p=new Promise(function(c,u){o.onload=c,o.onerror=u}),hn(r,"link",i),a.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=fd.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var oh=0;function pj(e,t){return e.stylesheets&&e.count===0&&ju(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&ju(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&oh===0&&(oh=62500*WT());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ju(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function fd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ju(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hd=null;function ju(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hd=new Map,t.forEach(gj,e),hd=null,fd.call(e))}function gj(e,t){if(!(t.state.loading&4)){var a=hd.get(e);if(a)var i=a.get(null);else{a=new Map,hd.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var o=s[r];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),i=o)}i&&a.set(null,i)}s=t.instance,o=s.getAttribute("data-precedence"),r=a.get(o)||i,r===i&&a.set(null,s),a.set(o,s),this.count++,i=fd.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Gl={$$typeof:si,Provider:null,Consumer:null,_currentValue:Hs,_currentValue2:Hs,_threadCount:0};function xj(e,t,a,i,s,r,o,c,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.hiddenUpdates=Cf(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function xw(e,t,a,i,s,r,o,c,u,d,p,f){return e=new xj(e,t,a,o,u,d,p,f,c),t=1,r===!0&&(t|=24),r=Hn(3,null,null,t),e.current=r,r.stateNode=e,t=Pp(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:a,cache:t},Gp(r),e}function bw(e){return e?(e=Ur,e):Ur}function yw(e,t,a,i,s,r){s=bw(s),i.context===null?i.context=s:i.pendingContext=s,i=as(t),i.payload={element:a},r=r===void 0?null:r,r!==null&&(i.callback=r),a=is(e,i,t),a!==null&&(Mn(a,e,t),xl(a,e,t))}function rb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function pg(e,t){rb(e,t),(e=e.alternate)&&rb(e,t)}function vw(e){if(e.tag===13||e.tag===31){var t=dr(e,67108864);t!==null&&Mn(t,e,67108864),pg(e,67108864)}}function ob(e){if(e.tag===13||e.tag===31){var t=Kn();t=kp(t);var a=dr(e,t);a!==null&&Mn(a,e,t),pg(e,t)}}var md=!0;function bj(e,t,a,i){var s=je.T;je.T=null;var r=ot.p;try{ot.p=2,gg(e,t,a,i)}finally{ot.p=r,je.T=s}}function yj(e,t,a,i){var s=je.T;je.T=null;var r=ot.p;try{ot.p=8,gg(e,t,a,i)}finally{ot.p=r,je.T=s}}function gg(e,t,a,i){if(md){var s=Dm(i);if(s===null)sh(e,t,i,pd,a),lb(e,i);else if(Sj(s,e,t,a,i))i.stopPropagation();else if(lb(e,i),t&4&&-1<vj.indexOf(e)){for(;s!==null;){var r=Mo(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var o=js(r.pendingLanes);if(o!==0){var c=r;for(c.pendingLanes|=2,c.entangledLanes|=2;o;){var u=1<<31-$n(o);c.entanglements[1]|=u,o&=~u}Fa(r),!(rt&6)&&(id=Yn()+500,pc(0))}}break;case 31:case 13:c=dr(r,2),c!==null&&Mn(c,r,2),Wd(),pg(r,2)}if(r=Dm(i),r===null&&sh(e,t,i,pd,a),r===s)break;s=r}s!==null&&i.stopPropagation()}else sh(e,t,i,null,a)}}function Dm(e){return e=Cp(e),xg(e)}var pd=null;function xg(e){if(pd=null,e=Dr(e),e!==null){var t=rc(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Pv(t),e!==null)return e;e=null}else if(a===31){if(e=Fv(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return pd=e,null}function Sw(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sk()){case Yv:return 2;case Vv:return 8;case qu:case rk:return 32;case $v:return 268435456;default:return 32}default:return 32}}var Mm=!1,os=null,ls=null,cs=null,ql=new Map,Yl=new Map,Pi=[],vj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lb(e,t){switch(e){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(t.pointerId)}}function sl(e,t,a,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Mo(t),t!==null&&vw(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Sj(e,t,a,i,s){switch(t){case"focusin":return os=sl(os,e,t,a,i,s),!0;case"dragenter":return ls=sl(ls,e,t,a,i,s),!0;case"mouseover":return cs=sl(cs,e,t,a,i,s),!0;case"pointerover":var r=s.pointerId;return ql.set(r,sl(ql.get(r)||null,e,t,a,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Yl.set(r,sl(Yl.get(r)||null,e,t,a,i,s)),!0}return!1}function _w(e){var t=Dr(e.target);if(t!==null){var a=rc(t);if(a!==null){if(t=a.tag,t===13){if(t=Pv(a),t!==null){e.blockedOn=t,V0(e.priority,function(){ob(a)});return}}else if(t===31){if(t=Fv(a),t!==null){e.blockedOn=t,V0(e.priority,function(){ob(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Au(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Dm(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);Zh=i,a.target.dispatchEvent(i),Zh=null}else return t=Mo(a),t!==null&&vw(t),e.blockedOn=a,!1;t.shift()}return!0}function cb(e,t,a){Au(e)&&a.delete(t)}function _j(){Mm=!1,os!==null&&Au(os)&&(os=null),ls!==null&&Au(ls)&&(ls=null),cs!==null&&Au(cs)&&(cs=null),ql.forEach(cb),Yl.forEach(cb)}function Zc(e,t){e.blockedOn===t&&(e.blockedOn=null,Mm||(Mm=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,_j)))}var Qc=null;function ub(e){Qc!==e&&(Qc=e,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,function(){Qc===e&&(Qc=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(xg(i||a)===null)continue;break}var r=Mo(a);r!==null&&(e.splice(t,3),t-=3,hm(r,{pending:!0,data:s,method:a.method,action:i},i,s))}}))}function _o(e){function t(u){return Zc(u,e)}os!==null&&Zc(os,e),ls!==null&&Zc(ls,e),cs!==null&&Zc(cs,e),ql.forEach(t),Yl.forEach(t);for(var a=0;a<Pi.length;a++){var i=Pi[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Pi.length&&(a=Pi[0],a.blockedOn===null);)_w(a),a.blockedOn===null&&Pi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var s=a[i],r=a[i+1],o=s[On]||null;if(typeof r=="function")o||ub(a);else if(o){var c=null;if(r&&r.hasAttribute("formAction")){if(s=r,o=r[On]||null)c=o.formAction;else if(xg(s)!==null)continue}else c=o.action;typeof c=="function"?a[i+1]=c:(a.splice(i,3),i-=3),ub(a)}}}function ww(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(o){return s=o})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function bg(e){this._internalRoot=e}Qd.prototype.render=bg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));var a=t.current,i=Kn();yw(a,i,e,t,null,null)};Qd.prototype.unmount=bg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yw(e.current,2,null,e,null,null),Wd(),t[Do]=null}};function Qd(e){this._internalRoot=e}Qd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qv();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Pi.length&&t!==0&&t<Pi[a].priority;a++);Pi.splice(a,0,e),a===0&&_w(e)}};var db=Uv.version;if(db!=="19.2.0")throw Error(re(527,db,"19.2.0"));ot.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=QN(t),e=e!==null?Hv(e):null,e=e===null?null:e.stateNode,e};var wj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:je,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{oc=Jc.inject(wj),Vn=Jc}catch{}}zd.createRoot=function(e,t){if(!Bv(e))throw Error(re(299));var a=!1,i="",s=m_,r=p_,o=g_;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=xw(e,1,!1,null,null,a,i,null,s,r,o,ww),e[Do]=t.current,fg(e),new bg(t)};zd.hydrateRoot=function(e,t,a){if(!Bv(e))throw Error(re(299));var i=!1,s="",r=m_,o=p_,c=g_,u=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(c=a.onRecoverableError),a.formState!==void 0&&(u=a.formState)),t=xw(e,1,!0,t,a??null,i,s,u,r,o,c,ww),t.context=bw(null),a=t.current,i=Kn(),i=kp(i),s=as(i),s.callback=null,is(a,s,i),a=i,t.current.lanes=a,cc(t,a),Fa(t),e[Do]=t.current,fg(e),new Qd(t)};zd.version="19.2.0";function Ew(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ew)}catch(e){console.error(e)}}Ew(),Iv.exports=zd;var Ej=Iv.exports;const Nj=Md(Ej),Se=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,et=globalThis,$s="10.27.0";function hr(){return Jd(et),et}function Jd(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||$s,t[$s]=t[$s]||{}}function Bo(e,t,a=et){const i=a.__SENTRY__=a.__SENTRY__||{},s=i[$s]=i[$s]||{};return s[e]||(s[e]=t())}const kj=["debug","info","warn","error","log","assert","trace"],Tj="Sentry Logger ",gd={};function mr(e){if(!("console"in et))return e();const t=et.console,a={},i=Object.keys(gd);i.forEach(s=>{const r=gd[s];a[s]=t[s],t[s]=r});try{return e()}finally{i.forEach(s=>{t[s]=a[s]})}}function jj(){vg().enabled=!0}function Aj(){vg().enabled=!1}function Nw(){return vg().enabled}function Cj(...e){yg("log",...e)}function Rj(...e){yg("warn",...e)}function Dj(...e){yg("error",...e)}function yg(e,...t){Se&&Nw()&&mr(()=>{et.console[e](`${Tj}[${e}]:`,...t)})}function vg(){return Se?Bo("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const pe={enable:jj,disable:Aj,isEnabled:Nw,log:Cj,warn:Rj,error:Dj},kw=50,ir="?",fb=/\(error: (.*)\)/,hb=/captureMessage|captureException/;function Tw(...e){const t=e.sort((a,i)=>a[0]-i[0]).map(a=>a[1]);return(a,i=0,s=0)=>{const r=[],o=a.split(`
`);for(let c=i;c<o.length;c++){let u=o[c];u.length>1024&&(u=u.slice(0,1024));const d=fb.test(u)?u.replace(fb,"$1"):u;if(!d.match(/\S*Error: /)){for(const p of t){const f=p(d);if(f){r.push(f);break}}if(r.length>=kw+s)break}}return Oj(r.slice(s))}}function Mj(e){return Array.isArray(e)?Tw(...e):e}function Oj(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(eu(t).function||"")&&t.pop(),t.reverse(),hb.test(eu(t).function||"")&&(t.pop(),hb.test(eu(t).function||"")&&t.pop()),t.slice(0,kw).map(a=>({...a,filename:a.filename||eu(t).filename,function:a.function||ir}))}function eu(e){return e[e.length-1]||{}}const lh="<anonymous>";function vi(e){try{return!e||typeof e!="function"?lh:e.name||lh}catch{return lh}}function mb(e){const t=e.exception;if(t){const a=[];try{return t.values.forEach(i=>{i.stacktrace.frames&&a.push(...i.stacktrace.frames)}),a}catch{return}}}function jw(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Cu={},pb={};function vs(e,t){Cu[e]=Cu[e]||[],Cu[e].push(t)}function Ss(e,t){if(!pb[e]){pb[e]=!0;try{t()}catch(a){Se&&pe.error(`Error while instrumenting ${e}`,a)}}}function fa(e,t){const a=e&&Cu[e];if(a)for(const i of a)try{i(t)}catch(s){Se&&pe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${vi(i)}
Error:`,s)}}let ch=null;function Aw(e){const t="error";vs(t,e),Ss(t,Ij)}function Ij(){ch=et.onerror,et.onerror=function(e,t,a,i,s){return fa("error",{column:i,error:s,line:a,msg:e,url:t}),ch?ch.apply(this,arguments):!1},et.onerror.__SENTRY_INSTRUMENTED__=!0}let uh=null;function Cw(e){const t="unhandledrejection";vs(t,e),Ss(t,zj)}function zj(){uh=et.onunhandledrejection,et.onunhandledrejection=function(e){return fa("unhandledrejection",e),uh?uh.apply(this,arguments):!0},et.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Rw=Object.prototype.toString;function Sg(e){switch(Rw.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Si(e,Error)}}function Po(e,t){return Rw.call(e)===`[object ${t}]`}function Dw(e){return Po(e,"ErrorEvent")}function gb(e){return Po(e,"DOMError")}function Lj(e){return Po(e,"DOMException")}function di(e){return Po(e,"String")}function _g(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function wo(e){return e===null||_g(e)||typeof e!="object"&&typeof e!="function"}function Vl(e){return Po(e,"Object")}function ef(e){return typeof Event<"u"&&Si(e,Event)}function Uj(e){return typeof Element<"u"&&Si(e,Element)}function Bj(e){return Po(e,"RegExp")}function Fo(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function Pj(e){return Vl(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Si(e,t){try{return e instanceof t}catch{return!1}}function Mw(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function Ow(e){return typeof Request<"u"&&Si(e,Request)}const wg=et,Fj=80;function In(e,t={}){if(!e)return"<unknown>";try{let a=e;const i=5,s=[];let r=0,o=0;const c=" > ",u=c.length;let d;const p=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||Fj;for(;a&&r++<i&&(d=Hj(a,p),!(d==="html"||r>1&&o+s.length*u+d.length>=f));)s.push(d),o+=d.length,a=a.parentNode;return s.reverse().join(c)}catch{return"<unknown>"}}function Hj(e,t){const a=e,i=[];if(!(a!=null&&a.tagName))return"";if(wg.HTMLElement&&a instanceof HTMLElement&&a.dataset){if(a.dataset.sentryComponent)return a.dataset.sentryComponent;if(a.dataset.sentryElement)return a.dataset.sentryElement}i.push(a.tagName.toLowerCase());const s=t!=null&&t.length?t.filter(o=>a.getAttribute(o)).map(o=>[o,a.getAttribute(o)]):null;if(s!=null&&s.length)s.forEach(o=>{i.push(`[${o[0]}="${o[1]}"]`)});else{a.id&&i.push(`#${a.id}`);const o=a.className;if(o&&di(o)){const c=o.split(/\s+/);for(const u of c)i.push(`.${u}`)}}const r=["aria-label","type","name","title","alt"];for(const o of r){const c=a.getAttribute(o);c&&i.push(`[${o}="${c}"]`)}return i.join("")}function Ho(){try{return wg.document.location.href}catch{return""}}function Iw(e){if(!wg.HTMLElement)return null;let t=e;const a=5;for(let i=0;i<a;i++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Dn(e,t,a){if(!(t in e))return;const i=e[t];if(typeof i!="function")return;const s=a(i);typeof s=="function"&&zw(s,i);try{e[t]=s}catch{Se&&pe.log(`Failed to replace method "${t}" in object`,e)}}function Qn(e,t,a){try{Object.defineProperty(e,t,{value:a,writable:!0,configurable:!0})}catch{Se&&pe.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function zw(e,t){try{const a=t.prototype||{};e.prototype=t.prototype=a,Qn(e,"__sentry_original__",t)}catch{}}function Eg(e){return e.__sentry_original__}function Lw(e){if(Sg(e))return{message:e.message,name:e.name,stack:e.stack,...bb(e)};if(ef(e)){const t={type:e.type,target:xb(e.target),currentTarget:xb(e.currentTarget),...bb(e)};return typeof CustomEvent<"u"&&Si(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function xb(e){try{return Uj(e)?In(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function bb(e){if(typeof e=="object"&&e!==null){const t={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}else return{}}function Gj(e){const t=Object.keys(Lw(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}function Om(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function yb(e,t){if(!Array.isArray(e))return"";const a=[];for(let i=0;i<e.length;i++){const s=e[i];try{Mw(s)?a.push(jw(s)):a.push(String(s))}catch{a.push("[value cannot be serialized]")}}return a.join(t)}function Ru(e,t,a=!1){return di(e)?Bj(t)?t.test(e):di(t)?a?e===t:e.includes(t):!1:!1}function fi(e,t=[],a=!1){return t.some(i=>Ru(e,i,a))}function qj(){const e=et;return e.crypto||e.msCrypto}let dh;function Yj(){return Math.random()*16}function Wn(e=qj()){try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return dh||(dh="10000000100040008000"+1e11),dh.replace(/[018]/g,t=>(t^(Yj()&15)>>t/4).toString(16))}function Uw(e){var t,a;return(a=(t=e.exception)==null?void 0:t.values)==null?void 0:a[0]}function Ms(e){const{message:t,event_id:a}=e;if(t)return t;const i=Uw(e);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||a||"<unknown>":a||"<unknown>"}function Im(e,t,a){const i=e.exception=e.exception||{},s=i.values=i.values||[],r=s[0]=s[0]||{};r.value||(r.value=t||""),r.type||(r.type="Error")}function Eo(e,t){const a=Uw(e);if(!a)return;const i={type:"generic",handled:!0},s=a.mechanism;if(a.mechanism={...i,...s,...t},t&&"data"in t){const r={...s==null?void 0:s.data,...t.data};a.mechanism.data=r}}function vb(e){if(Vj(e))return!0;try{Qn(e,"__sentry_captured__",!0)}catch{}return!1}function Vj(e){try{return e.__sentry_captured__}catch{}}const Bw=1e3;function pr(){return Date.now()/Bw}function $j(){const{performance:e}=et;if(!(e!=null&&e.now)||!e.timeOrigin)return pr;const t=e.timeOrigin;return()=>(t+e.now())/Bw}let Sb;function an(){return(Sb??(Sb=$j()))()}let fh;function Kj(){var p;const{performance:e}=et;if(!(e!=null&&e.now))return[void 0,"none"];const t=3600*1e3,a=e.now(),i=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+a-i):t,r=s<t,o=(p=e.timing)==null?void 0:p.navigationStart,u=typeof o=="number"?Math.abs(o+a-i):t,d=u<t;return r||d?s<=u?[e.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[i,"dateNow"]}function Ln(){return fh||(fh=Kj()),fh[0]}function Wj(e){const t=an(),a={sid:Wn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Zj(a)};return e&&No(a,e),a}function No(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||an(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Wn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const a=e.timestamp-e.started;e.duration=a>=0?a:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Xj(e,t){let a={};e.status==="ok"&&(a={status:"exited"}),No(e,a)}function Zj(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function bc(e,t,a=2){if(!t||typeof t!="object"||a<=0)return t;if(e&&Object.keys(t).length===0)return e;const i={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=bc(i[s],t[s],a-1));return i}function _i(){return Wn()}function hi(){return Wn().substring(16)}const zm="_sentrySpan";function ko(e,t){t?Qn(e,zm,t):delete e[zm]}function xd(e){return e[zm]}const Qj=100;class Ba{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:_i(),sampleRand:Math.random()}}clone(){const t=new Ba;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,ko(t,xd(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&No(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,a){return this.setTags({[t]:a})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,a){return this.setAttributes({[t]:a})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,a){return this._extra={...this._extra,[t]:a},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,a){return a===null?delete this._contexts[t]:this._contexts[t]=a,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const a=typeof t=="function"?t(this):t,i=a instanceof Ba?a.getScopeData():Vl(a)?t:void 0,{tags:s,attributes:r,extra:o,user:c,contexts:u,level:d,fingerprint:p=[],propagationContext:f}=i||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...r},this._extra={...this._extra,...o},this._contexts={...this._contexts,...u},c&&Object.keys(c).length&&(this._user=c),d&&(this._level=d),p.length&&(this._fingerprint=p),f&&(this._propagationContext=f),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ko(this,void 0),this._attachments=[],this.setPropagationContext({traceId:_i(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,a){var r;const i=typeof a=="number"?a:Qj;if(i<=0)return this;const s={timestamp:pr(),...t,message:t.message?Om(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>i&&(this._breadcrumbs=this._breadcrumbs.slice(-i),(r=this._client)==null||r.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:xd(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=bc(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,a){const i=(a==null?void 0:a.event_id)||Wn();if(!this._client)return Se&&pe.warn("No client configured on scope - will not capture exception!"),i;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...a,event_id:i},this),i}captureMessage(t,a,i){const s=(i==null?void 0:i.event_id)||Wn();if(!this._client)return Se&&pe.warn("No client configured on scope - will not capture message!"),s;const r=(i==null?void 0:i.syntheticException)??new Error(t);return this._client.captureMessage(t,a,{originalException:t,syntheticException:r,...i,event_id:s},this),s}captureEvent(t,a){const i=(a==null?void 0:a.event_id)||Wn();return this._client?(this._client.captureEvent(t,{...a,event_id:i},this),i):(Se&&pe.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Jj(){return Bo("defaultCurrentScope",()=>new Ba)}function e2(){return Bo("defaultIsolationScope",()=>new Ba)}class t2{constructor(t,a){let i;t?i=t:i=new Ba;let s;a?s=a:s=new Ba,this._stack=[{scope:i}],this._isolationScope=s}withScope(t){const a=this._pushScope();let i;try{i=t(a)}catch(s){throw this._popScope(),s}return Fo(i)?i.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function To(){const e=hr(),t=Jd(e);return t.stack=t.stack||new t2(Jj(),e2())}function n2(e){return To().withScope(e)}function a2(e,t){const a=To();return a.withScope(()=>(a.getStackTop().scope=e,t(e)))}function _b(e){return To().withScope(()=>e(To().getIsolationScope()))}function i2(){return{withIsolationScope:_b,withScope:n2,withSetScope:a2,withSetIsolationScope:(e,t)=>_b(t),getCurrentScope:()=>To().getScope(),getIsolationScope:()=>To().getIsolationScope()}}function Go(e){const t=Jd(e);return t.acs?t.acs:i2()}function ut(){const e=hr();return Go(e).getCurrentScope()}function Ha(){const e=hr();return Go(e).getIsolationScope()}function s2(){return Bo("globalScope",()=>new Ba)}function tf(...e){const t=hr(),a=Go(t);if(e.length===2){const[i,s]=e;return i?a.withSetScope(i,s):a.withScope(s)}return a.withScope(e[0])}function Ze(){return ut().getClient()}function r2(e){const t=e.getPropagationContext(),{traceId:a,parentSpanId:i,propagationSpanId:s}=t,r={trace_id:a,span_id:s||hi()};return i&&(r.parent_span_id=i),r}const Ea="sentry.source",Ng="sentry.sample_rate",Pw="sentry.previous_trace_sample_rate",wi="sentry.op",Xt="sentry.origin",$l="sentry.idle_span_finish_reason",yc="sentry.measurement_unit",vc="sentry.measurement_value",wb="sentry.custom_span_name",kg="sentry.profile_id",qo="sentry.exclusive_time",o2="sentry.link.type",l2=0,Tg=1,Vt=2;function c2(e){if(e<400&&e>=100)return{code:Tg};if(e>=400&&e<500)switch(e){case 401:return{code:Vt,message:"unauthenticated"};case 403:return{code:Vt,message:"permission_denied"};case 404:return{code:Vt,message:"not_found"};case 409:return{code:Vt,message:"already_exists"};case 413:return{code:Vt,message:"failed_precondition"};case 429:return{code:Vt,message:"resource_exhausted"};case 499:return{code:Vt,message:"cancelled"};default:return{code:Vt,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Vt,message:"unimplemented"};case 503:return{code:Vt,message:"unavailable"};case 504:return{code:Vt,message:"deadline_exceeded"};default:return{code:Vt,message:"internal_error"}}return{code:Vt,message:"internal_error"}}function Fw(e,t){e.setAttribute("http.response.status_code",t);const a=c2(t);a.message!=="unknown_error"&&e.setStatus(a)}const Hw="_sentryScope",Gw="_sentryIsolationScope";function u2(e){try{const t=et.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function d2(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function f2(e,t,a){e&&(Qn(e,Gw,u2(a)),Qn(e,Hw,t))}function bd(e){const t=e;return{scope:t[Hw],isolationScope:d2(t[Gw])}}const jg="sentry-",h2=/^sentry-/,m2=8192;function qw(e){const t=g2(e);if(!t)return;const a=Object.entries(t).reduce((i,[s,r])=>{if(s.match(h2)){const o=s.slice(jg.length);i[o]=r}return i},{});if(Object.keys(a).length>0)return a}function p2(e){if(!e)return;const t=Object.entries(e).reduce((a,[i,s])=>(s&&(a[`${jg}${i}`]=s),a),{});return x2(t)}function g2(e){if(!(!e||!di(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,a)=>{const i=Eb(a);return Object.entries(i).forEach(([s,r])=>{t[s]=r}),t},{}):Eb(e)}function Eb(e){return e.split(",").map(t=>{const a=t.indexOf("=");if(a===-1)return[];const i=t.slice(0,a),s=t.slice(a+1);return[i,s].map(r=>{try{return decodeURIComponent(r.trim())}catch{return}})}).reduce((t,[a,i])=>(a&&i&&(t[a]=i),t),{})}function x2(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[a,i],s)=>{const r=`${encodeURIComponent(a)}=${encodeURIComponent(i)}`,o=s===0?r:`${t},${r}`;return o.length>m2?(Se&&pe.warn(`Not adding key: ${a} with val: ${i} to baggage header due to exceeding baggage size limits.`),t):o},"")}const b2=/^o(\d+)\./,y2=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function v2(e){return e==="http"||e==="https"}function Yo(e,t=!1){const{host:a,path:i,pass:s,port:r,projectId:o,protocol:c,publicKey:u}=e;return`${c}://${u}${t&&s?`:${s}`:""}@${a}${r?`:${r}`:""}/${i&&`${i}/`}${o}`}function S2(e){const t=y2.exec(e);if(!t){mr(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[a,i,s="",r="",o="",c=""]=t.slice(1);let u="",d=c;const p=d.split("/");if(p.length>1&&(u=p.slice(0,-1).join("/"),d=p.pop()),d){const f=d.match(/^\d+/);f&&(d=f[0])}return Yw({host:r,pass:s,path:u,projectId:d,port:o,protocol:a,publicKey:i})}function Yw(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function _2(e){if(!Se)return!0;const{port:t,projectId:a,protocol:i}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(pe.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:a.match(/^\d+$/)?v2(i)?t&&isNaN(parseInt(t,10))?(pe.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(pe.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),!1):(pe.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),!1)}function w2(e){const t=e.match(b2);return t==null?void 0:t[1]}function E2(e){const t=e.getOptions(),{host:a}=e.getDsn()||{};let i;return t.orgId?i=String(t.orgId):a&&(i=w2(a)),i}function N2(e){const t=typeof e=="string"?S2(e):Yw(e);if(!(!t||!_2(t)))return t}function sr(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const Vw=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function k2(e){if(!e)return;const t=e.match(Vw);if(!t)return;let a;return t[3]==="1"?a=!0:t[3]==="0"&&(a=!1),{traceId:t[1],parentSampled:a,parentSpanId:t[2]}}function T2(e,t){const a=k2(e),i=qw(t);if(!(a!=null&&a.traceId))return{traceId:_i(),sampleRand:Math.random()};const s=j2(a,i);i&&(i.sample_rand=s.toString());const{traceId:r,parentSpanId:o,parentSampled:c}=a;return{traceId:r,parentSpanId:o,sampled:c,dsc:i||{},sampleRand:s}}function $w(e=_i(),t=hi(),a){let i="";return a!==void 0&&(i=a?"-1":"-0"),`${e}-${t}${i}`}function Kw(e=_i(),t=hi(),a){return`00-${e}-${t}-${a?"01":"00"}`}function j2(e,t){const a=sr(t==null?void 0:t.sample_rand);if(a!==void 0)return a;const i=sr(t==null?void 0:t.sample_rate);return i&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*i:i+Math.random()*(1-i):Math.random()}const Ww=0,Ag=1;let Nb=!1;function A2(e){const{spanId:t,traceId:a}=e.spanContext(),{data:i,op:s,parent_span_id:r,status:o,origin:c,links:u}=nt(e);return{parent_span_id:r,span_id:t,trace_id:a,data:i,op:s,status:o,origin:c,links:u}}function C2(e){const{spanId:t,traceId:a,isRemote:i}=e.spanContext(),s=i?t:nt(e).parent_span_id,r=bd(e).scope,o=i?(r==null?void 0:r.getPropagationContext().propagationSpanId)||hi():t;return{parent_span_id:s,span_id:o,trace_id:a}}function R2(e){const{traceId:t,spanId:a}=e.spanContext(),i=_s(e);return $w(t,a,i)}function D2(e){const{traceId:t,spanId:a}=e.spanContext(),i=_s(e);return Kw(t,a,i)}function Xw(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:a,traceFlags:i,...s},attributes:r})=>({span_id:t,trace_id:a,sampled:i===Ag,attributes:r,...s}))}function Ks(e){return typeof e=="number"?kb(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?kb(e.getTime()):an()}function kb(e){return e>9999999999?e/1e3:e}function nt(e){var i;if(O2(e))return e.getSpanJSON();const{spanId:t,traceId:a}=e.spanContext();if(M2(e)){const{attributes:s,startTime:r,name:o,endTime:c,status:u,links:d}=e,p="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(i=e.parentSpanContext)==null?void 0:i.spanId:void 0;return{span_id:t,trace_id:a,data:s,description:o,parent_span_id:p,start_timestamp:Ks(r),timestamp:Ks(c)||void 0,status:Zw(u),op:s[wi],origin:s[Xt],links:Xw(d)}}return{span_id:t,trace_id:a,start_timestamp:0,data:{}}}function M2(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function O2(e){return typeof e.getSpanJSON=="function"}function _s(e){const{traceFlags:t}=e.spanContext();return t===Ag}function Zw(e){if(!(!e||e.code===l2))return e.code===Tg?"ok":e.message||"internal_error"}const Ws="_sentryChildSpans",Lm="_sentryRootSpan";function Qw(e,t){const a=e[Lm]||e;Qn(t,Lm,a),e[Ws]?e[Ws].add(t):Qn(e,Ws,new Set([t]))}function I2(e,t){e[Ws]&&e[Ws].delete(t)}function Du(e){const t=new Set;function a(i){if(!t.has(i)&&_s(i)){t.add(i);const s=i[Ws]?Array.from(i[Ws]):[];for(const r of s)a(r)}}return a(e),Array.from(t)}function xn(e){return e[Lm]||e}function wn(){const e=hr(),t=Go(e);return t.getActiveSpan?t.getActiveSpan():xd(ut())}function Um(){Nb||(mr(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Nb=!0)}let Tb=!1;function z2(){if(Tb)return;function e(){const t=wn(),a=t&&xn(t);if(a){const i="internal_error";Se&&pe.log(`[Tracing] Root span: ${i} -> Global error occurred`),a.setStatus({code:Vt,message:i})}}e.tag="sentry_tracingErrorCallback",Tb=!0,Aw(e),Cw(e)}function Na(e){var a;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((a=Ze())==null?void 0:a.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function jb(e){pe.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function yd(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const a of t){if(U2(a)){if(Ru(e.description,a))return Se&&jb(e),!0;continue}if(!a.name&&!a.op)continue;const i=a.name?Ru(e.description,a.name):!0,s=a.op?e.op&&Ru(e.op,a.op):!0;if(i&&s)return Se&&jb(e),!0}return!1}function L2(e,t){const a=t.parent_span_id,i=t.span_id;if(a)for(const s of e)s.parent_span_id===i&&(s.parent_span_id=a)}function U2(e){return typeof e=="string"||e instanceof RegExp}const Cg="production",Jw="_frozenDsc";function Mu(e,t){Qn(e,Jw,t)}function e1(e,t){const a=t.getOptions(),{publicKey:i}=t.getDsn()||{},s={environment:a.environment||Cg,release:a.release,public_key:i,trace_id:e,org_id:E2(t)};return t.emit("createDsc",s),s}function t1(e,t){const a=t.getPropagationContext();return a.dsc||e1(a.traceId,e)}function Ei(e){var x;const t=Ze();if(!t)return{};const a=xn(e),i=nt(a),s=i.data,r=a.spanContext().traceState,o=(r==null?void 0:r.get("sentry.sample_rate"))??s[Ng]??s[Pw];function c(b){return(typeof o=="number"||typeof o=="string")&&(b.sample_rate=`${o}`),b}const u=a[Jw];if(u)return c(u);const d=r==null?void 0:r.get("sentry.dsc"),p=d&&qw(d);if(p)return c(p);const f=e1(e.spanContext().traceId,t),m=s[Ea],h=i.description;return m!=="url"&&h&&(f.transaction=h),Na()&&(f.sampled=String(_s(a)),f.sample_rand=(r==null?void 0:r.get("sentry.sample_rand"))??((x=bd(a).scope)==null?void 0:x.getPropagationContext().sampleRand.toString())),c(f),t.emit("createDsc",f,a),f}class ps{constructor(t={}){this._traceId=t.traceId||_i(),this._spanId=t.spanId||hi()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Ww}}end(t){}setAttribute(t,a){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,a,i){return this}addLink(t){return this}addLinks(t){return this}recordException(t,a){}}function Sa(e,t=100,a=1/0){try{return Bm("",e,t,a)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function n1(e,t=3,a=100*1024){const i=Sa(e,t);return H2(i)>a?n1(e,t-1,a):i}function Bm(e,t,a=1/0,i=1/0,s=G2()){const[r,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const c=B2(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const u=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:a;if(u===0)return c.replace("object ","");if(r(t))return"[Circular ~]";const d=t;if(d&&typeof d.toJSON=="function")try{const h=d.toJSON();return Bm("",h,u-1,i,s)}catch{}const p=Array.isArray(t)?[]:{};let f=0;const m=Lw(t);for(const h in m){if(!Object.prototype.hasOwnProperty.call(m,h))continue;if(f>=i){p[h]="[MaxProperties ~]";break}const x=m[h];p[h]=Bm(h,x,u-1,i,s),f++}return o(t),p}function B2(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Mw(t))return jw(t);if(Pj(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${vi(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const a=P2(t);return/^HTML(\w*)Element$/.test(a)?`[HTMLElement: ${a}]`:`[object ${a}]`}catch(a){return`**non-serializable** (${a})`}}function P2(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function F2(e){return~-encodeURI(e).split(/%..|./).length}function H2(e){return F2(JSON.stringify(e))}function G2(){const e=new WeakSet;function t(i){return e.has(i)?!0:(e.add(i),!1)}function a(i){e.delete(i)}return[t,a]}function ws(e,t=[]){return[e,t]}function q2(e,t){const[a,i]=e;return[a,[...i,t]]}function Ab(e,t){const a=e[1];for(const i of a){const s=i[0].type;if(t(i,s))return!0}return!1}function Pm(e){const t=Jd(et);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Y2(e){const[t,a]=e;let i=JSON.stringify(t);function s(r){typeof i=="string"?i=typeof r=="string"?i+r:[Pm(i),r]:i.push(typeof r=="string"?Pm(r):r)}for(const r of a){const[o,c]=r;if(s(`
${JSON.stringify(o)}
`),typeof c=="string"||c instanceof Uint8Array)s(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(Sa(c))}s(u)}}return typeof i=="string"?i:V2(i)}function V2(e){const t=e.reduce((s,r)=>s+r.length,0),a=new Uint8Array(t);let i=0;for(const s of e)a.set(s,i),i+=s.length;return a}function $2(e){return[{type:"span"},e]}function K2(e){const t=typeof e.data=="string"?Pm(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const W2={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Cb(e){return W2[e]}function Rg(e){if(!(e!=null&&e.sdk))return;const{name:t,version:a}=e.sdk;return{name:t,version:a}}function a1(e,t,a,i){var r;const s=(r=e.sdkProcessingMetadata)==null?void 0:r.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!a&&i&&{dsn:Yo(i)},...s&&{trace:s}}}function X2(e,t){var i,s,r,o;if(!t)return e;const a=e.sdk||{};return e.sdk={...a,name:a.name||t.name,version:a.version||t.version,integrations:[...((i=e.sdk)==null?void 0:i.integrations)||[],...t.integrations||[]],packages:[...((s=e.sdk)==null?void 0:s.packages)||[],...t.packages||[]],settings:(r=e.sdk)!=null&&r.settings||t.settings?{...(o=e.sdk)==null?void 0:o.settings,...t.settings}:void 0},e}function Z2(e,t,a,i){const s=Rg(a),r={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!i&&t&&{dsn:Yo(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return ws(r,[o])}function Q2(e,t,a,i){const s=Rg(a),r=e.type&&e.type!=="replay_event"?e.type:"event";X2(e,a==null?void 0:a.sdk);const o=a1(e,s,i,t);return delete e.sdkProcessingMetadata,ws(o,[[{type:r},e]])}function J2(e,t){function a(h){return!!h.trace_id&&!!h.public_key}const i=Ei(e[0]),s=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...a(i)&&{trace:i},...!!r&&s&&{dsn:Yo(s)}},{beforeSendSpan:c,ignoreSpans:u}=(t==null?void 0:t.getOptions())||{},d=u!=null&&u.length?e.filter(h=>!yd(nt(h),u)):e,p=e.length-d.length;p&&(t==null||t.recordDroppedEvent("before_send","span",p));const f=c?h=>{const x=nt(h),b=c(x);return b||(Um(),x)}:nt,m=[];for(const h of d){const x=f(h);x&&m.push($2(x))}return ws(o,m)}function eA(e){if(!Se)return;const{description:t="< unknown name >",op:a="< unknown op >",parent_span_id:i}=nt(e),{spanId:s}=e.spanContext(),r=_s(e),o=xn(e),c=o===e,u=`[Tracing] Starting ${r?"sampled":"unsampled"} ${c?"root ":""}span`,d=[`op: ${a}`,`name: ${t}`,`ID: ${s}`];if(i&&d.push(`parent ID: ${i}`),!c){const{op:p,description:f}=nt(o);d.push(`root ID: ${o.spanContext().spanId}`),p&&d.push(`root op: ${p}`),f&&d.push(`root description: ${f}`)}pe.log(`${u}
  ${d.join(`
  `)}`)}function tA(e){if(!Se)return;const{description:t="< unknown name >",op:a="< unknown op >"}=nt(e),{spanId:i}=e.spanContext(),r=xn(e)===e,o=`[Tracing] Finishing "${a}" ${r?"root ":""}span "${t}" with ID ${i}`;pe.log(o)}function nA(e,t,a,i=wn()){const s=i&&xn(i);s&&(Se&&pe.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${a}`),s.addEvent(e,{[vc]:t,[yc]:a}))}function Rb(e){if(!e||e.length===0)return;const t={};return e.forEach(a=>{const i=a.attributes||{},s=i[yc],r=i[vc];typeof s=="string"&&typeof r=="number"&&(t[a.name]={value:r,unit:s})}),t}const Db=1e3;class nf{constructor(t={}){this._traceId=t.traceId||_i(),this._spanId=t.spanId||hi(),this._startTime=t.startTimestamp||an(),this._links=t.links,this._attributes={},this.setAttributes({[Xt]:"manual",[wi]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,a){}spanContext(){const{_spanId:t,_traceId:a,_sampled:i}=this;return{spanId:t,traceId:a,traceFlags:i?Ag:Ww}}setAttribute(t,a){return a===void 0?delete this._attributes[t]:this._attributes[t]=a,this}setAttributes(t){return Object.keys(t).forEach(a=>this.setAttribute(a,t[a])),this}updateStartTime(t){this._startTime=Ks(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Ea,"custom"),this}end(t){this._endTime||(this._endTime=Ks(t),tA(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[wi],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Zw(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Xt],profile_id:this._attributes[kg],exclusive_time:this._attributes[qo],measurements:Rb(this._events),is_segment:this._isStandaloneSpan&&xn(this)===this||void 0,segment_id:this._isStandaloneSpan?xn(this).spanContext().spanId:void 0,links:Xw(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,a,i){Se&&pe.log("[Tracing] Adding an event to span:",t);const s=Mb(a)?a:i||an(),r=Mb(a)?{}:a||{},o={name:t,time:Ks(s),attributes:r};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=Ze();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===xn(this)))return;if(this._isStandaloneSpan){this._sampled?iA(J2([this],t)):(Se&&pe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const i=this._convertSpanToTransaction();i&&(bd(this).scope||ut()).captureEvent(i)}_convertSpanToTransaction(){var p;if(!Ob(nt(this)))return;this._name||(Se&&pe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:a}=bd(this),i=(p=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:p.normalizedRequest;if(this._sampled!==!0)return;const r=Du(this).filter(f=>f!==this&&!aA(f)).map(f=>nt(f)).filter(Ob),o=this._attributes[Ea];delete this._attributes[wb],r.forEach(f=>{delete f.data[wb]});const c={contexts:{trace:A2(this)},spans:r.length>Db?r.sort((f,m)=>f.start_timestamp-m.start_timestamp).slice(0,Db):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:a,dynamicSamplingContext:Ei(this)},request:i,...o&&{transaction_info:{source:o}}},u=Rb(this._events);return u&&Object.keys(u).length&&(Se&&pe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),c.measurements=u),c}}function Mb(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Ob(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function aA(e){return e instanceof nf&&e.isStandaloneSpan()}function iA(e){const t=Ze();if(!t)return;const a=e[1];if(!a||a.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function sA(e,t,a=()=>{},i=()=>{}){let s;try{s=e()}catch(r){throw t(r),a(),r}return rA(s,t,a,i)}function rA(e,t,a,i){return Fo(e)?e.then(s=>(a(),i(s),s),s=>{throw t(s),a(),s}):(a(),i(e),e)}function oA(e,t,a){if(!Na(e))return[!1];let i,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:c=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):c}),i=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,i=!0);const r=sr(s);if(r===void 0)return Se&&pe.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!r)return Se&&pe.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,r,i];const o=a<r;return o||Se&&pe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[o,r,i]}const i1="__SENTRY_SUPPRESS_TRACING__";function lA(e,t){const a=Mg();if(a.startSpan)return a.startSpan(e,t);const i=r1(e),{forceTransaction:s,parentSpan:r,scope:o}=e,c=o==null?void 0:o.clone();return tf(c,()=>uA(r)(()=>{const d=ut(),p=o1(d,r),m=e.onlyIfParent&&!p?new ps:s1({parentSpan:p,spanArguments:i,forceTransaction:s,scope:d});return ko(d,m),sA(()=>t(m),()=>{const{status:h}=nt(m);m.isRecording()&&(!h||h==="ok")&&m.setStatus({code:Vt,message:"internal_error"})},()=>{m.end()})}))}function Vo(e){const t=Mg();if(t.startInactiveSpan)return t.startInactiveSpan(e);const a=r1(e),{forceTransaction:i,parentSpan:s}=e;return(e.scope?o=>tf(e.scope,o):s!==void 0?o=>Dg(s,o):o=>o())(()=>{const o=ut(),c=o1(o,s);return e.onlyIfParent&&!c?new ps:s1({parentSpan:c,spanArguments:a,forceTransaction:i,scope:o})})}function Dg(e,t){const a=Mg();return a.withActiveSpan?a.withActiveSpan(e,t):tf(i=>(ko(i,e||void 0),t(i)))}function s1({parentSpan:e,spanArguments:t,forceTransaction:a,scope:i}){if(!Na()){const o=new ps;if(a||!e){const c={sampled:"false",sample_rate:"0",transaction:t.name,...Ei(o)};Mu(o,c)}return o}const s=Ha();let r;if(e&&!a)r=cA(e,i,t),Qw(e,r);else if(e){const o=Ei(e),{traceId:c,spanId:u}=e.spanContext(),d=_s(e);r=Ib({traceId:c,parentSpanId:u,...t},i,d),Mu(r,o)}else{const{traceId:o,dsc:c,parentSpanId:u,sampled:d}={...s.getPropagationContext(),...i.getPropagationContext()};r=Ib({traceId:o,parentSpanId:u,...t},i,d),c&&Mu(r,c)}return eA(r),f2(r,i,s),r}function r1(e){const a={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const i={...a};return i.startTimestamp=Ks(e.startTime),delete i.startTime,i}return a}function Mg(){const e=hr();return Go(e)}function Ib(e,t,a){var x;const i=Ze(),s=(i==null?void 0:i.getOptions())||{},{name:r=""}=e,o={spanAttributes:{...e.attributes},spanName:r,parentSampled:a};i==null||i.emit("beforeSampling",o,{decision:!1});const c=o.parentSampled??a,u=o.spanAttributes,d=t.getPropagationContext(),[p,f,m]=t.getScopeData().sdkProcessingMetadata[i1]?[!1]:oA(s,{name:r,parentSampled:c,attributes:u,parentSampleRate:sr((x=d.dsc)==null?void 0:x.sample_rate)},d.sampleRand),h=new nf({...e,attributes:{[Ea]:"custom",[Ng]:f!==void 0&&m?f:void 0,...u},sampled:p});return!p&&i&&(Se&&pe.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),i.recordDroppedEvent("sample_rate","transaction")),i&&i.emit("spanStart",h),h}function cA(e,t,a){const{spanId:i,traceId:s}=e.spanContext(),r=t.getScopeData().sdkProcessingMetadata[i1]?!1:_s(e),o=r?new nf({...a,parentSpanId:i,traceId:s,sampled:r}):new ps({traceId:s});Qw(e,o);const c=Ze();return c&&(c.emit("spanStart",o),a.endTimestamp&&c.emit("spanEnd",o)),o}function o1(e,t){if(t)return t;if(t===null)return;const a=xd(e);if(!a)return;const i=Ze();return(i?i.getOptions():{}).parentSpanIsAlwaysRootSpan?xn(a):a}function uA(e){return e!==void 0?t=>Dg(e,t):t=>t()}const Ou={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},dA="heartbeatFailed",fA="idleTimeout",hA="finalTimeout",mA="externalFinish";function l1(e,t={}){const a=new Map;let i=!1,s,r=mA,o=!t.disableAutoFinish;const c=[],{idleTimeout:u=Ou.idleTimeout,finalTimeout:d=Ou.finalTimeout,childSpanTimeout:p=Ou.childSpanTimeout,beforeSpanEnd:f,trimIdleSpanEndTimestamp:m=!0}=t,h=Ze();if(!h||!Na()){const A=new ps,I={sample_rate:"0",sampled:"false",...Ei(A)};return Mu(A,I),A}const x=ut(),b=wn(),S=pA(e);S.end=new Proxy(S.end,{apply(A,I,j){if(f&&f(S),I instanceof ps)return;const[N,...z]=j,T=N||an(),C=Ks(T),v=Du(S).filter($=>$!==S),D=nt(S);if(!v.length||!m)return M(C),Reflect.apply(A,I,[C,...z]);const U=h.getOptions().ignoreSpans,H=v==null?void 0:v.reduce(($,L)=>{const F=nt(L);return!F.timestamp||U&&yd(F,U)?$:$?Math.max($,F.timestamp):F.timestamp},void 0),P=D.start_timestamp,X=Math.min(P?P+d/1e3:1/0,Math.max(P||-1/0,Math.min(C,H||1/0)));return M(X),Reflect.apply(A,I,[X,...z])}});function g(){s&&(clearTimeout(s),s=void 0)}function y(A){g(),s=setTimeout(()=>{!i&&a.size===0&&o&&(r=fA,S.end(A))},u)}function w(A){s=setTimeout(()=>{!i&&o&&(r=dA,S.end(A))},p)}function E(A){g(),a.set(A,!0);const I=an();w(I+p/1e3)}function k(A){if(a.has(A)&&a.delete(A),a.size===0){const I=an();y(I+u/1e3)}}function M(A){i=!0,a.clear(),c.forEach(v=>v()),ko(x,b);const I=nt(S),{start_timestamp:j}=I;if(!j)return;I.data[$l]||S.setAttribute($l,r);const z=I.status;(!z||z==="unknown")&&S.setStatus({code:Tg}),pe.log(`[Tracing] Idle span "${I.op}" finished`);const T=Du(S).filter(v=>v!==S);let C=0;T.forEach(v=>{v.isRecording()&&(v.setStatus({code:Vt,message:"cancelled"}),v.end(A),Se&&pe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(v,void 0,2)));const D=nt(v),{timestamp:U=0,start_timestamp:H=0}=D,P=H<=A,X=(d+u)/1e3,$=U-H<=X;if(Se){const L=JSON.stringify(v,void 0,2);P?$||pe.log("[Tracing] Discarding span since it finished after idle span final timeout",L):pe.log("[Tracing] Discarding span since it happened after idle span was finished",L)}(!$||!P)&&(I2(S,v),C++)}),C>0&&S.setAttribute("sentry.idle_span_discarded_spans",C)}return c.push(h.on("spanStart",A=>{if(i||A===S||nt(A).timestamp||A instanceof nf&&A.isStandaloneSpan())return;Du(S).includes(A)&&E(A.spanContext().spanId)})),c.push(h.on("spanEnd",A=>{i||k(A.spanContext().spanId)})),c.push(h.on("idleSpanEnableAutoFinish",A=>{A===S&&(o=!0,y(),a.size&&w())})),t.disableAutoFinish||y(),setTimeout(()=>{i||(S.setStatus({code:Vt,message:"deadline_exceeded"}),r=hA,S.end())},d),S}function pA(e){const t=Vo(e);return ko(ut(),t),Se&&pe.log("[Tracing] Started span is an idle span"),t}const hh=0,zb=1,Lb=2;function af(e){return new Kl(t=>{t(e)})}function Og(e){return new Kl((t,a)=>{a(e)})}class Kl{constructor(t){this._state=hh,this._handlers=[],this._runExecutor(t)}then(t,a){return new Kl((i,s)=>{this._handlers.push([!1,r=>{if(!t)i(r);else try{i(t(r))}catch(o){s(o)}},r=>{if(!a)s(r);else try{i(a(r))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(a=>a,t)}finally(t){return new Kl((a,i)=>{let s,r;return this.then(o=>{r=!1,s=o,t&&t()},o=>{r=!0,s=o,t&&t()}).then(()=>{if(r){i(s);return}a(s)})})}_executeHandlers(){if(this._state===hh)return;const t=this._handlers.slice();this._handlers=[],t.forEach(a=>{a[0]||(this._state===zb&&a[1](this._value),this._state===Lb&&a[2](this._value),a[0]=!0)})}_runExecutor(t){const a=(r,o)=>{if(this._state===hh){if(Fo(o)){o.then(i,s);return}this._state=r,this._value=o,this._executeHandlers()}},i=r=>{a(zb,r)},s=r=>{a(Lb,r)};try{t(i,s)}catch(r){s(r)}}}function gA(e,t,a,i=0){try{const s=Fm(t,a,e,i);return Fo(s)?s:af(s)}catch(s){return Og(s)}}function Fm(e,t,a,i){const s=a[i];if(!e||!s)return e;const r=s({...e},t);return Se&&r===null&&pe.log(`Event processor "${s.id||"?"}" dropped event`),Fo(r)?r.then(o=>Fm(o,t,a,i+1)):Fm(r,t,a,i+1)}function xA(e,t){const{fingerprint:a,span:i,breadcrumbs:s,sdkProcessingMetadata:r}=t;bA(e,t),i&&SA(e,i),_A(e,a),yA(e,s),vA(e,r)}function Ub(e,t){const{extra:a,tags:i,user:s,contexts:r,level:o,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:d,eventProcessors:p,attachments:f,propagationContext:m,transactionName:h,span:x}=t;tu(e,"extra",a),tu(e,"tags",i),tu(e,"user",s),tu(e,"contexts",r),e.sdkProcessingMetadata=bc(e.sdkProcessingMetadata,c,2),o&&(e.level=o),h&&(e.transactionName=h),x&&(e.span=x),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),d.length&&(e.fingerprint=[...e.fingerprint,...d]),p.length&&(e.eventProcessors=[...e.eventProcessors,...p]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...m}}function tu(e,t,a){e[t]=bc(e[t],a,1)}function bA(e,t){const{extra:a,tags:i,user:s,contexts:r,level:o,transactionName:c}=t;Object.keys(a).length&&(e.extra={...a,...e.extra}),Object.keys(i).length&&(e.tags={...i,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(r).length&&(e.contexts={...r,...e.contexts}),o&&(e.level=o),c&&e.type!=="transaction"&&(e.transaction=c)}function yA(e,t){const a=[...e.breadcrumbs||[],...t];e.breadcrumbs=a.length?a:void 0}function vA(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function SA(e,t){e.contexts={trace:C2(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Ei(t),...e.sdkProcessingMetadata};const a=xn(t),i=nt(a).description;i&&!e.transaction&&e.type==="transaction"&&(e.transaction=i)}function _A(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Qa,Bb,Pb,Ri;function wA(e){const t=et._sentryDebugIds,a=et._debugIds;if(!t&&!a)return{};const i=t?Object.keys(t):[],s=a?Object.keys(a):[];if(Ri&&i.length===Bb&&s.length===Pb)return Ri;Bb=i.length,Pb=s.length,Ri={},Qa||(Qa={});const r=(o,c)=>{for(const u of o){const d=c[u],p=Qa==null?void 0:Qa[u];if(p&&Ri&&d)Ri[p[0]]=d,Qa&&(Qa[u]=[p[0],d]);else if(d){const f=e(u);for(let m=f.length-1;m>=0;m--){const h=f[m],x=h==null?void 0:h.filename;if(x&&Ri&&Qa){Ri[x]=d,Qa[u]=[x,d];break}}}}};return t&&r(i,t),a&&r(s,a),Ri}function c1(e,t,a,i,s,r){const{normalizeDepth:o=3,normalizeMaxBreadth:c=1e3}=e,u={...t,event_id:t.event_id||a.event_id||Wn(),timestamp:t.timestamp||pr()},d=a.integrations||e.integrations.map(S=>S.name);EA(u,e),TA(u,d),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&NA(u,e.stackParser);const p=AA(i,a.captureContext);a.mechanism&&Eo(u,a.mechanism);const f=s?s.getEventProcessors():[],m=s2().getScopeData();if(r){const S=r.getScopeData();Ub(m,S)}if(p){const S=p.getScopeData();Ub(m,S)}const h=[...a.attachments||[],...m.attachments];h.length&&(a.attachments=h),xA(u,m);const x=[...f,...m.eventProcessors];return gA(x,u,a).then(S=>(S&&kA(S),typeof o=="number"&&o>0?jA(S,o,c):S))}function EA(e,t){var c,u;const{environment:a,release:i,dist:s,maxValueLength:r}=t;e.environment=e.environment||a||Cg,!e.release&&i&&(e.release=i),!e.dist&&s&&(e.dist=s);const o=e.request;o!=null&&o.url&&r&&(o.url=Om(o.url,r)),r&&((u=(c=e.exception)==null?void 0:c.values)==null||u.forEach(d=>{d.value&&(d.value=Om(d.value,r))}))}function NA(e,t){var i,s;const a=wA(t);(s=(i=e.exception)==null?void 0:i.values)==null||s.forEach(r=>{var o,c;(c=(o=r.stacktrace)==null?void 0:o.frames)==null||c.forEach(u=>{u.filename&&(u.debug_id=a[u.filename])})})}function kA(e){var i,s;const t={};if((s=(i=e.exception)==null?void 0:i.values)==null||s.forEach(r=>{var o,c;(c=(o=r.stacktrace)==null?void 0:o.frames)==null||c.forEach(u=>{u.debug_id&&(u.abs_path?t[u.abs_path]=u.debug_id:u.filename&&(t[u.filename]=u.debug_id),delete u.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const a=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{a.push({type:"sourcemap",code_file:r,debug_id:o})})}function TA(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function jA(e,t,a){var s,r;if(!e)return null;const i={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:Sa(o.data,t,a)}}))},...e.user&&{user:Sa(e.user,t,a)},...e.contexts&&{contexts:Sa(e.contexts,t,a)},...e.extra&&{extra:Sa(e.extra,t,a)}};return(s=e.contexts)!=null&&s.trace&&i.contexts&&(i.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(i.contexts.trace.data=Sa(e.contexts.trace.data,t,a))),e.spans&&(i.spans=e.spans.map(o=>({...o,...o.data&&{data:Sa(o.data,t,a)}}))),(r=e.contexts)!=null&&r.flags&&i.contexts&&(i.contexts.flags=Sa(e.contexts.flags,3,a)),i}function AA(e,t){if(!t)return e;const a=e?e.clone():new Ba;return a.update(t),a}function CA(e){if(e)return RA(e)?{captureContext:e}:MA(e)?{captureContext:e}:e}function RA(e){return e instanceof Ba||typeof e=="function"}const DA=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function MA(e){return Object.keys(e).some(t=>DA.includes(t))}function Ig(e,t){return ut().captureException(e,CA(t))}function u1(e,t){return ut().captureEvent(e,t)}function d1(e,t){Ha().setContext(e,t)}function OA(){const e=Ze();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function IA(e){Ha().addEventProcessor(e)}function Fb(e){const t=Ha(),a=ut(),{userAgent:i}=et.navigator||{},s=Wj({user:a.getUser()||t.getUser(),...i&&{userAgent:i},...e}),r=t.getSession();return(r==null?void 0:r.status)==="ok"&&No(r,{status:"exited"}),f1(),t.setSession(s),s}function f1(){const e=Ha(),a=ut().getSession()||e.getSession();a&&Xj(a),h1(),e.setSession()}function h1(){const e=Ha(),t=Ze(),a=e.getSession();a&&t&&t.captureSession(a)}function Hb(e=!1){if(e){f1();return}h1()}const zA="7";function LA(e){const t=e.protocol?`${e.protocol}:`:"",a=e.port?`:${e.port}`:"";return`${t}//${e.host}${a}${e.path?`/${e.path}`:""}/api/`}function UA(e){return`${LA(e)}${e.projectId}/envelope/`}function BA(e,t){const a={sentry_version:zA};return e.publicKey&&(a.sentry_key=e.publicKey),t&&(a.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(a).toString()}function PA(e,t,a){return t||`${UA(e)}?${BA(e,a)}`}const Gb=[];function FA(e){const t={};return e.forEach(a=>{const{name:i}=a,s=t[i];s&&!s.isDefaultInstance&&a.isDefaultInstance||(t[i]=a)}),Object.values(t)}function HA(e){const t=e.defaultIntegrations||[],a=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let i;if(Array.isArray(a))i=[...t,...a];else if(typeof a=="function"){const s=a(t);i=Array.isArray(s)?s:[s]}else i=t;return FA(i)}function GA(e,t){const a={};return t.forEach(i=>{i&&m1(e,i,a)}),a}function qb(e,t){for(const a of t)a!=null&&a.afterAllSetup&&a.afterAllSetup(e)}function m1(e,t,a){if(a[t.name]){Se&&pe.log(`Integration skipped because it was already installed: ${t.name}`);return}if(a[t.name]=t,!Gb.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),Gb.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const i=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,r)=>i(s,r,e))}if(typeof t.processEvent=="function"){const i=t.processEvent.bind(t),s=Object.assign((r,o)=>i(r,o,e),{id:t.name});e.addEventProcessor(s)}Se&&pe.log(`Integration installed: ${t.name}`)}function qA(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function YA(e,t,a,i){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),a&&i&&(s.dsn=Yo(i)),ws(s,[qA(e)])}function p1(e,t){const a=t??VA(e)??[];if(a.length===0)return;const i=e.getOptions(),s=YA(a,i._metadata,i.tunnel,e.getDsn());g1().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function VA(e){return g1().get(e)}function g1(){return Bo("clientToLogBufferMap",()=>new WeakMap)}function $A(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function KA(e,t,a,i){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),a&&i&&(s.dsn=Yo(i)),ws(s,[$A(e)])}function x1(e,t){const a=t??WA(e)??[];if(a.length===0)return;const i=e.getOptions(),s=KA(a,i._metadata,i.tunnel,e.getDsn());b1().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(s)}function WA(e){return b1().get(e)}function b1(){return Bo("clientToMetricBufferMap",()=>new WeakMap)}const zg=Symbol.for("SentryBufferFullError");function Lg(e=100){const t=new Set;function a(){return t.size<e}function i(o){t.delete(o)}function s(o){if(!a())return Og(zg);const c=o();return t.add(c),c.then(()=>i(c),()=>i(c)),c}function r(o){if(!t.size)return af(!0);const c=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return c;const u=[c,new Promise(d=>setTimeout(()=>d(!1),o))];return Promise.race(u)}return{get $(){return Array.from(t)},add:s,drain:r}}const XA=60*1e3;function ZA(e,t=Date.now()){const a=parseInt(`${e}`,10);if(!isNaN(a))return a*1e3;const i=Date.parse(`${e}`);return isNaN(i)?XA:i-t}function QA(e,t){return e[t]||e.all||0}function y1(e,t,a=Date.now()){return QA(e,t)>a}function v1(e,{statusCode:t,headers:a},i=Date.now()){const s={...e},r=a==null?void 0:a["x-sentry-rate-limits"],o=a==null?void 0:a["retry-after"];if(r)for(const c of r.trim().split(",")){const[u,d,,,p]=c.split(":",5),f=parseInt(u,10),m=(isNaN(f)?60:f)*1e3;if(!d)s.all=i+m;else for(const h of d.split(";"))h==="metric_bucket"?(!p||p.split(";").includes("custom"))&&(s[h]=i+m):s[h]=i+m}else o?s.all=i+ZA(o,i):t===429&&(s.all=i+60*1e3);return s}const S1=64;function JA(e,t,a=Lg(e.bufferSize||S1)){let i={};const s=o=>a.drain(o);function r(o){const c=[];if(Ab(o,(f,m)=>{const h=Cb(m);y1(i,h)?e.recordDroppedEvent("ratelimit_backoff",h):c.push(f)}),c.length===0)return Promise.resolve({});const u=ws(o[0],c),d=f=>{Ab(u,(m,h)=>{e.recordDroppedEvent(f,Cb(h))})},p=()=>t({body:Y2(u)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&Se&&pe.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),i=v1(i,f),f),f=>{throw d("network_error"),Se&&pe.error("Encountered error running transport request:",f),f});return a.add(p).then(f=>f,f=>{if(f===zg)return Se&&pe.error("Skipped sending event because buffer is full."),d("queue_overflow"),Promise.resolve({});throw f})}return{send:r,flush:s}}function eC(e,t,a){const i=[{type:"client_report"},{timestamp:pr(),discarded_events:e}];return ws(t?{dsn:t}:{},[i])}function _1(e){const t=[];e.message&&t.push(e.message);try{const a=e.exception.values[e.exception.values.length-1];a!=null&&a.value&&(t.push(a.value),a.type&&t.push(`${a.type}: ${a.value}`))}catch{}return t}function tC(e){var u;const{trace_id:t,parent_span_id:a,span_id:i,status:s,origin:r,data:o,op:c}=((u=e.contexts)==null?void 0:u.trace)??{};return{data:o??{},description:e.transaction,op:c,parent_span_id:a,span_id:i??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:r,profile_id:o==null?void 0:o[kg],exclusive_time:o==null?void 0:o[qo],measurements:e.measurements,is_segment:!0}}function nC(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[kg]:e.profile_id},...e.exclusive_time&&{[qo]:e.exclusive_time}}}},measurements:e.measurements}}const Yb="Not capturing exception because it's already been captured.",Vb="Discarded session because of missing or non-string release",w1=Symbol.for("SentryInternalError"),E1=Symbol.for("SentryDoNotSendEventError"),aC=5e3;function Iu(e){return{message:e,[w1]:!0}}function mh(e){return{message:e,[E1]:!0}}function $b(e){return!!e&&typeof e=="object"&&w1 in e}function Kb(e){return!!e&&typeof e=="object"&&E1 in e}function Wb(e,t,a,i,s){let r=0,o,c=!1;e.on(a,()=>{r=0,clearTimeout(o),c=!1}),e.on(t,u=>{r+=i(u),r>=8e5?s(e):c||(c=!0,o=setTimeout(()=>{s(e)},aC))}),e.on("flush",()=>{s(e)})}class iC{constructor(t){var i,s,r;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Lg(((i=t.transportOptions)==null?void 0:i.bufferSize)??S1),t.dsn?this._dsn=N2(t.dsn):Se&&pe.warn("No DSN provided, client will not send events."),this._dsn){const o=PA(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:o})}this._options.enableLogs=this._options.enableLogs??((s=this._options._experiments)==null?void 0:s.enableLogs),this._options.enableLogs&&Wb(this,"afterCaptureLog","flushLogs",lC,p1),(this._options.enableMetrics??((r=this._options._experiments)==null?void 0:r.enableMetrics)??!0)&&Wb(this,"afterCaptureMetric","flushMetrics",oC,x1)}captureException(t,a,i){const s=Wn();if(vb(t))return Se&&pe.log(Yb),s;const r={event_id:s,...a};return this._process(()=>this.eventFromException(t,r).then(o=>this._captureEvent(o,r,i)).then(o=>o),"error"),r.event_id}captureMessage(t,a,i,s){const r={event_id:Wn(),...i},o=_g(t)?t:String(t),c=wo(t),u=c?this.eventFromMessage(o,a,r):this.eventFromException(t,r);return this._process(()=>u.then(d=>this._captureEvent(d,r,s)),c?"unknown":"error"),r.event_id}captureEvent(t,a,i){const s=Wn();if(a!=null&&a.originalException&&vb(a.originalException))return Se&&pe.log(Yb),s;const r={event_id:s,...a},o=t.sdkProcessingMetadata||{},c=o.capturedSpanScope,u=o.capturedSpanIsolationScope,d=Xb(t.type);return this._process(()=>this._captureEvent(t,r,c||i,u),d),r.event_id}captureSession(t){this.sendSession(t),No(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const a=this._transport;if(!a)return!0;this.emit("flush");const i=await this._isClientDoneProcessing(t),s=await a.flush(t);return i&&s}async close(t){const a=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),a}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const a=this._integrations[t.name];m1(this,t,this._integrations),a||qb(this,[t])}sendEvent(t,a={}){this.emit("beforeSendEvent",t,a);let i=Q2(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of a.attachments||[])i=q2(i,K2(s));this.sendEnvelope(i).then(s=>this.emit("afterSendEvent",t,s))}sendSession(t){const{release:a,environment:i=Cg}=this._options;if("aggregates"in t){const r=t.attrs||{};if(!r.release&&!a){Se&&pe.warn(Vb);return}r.release=r.release||a,r.environment=r.environment||i,t.attrs=r}else{if(!t.release&&!a){Se&&pe.warn(Vb);return}t.release=t.release||a,t.environment=t.environment||i}this.emit("beforeSendSession",t);const s=Z2(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,a,i=1){if(this._options.sendClientReports){const s=`${t}:${a}`;Se&&pe.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,a){const i=this._hooks[t]=this._hooks[t]||new Set,s=(...r)=>a(...r);return i.add(s),()=>{i.delete(s)}}emit(t,...a){const i=this._hooks[t];i&&i.forEach(s=>s(...a))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(a){return Se&&pe.error("Error while sending envelope:",a),{}}return Se&&pe.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=GA(this,t),qb(this,t)}_updateSessionFromEvent(t,a){var u,d;let i=a.level==="fatal",s=!1;const r=(u=a.exception)==null?void 0:u.values;if(r){s=!0,i=!1;for(const p of r)if(((d=p.mechanism)==null?void 0:d.handled)===!1){i=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&i)&&(No(t,{...i&&{status:"crashed"},errors:t.errors||Number(s||i)}),this.captureSession(t))}async _isClientDoneProcessing(t){let a=0;for(;!t||a<t;){if(await new Promise(i=>setTimeout(i,1)),!this._numProcessing)return!0;a++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,a,i,s){const r=this.getOptions(),o=Object.keys(this._integrations);return!a.integrations&&(o!=null&&o.length)&&(a.integrations=o),this.emit("preprocessEvent",t,a),t.type||s.setLastEventId(t.event_id||a.event_id),c1(r,t,a,i,this,s).then(c=>{if(c===null)return c;this.emit("postprocessEvent",c,a),c.contexts={trace:r2(i),...c.contexts};const u=t1(this,i);return c.sdkProcessingMetadata={dynamicSamplingContext:u,...c.sdkProcessingMetadata},c})}_captureEvent(t,a={},i=ut(),s=Ha()){return Se&&Hm(t)&&pe.log(`Captured error event \`${_1(t)[0]||"<unknown>"}\``),this._processEvent(t,a,i,s).then(r=>r.event_id,r=>{Se&&(Kb(r)?pe.log(r.message):$b(r)?pe.warn(r.message):pe.warn(r))})}_processEvent(t,a,i,s){const r=this.getOptions(),{sampleRate:o}=r,c=N1(t),u=Hm(t),p=`before send for type \`${t.type||"error"}\``,f=typeof o>"u"?void 0:sr(o);if(u&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error"),Og(mh(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const m=Xb(t.type);return this._prepareEvent(t,a,i,s).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",m),mh("An event processor returned `null`, will not send event.");if(a.data&&a.data.__sentry__===!0)return h;const b=rC(this,r,h,a);return sC(b,p)}).then(h=>{var S;if(h===null){if(this.recordDroppedEvent("before_send",m),c){const y=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",y)}throw mh(`${p} returned \`null\`, will not send event.`)}const x=i.getSession()||s.getSession();if(u&&x&&this._updateSessionFromEvent(x,h),c){const g=((S=h.sdkProcessingMetadata)==null?void 0:S.spanCountBeforeProcessing)||0,y=h.spans?h.spans.length:0,w=g-y;w>0&&this.recordDroppedEvent("before_send","span",w)}const b=h.transaction_info;if(c&&b&&h.transaction!==t.transaction){const g="custom";h.transaction_info={...b,source:g}}return this.sendEvent(h,a),h}).then(null,h=>{throw Kb(h)||$b(h)?h:(this.captureException(h,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:h}),Iu(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t,a){this._numProcessing++,this._promiseBuffer.add(t).then(i=>(this._numProcessing--,i),i=>(this._numProcessing--,i===zg&&this.recordDroppedEvent("queue_overflow",a),i))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([a,i])=>{const[s,r]=a.split(":");return{reason:s,category:r,quantity:i}})}_flushOutcomes(){Se&&pe.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Se&&pe.log("No outcomes to send");return}if(!this._dsn){Se&&pe.log("No dsn provided, will not send outcomes");return}Se&&pe.log("Sending outcomes:",t);const a=eC(t,this._options.tunnel&&Yo(this._dsn));this.sendEnvelope(a)}}function Xb(e){return e==="replay_event"?"replay":e||"error"}function sC(e,t){const a=`${t} must return \`null\` or a valid event.`;if(Fo(e))return e.then(i=>{if(!Vl(i)&&i!==null)throw Iu(a);return i},i=>{throw Iu(`${t} rejected with ${i}`)});if(!Vl(e)&&e!==null)throw Iu(a);return e}function rC(e,t,a,i){const{beforeSend:s,beforeSendTransaction:r,beforeSendSpan:o,ignoreSpans:c}=t;let u=a;if(Hm(u)&&s)return s(u,i);if(N1(u)){if(o||c){const d=tC(u);if(c!=null&&c.length&&yd(d,c))return null;if(o){const p=o(d);p?u=bc(a,nC(p)):Um()}if(u.spans){const p=[],f=u.spans;for(const h of f){if(c!=null&&c.length&&yd(h,c)){L2(f,h);continue}if(o){const x=o(h);x?p.push(x):(Um(),p.push(h))}else p.push(h)}const m=u.spans.length-p.length;m&&e.recordDroppedEvent("before_send","span",m),u.spans=p}}if(r){if(u.spans){const d=u.spans.length;u.sdkProcessingMetadata={...a.sdkProcessingMetadata,spanCountBeforeProcessing:d}}return r(u,i)}}return u}function Hm(e){return e.type===void 0}function N1(e){return e.type==="transaction"}function oC(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+k1(e.attributes)}function lC(e){let t=0;return e.message&&(t+=e.message.length*2),t+k1(e.attributes)}function k1(e){if(!e)return 0;let t=0;return Object.values(e).forEach(a=>{Array.isArray(a)?t+=a.length*Zb(a[0]):wo(a)?t+=Zb(a):t+=100}),t}function Zb(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function cC(e,t){t.debug===!0&&(Se?pe.enable():mr(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ut().update(t.initialScope);const i=new e(t);return uC(i),i.init(),i}function uC(e){ut().setClient(e)}const dC="thismessage:/";function Ug(e){return"isRelative"in e}function Bg(e,t){const a=e.indexOf("://")<=0&&e.indexOf("//")!==0,i=a?dC:void 0;try{if("canParse"in URL&&!URL.canParse(e,i))return;const s=new URL(e,i);return a?{isRelative:a,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function fC(e){if(Ug(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Xs(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const a=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:a,hash:i,relative:t[5]+a+i}}function hC(e){return e.split(/[?#]/,1)[0]}function mC(e,t){const a=t==null?void 0:t.getDsn(),i=t==null?void 0:t.getOptions().tunnel;return gC(e,a)||pC(e,i)}function pC(e,t){return t?Qb(e)===Qb(t):!1}function gC(e,t){const a=Bg(e);return!a||Ug(a)?!1:t?a.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(a.search):!1}function Qb(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function xC(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function T1(e,t,a=[t],i="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:a.map(r=>({name:`${i}:@sentry/${r}`,version:$s})),version:$s}),e._metadata=s}function j1(e={}){const t=e.client||Ze();if(!OA()||!t)return{};const a=hr(),i=Go(a);if(i.getTraceData)return i.getTraceData(e);const s=e.scope||ut(),r=e.span||wn(),o=r?R2(r):bC(s),c=r?Ei(r):t1(t,s),u=p2(c);if(!Vw.test(o))return pe.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const p={"sentry-trace":o,baggage:u};if(e.propagateTraceparent){const f=r?D2(r):yC(s);f&&(p.traceparent=f)}return p}function bC(e){const{traceId:t,sampled:a,propagationSpanId:i}=e.getPropagationContext();return $w(t,i,a)}function yC(e){const{traceId:t,sampled:a,propagationSpanId:i}=e.getPropagationContext();return Kw(t,i,a)}function vC(e,t,a){let i,s,r;const o=a!=null&&a.maxWait?Math.max(a.maxWait,t):0,c=(a==null?void 0:a.setTimeoutImpl)||setTimeout;function u(){return d(),i=e(),i}function d(){s!==void 0&&clearTimeout(s),r!==void 0&&clearTimeout(r),s=r=void 0}function p(){return s!==void 0||r!==void 0?u():i}function f(){return s&&clearTimeout(s),s=c(u,t),o&&r===void 0&&(r=c(u,o)),i}return f.cancel=d,f.flush=p,f}const SC=100;function gs(e,t){const a=Ze(),i=Ha();if(!a)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:r=SC}=a.getOptions();if(r<=0)return;const c={timestamp:pr(),...e},u=s?mr(()=>s(c,t)):c;u!==null&&(a.emit&&a.emit("beforeAddBreadcrumb",u,t),i.addBreadcrumb(u,r))}let Jb;const _C="FunctionToString",ey=new WeakMap,wC=()=>({name:_C,setupOnce(){Jb=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Eg(this),a=ey.has(Ze())&&t!==void 0?t:this;return Jb.apply(a,e)}}catch{}},setup(e){ey.set(e,!0)}}),EC=wC,NC=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],kC="EventFilters",TC=(e={})=>{let t;return{name:kC,setup(a){const i=a.getOptions();t=ty(e,i)},processEvent(a,i,s){if(!t){const r=s.getOptions();t=ty(e,r)}return AC(a,t)?null:a}}},jC=(e={})=>({...TC(e),name:"InboundFilters"});function ty(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:NC],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function AC(e,t){if(e.type){if(e.type==="transaction"&&RC(e,t.ignoreTransactions))return Se&&pe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ms(e)}`),!0}else{if(CC(e,t.ignoreErrors))return Se&&pe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ms(e)}`),!0;if(IC(e))return Se&&pe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ms(e)}`),!0;if(DC(e,t.denyUrls))return Se&&pe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ms(e)}.
Url: ${vd(e)}`),!0;if(!MC(e,t.allowUrls))return Se&&pe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ms(e)}.
Url: ${vd(e)}`),!0}return!1}function CC(e,t){return t!=null&&t.length?_1(e).some(a=>fi(a,t)):!1}function RC(e,t){if(!(t!=null&&t.length))return!1;const a=e.transaction;return a?fi(a,t):!1}function DC(e,t){if(!(t!=null&&t.length))return!1;const a=vd(e);return a?fi(a,t):!1}function MC(e,t){if(!(t!=null&&t.length))return!0;const a=vd(e);return a?fi(a,t):!0}function OC(e=[]){for(let t=e.length-1;t>=0;t--){const a=e[t];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}function vd(e){var t,a;try{const i=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(r=>{var o,c,u;return((o=r.mechanism)==null?void 0:o.parent_id)===void 0&&((u=(c=r.stacktrace)==null?void 0:c.frames)==null?void 0:u.length)}),s=(a=i==null?void 0:i.stacktrace)==null?void 0:a.frames;return s?OC(s):null}catch{return Se&&pe.error(`Cannot extract url for event ${Ms(e)}`),null}}function IC(e){var t,a;return(a=(t=e.exception)==null?void 0:t.values)!=null&&a.length?!e.message&&!e.exception.values.some(i=>i.stacktrace||i.type&&i.type!=="Error"||i.value):!1}function zC(e,t,a,i,s,r){var c;if(!((c=s.exception)!=null&&c.values)||!r||!Si(r.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=Gm(e,t,i,r.originalException,a,s.exception.values,o,0))}function Gm(e,t,a,i,s,r,o,c){if(r.length>=a+1)return r;let u=[...r];if(Si(i[s],Error)){ny(o,c);const d=e(t,i[s]),p=u.length;ay(d,s,p,c),u=Gm(e,t,a,i[s],s,[d,...u],d,p)}return Array.isArray(i.errors)&&i.errors.forEach((d,p)=>{if(Si(d,Error)){ny(o,c);const f=e(t,d),m=u.length;ay(f,`errors[${p}]`,m,c),u=Gm(e,t,a,d,s,[f,...u],f,m)}}),u}function ny(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function ay(e,t,a,i){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:a,parent_id:i}}function LC(e){const t="console";vs(t,e),Ss(t,UC)}function UC(){"console"in et&&kj.forEach(function(e){e in et.console&&Dn(et.console,e,function(t){return gd[e]=t,function(...a){fa("console",{args:a,level:e});const s=gd[e];s==null||s.apply(et.console,a)}})})}function A1(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const BC="Dedupe",PC=()=>{let e;return{name:BC,processEvent(t){if(t.type)return t;try{if(HC(t,e))return Se&&pe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},FC=PC;function HC(e,t){return t?!!(GC(e,t)||qC(e,t)):!1}function GC(e,t){const a=e.message,i=t.message;return!(!a&&!i||a&&!i||!a&&i||a!==i||!R1(e,t)||!C1(e,t))}function qC(e,t){const a=iy(t),i=iy(e);return!(!a||!i||a.type!==i.type||a.value!==i.value||!R1(e,t)||!C1(e,t))}function C1(e,t){let a=mb(e),i=mb(t);if(!a&&!i)return!0;if(a&&!i||!a&&i||(a=a,i=i,i.length!==a.length))return!1;for(let s=0;s<i.length;s++){const r=i[s],o=a[s];if(r.filename!==o.filename||r.lineno!==o.lineno||r.colno!==o.colno||r.function!==o.function)return!1}return!0}function R1(e,t){let a=e.fingerprint,i=t.fingerprint;if(!a&&!i)return!0;if(a&&!i||!a&&i)return!1;a=a,i=i;try{return a.join("")===i.join("")}catch{return!1}}function iy(e){var t,a;return(a=(t=e.exception)==null?void 0:t.values)==null?void 0:a[0]}function YC(e,t,a,i,s){if(!e.fetchData)return;const{method:r,url:o}=e.fetchData,c=Na()&&t(o);if(e.endTimestamp&&c){const h=e.fetchData.__span;if(!h)return;const x=i[h];x&&(KC(x,e),VC(x,e,s),delete i[h]);return}const{spanOrigin:u="auto.http.browser",propagateTraceparent:d=!1}=typeof s=="object"?s:{spanOrigin:s},p=!!wn(),f=c&&p?Vo(XC(o,r,u)):new ps;if(e.fetchData.__span=f.spanContext().spanId,i[f.spanContext().spanId]=f,a(e.fetchData.url)){const h=e.args[0],x=e.args[1]||{},b=$C(h,x,Na()&&p?f:void 0,d);b&&(e.args[1]=x,x.headers=b)}const m=Ze();if(m){const h={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};m.emit("beforeOutgoingRequestSpan",f,h)}return f}function VC(e,t,a){var s;const i=typeof a=="object"&&a!==null?a.onRequestSpanEnd:void 0;i==null||i(e,{headers:(s=t.response)==null?void 0:s.headers,error:t.error})}function $C(e,t,a,i){const s=j1({span:a,propagateTraceparent:i}),r=s["sentry-trace"],o=s.baggage,c=s.traceparent;if(!r)return;const u=t.headers||(Ow(e)?e.headers:void 0);if(u)if(WC(u)){const d=new Headers(u);if(d.get("sentry-trace")||d.set("sentry-trace",r),i&&c&&!d.get("traceparent")&&d.set("traceparent",c),o){const p=d.get("baggage");p?nu(p)||d.set("baggage",`${p},${o}`):d.set("baggage",o)}return d}else if(Array.isArray(u)){const d=[...u];u.find(f=>f[0]==="sentry-trace")||d.push(["sentry-trace",r]),i&&c&&!u.find(f=>f[0]==="traceparent")&&d.push(["traceparent",c]);const p=u.find(f=>f[0]==="baggage"&&nu(f[1]));return o&&!p&&d.push(["baggage",o]),d}else{const d="sentry-trace"in u?u["sentry-trace"]:void 0,p="traceparent"in u?u.traceparent:void 0,f="baggage"in u?u.baggage:void 0,m=f?Array.isArray(f)?[...f]:[f]:[],h=f&&(Array.isArray(f)?f.find(b=>nu(b)):nu(f));o&&!h&&m.push(o);const x={...u,"sentry-trace":d??r,baggage:m.length>0?m.join(","):void 0};return i&&c&&!p&&(x.traceparent=c),x}else return{...s}}function KC(e,t){var a,i;if(t.response){Fw(e,t.response.status);const s=(i=(a=t.response)==null?void 0:a.headers)==null?void 0:i.get("content-length");if(s){const r=parseInt(s);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Vt,message:"internal_error"});e.end()}function nu(e){return e.split(",").some(t=>t.trim().startsWith(jg))}function WC(e){return typeof Headers<"u"&&Si(e,Headers)}function XC(e,t,a){const i=Bg(e);return{name:i?`${t} ${fC(i)}`:t,attributes:ZC(e,i,t,a)}}function ZC(e,t,a,i){const s={url:e,type:"fetch","http.method":a,[Xt]:i,[wi]:"http.client"};return t&&(Ug(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function D1(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Wl=et;function QC(){return"history"in Wl&&!!Wl.history}function JC(){if(!("fetch"in Wl))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function qm(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function eR(){var a;if(typeof EdgeRuntime=="string")return!0;if(!JC())return!1;if(qm(Wl.fetch))return!0;let e=!1;const t=Wl.document;if(t&&typeof t.createElement=="function")try{const i=t.createElement("iframe");i.hidden=!0,t.head.appendChild(i),(a=i.contentWindow)!=null&&a.fetch&&(e=qm(i.contentWindow.fetch)),t.head.removeChild(i)}catch(i){Se&&pe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}function M1(e,t){const a="fetch";vs(a,e),Ss(a,()=>O1(void 0,t))}function tR(e){const t="fetch-body-resolved";vs(t,e),Ss(t,()=>O1(aR))}function O1(e,t=!1){t&&!eR()||Dn(et,"fetch",function(a){return function(...i){const s=new Error,{method:r,url:o}=iR(i),c={args:i,fetchData:{method:r,url:o},startTimestamp:an()*1e3,virtualError:s,headers:sR(i)};return e||fa("fetch",{...c}),a.apply(et,i).then(async u=>(e?e(u):fa("fetch",{...c,endTimestamp:an()*1e3,response:u}),u),u=>{if(fa("fetch",{...c,endTimestamp:an()*1e3,error:u}),Sg(u)&&u.stack===void 0&&(u.stack=s.stack,Qn(u,"framesToPop",1)),u instanceof TypeError&&(u.message==="Failed to fetch"||u.message==="Load failed"||u.message==="NetworkError when attempting to fetch resource."))try{const d=new URL(c.fetchData.url);u.message=`${u.message} (${d.host})`}catch{}throw u})}})}async function nR(e,t){if(e!=null&&e.body){const a=e.body,i=a.getReader(),s=setTimeout(()=>{a.cancel().then(null,()=>{})},90*1e3);let r=!0;for(;r;){let o;try{o=setTimeout(()=>{a.cancel().then(null,()=>{})},5e3);const{done:c}=await i.read();clearTimeout(o),c&&(t(),r=!1)}catch{r=!1}finally{clearTimeout(o)}}clearTimeout(s),i.releaseLock(),a.cancel().then(null,()=>{})}}function aR(e){let t;try{t=e.clone()}catch{return}nR(t,()=>{fa("fetch-body-resolved",{endTimestamp:an()*1e3,response:e})})}function Ym(e,t){return!!e&&typeof e=="object"&&!!e[t]}function sy(e){return typeof e=="string"?e:e?Ym(e,"url")?e.url:e.toString?e.toString():"":""}function iR(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[a,i]=e;return{url:sy(a),method:Ym(i,"method")?String(i.method).toUpperCase():"GET"}}const t=e[0];return{url:sy(t),method:Ym(t,"method")?String(t.method).toUpperCase():"GET"}}function sR(e){const[t,a]=e;try{if(typeof a=="object"&&a!==null&&"headers"in a&&a.headers)return new Headers(a.headers);if(Ow(t))return new Headers(t.headers)}catch{}}function rR(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function oR(){return"npm"}function lR(){return!rR()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Vm(){return typeof window<"u"&&(!lR()||cR())}function cR(){const e=et.process;return(e==null?void 0:e.type)==="renderer"}const at=et;let $m=0;function I1(){return $m>0}function uR(){$m++,setTimeout(()=>{$m--})}function jo(e,t={}){function a(s){return typeof s=="function"}if(!a(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(Eg(e))return e}catch{return e}const i=function(...s){try{const r=s.map(o=>jo(o,t));return e.apply(this,r)}catch(r){throw uR(),tf(o=>{o.addEventProcessor(c=>(t.mechanism&&(Im(c,void 0),Eo(c,t.mechanism)),c.extra={...c.extra,arguments:s},c)),Ig(r)}),r}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s])}catch{}zw(i,e),Qn(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get(){return e.name}})}catch{}return i}function Pg(){const e=Ho(),{referrer:t}=at.document||{},{userAgent:a}=at.navigator||{},i={...t&&{Referer:t},...a&&{"User-Agent":a}};return{url:e,headers:i}}function Fg(e,t){const a=Hg(e,t),i={type:pR(t),value:gR(t)};return a.length&&(i.stacktrace={frames:a}),i.type===void 0&&i.value===""&&(i.value="Unrecoverable error caught"),i}function dR(e,t,a,i){const s=Ze(),r=s==null?void 0:s.getOptions().normalizeDepth,o=SR(t),c={__serialized__:n1(t,r)};if(o)return{exception:{values:[Fg(e,o)]},extra:c};const u={exception:{values:[{type:ef(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:yR(t,{isUnhandledRejection:i})}]},extra:c};if(a){const d=Hg(e,a);d.length&&(u.exception.values[0].stacktrace={frames:d})}return u}function ph(e,t){return{exception:{values:[Fg(e,t)]}}}function Hg(e,t){const a=t.stacktrace||t.stack||"",i=hR(t),s=mR(t);try{return e(a,i,s)}catch{}return[]}const fR=/Minified React error #\d+;/i;function hR(e){return e&&fR.test(e.message)?1:0}function mR(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function z1(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function pR(e){const t=e==null?void 0:e.name;return!t&&z1(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function gR(e){const t=e==null?void 0:e.message;return z1(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function xR(e,t,a,i){const s=(a==null?void 0:a.syntheticException)||void 0,r=Gg(e,t,s,i);return Eo(r),r.level="error",a!=null&&a.event_id&&(r.event_id=a.event_id),af(r)}function bR(e,t,a="info",i,s){const r=(i==null?void 0:i.syntheticException)||void 0,o=Km(e,t,r,s);return o.level=a,i!=null&&i.event_id&&(o.event_id=i.event_id),af(o)}function Gg(e,t,a,i,s){let r;if(Dw(t)&&t.error)return ph(e,t.error);if(gb(t)||Lj(t)){const o=t;if("stack"in t)r=ph(e,t);else{const c=o.name||(gb(o)?"DOMError":"DOMException"),u=o.message?`${c}: ${o.message}`:c;r=Km(e,u,a,i),Im(r,u)}return"code"in o&&(r.tags={...r.tags,"DOMException.code":`${o.code}`}),r}return Sg(t)?ph(e,t):Vl(t)||ef(t)?(r=dR(e,t,a,s),Eo(r,{synthetic:!0}),r):(r=Km(e,t,a,i),Im(r,`${t}`),Eo(r,{synthetic:!0}),r)}function Km(e,t,a,i){const s={};if(i&&a){const r=Hg(e,a);r.length&&(s.exception={values:[{value:t,stacktrace:{frames:r}}]}),Eo(s,{synthetic:!0})}if(_g(t)){const{__sentry_template_string__:r,__sentry_template_values__:o}=t;return s.logentry={message:r,params:o},s}return s.message=t,s}function yR(e,{isUnhandledRejection:t}){const a=Gj(e),i=t?"promise rejection":"exception";return Dw(e)?`Event \`ErrorEvent\` captured as ${i} with message \`${e.message}\``:ef(e)?`Event \`${vR(e)}\` (type=${e.type}) captured as ${i}`:`Object captured as ${i} with keys: ${a}`}function vR(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function SR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const a=e[t];if(a instanceof Error)return a}}class _R extends iC{constructor(t){var p;const a=wR(t),i=at.SENTRY_SDK_SOURCE||oR();T1(a,"browser",["browser"],i),(p=a._metadata)!=null&&p.sdk&&(a._metadata.sdk.settings={infer_ip:a.sendDefaultPii?"auto":"never",...a._metadata.sdk.settings}),super(a);const{sendDefaultPii:s,sendClientReports:r,enableLogs:o,_experiments:c,enableMetrics:u}=this._options,d=u??(c==null?void 0:c.enableMetrics)??!0;at.document&&(r||o||d)&&at.document.addEventListener("visibilitychange",()=>{at.document.visibilityState==="hidden"&&(r&&this._flushOutcomes(),o&&p1(this),d&&x1(this))}),s&&this.on("beforeSendSession",xC)}eventFromException(t,a){return xR(this._options.stackParser,t,a,this._options.attachStacktrace)}eventFromMessage(t,a="info",i){return bR(this._options.stackParser,t,a,i,this._options.attachStacktrace)}_prepareEvent(t,a,i,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,a,i,s)}}function wR(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=at.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const rr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Re=et,ER=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Sc=(e,t,a,i)=>{let s,r;return o=>{t.value>=0&&(o||i)&&(r=t.value-(s??0),(r||s===void 0)&&(s=t.value,t.delta=r,t.rating=ER(t.value,a),e(t)))}},_c=(e=!0)=>{var a,i;const t=(i=(a=Re.performance)==null?void 0:a.getEntriesByType)==null?void 0:i.call(a,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},$o=()=>{const e=_c();return(e==null?void 0:e.activationStart)??0};function Zs(e,t,a){Re.document&&Re.addEventListener(e,t,a)}function qg(e,t,a){Re.document&&Re.removeEventListener(e,t,a)}let to=-1;const L1=new Set,NR=()=>{var e,t;return((e=Re.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=Re.document)!=null&&t.prerendering)?0:1/0},zu=e=>{if(kR(e)&&to>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of L1)t();isFinite(to)||(to=e.type==="visibilitychange"?e.timeStamp:0,qg("prerenderingchange",zu,!0))}},wc=()=>{var e;if(Re.document&&to<0){const t=$o();to=(Re.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(i=>i.name==="hidden"&&i.startTime>t)[0])==null?void 0:e.startTime)??NR(),Zs("visibilitychange",zu,!0),Zs("pagehide",zu,!0),Zs("prerenderingchange",zu,!0)}return{get firstHiddenTime(){return to},onHidden(t){L1.add(t)}}};function kR(e){var t;return e.type==="pagehide"||((t=Re.document)==null?void 0:t.visibilityState)==="hidden"}const TR=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Ec=(e,t=-1)=>{var r,o;const a=_c();let i="navigate";return a&&((r=Re.document)!=null&&r.prerendering||$o()>0?i="prerender":(o=Re.document)!=null&&o.wasDiscarded?i="restore":a.type&&(i=a.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:TR(),navigationType:i}},gh=new WeakMap;function Yg(e,t){return gh.get(e)||gh.set(e,new t),gh.get(e)}class Sd{constructor(){Sd.prototype.__init.call(this),Sd.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var s;if(t.hadRecentInput)return;const a=this._sessionEntries[0],i=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&a&&i&&t.startTime-i.startTime<1e3&&t.startTime-a.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(s=this._onAfterProcessingUnexpectedShift)==null||s.call(this,t)}}const Ko=(e,t,a={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const i=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return i.observe({type:e,buffered:!0,...a}),i}}catch{}},Vg=e=>{let t=!1;return()=>{t||(e(),t=!0)}},sf=e=>{var t;(t=Re.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},jR=[1800,3e3],AR=(e,t={})=>{sf(()=>{const a=wc(),i=Ec("FCP");let s;const o=Ko("paint",c=>{for(const u of c)u.name==="first-contentful-paint"&&(o.disconnect(),u.startTime<a.firstHiddenTime&&(i.value=Math.max(u.startTime-$o(),0),i.entries.push(u),s(!0)))});o&&(s=Sc(e,i,jR,t.reportAllChanges))})},CR=[.1,.25],RR=(e,t={})=>{AR(Vg(()=>{var u;const a=Ec("CLS",0);let i;const s=wc(),r=Yg(t,Sd),o=d=>{for(const p of d)r._processEntry(p);r._sessionValue>a.value&&(a.value=r._sessionValue,a.entries=r._sessionEntries,i())},c=Ko("layout-shift",o);c&&(i=Sc(e,a,CR,t.reportAllChanges),s.onHidden(()=>{o(c.takeRecords()),i(!0)}),(u=Re==null?void 0:Re.setTimeout)==null||u.call(Re,i))}))};let U1=0,xh=1/0,au=0;const DR=e=>{e.forEach(t=>{t.interactionId&&(xh=Math.min(xh,t.interactionId),au=Math.max(au,t.interactionId),U1=au?(au-xh)/7+1:0)})};let Wm;const B1=()=>Wm?U1:performance.interactionCount||0,MR=()=>{"interactionCount"in performance||Wm||(Wm=Ko("event",DR,{type:"event",buffered:!0,durationThreshold:0}))},bh=10;let P1=0;const OR=()=>B1()-P1;class _d{constructor(){_d.prototype.__init.call(this),_d.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){P1=B1(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(OR()/50));return this._longestInteractionList[t]}_processEntry(t){var s,r;if((s=this._onBeforeProcessingEntry)==null||s.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const a=this._longestInteractionList.at(-1);let i=this._longestInteractionMap.get(t.interactionId);if(i||this._longestInteractionList.length<bh||t.duration>a._latency){if(i?t.duration>i._latency?(i.entries=[t],i._latency=t.duration):t.duration===i._latency&&t.startTime===i.entries[0].startTime&&i.entries.push(t):(i={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(i.id,i),this._longestInteractionList.push(i)),this._longestInteractionList.sort((o,c)=>c._latency-o._latency),this._longestInteractionList.length>bh){const o=this._longestInteractionList.splice(bh);for(const c of o)this._longestInteractionMap.delete(c.id)}(r=this._onAfterProcessingINPCandidate)==null||r.call(this,i)}}}const F1=e=>{const t=a=>{var i;(a.type==="pagehide"||((i=Re.document)==null?void 0:i.visibilityState)==="hidden")&&e(a)};Zs("visibilitychange",t,!0),Zs("pagehide",t,!0)},H1=e=>{var a;const t=Re.requestIdleCallback||Re.setTimeout;((a=Re.document)==null?void 0:a.visibilityState)==="hidden"?e():(e=Vg(e),Zs("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),qg("visibilitychange",e,{capture:!0})}),F1(e))},IR=[200,500],zR=40,LR=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const a=wc();sf(()=>{MR();const i=Ec("INP");let s;const r=Yg(t,_d),o=u=>{H1(()=>{for(const p of u)r._processEntry(p);const d=r._estimateP98LongestInteraction();d&&d._latency!==i.value&&(i.value=d._latency,i.entries=d.entries,s())})},c=Ko("event",o,{durationThreshold:t.durationThreshold??zR});s=Sc(e,i,IR,t.reportAllChanges),c&&(c.observe({type:"first-input",buffered:!0}),a.onHidden(()=>{o(c.takeRecords()),s(!0)}))})};class UR{_processEntry(t){var a;(a=this._onBeforeProcessingEntry)==null||a.call(this,t)}}const BR=[2500,4e3],PR=(e,t={})=>{sf(()=>{const a=wc(),i=Ec("LCP");let s;const r=Yg(t,UR),o=u=>{t.reportAllChanges||(u=u.slice(-1));for(const d of u)r._processEntry(d),d.startTime<a.firstHiddenTime&&(i.value=Math.max(d.startTime-$o(),0),i.entries=[d],s())},c=Ko("largest-contentful-paint",o);if(c){s=Sc(e,i,BR,t.reportAllChanges);const u=Vg(()=>{o(c.takeRecords()),c.disconnect(),s(!0)}),d=p=>{p.isTrusted&&(H1(u),qg(p.type,d,{capture:!0}))};for(const p of["keydown","click","visibilitychange"])Zs(p,d,{capture:!0})}})},FR=[800,1800],Xm=e=>{var t,a;(t=Re.document)!=null&&t.prerendering?sf(()=>Xm(e)):((a=Re.document)==null?void 0:a.readyState)!=="complete"?addEventListener("load",()=>Xm(e),!0):setTimeout(e)},HR=(e,t={})=>{const a=Ec("TTFB"),i=Sc(e,a,FR,t.reportAllChanges);Xm(()=>{const s=_c();s&&(a.value=Math.max(s.responseStart-$o(),0),a.entries=[s],i(!0))})},kl={},wd={};let G1,q1,Y1,V1;function $g(e,t=!1){return rf("cls",e,qR,G1,t)}function Kg(e,t=!1){return rf("lcp",e,YR,q1,t)}function GR(e){return rf("ttfb",e,VR,Y1)}function $1(e){return rf("inp",e,$R,V1)}function or(e,t){return K1(e,t),wd[e]||(KR(e),wd[e]=!0),W1(e,t)}function Nc(e,t){const a=kl[e];if(a!=null&&a.length)for(const i of a)try{i(t)}catch(s){rr&&pe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${vi(i)}
Error:`,s)}}function qR(){return RR(e=>{Nc("cls",{metric:e}),G1=e},{reportAllChanges:!0})}function YR(){return PR(e=>{Nc("lcp",{metric:e}),q1=e},{reportAllChanges:!0})}function VR(){return HR(e=>{Nc("ttfb",{metric:e}),Y1=e})}function $R(){return LR(e=>{Nc("inp",{metric:e}),V1=e})}function rf(e,t,a,i,s=!1){K1(e,t);let r;return wd[e]||(r=a(),wd[e]=!0),i&&t({metric:i}),W1(e,t,s?r:void 0)}function KR(e){const t={};e==="event"&&(t.durationThreshold=0),Ko(e,a=>{Nc(e,{entries:a})},t)}function K1(e,t){kl[e]=kl[e]||[],kl[e].push(t)}function W1(e,t,a){return()=>{a&&a();const i=kl[e];if(!i)return;const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}function WR(e){return"duration"in e}function yh(e){return typeof e=="number"&&isFinite(e)}function xs(e,t,a,{...i}){const s=nt(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Dg(e,()=>{const r=Vo({startTime:t,...i});return r&&r.end(a),r})}function Wg(e){var S;const t=Ze();if(!t)return;const{name:a,transaction:i,attributes:s,startTime:r}=e,{release:o,environment:c,sendDefaultPii:u}=t.getOptions(),d=t.getIntegrationByName("Replay"),p=d==null?void 0:d.getReplayId(),f=ut(),m=f.getUser(),h=m!==void 0?m.email||m.id||m.ip_address:void 0;let x;try{x=f.getScopeData().contexts.profile.profile_id}catch{}const b={release:o,environment:c,user:h||void 0,profile_id:x||void 0,replay_id:p||void 0,transaction:i,"user_agent.original":(S=Re.navigator)==null?void 0:S.userAgent,"client.address":u?"{{auto}}":void 0,...s};return Vo({name:a,attributes:b,startTime:r,experimental:{standalone:!0}})}function kc(){return Re.addEventListener&&Re.performance}function It(e){return e/1e3}function XR(e){let t="unknown",a="unknown",i="";for(const s of e){if(s==="/"){[t,a]=e.split("/");break}if(!isNaN(Number(s))){t=i==="h"?"http":i,a=e.split(i)[1];break}i+=s}return i===e&&(t=i),{name:t,version:a}}function X1(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Z1(e,t){let a,i=!1;function s(c){!i&&a&&t(c,a),i=!0}F1(()=>{s("pagehide")});const r=e.on("beforeStartNavigationSpan",(c,u)=>{u!=null&&u.isRedirect||(s("navigation"),r(),o())}),o=e.on("afterStartPageLoadSpan",c=>{a=c.spanContext().spanId,o()})}function ZR(e){let t=0,a;if(!X1("layout-shift"))return;const i=$g(({metric:s})=>{const r=s.entries[s.entries.length-1];r&&(t=s.value,a=r)},!0);Z1(e,(s,r)=>{QR(t,a,r,s),i()})}function QR(e,t,a,i){var d;rr&&pe.log(`Sending CLS span (${e})`);const s=t?It((Ln()||0)+t.startTime):an(),r=ut().getScopeData().transactionName,o=t?In((d=t.sources[0])==null?void 0:d.node):"Layout shift",c={[Xt]:"auto.http.browser.cls",[wi]:"ui.webvital.cls",[qo]:0,"sentry.pageload.span_id":a,"sentry.report_event":i};t!=null&&t.sources&&t.sources.forEach((p,f)=>{c[`cls.source.${f+1}`]=In(p.node)});const u=Wg({name:o,transaction:r,attributes:c,startTime:s});u&&(u.addEvent("cls",{[yc]:"",[vc]:e}),u.end(s))}function JR(e){let t=0,a;if(!X1("largest-contentful-paint"))return;const i=Kg(({metric:s})=>{const r=s.entries[s.entries.length-1];r&&(t=s.value,a=r)},!0);Z1(e,(s,r)=>{eD(t,a,r,s),i()})}function eD(e,t,a,i){rr&&pe.log(`Sending LCP span (${e})`);const s=It((Ln()||0)+((t==null?void 0:t.startTime)||0)),r=ut().getScopeData().transactionName,o=t?In(t.element):"Largest contentful paint",c={[Xt]:"auto.http.browser.lcp",[wi]:"ui.webvital.lcp",[qo]:0,"sentry.pageload.span_id":a,"sentry.report_event":i};t&&(t.element&&(c["lcp.element"]=In(t.element)),t.id&&(c["lcp.id"]=t.id),t.url&&(c["lcp.url"]=t.url),t.loadTime!=null&&(c["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(c["lcp.renderTime"]=t.renderTime),t.size!=null&&(c["lcp.size"]=t.size));const u=Wg({name:o,transaction:r,attributes:c,startTime:s});u&&(u.addEvent("lcp",{[yc]:"millisecond",[vc]:e}),u.end(s))}function ea(e){return e&&((Ln()||performance.timeOrigin)+e)/1e3}function Q1(e){var a;const t={};if(e.nextHopProtocol!=null){const{name:i,version:s}=XR(e.nextHopProtocol);t["network.protocol.version"]=s,t["network.protocol.name"]=i}return Ln()||(a=kc())!=null&&a.timeOrigin?tD({...t,"http.request.redirect_start":ea(e.redirectStart),"http.request.redirect_end":ea(e.redirectEnd),"http.request.worker_start":ea(e.workerStart),"http.request.fetch_start":ea(e.fetchStart),"http.request.domain_lookup_start":ea(e.domainLookupStart),"http.request.domain_lookup_end":ea(e.domainLookupEnd),"http.request.connect_start":ea(e.connectStart),"http.request.secure_connection_start":ea(e.secureConnectionStart),"http.request.connection_end":ea(e.connectEnd),"http.request.request_start":ea(e.requestStart),"http.request.response_start":ea(e.responseStart),"http.request.response_end":ea(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function tD(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const nD=2147483647;let ry=0,_a={},An,Hr;function aD({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:a}){const i=kc();if(i&&Ln()){i.mark&&Re.performance.mark("sentry-tracing-init");const s=t?JR(a):lD(),r=cD(),o=e?ZR(a):oD();return()=>{s==null||s(),r(),o==null||o()}}return()=>{}}function iD(){or("longtask",({entries:e})=>{const t=wn();if(!t)return;const{op:a,start_timestamp:i}=nt(t);for(const s of e){const r=It(Ln()+s.startTime),o=It(s.duration);a==="navigation"&&i&&r<i||xs(t,r,r+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Xt]:"auto.ui.browser.metrics"}})}})}function sD(){new PerformanceObserver(t=>{const a=wn();if(a)for(const i of t.getEntries()){if(!i.scripts[0])continue;const s=It(Ln()+i.startTime),{start_timestamp:r,op:o}=nt(a);if(o==="navigation"&&r&&s<r)continue;const c=It(i.duration),u={[Xt]:"auto.ui.browser.metrics"},d=i.scripts[0],{invoker:p,invokerType:f,sourceURL:m,sourceFunctionName:h,sourceCharPosition:x}=d;u["browser.script.invoker"]=p,u["browser.script.invoker_type"]=f,m&&(u["code.filepath"]=m),h&&(u["code.function"]=h),x!==-1&&(u["browser.script.source_char_position"]=x),xs(a,s,s+c,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:u})}}).observe({type:"long-animation-frame",buffered:!0})}function rD(){or("event",({entries:e})=>{const t=wn();if(t){for(const a of e)if(a.name==="click"){const i=It(Ln()+a.startTime),s=It(a.duration),r={name:In(a.target),op:`ui.interaction.${a.name}`,startTime:i,attributes:{[Xt]:"auto.ui.browser.metrics"}},o=Iw(a.target);o&&(r.attributes["ui.component_name"]=o),xs(t,i,i+s,r)}}})}function oD(){return $g(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(_a.cls={value:e.value,unit:""},Hr=t)},!0)}function lD(){return Kg(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(_a.lcp={value:e.value,unit:"millisecond"},An=t)},!0)}function cD(){return GR(({metric:e})=>{e.entries[e.entries.length-1]&&(_a.ttfb={value:e.value,unit:"millisecond"})})}function uD(e,t){const a=kc(),i=Ln();if(!(a!=null&&a.getEntries)||!i)return;const s=It(i),r=a.getEntries(),{op:o,start_timestamp:c}=nt(e);r.slice(ry).forEach(u=>{const d=It(u.startTime),p=It(Math.max(0,u.duration));if(!(o==="navigation"&&c&&s+d<c))switch(u.entryType){case"navigation":{mD(e,u,s);break}case"mark":case"paint":case"measure":{fD(e,u,d,p,s,t.ignorePerformanceApiSpans);const f=wc(),m=u.startTime<f.firstHiddenTime;u.name==="first-paint"&&m&&(_a.fp={value:u.startTime,unit:"millisecond"}),u.name==="first-contentful-paint"&&m&&(_a.fcp={value:u.startTime,unit:"millisecond"});break}case"resource":{xD(e,u,u.name,d,p,s,t.ignoreResourceSpans);break}}}),ry=Math.max(r.length-1,0),bD(e),o==="pageload"&&(SD(_a),t.recordClsOnPageloadSpan||delete _a.cls,t.recordLcpOnPageloadSpan||delete _a.lcp,Object.entries(_a).forEach(([u,d])=>{nA(u,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",$o()),yD(e,t)),An=void 0,Hr=void 0,_a={}}function dD(e){if((e==null?void 0:e.entryType)==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function fD(e,t,a,i,s,r){if(dD(t)||["mark","measure"].includes(t.entryType)&&fi(t.name,r))return;const o=_c(!1),c=It(o?o.requestStart:0),u=s+Math.max(a,c),d=s+a,p=d+i,f={[Xt]:"auto.resource.browser.metrics"};u!==d&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=u),hD(f,t),u<=p&&xs(e,u,p,{name:t.name,op:t.entryType,attributes:f})}function hD(e,t){try{const a=t.detail;if(!a)return;if(typeof a=="object"){for(const[i,s]of Object.entries(a))if(s&&wo(s))e[`sentry.browser.measure.detail.${i}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${i}`]=JSON.stringify(s)}catch{}return}if(wo(a)){e["sentry.browser.measure.detail"]=a;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(a)}catch{}}catch{}}function mD(e,t,a){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{iu(e,t,i,a)}),iu(e,t,"secureConnection",a,"TLS/SSL"),iu(e,t,"fetch",a,"cache"),iu(e,t,"domainLookup",a,"DNS"),gD(e,t,a)}function iu(e,t,a,i,s=a){const r=pD(a),o=t[r],c=t[`${a}Start`];!c||!o||xs(e,i+It(c),i+It(o),{op:`browser.${s}`,name:t.name,attributes:{[Xt]:"auto.ui.browser.metrics",...a==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function pD(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function gD(e,t,a){const i=a+It(t.requestStart),s=a+It(t.responseEnd),r=a+It(t.responseStart);t.responseEnd&&(xs(e,i,s,{op:"browser.request",name:t.name,attributes:{[Xt]:"auto.ui.browser.metrics"}}),xs(e,r,s,{op:"browser.response",name:t.name,attributes:{[Xt]:"auto.ui.browser.metrics"}}))}function xD(e,t,a,i,s,r,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const c=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o!=null&&o.includes(c))return;const u={[Xt]:"auto.resource.browser.metrics"},d=Xs(a);d.protocol&&(u["url.scheme"]=d.protocol.split(":").pop()),d.host&&(u["server.address"]=d.host),u["url.same_origin"]=a.includes(Re.location.origin),vD(t,u,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const p={...u,...Q1(t)},f=r+i,m=f+s;xs(e,f,m,{name:a.replace(Re.location.origin,""),op:c,attributes:p})}function bD(e){const t=Re.navigator;if(!t)return;const a=t.connection;a&&(a.effectiveType&&e.setAttribute("effectiveConnectionType",a.effectiveType),a.type&&e.setAttribute("connectionType",a.type),yh(a.rtt)&&(_a["connection.rtt"]={value:a.rtt,unit:"millisecond"})),yh(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),yh(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function yD(e,t){An&&t.recordLcpOnPageloadSpan&&(An.element&&e.setAttribute("lcp.element",In(An.element)),An.id&&e.setAttribute("lcp.id",An.id),An.url&&e.setAttribute("lcp.url",An.url.trim().slice(0,200)),An.loadTime!=null&&e.setAttribute("lcp.loadTime",An.loadTime),An.renderTime!=null&&e.setAttribute("lcp.renderTime",An.renderTime),e.setAttribute("lcp.size",An.size)),Hr!=null&&Hr.sources&&t.recordClsOnPageloadSpan&&Hr.sources.forEach((a,i)=>e.setAttribute(`cls.source.${i+1}`,In(a.node)))}function vD(e,t,a){a.forEach(([i,s])=>{const r=e[i];r!=null&&(typeof r=="number"&&r<nD||typeof r=="string")&&(t[s]=r)})}function SD(e){const t=_c(!1);if(!t)return;const{responseStart:a,requestStart:i}=t;i<=a&&(e["ttfb.requestTime"]={value:a-i,unit:"millisecond"})}function _D(){return kc()&&Ln()?or("element",wD):()=>{}}const wD=({entries:e})=>{const t=wn(),a=t?xn(t):void 0,i=a?nt(a).description:ut().getScopeData().transactionName;e.forEach(s=>{var h,x;const r=s;if(!r.identifier)return;const o=r.name,c=r.renderTime,u=r.loadTime,[d,p]=u?[It(u),"load-time"]:c?[It(c),"render-time"]:[an(),"entry-emission"],f=o==="image-paint"?It(Math.max(0,(c??0)-(u??0))):0,m={[Xt]:"auto.ui.browser.elementtiming",[wi]:"ui.elementtiming",[Ea]:"component","sentry.span_start_time_source":p,"sentry.transaction_name":i,"element.id":r.id,"element.type":((x=(h=r.element)==null?void 0:h.tagName)==null?void 0:x.toLowerCase())||"unknown","element.size":r.naturalWidth&&r.naturalHeight?`${r.naturalWidth}x${r.naturalHeight}`:void 0,"element.render_time":c,"element.load_time":u,"element.url":r.url||void 0,"element.identifier":r.identifier,"element.paint_type":o};lA({name:`element[${r.identifier}]`,attributes:m,startTime:d,onlyIfParent:!0},b=>{b.end(d+f)})})},ED=1e3;let oy,Zm,Qm;function J1(e){const t="dom";vs(t,e),Ss(t,ND)}function ND(){if(!Re.document)return;const e=fa.bind(null,"dom"),t=ly(e,!0);Re.document.addEventListener("click",t,!1),Re.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(a=>{var r,o;const s=(r=Re[a])==null?void 0:r.prototype;(o=s==null?void 0:s.hasOwnProperty)!=null&&o.call(s,"addEventListener")&&(Dn(s,"addEventListener",function(c){return function(u,d,p){if(u==="click"||u=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},m=f[u]=f[u]||{refCount:0};if(!m.handler){const h=ly(e);m.handler=h,c.call(this,u,h,p)}m.refCount++}catch{}return c.call(this,u,d,p)}}),Dn(s,"removeEventListener",function(c){return function(u,d,p){if(u==="click"||u=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},m=f[u];m&&(m.refCount--,m.refCount<=0&&(c.call(this,u,m.handler,p),m.handler=void 0,delete f[u]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return c.call(this,u,d,p)}}))})}function kD(e){if(e.type!==Zm)return!1;try{if(!e.target||e.target._sentryId!==Qm)return!1}catch{}return!0}function TD(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function ly(e,t=!1){return a=>{if(!a||a._sentryCaptured)return;const i=jD(a);if(TD(a.type,i))return;Qn(a,"_sentryCaptured",!0),i&&!i._sentryId&&Qn(i,"_sentryId",Wn());const s=a.type==="keypress"?"input":a.type;kD(a)||(e({event:a,name:s,global:t}),Zm=a.type,Qm=i?i._sentryId:void 0),clearTimeout(oy),oy=Re.setTimeout(()=>{Qm=void 0,Zm=void 0},ED)}}function jD(e){try{return e.target}catch{return null}}let su;function of(e){const t="history";vs(t,e),Ss(t,AD)}function AD(){if(Re.addEventListener("popstate",()=>{const t=Re.location.href,a=su;if(su=t,a===t)return;fa("history",{from:a,to:t})}),!QC())return;function e(t){return function(...a){const i=a.length>2?a[2]:void 0;if(i){const s=su,r=CD(String(i));if(su=r,s===r)return t.apply(this,a);fa("history",{from:s,to:r})}return t.apply(this,a)}}Dn(Re.history,"pushState",e),Dn(Re.history,"replaceState",e)}function CD(e){try{return new URL(e,Re.location.origin).toString()}catch{return e}}const Lu={};function eE(e){const t=Lu[e];if(t)return t;let a=Re[e];if(qm(a))return Lu[e]=a.bind(Re);const i=Re.document;if(i&&typeof i.createElement=="function")try{const s=i.createElement("iframe");s.hidden=!0,i.head.appendChild(s);const r=s.contentWindow;r!=null&&r[e]&&(a=r[e]),i.head.removeChild(s)}catch(s){rr&&pe.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return a&&(Lu[e]=a.bind(Re))}function RD(e){Lu[e]=void 0}function Tc(...e){return eE("setTimeout")(...e)}const Os="__sentry_xhr_v3__";function tE(e){const t="xhr";vs(t,e),Ss(t,DD)}function DD(){if(!Re.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,a,i){const s=new Error,r=an()*1e3,o=di(i[0])?i[0].toUpperCase():void 0,c=MD(i[1]);if(!o||!c)return t.apply(a,i);a[Os]={method:o,url:c,request_headers:{}},o==="POST"&&c.match(/sentry_key/)&&(a.__sentry_own_request__=!0);const u=()=>{const d=a[Os];if(d&&a.readyState===4){try{d.status_code=a.status}catch{}const p={endTimestamp:an()*1e3,startTimestamp:r,xhr:a,virtualError:s};fa("xhr",p)}};return"onreadystatechange"in a&&typeof a.onreadystatechange=="function"?a.onreadystatechange=new Proxy(a.onreadystatechange,{apply(d,p,f){return u(),d.apply(p,f)}}):a.addEventListener("readystatechange",u),a.setRequestHeader=new Proxy(a.setRequestHeader,{apply(d,p,f){const[m,h]=f,x=p[Os];return x&&di(m)&&di(h)&&(x.request_headers[m.toLowerCase()]=h),d.apply(p,f)}}),t.apply(a,i)}}),e.send=new Proxy(e.send,{apply(t,a,i){const s=a[Os];if(!s)return t.apply(a,i);i[0]!==void 0&&(s.body=i[0]);const r={startTimestamp:an()*1e3,xhr:a};return fa("xhr",r),t.apply(a,i)}})}function MD(e){if(di(e))return e;try{return e.toString()}catch{}}function nE(e){return new URLSearchParams(e).toString()}function aE(e,t=pe){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[nE(e)];if(!e)return[void 0]}catch(a){return rr&&t.error(a,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return rr&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function iE(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function sE(e){let t;try{t=e.getAllResponseHeaders()}catch(a){return rr&&pe.error(a,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((a,i)=>{const[s,r]=i.split(": ");return r&&(a[s.toLowerCase()]=r),a},{}):{}}const vh=[],Uu=new Map,Er=new Map,OD=60;function ID(){if(kc()&&Ln()){const t=zD();return()=>{t()}}return()=>{}}const Jm={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function zD(){return $1(LD)}const LD=({metric:e})=>{if(e.value==null)return;const t=It(e.value);if(t>OD)return;const a=e.entries.find(x=>x.duration===e.value&&Jm[x.name]);if(!a)return;const{interactionId:i}=a,s=Jm[a.name],r=It(Ln()+a.startTime),o=wn(),c=o?xn(o):void 0,u=i!=null?Uu.get(i):void 0,d=(u==null?void 0:u.span)||c,p=d?nt(d).description:ut().getScopeData().transactionName,f=(u==null?void 0:u.elementName)||In(a.target),m={[Xt]:"auto.http.browser.inp",[wi]:`ui.interaction.${s}`,[qo]:a.duration},h=Wg({name:f,transaction:p,attributes:m,startTime:r});h&&(h.addEvent("inp",{[yc]:"millisecond",[vc]:e.value}),h.end(r+t))};function UD(){const e=Object.keys(Jm);Vm()&&e.forEach(s=>{Re.addEventListener(s,t,{capture:!0,passive:!0})});function t(s){const r=s.target;if(!r)return;const o=In(r),c=Math.round(s.timeStamp);if(Er.set(c,o),Er.size>50){const u=Er.keys().next().value;u!==void 0&&Er.delete(u)}}function a(s){const r=Math.round(s.startTime);let o=Er.get(r);if(!o)for(let c=-5;c<=5;c++){const u=Er.get(r+c);if(u){o=u;break}}return o||"<unknown>"}const i=({entries:s})=>{const r=wn(),o=r&&xn(r);s.forEach(c=>{if(!WR(c))return;const u=c.interactionId;if(u==null||Uu.has(u))return;const d=c.target?In(c.target):a(c);if(vh.length>10){const p=vh.shift();Uu.delete(p)}vh.push(u),Uu.set(u,{span:o,elementName:d})})};or("event",i),or("first-input",i)}const BD=40;function PD(e,t=eE("fetch")){let a=0,i=0;async function s(r){const o=r.body.length;a+=o,i++;const c={body:r.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:a<=6e4&&i<15,...e.fetchOptions};try{const u=await t(e.url,c);return{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}}}catch(u){throw RD("fetch"),u}finally{a-=o,i--}}return JA(e,s,Lg(e.bufferSize||BD))}const ma=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,FD=30,HD=50;function ep(e,t,a,i){const s={filename:e,function:t==="<anonymous>"?ir:t,in_app:!0};return a!==void 0&&(s.lineno=a),i!==void 0&&(s.colno=i),s}const GD=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,qD=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,YD=/\((\S*)(?::(\d+))(?::(\d+))\)/,VD=/at (.+?) ?\(data:(.+?),/,$D=e=>{const t=e.match(VD);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const a=GD.exec(e);if(a){const[,s,r,o]=a;return ep(s,ir,+r,+o)}const i=qD.exec(e);if(i){if(i[2]&&i[2].indexOf("eval")===0){const c=YD.exec(i[2]);c&&(i[2]=c[1],i[3]=c[2],i[4]=c[3])}const[r,o]=rE(i[1]||ir,i[2]);return ep(o,r,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}},KD=[FD,$D],WD=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,XD=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ZD=e=>{const t=WD.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const r=XD.exec(t[3]);r&&(t[1]=t[1]||"eval",t[3]=r[1],t[4]=r[2],t[5]="")}let i=t[3],s=t[1]||ir;return[s,i]=rE(s,i),ep(i,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},QD=[HD,ZD],JD=[KD,QD],eM=Tw(...JD),rE=(e,t)=>{const a=e.indexOf("safari-extension")!==-1,i=e.indexOf("safari-web-extension")!==-1;return a||i?[e.indexOf("@")!==-1?e.split("@")[0]:ir,a?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ru=1024,tM="Breadcrumbs",nM=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:tM,setup(a){t.console&&LC(rM(a)),t.dom&&J1(sM(a,t.dom)),t.xhr&&tE(oM(a)),t.fetch&&M1(lM(a)),t.history&&of(cM(a)),t.sentry&&a.on("beforeSendEvent",iM(a))}}},aM=nM;function iM(e){return function(a){Ze()===e&&gs({category:`sentry.${a.type==="transaction"?"transaction":"event"}`,event_id:a.event_id,level:a.level,message:Ms(a)},{event:a})}}function sM(e,t){return function(i){if(Ze()!==e)return;let s,r,o=typeof t=="object"?t.serializeAttribute:void 0,c=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;c&&c>ru&&(ma&&pe.warn(`\`dom.maxStringLength\` cannot exceed ${ru}, but a value of ${c} was configured. Sentry will use ${ru} instead.`),c=ru),typeof o=="string"&&(o=[o]);try{const d=i.event,p=uM(d)?d.target:d;s=In(p,{keyAttrs:o,maxStringLength:c}),r=Iw(p)}catch{s="<unknown>"}if(s.length===0)return;const u={category:`ui.${i.name}`,message:s};r&&(u.data={"ui.component_name":r}),gs(u,{event:i.event,name:i.name,global:i.global})}}function rM(e){return function(a){if(Ze()!==e)return;const i={category:"console",data:{arguments:a.args,logger:"console"},level:A1(a.level),message:yb(a.args," ")};if(a.level==="assert")if(a.args[0]===!1)i.message=`Assertion failed: ${yb(a.args.slice(1)," ")||"console.assert"}`,i.data.arguments=a.args.slice(1);else return;gs(i,{input:a.args,level:a.level})}}function oM(e){return function(a){if(Ze()!==e)return;const{startTimestamp:i,endTimestamp:s}=a,r=a.xhr[Os];if(!i||!s||!r)return;const{method:o,url:c,status_code:u,body:d}=r,p={method:o,url:c,status_code:u},f={xhr:a.xhr,input:d,startTimestamp:i,endTimestamp:s},m={category:"xhr",data:p,type:"http",level:D1(u)};e.emit("beforeOutgoingRequestBreadcrumb",m,f),gs(m,f)}}function lM(e){return function(a){if(Ze()!==e)return;const{startTimestamp:i,endTimestamp:s}=a;if(s&&!(a.fetchData.url.match(/sentry_key/)&&a.fetchData.method==="POST"))if(a.fetchData.method,a.fetchData.url,a.error){const r=a.fetchData,o={data:a.error,input:a.args,startTimestamp:i,endTimestamp:s},c={category:"fetch",data:r,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",c,o),gs(c,o)}else{const r=a.response,o={...a.fetchData,status_code:r==null?void 0:r.status};a.fetchData.request_body_size,a.fetchData.response_body_size,r==null||r.status;const c={input:a.args,response:r,startTimestamp:i,endTimestamp:s},u={category:"fetch",data:o,type:"http",level:D1(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",u,c),gs(u,c)}}}function cM(e){return function(a){if(Ze()!==e)return;let i=a.from,s=a.to;const r=Xs(at.location.href);let o=i?Xs(i):void 0;const c=Xs(s);o!=null&&o.path||(o=r),r.protocol===c.protocol&&r.host===c.host&&(s=c.relative),r.protocol===o.protocol&&r.host===o.host&&(i=o.relative),gs({category:"navigation",data:{from:i,to:s}})}}function uM(e){return!!e&&!!e.target}const dM=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],fM="BrowserApiErrors",hM=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:fM,setupOnce(){t.setTimeout&&Dn(at,"setTimeout",cy),t.setInterval&&Dn(at,"setInterval",cy),t.requestAnimationFrame&&Dn(at,"requestAnimationFrame",pM),t.XMLHttpRequest&&"XMLHttpRequest"in at&&Dn(XMLHttpRequest.prototype,"send",gM);const a=t.eventTarget;a&&(Array.isArray(a)?a:dM).forEach(s=>xM(s,t))}}},mM=hM;function cy(e){return function(...t){const a=t[0];return t[0]=jo(a,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${vi(e)}`}}),e.apply(this,t)}}function pM(e){return function(t){return e.apply(this,[jo(t,{mechanism:{data:{handler:vi(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function gM(e){return function(...t){const a=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in a&&typeof a[s]=="function"&&Dn(a,s,function(r){const o={mechanism:{data:{handler:vi(r)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},c=Eg(r);return c&&(o.mechanism.data.handler=vi(c)),jo(r,o)})}),e.apply(this,t)}}function xM(e,t){var s,r;const i=(s=at[e])==null?void 0:s.prototype;(r=i==null?void 0:i.hasOwnProperty)!=null&&r.call(i,"addEventListener")&&(Dn(i,"addEventListener",function(o){return function(c,u,d){try{bM(u)&&(u.handleEvent=jo(u.handleEvent,{mechanism:{data:{handler:vi(u),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&yM(this,c,u),o.apply(this,[c,jo(u,{mechanism:{data:{handler:vi(u),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),d])}}),Dn(i,"removeEventListener",function(o){return function(c,u,d){try{const p=u.__sentry_wrapped__;p&&o.call(this,c,p,d)}catch{}return o.call(this,c,u,d)}}))}function bM(e){return typeof e.handleEvent=="function"}function yM(e,t,a){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,a)}const vM=()=>({name:"BrowserSession",setupOnce(){if(typeof at.document>"u"){ma&&pe.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Fb({ignoreDuration:!0}),Hb(),of(({from:e,to:t})=>{e!==void 0&&e!==t&&(Fb({ignoreDuration:!0}),Hb())})}}),SM="GlobalHandlers",_M=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:SM,setupOnce(){Error.stackTraceLimit=50},setup(a){t.onerror&&(EM(a),uy("onerror")),t.onunhandledrejection&&(NM(a),uy("onunhandledrejection"))}}},wM=_M;function EM(e){Aw(t=>{const{stackParser:a,attachStacktrace:i}=oE();if(Ze()!==e||I1())return;const{msg:s,url:r,line:o,column:c,error:u}=t,d=jM(Gg(a,u||s,void 0,i,!1),r,o,c);d.level="error",u1(d,{originalException:u,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function NM(e){Cw(t=>{const{stackParser:a,attachStacktrace:i}=oE();if(Ze()!==e||I1())return;const s=kM(t),r=wo(s)?TM(s):Gg(a,s,void 0,i,!0);r.level="error",u1(r,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function kM(e){if(wo(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function TM(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function jM(e,t,a,i){const s=e.exception=e.exception||{},r=s.values=s.values||[],o=r[0]=r[0]||{},c=o.stacktrace=o.stacktrace||{},u=c.frames=c.frames||[],d=i,p=a,f=AM(t)??Ho();return u.length===0&&u.push({colno:d,filename:f,function:ir,in_app:!0,lineno:p}),e}function uy(e){ma&&pe.log(`Global Handler attached: ${e}`)}function oE(){const e=Ze();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function AM(e){if(!(!di(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),a=t?t[1]:"text/javascript",i=e.includes("base64,");return`<data:${a}${i?",base64":""}>`}return e}}const CM=()=>({name:"HttpContext",preprocessEvent(e){var i;if(!at.navigator&&!at.location&&!at.document)return;const t=Pg(),a={...t.headers,...(i=e.request)==null?void 0:i.headers};e.request={...t,...e.request,headers:a}}}),RM="cause",DM=5,MM="LinkedErrors",OM=(e={})=>{const t=e.limit||DM,a=e.key||RM;return{name:MM,preprocessEvent(i,s,r){const o=r.getOptions();zC(Fg,o.stackParser,a,t,i,s)}}},IM=OM;function zM(){return LM()?(ma&&mr(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function LM(){var r;if(typeof at.window>"u")return!1;const e=at;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((r=t==null?void 0:t.runtime)!=null&&r.id))return!1;const a=Ho(),i=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(at===at.top&&i.some(o=>a.startsWith(`${o}://`)))}function UM(e){return[jC(),EC(),mM(),aM(),wM(),IM(),FC(),CM(),vM()]}function BM(e={}){const t=!e.skipBrowserExtensionCheck&&zM();let a=e.defaultIntegrations==null?UM():e.defaultIntegrations;const i={...e,enabled:t?!1:e.enabled,stackParser:Mj(e.stackParser||eM),integrations:HA({integrations:e.integrations,defaultIntegrations:a}),transport:e.transport||PD};return cC(_R,i)}const xt=et,Xg="sentryReplaySession",PM="replay_event",Zg="Unable to send Replay",FM=3e5,HM=9e5,GM=5e3,qM=5500,YM=6e4,VM=5e3,$M=3,dy=15e4,ou=5e3,KM=3e3,WM=300,Qg=2e7,XM=4999,ZM=5e4,fy=36e5;var QM=Object.defineProperty,JM=(e,t,a)=>t in e?QM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,hy=(e,t,a)=>JM(e,typeof t!="symbol"?t+"":t,a),Pt=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Pt||{});function e5(e){return e.nodeType===e.ELEMENT_NODE}function Tl(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function jl(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function t5(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function n5(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const a=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?a.push("layer"):e.layerName&&a.push(`layer(${e.layerName})`),e.supportsText&&a.push(`supports(${e.supportsText})`),e.media.length&&a.push(e.media.mediaText),a.join(" ")+";"}function Ed(e){try{const t=e.rules||e.cssRules;return t?t5(Array.from(t,lE).join("")):null}catch{return null}}function a5(e){let t="";for(let a=0;a<e.style.length;a++){const i=e.style,s=i[a],r=i.getPropertyPriority(s);t+=`${s}:${i.getPropertyValue(s)}${r?" !important":""};`}return`${e.selectorText} { ${t} }`}function lE(e){let t;if(s5(e))try{t=Ed(e.styleSheet)||n5(e)}catch{}else if(r5(e)){let a=e.cssText;const i=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(a=a5(e)),i&&(a=i5(a)),i||s)return a}return t||e.cssText}function i5(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function s5(e){return"styleSheet"in e}function r5(e){return"selectorText"in e}class cE{constructor(){hy(this,"idNodeMap",new Map),hy(this,"nodeMetaMap",new WeakMap)}getId(t){var i;return t?((i=this.getMeta(t))==null?void 0:i.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const a=this.getId(t);this.idNodeMap.delete(a),t.childNodes&&t.childNodes.forEach(i=>this.removeNodeFromMap(i))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,a){const i=a.id;this.idNodeMap.set(i,t),this.nodeMetaMap.set(t,a)}replace(t,a){const i=this.getNode(t);if(i){const s=this.nodeMetaMap.get(i);s&&this.nodeMetaMap.set(a,s)}this.idNodeMap.set(t,a)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function o5(){return new cE}function lf({maskInputOptions:e,tagName:t,type:a}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||a&&e[a]||a==="password"||t==="INPUT"&&!a&&e.text)}function Xl({isMasked:e,element:t,value:a,maskInputFn:i}){let s=a||"";return e?(i&&(s=i(s,t)),"*".repeat(s.length)):s}function Ao(e){return e.toLowerCase()}function tp(e){return e.toUpperCase()}const my="__rrweb_original__";function l5(e){const t=e.getContext("2d");if(!t)return!0;const a=50;for(let i=0;i<e.width;i+=a)for(let s=0;s<e.height;s+=a){const r=t.getImageData,o=my in r?r[my]:r;if(new Uint32Array(o.call(t,i,s,Math.min(a,e.width-i),Math.min(a,e.height-s)).data.buffer).some(u=>u!==0))return!1}return!0}function Jg(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Ao(t):null}function Nd(e,t,a){return t==="INPUT"&&(a==="radio"||a==="checkbox")?e.getAttribute("value")||"":e.value}function uE(e,t){let a;try{a=new URL(e,t??window.location.href)}catch{return null}const i=/\.([0-9a-z]+)(?:$)/i,s=a.pathname.match(i);return(s==null?void 0:s[1])??null}const py={};function dE(e){const t=py[e];if(t)return t;const a=window.document;let i=window[e];if(a&&typeof a.createElement=="function")try{const s=a.createElement("iframe");s.hidden=!0,a.head.appendChild(s);const r=s.contentWindow;r&&r[e]&&(i=r[e]),a.head.removeChild(s)}catch{}return py[e]=i.bind(window)}function np(...e){return dE("setTimeout")(...e)}function fE(...e){return dE("clearTimeout")(...e)}function hE(e){try{return e.contentDocument}catch{}}let c5=1;const u5=new RegExp("[^a-z0-9-_:]"),Zl=-2;function e0(){return c5++}function d5(e){if(e instanceof HTMLFormElement)return"form";const t=Ao(e.tagName);return u5.test(t)?"div":t}function f5(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Nr,gy;const h5=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,m5=/^(?:[a-z+]+:)?\/\//i,p5=/^www\..*/i,g5=/^(data:)([^,]*),(.*)/i;function x5(e,t){if(!e||t.size===0)return e;try{const a=e.split(";"),i=[];for(let s of a){if(s=s.trim(),!s)continue;const r=s.indexOf(":");if(r===-1){i.push(s);continue}const o=s.slice(0,r).trim();t.has(o)||i.push(s)}return i.join("; ")+(i.length>0&&e.endsWith(";")?";":"")}catch(a){return console.warn("Error filtering CSS properties:",a),e}}function kd(e,t){return(e||"").replace(h5,(a,i,s,r,o,c)=>{const u=s||o||c,d=i||r||"";if(!u)return a;if(m5.test(u)||p5.test(u))return`url(${d}${u}${d})`;if(g5.test(u))return`url(${d}${u}${d})`;if(u[0]==="/")return`url(${d}${f5(t)+u}${d})`;const p=t.split("/"),f=u.split("/");p.pop();for(const m of f)m!=="."&&(m===".."?p.pop():p.push(m));return`url(${d}${p.join("/")}${d})`})}const b5=/^[^ \t\n\r\u000c]+/,y5=/^[, \t\n\r\u000c]+/;function v5(e,t){if(t.trim()==="")return t;let a=0;function i(r){let o;const c=r.exec(t.substring(a));return c?(o=c[0],a+=o.length,o):""}const s=[];for(;i(y5),!(a>=t.length);){let r=i(b5);if(r.slice(-1)===",")r=Gr(e,r.substring(0,r.length-1)),s.push(r);else{let o="";r=Gr(e,r);let c=!1;for(;;){const u=t.charAt(a);if(u===""){s.push((r+o).trim());break}else if(c)u===")"&&(c=!1);else if(u===","){a+=1,s.push((r+o).trim());break}else u==="("&&(c=!0);o+=u,a+=1}}}return s.join(", ")}const xy=new WeakMap;function Gr(e,t){return!t||t.trim()===""?t:cf(e,t)}function S5(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function cf(e,t){let a=xy.get(e);if(a||(a=e.createElement("a"),xy.set(e,a)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return a.setAttribute("href",t),a.href}function mE(e,t,a,i,s,r,o){if(!i)return i;if(a==="src"||a==="href"&&!(t==="use"&&i[0]==="#"))return Gr(e,i);if(a==="xlink:href"&&i[0]!=="#")return Gr(e,i);if(a==="background"&&(t==="table"||t==="td"||t==="th"))return Gr(e,i);if(a==="srcset")return v5(e,i);if(a==="style"){let c=kd(i,cf(e));return o&&o.size>0&&(c=x5(c,o)),c}else if(t==="object"&&a==="data")return Gr(e,i);return typeof r=="function"?r(a,i,s):i}function pE(e,t,a){return(e==="video"||e==="audio")&&t==="autoplay"}function _5(e,t,a,i){try{if(i&&e.matches(i))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const r=e.classList[s];if(t.test(r))return!0}if(a)return e.matches(a)}catch{}return!1}function w5(e,t){for(let a=e.classList.length;a--;){const i=e.classList[a];if(t.test(i))return!0}return!1}function Is(e,t,a=1/0,i=0){return!e||e.nodeType!==e.ELEMENT_NODE||i>a?-1:t(e)?i:Is(e.parentNode,t,a,i+1)}function qr(e,t){return a=>{const i=a;if(i===null)return!1;try{if(e){if(typeof e=="string"){if(i.matches(`.${e}`))return!0}else if(w5(i,e))return!0}return!!(t&&i.matches(t))}catch{return!1}}}function Co(e,t,a,i,s,r){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const d=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(d))return!0}let c=-1,u=-1;if(r){if(u=Is(o,qr(i,s)),u<0)return!0;c=Is(o,qr(t,a),u>=0?u:1/0)}else{if(c=Is(o,qr(t,a)),c<0)return!1;u=Is(o,qr(i,s),c>=0?c:1/0)}return c>=0?u>=0?c<=u:!0:u>=0?!1:!!r}catch{}return!!r}function E5(e,t,a){const i=e.contentWindow;if(!i)return;let s=!1,r;try{r=i.document.readyState}catch{return}if(r!=="complete"){const c=np(()=>{s||(t(),s=!0)},a);e.addEventListener("load",()=>{fE(c),s=!0,t()});return}const o="about:blank";if(i.location.href!==o||e.src===o||e.src==="")return np(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function N5(e,t,a){let i=!1,s;try{s=e.sheet}catch{return}if(s)return;const r=np(()=>{i||(t(),i=!0)},a);e.addEventListener("load",()=>{fE(r),i=!0,t()})}function k5(e,t){const{doc:a,mirror:i,blockClass:s,blockSelector:r,unblockSelector:o,maskAllText:c,maskAttributeFn:u,maskTextClass:d,unmaskTextClass:p,maskTextSelector:f,unmaskTextSelector:m,inlineStylesheet:h,maskInputOptions:x={},maskTextFn:b,maskInputFn:S,dataURLOptions:g={},inlineImages:y,recordCanvas:w,keepIframeSrcFn:E,newlyAddedElement:k=!1,ignoreCSSAttributes:M}=t,A=T5(a,i);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Pt.Document,childNodes:[],compatMode:e.compatMode}:{type:Pt.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Pt.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:A};case e.ELEMENT_NODE:return A5(e,{doc:a,blockClass:s,blockSelector:r,unblockSelector:o,inlineStylesheet:h,maskAttributeFn:u,maskInputOptions:x,maskInputFn:S,dataURLOptions:g,inlineImages:y,recordCanvas:w,keepIframeSrcFn:E,newlyAddedElement:k,rootId:A,maskTextClass:d,unmaskTextClass:p,maskTextSelector:f,unmaskTextSelector:m,ignoreCSSAttributes:M});case e.TEXT_NODE:return j5(e,{doc:a,maskAllText:c,maskTextClass:d,unmaskTextClass:p,maskTextSelector:f,unmaskTextSelector:m,maskTextFn:b,maskInputOptions:x,maskInputFn:S,rootId:A});case e.CDATA_SECTION_NODE:return{type:Pt.CDATA,textContent:"",rootId:A};case e.COMMENT_NODE:return{type:Pt.Comment,textContent:e.textContent||"",rootId:A};default:return!1}}function T5(e,t){if(!t.hasNode(e))return;const a=t.getId(e);return a===1?void 0:a}function j5(e,t){var g;const{maskAllText:a,maskTextClass:i,unmaskTextClass:s,maskTextSelector:r,unmaskTextSelector:o,maskTextFn:c,maskInputOptions:u,maskInputFn:d,rootId:p}=t,f=e.parentNode&&e.parentNode.tagName;let m=e.textContent;const h=f==="STYLE"?!0:void 0,x=f==="SCRIPT"?!0:void 0,b=f==="TEXTAREA"?!0:void 0;if(h&&m){try{e.nextSibling||e.previousSibling||(g=e.parentNode.sheet)!=null&&g.cssRules&&(m=Ed(e.parentNode.sheet))}catch(y){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${y}`,e)}m=kd(m,cf(t.doc))}x&&(m="SCRIPT_PLACEHOLDER");const S=Co(e,i,r,s,o,a);if(!h&&!x&&!b&&m&&S&&(m=c?c(m,e.parentElement):m.replace(/[\S]/g,"*")),b&&m&&(u.textarea||S)&&(m=d?d(m,e.parentNode):m.replace(/[\S]/g,"*")),f==="OPTION"&&m){const y=lf({type:null,tagName:f,maskInputOptions:u});m=Xl({isMasked:Co(e,i,r,s,o,y),element:e,value:m,maskInputFn:d})}return{type:Pt.Text,textContent:m||"",isStyle:h,rootId:p}}function A5(e,t){const{doc:a,blockClass:i,blockSelector:s,unblockSelector:r,inlineStylesheet:o,maskInputOptions:c={},maskAttributeFn:u,maskInputFn:d,dataURLOptions:p={},inlineImages:f,recordCanvas:m,keepIframeSrcFn:h,newlyAddedElement:x=!1,rootId:b,maskTextClass:S,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:w,ignoreCSSAttributes:E}=t,k=_5(e,i,s,r),M=d5(e);let A={};const I=e.attributes.length;for(let N=0;N<I;N++){const z=e.attributes[N];z.name&&!pE(M,z.name,z.value)&&(A[z.name]=mE(a,M,Ao(z.name),z.value,e,u,E))}if(M==="link"&&o){const N=Array.from(a.styleSheets).find(T=>T.href===e.href);let z=null;N&&(z=Ed(N)),z&&(A.rel=null,A.href=null,A.crossorigin=null,A._cssText=kd(z,N.href))}if(M==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const N=Ed(e.sheet);N&&(A._cssText=kd(N,cf(a)))}if(M==="input"||M==="textarea"||M==="select"||M==="option"){const N=e,z=Jg(N),T=Nd(N,tp(M),z),C=N.checked;if(z!=="submit"&&z!=="button"&&T){const v=Co(N,S,y,g,w,lf({type:z,tagName:tp(M),maskInputOptions:c}));A.value=Xl({isMasked:v,element:N,value:T,maskInputFn:d})}C&&(A.checked=C)}if(M==="option"&&(e.selected&&!c.select?A.selected=!0:delete A.selected),M==="canvas"&&m){if(e.__context==="2d")l5(e)||(A.rr_dataURL=e.toDataURL(p.type,p.quality));else if(!("__context"in e)){const N=e.toDataURL(p.type,p.quality),z=a.createElement("canvas");z.width=e.width,z.height=e.height;const T=z.toDataURL(p.type,p.quality);N!==T&&(A.rr_dataURL=N)}}if(M==="img"&&f){Nr||(Nr=a.createElement("canvas"),gy=Nr.getContext("2d"));const N=e,z=N.currentSrc||N.getAttribute("src")||"<unknown-src>",T=N.crossOrigin,C=()=>{N.removeEventListener("load",C);try{Nr.width=N.naturalWidth,Nr.height=N.naturalHeight,gy.drawImage(N,0,0),A.rr_dataURL=Nr.toDataURL(p.type,p.quality)}catch(v){if(N.crossOrigin!=="anonymous"){N.crossOrigin="anonymous",N.complete&&N.naturalWidth!==0?C():N.addEventListener("load",C);return}else console.warn(`Cannot inline img src=${z}! Error: ${v}`)}N.crossOrigin==="anonymous"&&(T?A.crossOrigin=T:N.removeAttribute("crossorigin"))};N.complete&&N.naturalWidth!==0?C():N.addEventListener("load",C)}if((M==="audio"||M==="video")&&(A.rr_mediaState=e.paused?"paused":"played",A.rr_mediaCurrentTime=e.currentTime),x||(e.scrollLeft&&(A.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(A.rr_scrollTop=e.scrollTop)),k){const{width:N,height:z}=e.getBoundingClientRect();A={class:A.class,rr_width:`${N}px`,rr_height:`${z}px`}}M==="iframe"&&!h(A.src)&&(!k&&!hE(e)&&(A.rr_src=A.src),delete A.src);let j;try{customElements.get(M)&&(j=!0)}catch{}return{type:Pt.Element,tagName:M,attributes:A,childNodes:[],isSVG:S5(e)||void 0,needBlock:k,rootId:b,isCustom:j}}function gt(e){return e==null?"":e.toLowerCase()}function C5(e,t){if(t.comment&&e.type===Pt.Comment)return!0;if(e.type===Pt.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&uE(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(gt(e.attributes.name).match(/^msapplication-tile(image|color)$/)||gt(e.attributes.name)==="application-name"||gt(e.attributes.rel)==="icon"||gt(e.attributes.rel)==="apple-touch-icon"||gt(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&gt(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(gt(e.attributes.property).match(/^(og|twitter|fb):/)||gt(e.attributes.name).match(/^(og|twitter):/)||gt(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(gt(e.attributes.name)==="robots"||gt(e.attributes.name)==="googlebot"||gt(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(gt(e.attributes.name)==="author"||gt(e.attributes.name)==="generator"||gt(e.attributes.name)==="framework"||gt(e.attributes.name)==="publisher"||gt(e.attributes.name)==="progid"||gt(e.attributes.property).match(/^article:/)||gt(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(gt(e.attributes.name)==="google-site-verification"||gt(e.attributes.name)==="yandex-verification"||gt(e.attributes.name)==="csrf-token"||gt(e.attributes.name)==="p:domain_verify"||gt(e.attributes.name)==="verify-v1"||gt(e.attributes.name)==="verification"||gt(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Yr(e,t){const{doc:a,mirror:i,blockClass:s,blockSelector:r,unblockSelector:o,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,skipChild:m=!1,inlineStylesheet:h=!0,maskInputOptions:x={},maskAttributeFn:b,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:w={},inlineImages:E=!1,recordCanvas:k=!1,onSerialize:M,onIframeLoad:A,iframeLoadTimeout:I=5e3,onBlockedImageLoad:j,onStylesheetLoad:N,stylesheetLoadTimeout:z=5e3,keepIframeSrcFn:T=()=>!1,newlyAddedElement:C=!1,ignoreCSSAttributes:v}=t;let{preserveWhiteSpace:D=!0}=t;const U=k5(e,{doc:a,mirror:i,blockClass:s,blockSelector:r,maskAllText:c,unblockSelector:o,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:h,maskInputOptions:x,maskAttributeFn:b,maskTextFn:S,maskInputFn:g,dataURLOptions:w,inlineImages:E,recordCanvas:k,keepIframeSrcFn:T,newlyAddedElement:C,ignoreCSSAttributes:v});if(!U)return console.warn(e,"not serialized"),null;let H;i.hasNode(e)?H=i.getId(e):C5(U,y)||!D&&U.type===Pt.Text&&!U.isStyle&&!U.textContent.replace(/^\s+|\s+$/gm,"").length?H=Zl:H=e0();const P=Object.assign(U,{id:H});if(i.add(e,P),H===Zl)return null;M&&M(e);let X=!m;if(P.type===Pt.Element){X=X&&!P.needBlock;const $=e.shadowRoot;$&&jl($)&&(P.isShadowHost=!0)}if((P.type===Pt.Document||P.type===Pt.Element)&&X){y.headWhitespace&&P.type===Pt.Element&&P.tagName==="head"&&(D=!1);const $={doc:a,mirror:i,blockClass:s,blockSelector:r,maskAllText:c,unblockSelector:o,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,skipChild:m,inlineStylesheet:h,maskInputOptions:x,maskAttributeFn:b,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:w,inlineImages:E,recordCanvas:k,preserveWhiteSpace:D,onSerialize:M,onIframeLoad:A,iframeLoadTimeout:I,onBlockedImageLoad:j,onStylesheetLoad:N,stylesheetLoadTimeout:z,keepIframeSrcFn:T,ignoreCSSAttributes:v},L=e.childNodes?Array.from(e.childNodes):[];for(const F of L){const ue=Yr(F,$);ue&&P.childNodes.push(ue)}if(e5(e)&&e.shadowRoot)for(const F of Array.from(e.shadowRoot.childNodes)){const ue=Yr(F,$);ue&&(jl(e.shadowRoot)&&(ue.isShadow=!0),P.childNodes.push(ue))}}if(e.parentNode&&Tl(e.parentNode)&&jl(e.parentNode)&&(P.isShadow=!0),P.type===Pt.Element&&P.tagName==="iframe"&&!P.needBlock&&E5(e,()=>{const $=hE(e);if($&&A){const L=Yr($,{doc:$,mirror:i,blockClass:s,blockSelector:r,unblockSelector:o,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:h,maskInputOptions:x,maskAttributeFn:b,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:w,inlineImages:E,recordCanvas:k,preserveWhiteSpace:D,onSerialize:M,onIframeLoad:A,iframeLoadTimeout:I,onStylesheetLoad:N,stylesheetLoadTimeout:z,keepIframeSrcFn:T,ignoreCSSAttributes:v});L&&A(e,L)}},I),P.type===Pt.Element&&P.tagName==="img"&&!e.complete&&P.needBlock){const $=e,L=()=>{if($.isConnected&&!$.complete&&j)try{const F=$.getBoundingClientRect();F.width>0&&F.height>0&&j($,P,F)}catch{}$.removeEventListener("load",L)};$.isConnected&&$.addEventListener("load",L)}return P.type===Pt.Element&&P.tagName==="link"&&typeof P.attributes.rel=="string"&&(P.attributes.rel==="stylesheet"||P.attributes.rel==="preload"&&typeof P.attributes.href=="string"&&uE(P.attributes.href)==="css")&&N5(e,()=>{if(N){const $=Yr(e,{doc:a,mirror:i,blockClass:s,blockSelector:r,unblockSelector:o,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:h,maskInputOptions:x,maskAttributeFn:b,maskTextFn:S,maskInputFn:g,slimDOMOptions:y,dataURLOptions:w,inlineImages:E,recordCanvas:k,preserveWhiteSpace:D,onSerialize:M,onIframeLoad:A,iframeLoadTimeout:I,onStylesheetLoad:N,stylesheetLoadTimeout:z,keepIframeSrcFn:T,ignoreCSSAttributes:v});$&&N(e,$)}},z),P.type===Pt.Element&&delete P.needBlock,P}function R5(e,t){const{mirror:a=new cE,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:r=null,maskAllText:o=!1,maskTextClass:c="rr-mask",unmaskTextClass:u=null,maskTextSelector:d=null,unmaskTextSelector:p=null,inlineStylesheet:f=!0,inlineImages:m=!1,recordCanvas:h=!1,maskAllInputs:x=!1,maskAttributeFn:b,maskTextFn:S,maskInputFn:g,slimDOM:y=!1,dataURLOptions:w,preserveWhiteSpace:E,onSerialize:k,onIframeLoad:M,iframeLoadTimeout:A,onBlockedImageLoad:I,onStylesheetLoad:j,stylesheetLoadTimeout:N,keepIframeSrcFn:z=()=>!1,ignoreCSSAttributes:T=new Set([])}=t||{};return Yr(e,{doc:e,mirror:a,blockClass:i,blockSelector:s,unblockSelector:r,maskAllText:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,skipChild:!1,inlineStylesheet:f,maskInputOptions:x===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:x===!1?{}:x,maskAttributeFn:b,maskTextFn:S,maskInputFn:g,slimDOMOptions:y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:y==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:y===!1?{}:y,dataURLOptions:w,inlineImages:m,recordCanvas:h,preserveWhiteSpace:E,onSerialize:k,onIframeLoad:M,iframeLoadTimeout:A,onBlockedImageLoad:I,onStylesheetLoad:j,stylesheetLoadTimeout:N,keepIframeSrcFn:z,newlyAddedElement:!1,ignoreCSSAttributes:T})}function _n(e,t,a=document){const i={capture:!0,passive:!0};return a.addEventListener(e,t,i),()=>a.removeEventListener(e,t,i)}const jr=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let by={map:{},getId(){return console.error(jr),-1},getNode(){return console.error(jr),null},removeNodeFromMap(){console.error(jr)},has(){return console.error(jr),!1},reset(){console.error(jr)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(by=new Proxy(by,{get(e,t,a){return t==="map"&&console.error(jr),Reflect.get(e,t,a)}}));function Ql(e,t,a={}){let i=null,s=0;return function(...r){const o=Date.now();!s&&a.leading===!1&&(s=o);const c=t-(o-s),u=this;c<=0||c>t?(i&&(U5(i),i=null),s=o,e.apply(u,r)):!i&&a.trailing!==!1&&(i=uf(()=>{s=a.leading===!1?0:Date.now(),i=null,e.apply(u,r)},c))}}function gE(e,t,a,i,s=window){const r=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,i?a:{set(o){uf(()=>{a.set.call(this,o)},0),r&&r.set&&r.set.call(this,o)}}),()=>gE(e,t,r||{},!0)}function t0(e,t,a){try{if(!(t in e))return()=>{};const i=e[t],s=a(i);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:i}})),e[t]=s,()=>{e[t]=i}}catch{return()=>{}}}let Td=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Td=()=>new Date().getTime());function xE(e){var a,i,s,r,o,c;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((i=(a=t==null?void 0:t.body)==null?void 0:a.parentElement)==null?void 0:i.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((o=(r=t==null?void 0:t.body)==null?void 0:r.parentElement)==null?void 0:o.scrollTop)||((c=t==null?void 0:t.body)==null?void 0:c.scrollTop)||0}}function bE(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function yE(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function vE(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Pn(e,t,a,i,s){if(!e)return!1;const r=vE(e);if(!r)return!1;const o=qr(t,a);if(!s){const d=i&&r.matches(i);return o(r)&&!d}const c=Is(r,o);let u=-1;return c<0?!1:(i&&(u=Is(r,qr(null,i))),c>-1&&u<0?!0:c<u)}function D5(e,t){return t.getId(e)!==-1}function Sh(e,t){return t.getId(e)===Zl}function SE(e,t){if(Tl(e))return!1;const a=t.getId(e);return t.has(a)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?SE(e.parentNode,t):!0:!0}function ap(e){return!!e.changedTouches}function M5(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let a=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===a)return!0;while(a=a&&a.parentNode);return!1})}function _E(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function wE(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function ip(e){return!!(e!=null&&e.shadowRoot)}class O5{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,a){if(this.has(t))return this.getId(t);let i;return a===void 0?i=this.id++:i=a,this.styleIDMap.set(t,i),this.idStyleMap.set(i,t),i}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function EE(e){var a,i;let t=null;return((i=(a=e.getRootNode)==null?void 0:a.call(e))==null?void 0:i.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function I5(e){let t=e,a;for(;a=EE(t);)t=a;return t}function z5(e){const t=e.ownerDocument;if(!t)return!1;const a=I5(e);return t.contains(a)}function NE(e){const t=e.ownerDocument;return t?t.contains(e)||z5(e):!1}const yy={};function n0(e){const t=yy[e];if(t)return t;const a=window.document;let i=window[e];if(a&&typeof a.createElement=="function")try{const s=a.createElement("iframe");s.hidden=!0,a.head.appendChild(s);const r=s.contentWindow;r&&r[e]&&(i=r[e]),a.head.removeChild(s)}catch{}return yy[e]=i.bind(window)}function L5(...e){return n0("requestAnimationFrame")(...e)}function uf(...e){return n0("setTimeout")(...e)}function U5(...e){return n0("clearTimeout")(...e)}var Pe=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Pe||{}),Me=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Me||{}),bn=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(bn||{}),ei=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(ei||{}),Ar=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Ar||{});function a0(e){try{return e.contentDocument}catch{}}function B5(e){try{return e.contentWindow}catch{}}function vy(e){return"__ln"in e}class P5{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let a=this.head;for(let i=0;i<t;i++)a=(a==null?void 0:a.next)||null;return a}addNode(t){const a={value:t,previous:null,next:null};if(t.__ln=a,t.previousSibling&&vy(t.previousSibling)){const i=t.previousSibling.__ln.next;a.next=i,a.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=a,i&&(i.previous=a)}else if(t.nextSibling&&vy(t.nextSibling)&&t.nextSibling.__ln.previous){const i=t.nextSibling.__ln.previous;a.previous=i,a.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=a,i&&(i.next=a)}else this.head&&(this.head.previous=a),a.next=this.head,this.head=a;a.next===null&&(this.tail=a),this.length++}removeNode(t){const a=t.__ln;this.head&&(a.previous?(a.previous.next=a.next,a.next?a.next.previous=a.previous:this.tail=a.previous):(this.head=a.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Sy=(e,t)=>`${e}@${t}`;class F5{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],a=new Set,i=new P5,s=u=>{let d=u,p=Zl;for(;p===Zl;)d=d&&d.nextSibling,p=d&&this.mirror.getId(d);return p},r=u=>{if(!u.parentNode||!NE(u))return;const d=Tl(u.parentNode)?this.mirror.getId(EE(u)):this.mirror.getId(u.parentNode),p=s(u);if(d===-1||p===-1)return i.addNode(u);const f=Yr(u,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:m=>{_E(m,this.mirror)&&!Pn(m,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(m),wE(m,this.mirror)&&this.stylesheetManager.trackLinkElement(m),ip(u)&&this.shadowDomManager.addShadowRoot(u.shadowRoot,this.doc)},onIframeLoad:(m,h)=>{Pn(m,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(m,h),m.contentWindow&&this.canvasManager.addWindow(m.contentWindow),this.shadowDomManager.observeAttachShadow(m))},onStylesheetLoad:(m,h)=>{this.stylesheetManager.attachLinkElement(m,h)},onBlockedImageLoad:(m,h,{width:x,height:b})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:h.id,attributes:{style:{width:`${x}px`,height:`${b}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});f&&(t.push({parentId:d,nextId:p,node:f}),a.add(f.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const u of this.movedSet)_y(this.removes,u,this.mirror)&&!this.movedSet.has(u.parentNode)||r(u);for(const u of this.addedSet)!wy(this.droppedSet,u)&&!_y(this.removes,u,this.mirror)||wy(this.movedSet,u)?r(u):this.droppedSet.add(u);let o=null;for(;i.length;){let u=null;if(o){const d=this.mirror.getId(o.value.parentNode),p=s(o.value);d!==-1&&p!==-1&&(u=o)}if(!u){let d=i.tail;for(;d;){const p=d;if(d=d.previous,p){const f=this.mirror.getId(p.value.parentNode);if(s(p.value)===-1)continue;if(f!==-1){u=p;break}else{const h=p.value;if(h.parentNode&&h.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const x=h.parentNode.host;if(this.mirror.getId(x)!==-1){u=p;break}}}}}}if(!u){for(;i.head;)i.removeNode(i.head.value);break}o=u.previous,i.removeNode(u.value),r(u.value)}const c={texts:this.texts.map(u=>({id:this.mirror.getId(u.node),value:u.value})).filter(u=>!a.has(u.id)).filter(u=>this.mirror.has(u.id)),attributes:this.attributes.map(u=>{const{attributes:d}=u;if(typeof d.style=="string"){const p=JSON.stringify(u.styleDiff),f=JSON.stringify(u._unchangedStyles);p.length<d.style.length&&(p+f).split("var(").length===d.style.split("var(").length&&(d.style=u.styleDiff)}return{id:this.mirror.getId(u.node),attributes:d}}).filter(u=>!a.has(u.id)).filter(u=>this.mirror.has(u.id)),removes:this.removes,adds:t};!c.texts.length&&!c.attributes.length&&!c.removes.length&&!c.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(c))},this.processMutation=t=>{if(!Sh(t.target,this.mirror))switch(t.type){case"characterData":{const a=t.target.textContent;!Pn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&a!==t.oldValue&&this.texts.push({value:Co(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&a?this.maskTextFn?this.maskTextFn(a,vE(t.target)):a.replace(/[\S]/g,"*"):a,node:t.target});break}case"attributes":{const a=t.target;let i=t.attributeName,s=t.target.getAttribute(i);if(i==="value"){const o=Jg(a),c=a.tagName;s=Nd(a,c,o);const u=lf({maskInputOptions:this.maskInputOptions,tagName:c,type:o}),d=Co(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,u);s=Xl({isMasked:d,element:a,value:s,maskInputFn:this.maskInputFn})}if(Pn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let r=this.attributeMap.get(t.target);if(a.tagName==="IFRAME"&&i==="src"&&!this.keepIframeSrcFn(s))if(!a0(a))i="rr_src";else return;if(r||(r={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(r),this.attributeMap.set(t.target,r)),i==="type"&&a.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&a.setAttribute("data-rr-is-password","true"),!pE(a.tagName,i)&&(r.attributes[i]=mE(this.doc,Ao(a.tagName),Ao(i),s,a,this.maskAttributeFn),i==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const c of Array.from(a.style)){const u=a.style.getPropertyValue(c),d=a.style.getPropertyPriority(c);u!==o.style.getPropertyValue(c)||d!==o.style.getPropertyPriority(c)?d===""?r.styleDiff[c]=u:r.styleDiff[c]=[u,d]:r._unchangedStyles[c]=[u,d]}for(const c of Array.from(o.style))a.style.getPropertyValue(c)===""&&(r.styleDiff[c]=!1)}break}case"childList":{if(Pn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(a=>this.genAdds(a,t.target)),t.removedNodes.forEach(a=>{const i=this.mirror.getId(a),s=Tl(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Pn(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Sh(a,this.mirror)||!D5(a,this.mirror)||(this.addedSet.has(a)?(sp(this.addedSet,a),this.droppedSet.add(a)):this.addedSet.has(t.target)&&i===-1||SE(t.target,this.mirror)||(this.movedSet.has(a)&&this.movedMap[Sy(i,s)]?sp(this.movedSet,a):this.removes.push({parentId:s,id:i,isShadow:Tl(t.target)&&jl(t.target)?!0:void 0})),this.mapRemoves.push(a))});break}}},this.genAdds=(t,a)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Sh(t,this.mirror))return;this.movedSet.add(t);let i=null;a&&this.mirror.hasNode(a)&&(i=this.mirror.getId(a)),i&&i!==-1&&(this.movedMap[Sy(this.mirror.getId(t),i)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Pn(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(i=>this.genAdds(i)),ip(t)&&t.shadowRoot.childNodes.forEach(i=>{this.processedNodeManager.add(i,this),this.genAdds(i,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(a=>{this[a]=t[a]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function sp(e,t){var a;e.delete(t),(a=t.childNodes)==null||a.forEach(i=>sp(e,i))}function _y(e,t,a){return e.length===0?!1:H5(e,t,a)}function H5(e,t,a){let i=t.parentNode;for(;i;){const s=a.getId(i);if(e.some(r=>r.id===s))return!0;i=i.parentNode}return!1}function wy(e,t){return e.size===0?!1:kE(e,t)}function kE(e,t){const{parentNode:a}=t;return a?e.has(a)?!0:kE(e,a):!1}let Al;function G5(e){Al=e}function q5(){Al=void 0}const Je=e=>Al?(...a)=>{try{return e(...a)}catch(i){if(Al&&Al(i)===!0)return()=>{};throw i}}:e,Vr=[];function jc(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function TE(e,t){var o,c;const a=new F5;Vr.push(a),a.init(e);let i=window.MutationObserver||window.__rrMutationObserver;const s=(c=(o=window==null?void 0:window.Zone)==null?void 0:o.__symbol__)==null?void 0:c.call(o,"MutationObserver");s&&window[s]&&(i=window[s]);const r=new i(Je(u=>{e.onMutation&&e.onMutation(u)===!1||a.processMutations.bind(a)(u)}));return r.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),r}function Y5({mousemoveCb:e,sampling:t,doc:a,mirror:i}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,r=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],c;const u=Ql(Je(f=>{const m=Date.now()-c;e(o.map(h=>(h.timeOffset-=m,h)),f),o=[],c=null}),r),d=Je(Ql(Je(f=>{const m=jc(f),{clientX:h,clientY:x}=ap(f)?f.changedTouches[0]:f;c||(c=Td()),o.push({x:h,y:x,id:i.getId(m),timeOffset:Td()-c}),u(typeof DragEvent<"u"&&f instanceof DragEvent?Me.Drag:f instanceof MouseEvent?Me.MouseMove:Me.TouchMove)}),s,{trailing:!1})),p=[_n("mousemove",d,a),_n("touchmove",d,a),_n("drag",d,a)];return Je(()=>{p.forEach(f=>f())})}function V5({mouseInteractionCb:e,doc:t,mirror:a,blockClass:i,blockSelector:s,unblockSelector:r,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const c=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,u=[];let d=null;const p=f=>m=>{const h=jc(m);if(Pn(h,i,s,r,!0))return;let x=null,b=f;if("pointerType"in m){switch(m.pointerType){case"mouse":x=ei.Mouse;break;case"touch":x=ei.Touch;break;case"pen":x=ei.Pen;break}x===ei.Touch?bn[f]===bn.MouseDown?b="TouchStart":bn[f]===bn.MouseUp&&(b="TouchEnd"):ei.Pen}else ap(m)&&(x=ei.Touch);x!==null?(d=x,(b.startsWith("Touch")&&x===ei.Touch||b.startsWith("Mouse")&&x===ei.Mouse)&&(x=null)):bn[f]===bn.Click&&(x=d,d=null);const S=ap(m)?m.changedTouches[0]:m;if(!S)return;const g=a.getId(h),{clientX:y,clientY:w}=S;Je(e)({type:bn[b],id:g,x:y,y:w,...x!==null&&{pointerType:x}})};return Object.keys(bn).filter(f=>Number.isNaN(Number(f))&&!f.endsWith("_Departed")&&c[f]!==!1).forEach(f=>{let m=Ao(f);const h=p(f);if(window.PointerEvent)switch(bn[f]){case bn.MouseDown:case bn.MouseUp:m=m.replace("mouse","pointer");break;case bn.TouchStart:case bn.TouchEnd:return}u.push(_n(m,h,t))}),Je(()=>{u.forEach(f=>f())})}function jE({scrollCb:e,doc:t,mirror:a,blockClass:i,blockSelector:s,unblockSelector:r,sampling:o}){const c=Je(Ql(Je(u=>{const d=jc(u);if(!d||Pn(d,i,s,r,!0))return;const p=a.getId(d);if(d===t&&t.defaultView){const f=xE(t.defaultView);e({id:p,x:f.left,y:f.top})}else e({id:p,x:d.scrollLeft,y:d.scrollTop})}),o.scroll||100));return _n("scroll",c,t)}function $5({viewportResizeCb:e},{win:t}){let a=-1,i=-1;const s=Je(Ql(Je(()=>{const r=bE(),o=yE();(a!==r||i!==o)&&(e({width:Number(o),height:Number(r)}),a=r,i=o)}),200));return _n("resize",s,t)}const K5=["INPUT","TEXTAREA","SELECT"],Ey=new WeakMap;function W5({inputCb:e,doc:t,mirror:a,blockClass:i,blockSelector:s,unblockSelector:r,ignoreClass:o,ignoreSelector:c,maskInputOptions:u,maskInputFn:d,sampling:p,userTriggeredOnInput:f,maskTextClass:m,unmaskTextClass:h,maskTextSelector:x,unmaskTextSelector:b}){function S(A){let I=jc(A);const j=A.isTrusted,N=I&&tp(I.tagName);if(N==="OPTION"&&(I=I.parentElement),!I||!N||K5.indexOf(N)<0||Pn(I,i,s,r,!0))return;const z=I;if(z.classList.contains(o)||c&&z.matches(c))return;const T=Jg(I);let C=Nd(z,N,T),v=!1;const D=lf({maskInputOptions:u,tagName:N,type:T}),U=Co(I,m,x,h,b,D);(T==="radio"||T==="checkbox")&&(v=I.checked),C=Xl({isMasked:U,element:I,value:C,maskInputFn:d}),g(I,f?{text:C,isChecked:v,userTriggered:j}:{text:C,isChecked:v});const H=I.name;T==="radio"&&H&&v&&t.querySelectorAll(`input[type="radio"][name="${H}"]`).forEach(P=>{if(P!==I){const X=Xl({isMasked:U,element:P,value:Nd(P,N,T),maskInputFn:d});g(P,f?{text:X,isChecked:!v,userTriggered:!1}:{text:X,isChecked:!v})}})}function g(A,I){const j=Ey.get(A);if(!j||j.text!==I.text||j.isChecked!==I.isChecked){Ey.set(A,I);const N=a.getId(A);Je(e)({...I,id:N})}}const w=(p.input==="last"?["change"]:["input","change"]).map(A=>_n(A,Je(S),t)),E=t.defaultView;if(!E)return()=>{w.forEach(A=>A())};const k=E.Object.getOwnPropertyDescriptor(E.HTMLInputElement.prototype,"value"),M=[[E.HTMLInputElement.prototype,"value"],[E.HTMLInputElement.prototype,"checked"],[E.HTMLSelectElement.prototype,"value"],[E.HTMLTextAreaElement.prototype,"value"],[E.HTMLSelectElement.prototype,"selectedIndex"],[E.HTMLOptionElement.prototype,"selected"]];return k&&k.set&&w.push(...M.map(A=>gE(A[0],A[1],{set(){Je(S)({target:this,isTrusted:!1})}},!1,E))),Je(()=>{w.forEach(A=>A())})}function jd(e){const t=[];function a(i,s){if(lu("CSSGroupingRule")&&i.parentRule instanceof CSSGroupingRule||lu("CSSMediaRule")&&i.parentRule instanceof CSSMediaRule||lu("CSSSupportsRule")&&i.parentRule instanceof CSSSupportsRule||lu("CSSConditionRule")&&i.parentRule instanceof CSSConditionRule){const o=Array.from(i.parentRule.cssRules).indexOf(i);s.unshift(o)}else if(i.parentStyleSheet){const o=Array.from(i.parentStyleSheet.cssRules).indexOf(i);s.unshift(o)}return s}return a(e,t)}function Ii(e,t,a){let i,s;return e?(e.ownerNode?i=t.getId(e.ownerNode):s=a.getId(e),{styleId:s,id:i}):{}}function X5({styleSheetRuleCb:e,mirror:t,stylesheetManager:a},{win:i}){if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};const s=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:Je((p,f,m)=>{const[h,x]=m,{id:b,styleId:S}=Ii(f,t,a.styleMirror);return(b&&b!==-1||S&&S!==-1)&&e({id:b,styleId:S,adds:[{rule:h,index:x}]}),p.apply(f,m)})});const r=i.CSSStyleSheet.prototype.deleteRule;i.CSSStyleSheet.prototype.deleteRule=new Proxy(r,{apply:Je((p,f,m)=>{const[h]=m,{id:x,styleId:b}=Ii(f,t,a.styleMirror);return(x&&x!==-1||b&&b!==-1)&&e({id:x,styleId:b,removes:[{index:h}]}),p.apply(f,m)})});let o;i.CSSStyleSheet.prototype.replace&&(o=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:Je((p,f,m)=>{const[h]=m,{id:x,styleId:b}=Ii(f,t,a.styleMirror);return(x&&x!==-1||b&&b!==-1)&&e({id:x,styleId:b,replace:h}),p.apply(f,m)})}));let c;i.CSSStyleSheet.prototype.replaceSync&&(c=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:Je((p,f,m)=>{const[h]=m,{id:x,styleId:b}=Ii(f,t,a.styleMirror);return(x&&x!==-1||b&&b!==-1)&&e({id:x,styleId:b,replaceSync:h}),p.apply(f,m)})}));const u={};cu("CSSGroupingRule")?u.CSSGroupingRule=i.CSSGroupingRule:(cu("CSSMediaRule")&&(u.CSSMediaRule=i.CSSMediaRule),cu("CSSConditionRule")&&(u.CSSConditionRule=i.CSSConditionRule),cu("CSSSupportsRule")&&(u.CSSSupportsRule=i.CSSSupportsRule));const d={};return Object.entries(u).forEach(([p,f])=>{d[p]={insertRule:f.prototype.insertRule,deleteRule:f.prototype.deleteRule},f.prototype.insertRule=new Proxy(d[p].insertRule,{apply:Je((m,h,x)=>{const[b,S]=x,{id:g,styleId:y}=Ii(h.parentStyleSheet,t,a.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:b,index:[...jd(h),S||0]}]}),m.apply(h,x)})}),f.prototype.deleteRule=new Proxy(d[p].deleteRule,{apply:Je((m,h,x)=>{const[b]=x,{id:S,styleId:g}=Ii(h.parentStyleSheet,t,a.styleMirror);return(S&&S!==-1||g&&g!==-1)&&e({id:S,styleId:g,removes:[{index:[...jd(h),b]}]}),m.apply(h,x)})})}),Je(()=>{i.CSSStyleSheet.prototype.insertRule=s,i.CSSStyleSheet.prototype.deleteRule=r,o&&(i.CSSStyleSheet.prototype.replace=o),c&&(i.CSSStyleSheet.prototype.replaceSync=c),Object.entries(u).forEach(([p,f])=>{f.prototype.insertRule=d[p].insertRule,f.prototype.deleteRule=d[p].deleteRule})})}function AE({mirror:e,stylesheetManager:t},a){var o,c,u;let i=null;a.nodeName==="#document"?i=e.getId(a):i=e.getId(a.host);const s=a.nodeName==="#document"?(o=a.defaultView)==null?void 0:o.Document:(u=(c=a.ownerDocument)==null?void 0:c.defaultView)==null?void 0:u.ShadowRoot,r=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return i===null||i===-1||!s||!r?()=>{}:(Object.defineProperty(a,"adoptedStyleSheets",{configurable:r.configurable,enumerable:r.enumerable,get(){var d;return(d=r.get)==null?void 0:d.call(this)},set(d){var f;const p=(f=r.set)==null?void 0:f.call(this,d);if(i!==null&&i!==-1)try{t.adoptStyleSheets(d,i)}catch{}return p}}),Je(()=>{Object.defineProperty(a,"adoptedStyleSheets",{configurable:r.configurable,enumerable:r.enumerable,get:r.get,set:r.set})}))}function Z5({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:a,stylesheetManager:i},{win:s}){const r=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(r,{apply:Je((c,u,d)=>{var b;const[p,f,m]=d;if(a.has(p))return r.apply(u,[p,f,m]);const{id:h,styleId:x}=Ii((b=u.parentRule)==null?void 0:b.parentStyleSheet,t,i.styleMirror);return(h&&h!==-1||x&&x!==-1)&&e({id:h,styleId:x,set:{property:p,value:f,priority:m},index:jd(u.parentRule)}),c.apply(u,d)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:Je((c,u,d)=>{var h;const[p]=d;if(a.has(p))return o.apply(u,[p]);const{id:f,styleId:m}=Ii((h=u.parentRule)==null?void 0:h.parentStyleSheet,t,i.styleMirror);return(f&&f!==-1||m&&m!==-1)&&e({id:f,styleId:m,remove:{property:p},index:jd(u.parentRule)}),c.apply(u,d)})}),Je(()=>{s.CSSStyleDeclaration.prototype.setProperty=r,s.CSSStyleDeclaration.prototype.removeProperty=o})}function Q5({mediaInteractionCb:e,blockClass:t,blockSelector:a,unblockSelector:i,mirror:s,sampling:r,doc:o}){const c=Je(d=>Ql(Je(p=>{const f=jc(p);if(!f||Pn(f,t,a,i,!0))return;const{currentTime:m,volume:h,muted:x,playbackRate:b}=f;e({type:d,id:s.getId(f),currentTime:m,volume:h,muted:x,playbackRate:b})}),r.media||500)),u=[_n("play",c(Ar.Play),o),_n("pause",c(Ar.Pause),o),_n("seeked",c(Ar.Seeked),o),_n("volumechange",c(Ar.VolumeChange),o),_n("ratechange",c(Ar.RateChange),o)];return Je(()=>{u.forEach(d=>d())})}function J5({fontCb:e,doc:t}){const a=t.defaultView;if(!a)return()=>{};const i=[],s=new WeakMap,r=a.FontFace;a.FontFace=function(u,d,p){const f=new r(u,d,p);return s.set(f,{family:u,buffer:typeof d!="string",descriptors:p,fontSource:typeof d=="string"?d:JSON.stringify(Array.from(new Uint8Array(d)))}),f};const o=t0(t.fonts,"add",function(c){return function(u){return uf(Je(()=>{const d=s.get(u);d&&(e(d),s.delete(u))}),0),c.apply(this,[u])}});return i.push(()=>{a.FontFace=r}),i.push(o),Je(()=>{i.forEach(c=>c())})}function e3(e){const{doc:t,mirror:a,blockClass:i,blockSelector:s,unblockSelector:r,selectionCb:o}=e;let c=!0;const u=Je(()=>{const d=t.getSelection();if(!d||c&&(d!=null&&d.isCollapsed))return;c=d.isCollapsed||!1;const p=[],f=d.rangeCount||0;for(let m=0;m<f;m++){const h=d.getRangeAt(m),{startContainer:x,startOffset:b,endContainer:S,endOffset:g}=h;Pn(x,i,s,r,!0)||Pn(S,i,s,r,!0)||p.push({start:a.getId(x),startOffset:b,end:a.getId(S),endOffset:g})}o({ranges:p})});return u(),_n("selectionchange",u)}function t3({doc:e,customElementCb:t}){const a=e.defaultView;return!a||!a.customElements?()=>{}:t0(a.customElements,"define",function(s){return function(r,o,c){try{t({define:{name:r}})}catch{}return s.apply(this,[r,o,c])}})}function n3(e,t={}){const a=e.doc.defaultView;if(!a)return()=>{};let i;e.recordDOM&&(i=TE(e,e.doc));const s=Y5(e),r=V5(e),o=jE(e),c=$5(e,{win:a}),u=W5(e),d=Q5(e);let p=()=>{},f=()=>{},m=()=>{},h=()=>{};e.recordDOM&&(p=X5(e,{win:a}),f=AE(e,e.doc),m=Z5(e,{win:a}),e.collectFonts&&(h=J5(e)));const x=e3(e),b=t3(e),S=[];for(const g of e.plugins)S.push(g.observer(g.callback,a,g.options));return Je(()=>{Vr.forEach(g=>g.reset()),i==null||i.disconnect(),s(),r(),o(),c(),u(),d(),p(),f(),m(),h(),x(),b(),S.forEach(g=>g())})}function lu(e){return typeof window[e]<"u"}function cu(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class rp{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,a,i,s){const r=i||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let c=r.get(a);return c||(c=this.generateIdFn(),r.set(a,c),o.set(c,a)),c}getIds(t,a){const i=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return a.map(r=>this.getId(t,r,i,s))}getRemoteId(t,a,i){const s=i||this.getRemoteIdToIdMap(t);if(typeof a!="number")return a;const r=s.get(a);return r||-1}getRemoteIds(t,a){const i=this.getRemoteIdToIdMap(t);return a.map(s=>this.getRemoteId(t,s,i))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let a=this.iframeIdToRemoteIdMap.get(t);return a||(a=new Map,this.iframeIdToRemoteIdMap.set(t,a)),a}getRemoteIdToIdMap(t){let a=this.iframeRemoteIdToIdMap.get(t);return a||(a=new Map,this.iframeRemoteIdToIdMap.set(t,a)),a}}class a3{constructor(){this.crossOriginIframeMirror=new rp(e0),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class i3{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new rp(e0),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new rp(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,a){var s,r;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:a}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(r=this.loadListener)==null||r.call(this,t);const i=a0(t);i&&i.adoptedStyleSheets&&i.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(i.adoptedStyleSheets,this.mirror.getId(i))}handleMessage(t){const a=t;if(a.data.type!=="rrweb"||a.origin!==a.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const r=this.transformCrossOriginEvent(s,a.data.event);r&&this.wrappedEmit(r,a.data.isCheckout)}transformCrossOriginEvent(t,a){var i;switch(a.type){case Pe.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(a.data.node,t);const s=a.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(a.data.node,s),{timestamp:a.timestamp,type:Pe.IncrementalSnapshot,data:{source:Me.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:a.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Pe.Meta:case Pe.Load:case Pe.DomContentLoaded:return!1;case Pe.Plugin:return a;case Pe.Custom:return this.replaceIds(a.data.payload,t,["id","parentId","previousId","nextId"]),a;case Pe.IncrementalSnapshot:switch(a.data.source){case Me.Mutation:return a.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const r=this.crossOriginIframeRootIdMap.get(t);r&&this.patchRootIdOnNode(s.node,r)}),a.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),a.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),a.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),a;case Me.Drag:case Me.TouchMove:case Me.MouseMove:return a.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),a;case Me.ViewportResize:return!1;case Me.MediaInteraction:case Me.MouseInteraction:case Me.Scroll:case Me.CanvasMutation:case Me.Input:return this.replaceIds(a.data,t,["id"]),a;case Me.StyleSheetRule:case Me.StyleDeclaration:return this.replaceIds(a.data,t,["id"]),this.replaceStyleIds(a.data,t,["styleId"]),a;case Me.Font:return a;case Me.Selection:return a.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),a;case Me.AdoptedStyleSheet:return this.replaceIds(a.data,t,["id"]),this.replaceStyleIds(a.data,t,["styleIds"]),(i=a.data.styles)==null||i.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),a}}return!1}replace(t,a,i,s){for(const r of s)!Array.isArray(a[r])&&typeof a[r]!="number"||(Array.isArray(a[r])?a[r]=t.getIds(i,a[r]):a[r]=t.getId(i,a[r]));return a}replaceIds(t,a,i){return this.replace(this.crossOriginIframeMirror,t,a,i)}replaceStyleIds(t,a,i){return this.replace(this.crossOriginIframeStyleMirror,t,a,i)}replaceIdOnNode(t,a){this.replaceIds(t,a,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(i=>{this.replaceIdOnNode(i,a)})}patchRootIdOnNode(t,a){t.type!==Pt.Document&&!t.rootId&&(t.rootId=a),"childNodes"in t&&t.childNodes.forEach(i=>{this.patchRootIdOnNode(i,a)})}}class s3{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class r3{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,a){if(!jl(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const i=TE({...this.bypassOptions,doc:a,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>i.disconnect()),this.restoreHandlers.push(jE({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),uf(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(AE({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const a=a0(t),i=B5(t);!a||!i||this.patchAttachShadow(i.Element,a)}patchAttachShadow(t,a){const i=this;this.restoreHandlers.push(t0(t.prototype,"attachShadow",function(s){return function(r){const o=s.call(this,r);return this.shadowRoot&&NE(this)&&i.addShadowRoot(this.shadowRoot,a),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var Ny="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var uu=0;uu<Ny.length;uu++)o3[Ny.charCodeAt(uu)]=uu;class ky{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class l3{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new O5,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,a){"_cssText"in a.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:a.id,attributes:a.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,a){if(t.length===0)return;const i={id:a,styleIds:[]},s=[];for(const r of t){let o;this.styleMirror.has(r)?o=this.styleMirror.getId(r):(o=this.styleMirror.add(r),s.push({styleId:o,rules:Array.from(r.rules||CSSRule,(c,u)=>({rule:lE(c),index:u}))})),i.styleIds.push(o)}s.length>0&&(i.styles=s),this.adoptedStyleSheetCb(i)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class c3{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,a){const i=this.nodeMap.get(t);return i&&Array.from(i).some(s=>s!==a)}add(t,a){this.active||(this.active=!0,L5(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(a))}destroy(){}}let Rt,Ad;var rv;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((rv=e.contentWindow)==null?void 0:rv.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const ga=o5();function mi(e={}){const{emit:t,checkoutEveryNms:a,checkoutEveryNth:i,blockClass:s="rr-block",blockSelector:r=null,unblockSelector:o=null,ignoreClass:c="rr-ignore",ignoreSelector:u=null,maskAllText:d=!1,maskTextClass:p="rr-mask",unmaskTextClass:f=null,maskTextSelector:m=null,unmaskTextSelector:h=null,inlineStylesheet:x=!0,maskAllInputs:b,maskInputOptions:S,slimDOMOptions:g,maskAttributeFn:y,maskInputFn:w,maskTextFn:E,maxCanvasSize:k=null,packFn:M,sampling:A={},dataURLOptions:I={},mousemoveWait:j,recordDOM:N=!0,recordCanvas:z=!1,recordCrossOriginIframes:T=!1,recordAfter:C=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:v=!1,collectFonts:D=!1,inlineImages:U=!1,plugins:H,keepIframeSrcFn:P=()=>!1,ignoreCSSAttributes:X=new Set([]),errorHandler:$,onMutation:L,getCanvasManager:F}=e;G5($);const ue=T?window.parent===window:!0;let le=!1;if(!ue)try{window.parent.document&&(le=!1)}catch{le=!0}if(ue&&!t)throw new Error("emit function is required");if(!ue&&!le)return()=>{};j!==void 0&&A.mousemove===void 0&&(A.mousemove=j),ga.reset();const oe=b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},Ue=g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:g==="all",headMetaDescKeywords:g==="all"}:g||{};M5();let Fe,Ee=0;const ke=Q=>{for(const ee of H||[])ee.eventProcessor&&(Q=ee.eventProcessor(Q));return M&&!le&&(Q=M(Q)),Q};Rt=(Q,ee)=>{var W;const B=Q;if(B.timestamp=Td(),(W=Vr[0])!=null&&W.isFrozen()&&B.type!==Pe.FullSnapshot&&!(B.type===Pe.IncrementalSnapshot&&B.data.source===Me.Mutation)&&Vr.forEach(te=>te.unfreeze()),ue)t==null||t(ke(B),ee);else if(le){const te={type:"rrweb",event:ke(B),origin:window.location.origin,isCheckout:ee};window.parent.postMessage(te,"*")}if(B.type===Pe.FullSnapshot)Fe=B,Ee=0;else if(B.type===Pe.IncrementalSnapshot){if(B.data.source===Me.Mutation&&B.data.isAttachIframe)return;Ee++;const te=i&&Ee>=i,Z=a&&Fe&&B.timestamp-Fe.timestamp>a;(te||Z)&&Y(!0)}};const Ie=Q=>{Rt({type:Pe.IncrementalSnapshot,data:{source:Me.Mutation,...Q}})},Be=Q=>Rt({type:Pe.IncrementalSnapshot,data:{source:Me.Scroll,...Q}}),jt=Q=>Rt({type:Pe.IncrementalSnapshot,data:{source:Me.CanvasMutation,...Q}}),Et=Q=>Rt({type:Pe.IncrementalSnapshot,data:{source:Me.AdoptedStyleSheet,...Q}}),_=new l3({mutationCb:Ie,adoptedStyleSheetCb:Et}),J=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new a3:new i3({mirror:ga,mutationCb:Ie,stylesheetManager:_,recordCrossOriginIframes:T,wrappedEmit:Rt});for(const Q of H||[])Q.getMirror&&Q.getMirror({nodeMirror:ga,crossOriginIframeMirror:J.crossOriginIframeMirror,crossOriginIframeStyleMirror:J.crossOriginIframeStyleMirror});const K=new c3,O=d3(F,{mirror:ga,win:window,mutationCb:Q=>Rt({type:Pe.IncrementalSnapshot,data:{source:Me.CanvasMutation,...Q}}),recordCanvas:z,blockClass:s,blockSelector:r,unblockSelector:o,maxCanvasSize:k,sampling:A.canvas,dataURLOptions:I,errorHandler:$}),R=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new s3:new r3({mutationCb:Ie,scrollCb:Be,bypassOptions:{onMutation:L,blockClass:s,blockSelector:r,unblockSelector:o,maskAllText:d,maskTextClass:p,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:h,inlineStylesheet:x,maskInputOptions:oe,dataURLOptions:I,maskAttributeFn:y,maskTextFn:E,maskInputFn:w,recordCanvas:z,inlineImages:U,sampling:A,slimDOMOptions:Ue,iframeManager:J,stylesheetManager:_,canvasManager:O,keepIframeSrcFn:P,processedNodeManager:K,ignoreCSSAttributes:X},mirror:ga}),Y=(Q=!1)=>{if(!N)return;Rt({type:Pe.Meta,data:{href:window.location.href,width:yE(),height:bE()}},Q),_.reset(),R.init(),Vr.forEach(B=>B.lock());const ee=R5(document,{mirror:ga,blockClass:s,blockSelector:r,unblockSelector:o,maskAllText:d,maskTextClass:p,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:h,inlineStylesheet:x,maskAllInputs:oe,maskAttributeFn:y,maskInputFn:w,maskTextFn:E,slimDOM:Ue,dataURLOptions:I,recordCanvas:z,inlineImages:U,onSerialize:B=>{_E(B,ga)&&J.addIframe(B),wE(B,ga)&&_.trackLinkElement(B),ip(B)&&R.addShadowRoot(B.shadowRoot,document)},onIframeLoad:(B,W)=>{J.attachIframe(B,W),B.contentWindow&&O.addWindow(B.contentWindow),R.observeAttachShadow(B)},onStylesheetLoad:(B,W)=>{_.attachLinkElement(B,W)},onBlockedImageLoad:(B,W,{width:te,height:Z})=>{Ie({adds:[],removes:[],texts:[],attributes:[{id:W.id,attributes:{style:{width:`${te}px`,height:`${Z}px`}}}]})},keepIframeSrcFn:P,ignoreCSSAttributes:X});if(!ee)return console.warn("Failed to snapshot the document");Rt({type:Pe.FullSnapshot,data:{node:ee,initialOffset:xE(window)}}),Vr.forEach(B=>B.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&_.adoptStyleSheets(document.adoptedStyleSheets,ga.getId(document))};Ad=Y;try{const Q=[],ee=W=>{var te;return Je(n3)({onMutation:L,mutationCb:Ie,mousemoveCb:(Z,he)=>Rt({type:Pe.IncrementalSnapshot,data:{source:he,positions:Z}}),mouseInteractionCb:Z=>Rt({type:Pe.IncrementalSnapshot,data:{source:Me.MouseInteraction,...Z}}),scrollCb:Be,viewportResizeCb:Z=>Rt({type:Pe.IncrementalSnapshot,data:{source:Me.ViewportResize,...Z}}),inputCb:Z=>Rt({type:Pe.IncrementalSnapshot,data:{source:Me.Input,...Z}}),mediaInteractionCb:Z=>Rt({type:Pe.IncrementalSnapshot,data:{source:Me.MediaInteraction,...Z}}),styleSheetRuleCb:Z=>Rt({type:Pe.IncrementalSnapshot,data:{source:Me.StyleSheetRule,...Z}}),styleDeclarationCb:Z=>Rt({type:Pe.IncrementalSnapshot,data:{source:Me.StyleDeclaration,...Z}}),canvasMutationCb:jt,fontCb:Z=>Rt({type:Pe.IncrementalSnapshot,data:{source:Me.Font,...Z}}),selectionCb:Z=>{Rt({type:Pe.IncrementalSnapshot,data:{source:Me.Selection,...Z}})},customElementCb:Z=>{Rt({type:Pe.IncrementalSnapshot,data:{source:Me.CustomElement,...Z}})},blockClass:s,ignoreClass:c,ignoreSelector:u,maskAllText:d,maskTextClass:p,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:h,maskInputOptions:oe,inlineStylesheet:x,sampling:A,recordDOM:N,recordCanvas:z,inlineImages:U,userTriggeredOnInput:v,collectFonts:D,doc:W,maskAttributeFn:y,maskInputFn:w,maskTextFn:E,keepIframeSrcFn:P,blockSelector:r,unblockSelector:o,slimDOMOptions:Ue,dataURLOptions:I,mirror:ga,iframeManager:J,stylesheetManager:_,shadowDomManager:R,processedNodeManager:K,canvasManager:O,ignoreCSSAttributes:X,plugins:((te=H==null?void 0:H.filter(Z=>Z.observer))==null?void 0:te.map(Z=>({observer:Z.observer,options:Z.options,callback:he=>Rt({type:Pe.Plugin,data:{plugin:Z.name,payload:he}})})))||[]},{})};J.addLoadListener(W=>{try{Q.push(ee(W.contentDocument))}catch(te){console.warn(te)}});const B=()=>{Y(),Q.push(ee(document))};return document.readyState==="interactive"||document.readyState==="complete"?B():(Q.push(_n("DOMContentLoaded",()=>{Rt({type:Pe.DomContentLoaded,data:{}}),C==="DOMContentLoaded"&&B()})),Q.push(_n("load",()=>{Rt({type:Pe.Load,data:{}}),C==="load"&&B()},window))),()=>{Q.forEach(W=>W()),K.destroy(),Ad=void 0,q5()}}catch(Q){console.warn(Q)}}function u3(e){if(!Ad)throw new Error("please take full snapshot after start recording");Ad(e)}mi.mirror=ga;mi.takeFullSnapshot=u3;function d3(e,t){try{return e?e(t):new ky}catch{return console.warn("Unable to initialize CanvasManager"),new ky}}var Ty;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Ty||(Ty={}));const f3=3,h3=5;function i0(e){return e>9999999999?e:e*1e3}function _h(e){return e>9999999999?e/1e3:e}function Ac(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Pe.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Sa(t,10,1e3)}}),t.category==="console")))}const m3="button,a";function CE(e){return e.closest(m3)||e}function RE(e){const t=DE(e);return!t||!(t instanceof Element)?t:CE(t)}function DE(e){return p3(e)?e.target:e}function p3(e){return typeof e=="object"&&!!e&&"target"in e}let zi;function g3(e){return zi||(zi=[],x3()),zi.push(e),()=>{const t=zi?zi.indexOf(e):-1;t>-1&&zi.splice(t,1)}}function x3(){Dn(xt,"open",function(e){return function(...t){if(zi)try{zi.forEach(a=>a())}catch{}return e.apply(xt,t)}})}const b3=new Set([Me.Mutation,Me.StyleSheetRule,Me.StyleDeclaration,Me.AdoptedStyleSheet,Me.CanvasMutation,Me.Selection,Me.MediaInteraction]);function y3(e,t,a){e.handleClick(t,a)}class v3{constructor(t,a,i=Ac){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=a.timeout/1e3,this._threshold=a.threshold/1e3,this._scrollTimeout=a.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=a.ignoreSelector,this._addBreadcrumbEvent=i}addListeners(){const t=g3(()=>{this._lastMutation=jy()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,a){if(_3(a,this._ignoreSelector)||!w3(t))return;const i={timestamp:_h(t.timestamp),clickBreadcrumb:t,clickCount:0,node:a};this._clicks.some(s=>s.node===i.node&&Math.abs(s.timestamp-i.timestamp)<1)||(this._clicks.push(i),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=_h(t)}registerScroll(t=Date.now()){this._lastScroll=_h(t)}registerClick(t){const a=CE(t);this._handleMultiClick(a)}_handleMultiClick(t){this._getClicks(t).forEach(a=>{a.clickCount++})}_getClicks(t){return this._clicks.filter(a=>a.node===t)}_checkClicks(){const t=[],a=jy();this._clicks.forEach(i=>{!i.mutationAfter&&this._lastMutation&&(i.mutationAfter=i.timestamp<=this._lastMutation?this._lastMutation-i.timestamp:void 0),!i.scrollAfter&&this._lastScroll&&(i.scrollAfter=i.timestamp<=this._lastScroll?this._lastScroll-i.timestamp:void 0),i.timestamp+this._timeout<=a&&t.push(i)});for(const i of t){const s=this._clicks.indexOf(i);s>-1&&(this._generateBreadcrumbs(i),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const a=this._replay,i=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,r=!i&&!s,{clickCount:o,clickBreadcrumb:c}=t;if(r){const u=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,d=u<this._timeout*1e3?"mutation":"timeout",p={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.slowClickDetected",data:{...c.data,url:xt.location.href,route:a.getCurrentRoute(),timeAfterClickMs:u,endReason:d,clickCount:o||1}};this._addBreadcrumbEvent(a,p);return}if(o>1){const u={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.multiClick",data:{...c.data,url:xt.location.href,route:a.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(a,u)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Tc(()=>this._checkClicks(),1e3)}}const S3=["A","BUTTON","INPUT"];function _3(e,t){return!!(!S3.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function w3(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function jy(){return Date.now()/1e3}function E3(e,t){try{if(!N3(t))return;const{source:a}=t.data;if(b3.has(a)&&e.registerMutation(t.timestamp),a===Me.Scroll&&e.registerScroll(t.timestamp),k3(t)){const{type:i,id:s}=t.data,r=mi.mirror.getNode(s);r instanceof HTMLElement&&i===bn.Click&&e.registerClick(r)}}catch{}}function N3(e){return e.type===f3}function k3(e){return e.data.source===Me.MouseInteraction}function La(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var s0=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(s0||{});const T3=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function j3(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const a in e)if(T3.has(a)){let i=a;(a==="data-testid"||a==="data-test-id")&&(i="testId"),t[i]=e[a]}return t}const A3=e=>t=>{if(!e.isEnabled())return;const a=C3(t);if(!a)return;const i=t.name==="click",s=i?t.event:void 0;i&&e.clickDetector&&(s!=null&&s.target)&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&y3(e.clickDetector,a,RE(t.event)),Ac(e,a)};function ME(e,t){const a=mi.mirror.getId(e),i=a&&mi.mirror.getNode(a),s=i&&mi.mirror.getMeta(i),r=s&&D3(s)?s:null;return{message:t,data:r?{nodeId:a,node:{id:a,tagName:r.tagName,textContent:Array.from(r.childNodes).map(o=>o.type===s0.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:j3(r.attributes)}}:{}}}function C3(e){const{target:t,message:a}=R3(e);return La({category:`ui.${e.name}`,...ME(t,a)})}function R3(e){const t=e.name==="click";let a,i=null;try{i=t?RE(e.event):DE(e.event),a=In(i,{maxStringLength:200})||"<unknown>"}catch{a="<unknown>"}return{target:i,message:a}}function D3(e){return e.type===s0.Element}function M3(e,t){if(!e.isEnabled())return;e.updateUserActivity();const a=O3(t);a&&Ac(e,a)}function O3(e){const{metaKey:t,shiftKey:a,ctrlKey:i,altKey:s,key:r,target:o}=e;if(!o||I3(o)||!r)return null;const c=t||i||s,u=r.length===1;if(!c&&u)return null;const d=In(o,{maxStringLength:200})||"<unknown>",p=ME(o,d);return La({category:"ui.keyDown",message:d,data:{...p.data,metaKey:t,shiftKey:a,ctrlKey:i,altKey:s,key:r}})}function I3(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const z3={resource:F3,paint:B3,navigation:P3};function wh(e,t){return({metric:a})=>void t.replayPerformanceEntries.push(e(a))}function L3(e){return e.map(U3).filter(Boolean)}function U3(e){const t=z3[e.entryType];return t?t(e):null}function Ro(e){return((Ln()||xt.performance.timeOrigin)+e)/1e3}function B3(e){const{duration:t,entryType:a,name:i,startTime:s}=e,r=Ro(s);return{type:a,name:i,start:r,end:r+t,data:void 0}}function P3(e){const{entryType:t,name:a,decodedBodySize:i,duration:s,domComplete:r,encodedBodySize:o,domContentLoadedEventStart:c,domContentLoadedEventEnd:u,domInteractive:d,loadEventStart:p,loadEventEnd:f,redirectCount:m,startTime:h,transferSize:x,type:b}=e;return s===0?null:{type:`${t}.${b}`,start:Ro(h),end:Ro(r),name:a,data:{size:x,decodedBodySize:i,encodedBodySize:o,duration:s,domInteractive:d,domContentLoadedEventStart:c,domContentLoadedEventEnd:u,loadEventStart:p,loadEventEnd:f,domComplete:r,redirectCount:m}}}function F3(e){const{entryType:t,initiatorType:a,name:i,responseEnd:s,startTime:r,decodedBodySize:o,encodedBodySize:c,responseStatus:u,transferSize:d}=e;return["fetch","xmlhttprequest"].includes(a)?null:{type:`${t}.${a}`,start:Ro(r),end:Ro(s),name:i,data:{size:d,statusCode:u,decodedBodySize:o,encodedBodySize:c}}}function H3(e){const t=e.entries[e.entries.length-1],a=t!=null&&t.element?[t.element]:void 0;return r0(e,"largest-contentful-paint",a)}function G3(e){return e.sources!==void 0}function q3(e){const t=[],a=[];for(const i of e.entries)if(G3(i)){const s=[];for(const r of i.sources)if(r.node){a.push(r.node);const o=mi.mirror.getId(r.node);o&&s.push(o)}t.push({value:i.value,nodeIds:s.length?s:void 0})}return r0(e,"cumulative-layout-shift",a,t)}function Y3(e){const t=e.entries[e.entries.length-1],a=t!=null&&t.target?[t.target]:void 0;return r0(e,"interaction-to-next-paint",a)}function r0(e,t,a,i){const s=e.value,r=e.rating,o=Ro(s);return{type:"web-vital",name:t,start:o,end:o,data:{value:s,size:s,rating:r,nodeIds:a?a.map(c=>mi.mirror.getId(c)):void 0,attributions:i}}}function V3(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function a({entries:s}){s.forEach(t)}const i=[];return["navigation","paint","resource"].forEach(s=>{i.push(or(s,a))}),i.push(Kg(wh(H3,e)),$g(wh(q3,e)),$1(wh(Y3,e))),()=>{i.forEach(s=>s())}}const Ae=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$3='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function K3(){const e=new Blob([$3]);return URL.createObjectURL(e)}const Ay=["log","warn","error"],Bu="[Replay] ";function Eh(e,t="info"){gs({category:"console",data:{logger:"replay"},level:t,message:`${Bu}${e}`},{level:t})}function W3(){let e=!1,t=!1;const a={exception:()=>{},infoTick:()=>{},setConfig:i=>{e=!!i.captureExceptions,t=!!i.traceInternals}};return Ae?(Ay.forEach(i=>{a[i]=(...s)=>{pe[i](Bu,...s),t&&Eh(s.join(""),A1(i))}}),a.exception=(i,...s)=>{s.length&&a.error&&a.error(...s),pe.error(Bu,i),e?Ig(i,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&Eh(i,"error")},a.infoTick=(...i)=>{pe.log(Bu,...i),t&&setTimeout(()=>Eh(i[0]),0)}):Ay.forEach(i=>{a[i]=()=>{}}),a}const Ce=W3();class o0 extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Qg}.`)}}class OE{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const a=JSON.stringify(t).length;if(this._totalSize+=a,this._totalSize>Qg)throw new o0;this.events.push(t)}finish(){return new Promise(t=>{const a=this.events;this.clear(),t(JSON.stringify(a))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(a=>a.timestamp).sort()[0];return t?i0(t):null}}class X3{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,a)=>{this._worker.addEventListener("message",({data:i})=>{i.success?t():a()},{once:!0}),this._worker.addEventListener("error",i=>{a(i)},{once:!0})}),this._ensureReadyPromise)}destroy(){Ae&&Ce.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,a){const i=this._getAndIncrementId();return new Promise((s,r)=>{const o=({data:c})=>{const u=c;if(u.method===t&&u.id===i){if(this._worker.removeEventListener("message",o),!u.success){Ae&&Ce.error("Error in compression worker: ",u.response),r(new Error("Error in compression worker"));return}s(u.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:i,method:t,arg:a})})}_getAndIncrementId(){return this._id++}}class Z3{constructor(t){this._worker=new X3(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const a=i0(t.timestamp);(!this._earliestTimestamp||a<this._earliestTimestamp)&&(this._earliestTimestamp=a);const i=JSON.stringify(t);return this._totalSize+=i.length,this._totalSize>Qg?Promise.reject(new o0):this._sendEventToWorker(i)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{Ae&&Ce.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Q3{constructor(t){this._fallback=new OE,this._compression=new Z3(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){Ae&&Ce.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:a,waitForCheckout:i}=this._fallback,s=[];for(const r of t)s.push(this._compression.addEvent(r));this._compression.hasCheckout=a,this._compression.waitForCheckout=i,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(r){Ae&&Ce.exception(r,"Failed to add events when switching buffers.")}}}function J3({useCompression:e,workerUrl:t}){if(e&&window.Worker){const a=eO(t);if(a)return a}return Ae&&Ce.log("Using simple buffer"),new OE}function eO(e){try{const t=e||tO();if(!t)return;Ae&&Ce.log(`Using compression worker${e?` from ${e}`:""}`);const a=new Worker(t);return new Q3(a)}catch(t){Ae&&Ce.exception(t,"Failed to create compression worker")}}function tO(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?K3():""}function l0(){try{return"sessionStorage"in xt&&!!xt.sessionStorage}catch{return!1}}function nO(e){aO(),e.session=void 0}function aO(){if(l0())try{xt.sessionStorage.removeItem(Xg)}catch{}}function IE(e){return e===void 0?!1:Math.random()<e}function df(e){if(l0())try{xt.sessionStorage.setItem(Xg,JSON.stringify(e))}catch{}}function zE(e){const t=Date.now(),a=e.id||Wn(),i=e.started||t,s=e.lastActivity||t,r=e.segmentId||0,o=e.sampled,c=e.previousSessionId,u=e.dirty||!1;return{id:a,started:i,lastActivity:s,segmentId:r,sampled:o,previousSessionId:c,dirty:u}}function iO(e,t){return IE(e)?"session":t?"buffer":!1}function Cy({sessionSampleRate:e,allowBuffering:t,stickySession:a=!1},{previousSessionId:i}={}){const s=iO(e,t),r=zE({sampled:s,previousSessionId:i});return a&&df(r),r}function sO(){if(!l0())return null;try{const e=xt.sessionStorage.getItem(Xg);if(!e)return null;const t=JSON.parse(e);return Ae&&Ce.infoTick("Loading existing session"),zE(t)}catch{return null}}function op(e,t,a=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=a}function LE(e,{maxReplayDuration:t,sessionIdleExpire:a,targetTime:i=Date.now()}){return op(e.started,t,i)||op(e.lastActivity,a,i)}function UE(e,{sessionIdleExpire:t,maxReplayDuration:a}){return!(!LE(e,{sessionIdleExpire:t,maxReplayDuration:a})||e.sampled==="buffer"&&e.segmentId===0)}function Nh({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:a},i){const s=i.stickySession&&sO();return s?UE(s,{sessionIdleExpire:e,maxReplayDuration:t})?(Ae&&Ce.infoTick("Session in sessionStorage is expired, creating new one..."),Cy(i,{previousSessionId:s.id})):s:(Ae&&Ce.infoTick("Creating new session"),Cy(i,{previousSessionId:a}))}function rO(e){return e.type===Pe.Custom}function c0(e,t,a){return PE(e,t)?(BE(e,t,a),!0):!1}function oO(e,t,a){return PE(e,t)?BE(e,t,a):Promise.resolve(null)}async function BE(e,t,a){const{eventBuffer:i}=e;if(!i||i.waitForCheckout&&!a)return null;const s=e.recordingMode==="buffer";try{a&&s&&i.clear(),a&&(i.hasCheckout=!0,i.waitForCheckout=!1);const r=e.getOptions(),o=lO(t,r.beforeAddRecordingEvent);return o?await i.addEvent(o):void 0}catch(r){const o=r&&r instanceof o0,c=o?"addEventSizeExceeded":"addEvent",u=Ze();if(u){const d=o?"buffer_overflow":"internal_sdk_error";u.recordDroppedEvent(d,"replay")}if(o&&s)return i.clear(),i.waitForCheckout=!0,null;e.handleException(r),await e.stop({reason:c})}}function PE(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const a=i0(t.timestamp);return a+e.timeouts.sessionIdlePause<Date.now()?!1:a>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(Ae&&Ce.infoTick(`Skipping event with timestamp ${a} because it is after maxReplayDuration`),!1):!0}function lO(e,t){try{if(typeof t=="function"&&rO(e))return t(e)}catch(a){return Ae&&Ce.exception(a,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function u0(e){return!e.type}function lp(e){return e.type==="transaction"}function cO(e){return e.type==="replay_event"}function Ry(e){return e.type==="feedback"}function uO(e){return(t,a)=>{if(!e.isEnabled()||!u0(t)&&!lp(t))return;const i=a.statusCode;if(!(!i||i<200||i>=300)){if(lp(t)){dO(e,t);return}fO(e,t)}}}function dO(e,t){var i,s;const a=e.getContext();(s=(i=t.contexts)==null?void 0:i.trace)!=null&&s.trace_id&&a.traceIds.size<100&&a.traceIds.add(t.contexts.trace.trace_id)}function fO(e,t){const a=e.getContext();if(t.event_id&&a.errorIds.size<100&&a.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:i}=e.getOptions();typeof i=="function"&&!i(t)||Tc(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function hO(e){return t=>{!e.isEnabled()||!u0(t)||mO(e,t)}}function mO(e,t){var i,s,r;const a=(r=(s=(i=t.exception)==null?void 0:i.values)==null?void 0:s[0])==null?void 0:r.value;if(typeof a=="string"&&(a.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||a.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const o=La({category:"replay.hydrate-error",data:{url:Ho()}});Ac(e,o)}}function pO(e){const t=Ze();t&&t.on("beforeAddBreadcrumb",a=>gO(e,a))}function gO(e,t){if(!e.isEnabled()||!FE(t))return;const a=xO(t);a&&Ac(e,a)}function xO(e){return!FE(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?bO(e):La(e)}function bO(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return La(e);let a=!1;const i=t.map(r=>{if(!r)return r;if(typeof r=="string")return r.length>ou?(a=!0,`${r.slice(0,ou)}`):r;if(typeof r=="object")try{const o=Sa(r,7);return JSON.stringify(o).length>ou?(a=!0,`${JSON.stringify(o,null,2).slice(0,ou)}`):o}catch{}return r});return La({...e,data:{...e.data,arguments:i,...a?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function FE(e){return!!e.category}function yO(e,t){var a,i,s;return e.type||!((i=(a=e.exception)==null?void 0:a.values)!=null&&i.length)?!1:!!((s=t.originalException)!=null&&s.__rrweb__)}function HE(){const e=ut().getPropagationContext().dsc;e&&delete e.replay_id;const t=wn();if(t){const a=Ei(t);delete a.replay_id}}function vO(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Pe.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function SO(e,t){return e.recordingMode!=="buffer"||t.message===Zg||!t.exception||t.type?!1:IE(e.getOptions().errorSampleRate)}function _O(e){return Object.assign((t,a)=>{var o;if(!e.isEnabled()||e.isPaused())return t;if(cO(t))return delete t.breadcrumbs,t;if(!u0(t)&&!lp(t)&&!Ry(t))return t;if(!e.checkAndHandleExpiredSession())return HE(),t;if(Ry(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),vO(e,t),t;if(yO(t,a)&&!e.getOptions()._experiments.captureExceptions)return Ae&&Ce.log("Ignoring error from rrweb internals",t),null;const s=SO(e,t);if((s||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),s&&e.recordingMode==="buffer"&&((o=e.session)==null?void 0:o.sampled)==="buffer"){const c=e.session;c.dirty=!0,e.getOptions().stickySession&&df(c)}return t},{id:"Replay"})}function ff(e,t){return t.map(({type:a,start:i,end:s,name:r,data:o})=>{const c=e.throttledAddEvent({type:Pe.Custom,timestamp:i,data:{tag:"performanceSpan",payload:{op:a,description:r,startTimestamp:i,endTimestamp:s,data:o}}});return typeof c=="string"?Promise.resolve(null):c})}function wO(e){const{from:t,to:a}=e,i=Date.now()/1e3;return{type:"navigation.push",start:i,end:i,name:a,data:{previous:t}}}function EO(e){return t=>{if(!e.isEnabled())return;const a=wO(t);a!==null&&(e.getContext().urls.push(a.name),e.triggerUserActivity(),e.addUpdate(()=>(ff(e,[a]),!1)))}}function NO(e,t){return Ae&&e.getOptions()._experiments.traceInternals?!1:mC(t,Ze())}function GE(e,t){e.isEnabled()&&t!==null&&(NO(e,t.name)||e.addUpdate(()=>(ff(e,[t]),!0)))}function hf(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const a=nE(e);return t.encode(a).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function qE(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Cd(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const a={...e._meta},i=a.warnings||[];return a.warnings=[...i,t],e._meta=a,e}function YE(e,t){if(!t)return null;const{startTimestamp:a,endTimestamp:i,url:s,method:r,statusCode:o,request:c,response:u}=t;return{type:e,start:a/1e3,end:i/1e3,name:s,data:{method:r,statusCode:o,request:c,response:u}}}function Jl(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function us(e,t,a){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!a)return{headers:e,size:t};const i={headers:e,size:t},{body:s,warnings:r}=kO(a);return i.body=s,r!=null&&r.length&&(i._meta={warnings:r}),i}function cp(e,t){return Object.entries(e).reduce((a,[i,s])=>{const r=i.toLowerCase();return t.includes(r)&&e[i]&&(a[r]=s),a},{})}function kO(e){if(!e||typeof e!="string")return{body:e};const t=e.length>dy,a=TO(e);if(t){const i=e.slice(0,dy);return a?{body:i,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${i}`,warnings:["TEXT_TRUNCATED"]}}if(a)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function TO(e){const t=e[0],a=e[e.length-1];return t==="["&&a==="]"||t==="{"&&a==="}"}function Rd(e,t){const a=jO(e);return fi(a,t)}function jO(e,t=xt.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(xt.location.origin))return e;const a=new URL(e,t);if(a.origin!==new URL(t).origin)return e;const i=a.href;return!e.endsWith("/")&&i.endsWith("/")?i.slice(0,-1):i}async function AO(e,t,a){try{const i=await RO(e,t,a),s=YE("resource.fetch",i);GE(a.replay,s)}catch(i){Ae&&Ce.exception(i,"Failed to capture fetch breadcrumb")}}function CO(e,t){const{input:a,response:i}=t,s=a?iE(a):void 0,r=hf(s),o=i?qE(i.headers.get("content-length")):void 0;r!==void 0&&(e.data.request_body_size=r),o!==void 0&&(e.data.response_body_size=o)}async function RO(e,t,a){const i=Date.now(),{startTimestamp:s=i,endTimestamp:r=i}=t,{url:o,method:c,status_code:u=0,request_body_size:d,response_body_size:p}=e.data,f=Rd(o,a.networkDetailAllowUrls)&&!Rd(o,a.networkDetailDenyUrls),m=f?DO(a,t.input,d):Jl(d),h=await MO(f,a,t.response,p);return{startTimestamp:s,endTimestamp:r,url:o,method:c,statusCode:u,request:m,response:h}}function DO({networkCaptureBodies:e,networkRequestHeaders:t},a,i){const s=a?zO(a,t):{};if(!e)return us(s,i,void 0);const r=iE(a),[o,c]=aE(r,Ce),u=us(s,i,o);return c?Cd(u,c):u}async function MO(e,{networkCaptureBodies:t,networkResponseHeaders:a},i,s){if(!e&&s!==void 0)return Jl(s);const r=i?VE(i.headers,a):{};if(!i||!t&&s!==void 0)return us(r,s,void 0);const[o,c]=await IO(i),u=OO(o,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:r});return c?Cd(u,c):u}function OO(e,{networkCaptureBodies:t,responseBodySize:a,captureDetails:i,headers:s}){try{const r=e!=null&&e.length&&a===void 0?hf(e):a;return i?t?us(s,r,e):us(s,r,void 0):Jl(r)}catch(r){return Ae&&Ce.exception(r,"Failed to serialize response body"),us(s,a,void 0)}}async function IO(e){const t=LO(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await UO(t)]}catch(a){return a instanceof Error&&a.message.indexOf("Timeout")>-1?(Ae&&Ce.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(Ae&&Ce.exception(a,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function VE(e,t){const a={};return t.forEach(i=>{e.get(i)&&(a[i]=e.get(i))}),a}function zO(e,t){return e.length===1&&typeof e[0]!="string"?Dy(e[0],t):e.length===2?Dy(e[1],t):{}}function Dy(e,t){if(!e)return{};const a=e.headers;return a?a instanceof Headers?VE(a,t):Array.isArray(a)?{}:cp(a,t):{}}function LO(e){try{return e.clone()}catch(t){Ae&&Ce.exception(t,"Failed to clone response body")}}function UO(e){return new Promise((t,a)=>{const i=Tc(()=>a(new Error("Timeout while trying to read response body")),500);BO(e).then(s=>t(s),s=>a(s)).finally(()=>clearTimeout(i))})}async function BO(e){return await e.text()}async function PO(e,t,a){try{const i=HO(e,t,a),s=YE("resource.xhr",i);GE(a.replay,s)}catch(i){Ae&&Ce.exception(i,"Failed to capture xhr breadcrumb")}}function FO(e,t){const{xhr:a,input:i}=t;if(!a)return;const s=hf(i),r=a.getResponseHeader("content-length")?qE(a.getResponseHeader("content-length")):YO(a.response,a.responseType);s!==void 0&&(e.data.request_body_size=s),r!==void 0&&(e.data.response_body_size=r)}function HO(e,t,a){const i=Date.now(),{startTimestamp:s=i,endTimestamp:r=i,input:o,xhr:c}=t,{url:u,method:d,status_code:p=0,request_body_size:f,response_body_size:m}=e.data;if(!u)return null;if(!c||!Rd(u,a.networkDetailAllowUrls)||Rd(u,a.networkDetailDenyUrls)){const M=Jl(f),A=Jl(m);return{startTimestamp:s,endTimestamp:r,url:u,method:d,statusCode:p,request:M,response:A}}const h=c[Os],x=h?cp(h.request_headers,a.networkRequestHeaders):{},b=cp(sE(c),a.networkResponseHeaders),[S,g]=a.networkCaptureBodies?aE(o,Ce):[void 0],[y,w]=a.networkCaptureBodies?GO(c):[void 0],E=us(x,f,S),k=us(b,m,y);return{startTimestamp:s,endTimestamp:r,url:u,method:d,statusCode:p,request:g?Cd(E,g):E,response:w?Cd(k,w):k}}function GO(e){const t=[];try{return[e.responseText]}catch(a){t.push(a)}try{return qO(e.response,e.responseType)}catch(a){t.push(a)}return Ae&&Ce.warn("Failed to get xhr response body",...t),[void 0]}function qO(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(a){return Ae&&Ce.exception(a,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Ae&&Ce.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function YO(e,t){try{const a=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return hf(a)}catch{return}}function VO(e){const t=Ze();try{const{networkDetailAllowUrls:a,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:r,networkResponseHeaders:o}=e.getOptions(),c={replay:e,networkDetailAllowUrls:a,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:r,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(u,d)=>$O(c,u,d))}catch{}}function $O(e,t,a){if(t.data)try{KO(t)&&XO(a)&&(FO(t,a),PO(t,a,e)),WO(t)&&ZO(a)&&(CO(t,a),AO(t,a,e))}catch(i){Ae&&Ce.exception(i,"Error when enriching network breadcrumb")}}function KO(e){return e.category==="xhr"}function WO(e){return e.category==="fetch"}function XO(e){return e==null?void 0:e.xhr}function ZO(e){return e==null?void 0:e.response}function QO(e){const t=Ze();J1(A3(e)),of(EO(e)),pO(e),VO(e);const a=_O(e);IA(a),t&&(t.on("beforeSendEvent",hO(e)),t.on("afterSendEvent",uO(e)),t.on("createDsc",i=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(i.replay_id=s)}),t.on("spanStart",i=>{e.lastActiveSpan=i}),t.on("spanEnd",i=>{e.lastActiveSpan=i}),t.on("beforeSendFeedback",async(i,s)=>{var o;const r=e.getSessionId();s!=null&&s.includeReplay&&e.isEnabled()&&r&&((o=i.contexts)!=null&&o.feedback)&&(i.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),i.contexts.feedback.replay_id=r)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function JO(e){try{return Promise.all(ff(e,[eI(xt.performance.memory)]))}catch{return[]}}function eI(e){const{jsHeapSizeLimit:t,totalJSHeapSize:a,usedJSHeapSize:i}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:a,usedJSHeapSize:i}}}}function tI(e,t,a){return vC(e,t,{...a,setTimeoutImpl:Tc})}const ta=et.navigator;function nI(){return/iPhone|iPad|iPod/i.test((ta==null?void 0:ta.userAgent)??"")||/Macintosh/i.test((ta==null?void 0:ta.userAgent)??"")&&(ta!=null&&ta.maxTouchPoints)&&(ta==null?void 0:ta.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function aI(e){let t=!1;return(a,i)=>{if(!e.checkAndHandleExpiredSession()){Ae&&Ce.warn("Received replay event after session expired.");return}const s=i||!t;t=!0,e.clickDetector&&E3(e.clickDetector,a),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!c0(e,a,s))return!0;if(!s)return!1;const r=e.session;if(sI(e,s),e.recordingMode==="buffer"&&r&&e.eventBuffer&&!r.dirty){const o=e.eventBuffer.getEarliestTimestamp();o&&(Ae&&Ce.log(`Updating session start time to earliest event in buffer to ${new Date(o)}`),r.started=o,e.getOptions().stickySession&&df(r))}return r!=null&&r.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function iI(e){const t=e.getOptions();return{type:Pe.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function sI(e,t){!t||!e.session||e.session.segmentId!==0||c0(e,iI(e),!1)}function rI(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function oI(e,t,a,i){return ws(a1(e,Rg(e),i,a),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function lI({recordingData:e,headers:t}){let a;const i=`${JSON.stringify(t)}
`;if(typeof e=="string")a=`${i}${e}`;else{const r=new TextEncoder().encode(i);a=new Uint8Array(r.length+e.length),a.set(r),a.set(e,r.length)}return a}async function cI({client:e,scope:t,replayId:a,event:i}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,r={event_id:a,integrations:s};e.emit("preprocessEvent",i,r);const o=await c1(e.getOptions(),i,r,t,e,Ha());if(!o)return null;e.emit("postprocessEvent",o,r),o.platform=o.platform||"javascript";const c=e.getSdkMetadata(),{name:u,version:d,settings:p}=(c==null?void 0:c.sdk)||{};return o.sdk={...o.sdk,name:u||"sentry.javascript.unknown",version:d||"0.0.0",settings:p},o}async function uI({recordingData:e,replayId:t,segmentId:a,eventContext:i,timestamp:s,session:r}){const o=lI({recordingData:e,headers:{segment_id:a}}),{urls:c,errorIds:u,traceIds:d,initialTimestamp:p}=i,f=Ze(),m=ut(),h=f==null?void 0:f.getTransport(),x=f==null?void 0:f.getDsn();if(!f||!h||!x||!r.sampled)return Promise.resolve({});const b={type:PM,replay_start_timestamp:p/1e3,timestamp:s/1e3,error_ids:u,trace_ids:d,urls:c,replay_id:t,segment_id:a,replay_type:r.sampled},S=await cI({scope:m,client:f,replayId:t,event:b});if(!S)return f.recordDroppedEvent("event_processor","replay"),Ae&&Ce.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete S.sdkProcessingMetadata;const g=oI(S,o,x,f.getOptions().tunnel);let y;try{y=await h.send(g)}catch(E){const k=new Error(Zg);try{k.cause=E}catch{}throw k}if(typeof y.statusCode=="number"&&(y.statusCode<200||y.statusCode>=300))throw new $E(y.statusCode);const w=v1({},y);if(y1(w,"replay"))throw new d0(w);return y}class $E extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class d0 extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function KE(e,t={count:0,interval:VM}){const{recordingData:a,onError:i}=e;if(a.length)try{return await uI(e),!0}catch(s){if(s instanceof $E||s instanceof d0)throw s;if(d1("Replays",{_retryCount:t.count}),i&&i(s),t.count>=$M){const r=new Error(`${Zg} - max retries exceeded`);try{r.cause=s}catch{}throw r}return t.interval*=++t.count,new Promise((r,o)=>{Tc(async()=>{try{await KE(e,t),r(!0)}catch(c){o(c)}},t.interval)})}}const WE="__THROTTLED",dI="__SKIPPED";function fI(e,t,a){const i=new Map,s=c=>{const u=c-a;i.forEach((d,p)=>{p<u&&i.delete(p)})},r=()=>[...i.values()].reduce((c,u)=>c+u,0);let o=!1;return(...c)=>{const u=Math.floor(Date.now()/1e3);if(s(u),r()>=t){const p=o;return o=!0,p?dI:WE}o=!1;const d=i.get(u)||0;return i.set(u,d+1),e(...c)}}class hI{constructor({options:t,recordingOptions:a}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:FM,sessionIdleExpire:HM},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=a,this._options=t,this._debouncedFlush=tI(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=fI((o,c)=>oO(this,o,c),300,5);const{slowClickTimeout:i,slowClickIgnoreSelectors:s}=this.getOptions(),r=i?{threshold:Math.min(KM,i),timeout:i,scrollTimeout:WM,ignoreSelector:s?s.join(","):""}:void 0;if(r&&(this.clickDetector=new v3(this,r)),Ae){const o=t._experiments;Ce.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}this._handleVisibilityChange=()=>{xt.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const o=La({category:"ui.blur"});this._doChangeToBackgroundTasks(o)},this._handleWindowFocus=()=>{const o=La({category:"ui.focus"});this._doChangeToForegroundTasks(o)},this._handleKeyboardEvent=o=>{M3(this,o)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){Ae&&Ce.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:a,sessionSampleRate:i}=this._options,s=a<=0&&i<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){Ae&&Ce.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Ae&&Ce.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){Ae&&Ce.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){Ae&&Ce.log("Buffering is in progress, call `flush()` to save the replay");return}Ae&&Ce.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Nh({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){Ae&&Ce.log("Buffering is in progress, call `flush()` to save the replay");return}Ae&&Ce.infoTick("Starting replay in buffer mode");const t=Nh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=mi({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:YM}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:aI(this),...nI(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:a}={}){var i;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{Ae&&Ce.log(`Stopping Replay${a?` triggered by ${a}`:""}`),HE(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(i=this.eventBuffer)==null||i.destroy(),this.eventBuffer=null,nO(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ae&&Ce.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Ae&&Ce.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const a=Date.now();Ae&&Ce.log("Converting buffer to session"),await this.flushImmediate();const i=this.stopRecording();!t||!i||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(a),this._updateSessionActivity(a),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const a=t();this.recordingMode==="buffer"||!this._isEnabled||a!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){var a,i;if(!(t&&((a=this.session)==null?void 0:a.sampled)===!1))return(i=this.session)==null?void 0:i.id}checkAndHandleExpiredSession(){if(this._lastActivity&&op(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${xt.location.pathname}${xt.location.hash}${xt.location.search}`,a=`${xt.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=a,this._context.initialTimestamp=Date.now(),this._context.urls.push(a)}throttledAddEvent(t,a){const i=this._throttledAddEvent(t,a);if(i===WE){const s=La({category:"replay.throttled"});this.addUpdate(()=>!c0(this,{type:h3,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return i}getCurrentRoute(){const t=this.lastActiveSpan||wn(),a=t&&xn(t),s=(a&&nt(a).data||{})[Ea];if(!(!a||!s||!["route","custom"].includes(s)))return nt(a).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=J3({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const a=this._options.errorSampleRate>0,i=Nh({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:a});this.session=i}_checkSession(){if(!this.session)return!1;const t=this.session;return UE(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{xt.document.addEventListener("visibilitychange",this._handleVisibilityChange),xt.addEventListener("blur",this._handleWindowBlur),xt.addEventListener("focus",this._handleWindowFocus),xt.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(QO(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=V3(this)}_removeListeners(){try{xt.document.removeEventListener("visibilitychange",this._handleVisibilityChange),xt.removeEventListener("blur",this._handleWindowBlur),xt.removeEventListener("focus",this._handleWindowFocus),xt.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||LE(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Ae&&Ce.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Pe.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=L3(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const a=this._context.initialTimestamp/1e3;t=t.filter(i=>i.start>=a)}return Promise.all(ff(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:a}=this;if(!t||!a||this._requiresManualStart||t.segmentId)return;const i=a.getEarliestTimestamp();i&&i<this._context.initialTimestamp&&(this._context.initialTimestamp=i)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var a;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){Ae&&Ce.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((a=this.eventBuffer)!=null&&a.hasEvents)&&(await JO(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const i=Date.now();if(i-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const s=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await KE({replayId:t,recordingData:o,segmentId:r,eventContext:s,session:this.session,timestamp:i,onError:c=>this.handleException(c)})}catch(i){this.handleException(i),this.stop({reason:"sendReplay"});const s=Ze();if(s){const r=i instanceof d0?"ratelimit_backoff":"send_error";s.recordDroppedEvent(r,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){Ae&&Ce.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const a=this.session.started,s=Date.now()-a;this._debouncedFlush.cancel();const r=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(r||o){Ae&&Ce.log(`Session duration (${Math.floor(s/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),r&&this._debouncedFlush();return}const c=this.eventBuffer;c&&this.session.segmentId===0&&!c.hasCheckout&&Ae&&Ce.log("Flushing initial segment without checkout.");const u=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(d){this.handleException(d)}finally{this._flushLock=void 0,u&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&df(this.session)}_onMutationHandler(t){const{ignoreMutations:a}=this._options._experiments;if(a!=null&&a.length&&t.some(c=>{const u=rI(c.target),d=a.join(",");return u==null?void 0:u.matches(d)}))return!1;const i=t.length,s=this._options.mutationLimit,r=this._options.mutationBreadcrumbLimit,o=s&&i>s;if(i>r||o){const c=La({category:"replay.mutations",data:{count:i,limit:o}});this._createCustomBreadcrumb(c)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function rl(e,t){return[...e,...t].join(",")}function mI({mask:e,unmask:t,block:a,unblock:i,ignore:s}){const r=["base","iframe[srcdoc]:not([src])"],o=rl(e,[".sentry-mask","[data-sentry-mask]"]),c=rl(t,[]);return{maskTextSelector:o,unmaskTextSelector:c,blockSelector:rl(a,[".sentry-block","[data-sentry-block]",...r]),unblockSelector:rl(i,[]),ignoreSelector:rl(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function pI({el:e,key:t,maskAttributes:a,maskAllText:i,privacyOptions:s,value:r}){return!i||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?r:a.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?r.replace(/[\S]/g,"*"):r}const My='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',gI=["content-length","content-type","accept"];let Oy=!1;const xI=e=>new bI(e);class bI{constructor({flushMinDelay:t=GM,flushMaxDelay:a=qM,minReplayDuration:i=XM,maxReplayDuration:s=fy,stickySession:r=!0,useCompression:o=!0,workerUrl:c,_experiments:u={},maskAllText:d=!0,maskAllInputs:p=!0,blockAllMedia:f=!0,mutationBreadcrumbLimit:m=750,mutationLimit:h=1e4,slowClickTimeout:x=7e3,slowClickIgnoreSelectors:b=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:g=[],networkCaptureBodies:y=!0,networkRequestHeaders:w=[],networkResponseHeaders:E=[],mask:k=[],maskAttributes:M=["title","placeholder","aria-label"],unmask:A=[],block:I=[],unblock:j=[],ignore:N=[],maskFn:z,beforeAddRecordingEvent:T,beforeErrorSampling:C,onError:v}={}){this.name="Replay";const D=mI({mask:k,unmask:A,block:I,unblock:j,ignore:N});if(this._recordingOptions={maskAllInputs:p,maskAllText:d,maskInputOptions:{password:!0},maskTextFn:z,maskInputFn:z,maskAttributeFn:(U,H,P)=>pI({maskAttributes:M,maskAllText:d,privacyOptions:D,key:U,value:H,el:P}),...D,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:U=>{try{U.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!u.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:a,minReplayDuration:Math.min(i,ZM),maxReplayDuration:Math.min(s,fy),stickySession:r,useCompression:o,workerUrl:c,blockAllMedia:f,maskAllInputs:p,maskAllText:d,mutationBreadcrumbLimit:m,mutationLimit:h,slowClickTimeout:x,slowClickIgnoreSelectors:b,networkDetailAllowUrls:S,networkDetailDenyUrls:g,networkCaptureBodies:y,networkRequestHeaders:Iy(w),networkResponseHeaders:Iy(E),beforeAddRecordingEvent:T,beforeErrorSampling:C,onError:v,_experiments:u},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${My}`:My,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&Vm())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Oy}set _isInitialized(t){Oy=t}afterAllSetup(t){!Vm()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){var a;if((a=this._replay)!=null&&a.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const a=yI(this._initialOptions,t);this._replay=new hI({options:a,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const a=t.getIntegrationByName("ReplayCanvas");if(!a)return;this._replay._canvas=a.getOptions()}catch{}}}function yI(e,t){const a=t.getOptions(),i={sessionSampleRate:0,errorSampleRate:0,...e},s=sr(a.replaysSessionSampleRate),r=sr(a.replaysOnErrorSampleRate);return s==null&&r==null&&mr(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(i.sessionSampleRate=s),r!=null&&(i.errorSampleRate=r),i}function Iy(e){return[...gI,...e.map(t=>t.toLowerCase())]}function vI(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function XE(e){try{return new URL(e,at.location.origin).href}catch{return}}function SI(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function ZE(e){try{return new Headers(e)}catch{return}}const zy=new WeakMap,kh=new Map,QE={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function _I(e,t){const{traceFetch:a,traceXHR:i,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:r,enableHTTPTimings:o,tracePropagationTargets:c,onRequestSpanStart:u,onRequestSpanEnd:d}={...QE,...t},p=typeof r=="function"?r:x=>!0,f=x=>wI(x,c),m={},h=e.getOptions().propagateTraceparent;a&&(e.addEventProcessor(x=>(x.type==="transaction"&&x.spans&&x.spans.forEach(b=>{if(b.op==="http.client"){const S=kh.get(b.span_id);S&&(b.timestamp=S/1e3,kh.delete(b.span_id))}}),x)),s&&tR(x=>{if(x.response){const b=zy.get(x.response);b&&x.endTimestamp&&kh.set(b,x.endTimestamp)}}),M1(x=>{const b=YC(x,p,f,m,{propagateTraceparent:h,onRequestSpanEnd:d});if(x.response&&x.fetchData.__span&&zy.set(x.response,x.fetchData.__span),b){const S=XE(x.fetchData.url),g=S?Xs(S).host:void 0;b.setAttributes({"http.url":S,"server.address":g}),o&&Ly(b),u==null||u(b,{headers:x.headers})}})),i&&tE(x=>{var S;const b=EI(x,p,f,m,h,d);b&&(o&&Ly(b),u==null||u(b,{headers:ZE((S=x.xhr.__sentry_xhr_v3__)==null?void 0:S.request_headers)}))})}function Ly(e){const{url:t}=nt(e).data;if(!t||typeof t!="string")return;const a=or("resource",({entries:i})=>{i.forEach(s=>{SI(s)&&s.name.endsWith(t)&&(e.setAttributes(Q1(s)),setTimeout(a))})})}function wI(e,t){const a=Ho();if(a){let i,s;try{i=new URL(e,a),s=new URL(a).origin}catch{return!1}const r=i.origin===s;return t?fi(i.toString(),t)||r&&fi(i.pathname,t):r}else{const i=!!e.match(/^\/(?!\/)/);return t?fi(e,t):i}}function EI(e,t,a,i,s,r){const o=e.xhr,c=o==null?void 0:o[Os];if(!o||o.__sentry_own_request__||!c)return;const{url:u,method:d}=c,p=Na()&&t(u);if(e.endTimestamp&&p){const g=o.__sentry_xhr_span_id__;if(!g)return;const y=i[g];y&&c.status_code!==void 0&&(Fw(y,c.status_code),y.end(),r==null||r(y,{headers:ZE(sE(o)),error:e.error}),delete i[g]);return}const f=XE(u),m=Xs(f||u),h=hC(u),x=!!wn(),b=p&&x?Vo({name:`${d} ${h}`,attributes:{url:u,type:"xhr","http.method":d,"http.url":f,"server.address":m==null?void 0:m.host,[Xt]:"auto.http.browser",[wi]:"http.client",...(m==null?void 0:m.search)&&{"http.query":m==null?void 0:m.search},...(m==null?void 0:m.hash)&&{"http.fragment":m==null?void 0:m.hash}}}):new ps;o.__sentry_xhr_span_id__=b.spanContext().spanId,i[o.__sentry_xhr_span_id__]=b,a(u)&&NI(o,Na()&&x?b:void 0,s);const S=Ze();return S&&S.emit("beforeOutgoingRequestSpan",b,e),b}function NI(e,t,a){const{"sentry-trace":i,baggage:s,traceparent:r}=j1({span:t,propagateTraceparent:a});i&&kI(e,i,s,r)}function kI(e,t,a,i){var r;const s=(r=e.__sentry_xhr_v3__)==null?void 0:r.request_headers;if(!(s!=null&&s["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),i&&!(s!=null&&s.traceparent)&&e.setRequestHeader("traceparent",i),a){const o=s==null?void 0:s.baggage;(!o||!vI(o))&&e.setRequestHeader("baggage",a)}}catch{}}function TI(){at.document?at.document.addEventListener("visibilitychange",()=>{const e=wn();if(!e)return;const t=xn(e);if(at.document.hidden&&t){const a="cancelled",{op:i,status:s}=nt(t);ma&&pe.log(`[Tracing] Transaction: ${a} -> since tab moved to the background, op: ${i}`),s||t.setStatus({code:Vt,message:a}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):ma&&pe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const jI=3600,JE="sentry_previous_trace",AI="sentry.previous_trace";function CI(e,{linkPreviousTrace:t,consistentTraceSampling:a}){const i=t==="session-storage";let s=i?MI():void 0;e.on("spanStart",o=>{if(xn(o)!==o)return;const c=ut().getPropagationContext();s=RI(s,o,c),i&&DI(s)});let r=!0;a&&e.on("beforeSampling",o=>{if(!s)return;const c=ut(),u=c.getPropagationContext();if(r&&u.parentSpanId){r=!1;return}c.setPropagationContext({...u,dsc:{...u.dsc,sample_rate:String(s.sampleRate),sampled:String(up(s.spanContext))},sampleRand:s.sampleRand}),o.parentSampled=up(s.spanContext),o.parentSampleRate=s.sampleRate,o.spanAttributes={...o.spanAttributes,[Pw]:s.sampleRate}})}function RI(e,t,a){const i=nt(t);function s(){var c,u;try{return Number((c=a.dsc)==null?void 0:c.sample_rate)??Number((u=i.data)==null?void 0:u[Ng])}catch{return 0}}const r={spanContext:t.spanContext(),startTimestamp:i.start_timestamp,sampleRate:s(),sampleRand:a.sampleRand};if(!e)return r;const o=e.spanContext;return o.traceId===i.trace_id?e:(Date.now()/1e3-e.startTimestamp<=jI&&(ma&&pe.log(`Adding previous_trace ${o} link to span ${{op:i.op,...t.spanContext()}}`),t.addLink({context:o,attributes:{[o2]:"previous_trace"}}),t.setAttribute(AI,`${o.traceId}-${o.spanId}-${up(o)?1:0}`)),r)}function DI(e){try{at.sessionStorage.setItem(JE,JSON.stringify(e))}catch(t){ma&&pe.warn("Could not store previous trace in sessionStorage",t)}}function MI(){var e;try{const t=(e=at.sessionStorage)==null?void 0:e.getItem(JE);return JSON.parse(t)}catch{return}}function up(e){return e.traceFlags===1}const OI="BrowserTracing",II={...Ou,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...QE},zI=(e={})=>{const t={name:void 0,source:void 0},a=at.document,{enableInp:i,enableElementTiming:s,enableLongTask:r,enableLongAnimationFrame:o,_experiments:{enableInteractions:c,enableStandaloneClsSpans:u,enableStandaloneLcpSpans:d},beforeStartSpan:p,idleTimeout:f,finalTimeout:m,childSpanTimeout:h,markBackgroundSpan:x,traceFetch:b,traceXHR:S,trackFetchStreamPerformance:g,shouldCreateSpanForRequest:y,enableHTTPTimings:w,ignoreResourceSpans:E,ignorePerformanceApiSpans:k,instrumentPageLoad:M,instrumentNavigation:A,detectRedirects:I,linkPreviousTrace:j,consistentTraceSampling:N,enableReportPageLoaded:z,onRequestSpanStart:T,onRequestSpanEnd:C}={...II,...e};let v,D,U;function H(P,X,$=!0){const L=X.op==="pageload",F=X.name,ue=p?p(X):X,le=ue.attributes||{};if(F!==ue.name&&(le[Ea]="custom",ue.attributes=le),!$){const Fe=pr();Vo({...ue,startTime:Fe}).end(Fe);return}t.name=ue.name,t.source=le[Ea];const oe=l1(ue,{idleTimeout:f,finalTimeout:m,childSpanTimeout:h,disableAutoFinish:L,beforeSpanEnd:Fe=>{v==null||v(),uD(Fe,{recordClsOnPageloadSpan:!u,recordLcpOnPageloadSpan:!d,ignoreResourceSpans:E,ignorePerformanceApiSpans:k}),By(P,void 0);const Ee=ut(),ke=Ee.getPropagationContext();Ee.setPropagationContext({...ke,traceId:oe.spanContext().traceId,sampled:_s(oe),dsc:Ei(Fe)}),L&&(U=void 0)},trimIdleSpanEndTimestamp:!z});L&&z&&(U=oe),By(P,oe);function Ue(){a&&["interactive","complete"].includes(a.readyState)&&P.emit("idleSpanEnableAutoFinish",oe)}L&&!z&&a&&(a.addEventListener("readystatechange",()=>{Ue()}),Ue())}return{name:OI,setup(P){if(z2(),v=aD({recordClsStandaloneSpans:u||!1,recordLcpStandaloneSpans:d||!1,client:P}),i&&ID(),s&&_D(),o&&et.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?sD():r&&iD(),c&&rD(),I&&a){const $=()=>{D=an()};addEventListener("click",$,{capture:!0}),addEventListener("keydown",$,{capture:!0,passive:!0})}function X(){const $=ec(P);$&&!nt($).timestamp&&(ma&&pe.log(`[Tracing] Finishing current active span with op: ${nt($).op}`),$.setAttribute($l,"cancelled"),$.end())}P.on("startNavigationSpan",($,L)=>{if(Ze()!==P)return;if(L!=null&&L.isRedirect){ma&&pe.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),H(P,{op:"navigation.redirect",...$},!1);return}D=void 0,X(),Ha().setPropagationContext({traceId:_i(),sampleRand:Math.random(),propagationSpanId:Na()?void 0:hi()});const F=ut();F.setPropagationContext({traceId:_i(),sampleRand:Math.random(),propagationSpanId:Na()?void 0:hi()}),F.setSDKProcessingMetadata({normalizedRequest:void 0}),H(P,{op:"navigation",...$,parentSpan:null,forceTransaction:!0})}),P.on("startPageLoadSpan",($,L={})=>{if(Ze()!==P)return;X();const F=L.sentryTrace||Uy("sentry-trace"),ue=L.baggage||Uy("baggage"),le=T2(F,ue),oe=ut();oe.setPropagationContext(le),Na()||(oe.getPropagationContext().propagationSpanId=hi()),oe.setSDKProcessingMetadata({normalizedRequest:Pg()}),H(P,{op:"pageload",...$})}),P.on("endPageloadSpan",()=>{z&&U&&(U.setAttribute($l,"reportPageLoaded"),U.end())})},afterAllSetup(P){let X=Ho();if(j!=="off"&&CI(P,{linkPreviousTrace:j,consistentTraceSampling:N}),at.location){if(M){const $=Ln();LI(P,{name:at.location.pathname,startTime:$?$/1e3:void 0,attributes:{[Ea]:"url",[Xt]:"auto.pageload.browser"}})}A&&of(({to:$,from:L})=>{if(L===void 0&&(X==null?void 0:X.indexOf($))!==-1){X=void 0;return}X=void 0;const F=Bg($),ue=ec(P),le=ue&&I&&PI(ue,D);UI(P,{name:(F==null?void 0:F.pathname)||at.location.pathname,attributes:{[Ea]:"url",[Xt]:"auto.navigation.browser"}},{url:$,isRedirect:le})})}x&&TI(),c&&BI(P,f,m,h,t),i&&UD(),_I(P,{traceFetch:b,traceXHR:S,trackFetchStreamPerformance:g,tracePropagationTargets:P.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:y,enableHTTPTimings:w,onRequestSpanStart:T,onRequestSpanEnd:C})}}};function LI(e,t,a){e.emit("startPageLoadSpan",t,a),ut().setTransactionName(t.name);const i=ec(e);return i&&e.emit("afterStartPageLoadSpan",i),i}function UI(e,t,a){const{url:i,isRedirect:s}=a||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const r=ut();return r.setTransactionName(t.name),i&&!s&&r.setSDKProcessingMetadata({normalizedRequest:{...Pg(),url:i}}),ec(e)}function Uy(e){const t=at.document,a=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(a==null?void 0:a.getAttribute("content"))||void 0}function BI(e,t,a,i,s){const r=at.document;let o;const c=()=>{const u="ui.action.click",d=ec(e);if(d){const p=nt(d).op;if(["navigation","pageload"].includes(p)){ma&&pe.warn(`[Tracing] Did not create ${u} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute($l,"interactionInterrupted"),o.end(),o=void 0),!s.name){ma&&pe.warn(`[Tracing] Did not create ${u} transaction because _latestRouteName is missing.`);return}o=l1({name:s.name,op:u,attributes:{[Ea]:s.source||"url"}},{idleTimeout:t,finalTimeout:a,childSpanTimeout:i})};r&&addEventListener("click",c,{capture:!0})}const eN="_sentry_idleSpan";function ec(e){return e[eN]}function By(e,t){Qn(e,eN,t)}const Py=1.5;function PI(e,t){const a=nt(e),i=pr(),s=a.start_timestamp;return!(i-s>Py||t&&i-t<=Py)}function FI(e){const t={...e};return T1(t,"react"),d1("react",{version:V.version}),BM(t)}var mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},HI={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Fi,gp,ov,GI=(ov=class{constructor(){Ke(this,Fi,HI);Ke(this,gp,!1)}setTimeoutProvider(e){De(this,Fi,e)}setTimeout(e,t){return ne(this,Fi).setTimeout(e,t)}clearTimeout(e){ne(this,Fi).clearTimeout(e)}setInterval(e,t){return ne(this,Fi).setInterval(e,t)}clearInterval(e){ne(this,Fi).clearInterval(e)}},Fi=new WeakMap,gp=new WeakMap,ov),dp=new GI;function qI(e){setTimeout(e,0)}var pf=typeof window>"u"||"Deno"in globalThis;function xa(){}function YI(e,t){return typeof e=="function"?e(t):e}function VI(e){return typeof e=="number"&&e>=0&&e!==1/0}function $I(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fp(e,t){return typeof e=="function"?e(t):e}function KI(e,t){return typeof e=="function"?e(t):e}function Fy(e,t){const{type:a="all",exact:i,fetchStatus:s,predicate:r,queryKey:o,stale:c}=e;if(o){if(i){if(t.queryHash!==f0(o,t.options))return!1}else if(!nc(t.queryKey,o))return!1}if(a!=="all"){const u=t.isActive();if(a==="active"&&!u||a==="inactive"&&u)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||r&&!r(t))}function Hy(e,t){const{exact:a,status:i,predicate:s,mutationKey:r}=e;if(r){if(!t.options.mutationKey)return!1;if(a){if(tc(t.options.mutationKey)!==tc(r))return!1}else if(!nc(t.options.mutationKey,r))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function f0(e,t){return((t==null?void 0:t.queryKeyHashFn)||tc)(e)}function tc(e){return JSON.stringify(e,(t,a)=>hp(a)?Object.keys(a).sort().reduce((i,s)=>(i[s]=a[s],i),{}):a)}function nc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(a=>nc(e[a],t[a])):!1}var WI=Object.prototype.hasOwnProperty;function tN(e,t){if(e===t)return e;const a=Gy(e)&&Gy(t);if(!a&&!(hp(e)&&hp(t)))return t;const s=(a?e:Object.keys(e)).length,r=a?t:Object.keys(t),o=r.length,c=a?new Array(o):{};let u=0;for(let d=0;d<o;d++){const p=a?d:r[d],f=e[p],m=t[p];if(f===m){c[p]=f,(a?d<s:WI.call(e,p))&&u++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){c[p]=m;continue}const h=tN(f,m);c[p]=h,h===f&&u++}return s===o&&u===s?e:c}function Gy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hp(e){if(!qy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!qy(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qy(e){return Object.prototype.toString.call(e)==="[object Object]"}function XI(e){return new Promise(t=>{dp.setTimeout(t,e)})}function ZI(e,t,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,t):a.structuralSharing!==!1?tN(e,t):t}function QI(e,t,a=0){const i=[...e,t];return a&&i.length>a?i.slice(1):i}function JI(e,t,a=0){const i=[t,...e];return a&&i.length>a?i.slice(0,-1):i}var h0=Symbol();function nN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===h0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var zs,Hi,no,lv,e4=(lv=class extends mf{constructor(){super();Ke(this,zs);Ke(this,Hi);Ke(this,no);De(this,no,t=>{if(!pf&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){ne(this,Hi)||this.setEventListener(ne(this,no))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,Hi))==null||t.call(this),De(this,Hi,void 0))}setEventListener(t){var a;De(this,no,t),(a=ne(this,Hi))==null||a.call(this),De(this,Hi,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){ne(this,zs)!==t&&(De(this,zs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){var t;return typeof ne(this,zs)=="boolean"?ne(this,zs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zs=new WeakMap,Hi=new WeakMap,no=new WeakMap,lv),aN=new e4;function t4(){let e,t;const a=new Promise((s,r)=>{e=s,t=r});a.status="pending",a.catch(()=>{});function i(s){Object.assign(a,s),delete a.resolve,delete a.reject}return a.resolve=s=>{i({status:"fulfilled",value:s}),e(s)},a.reject=s=>{i({status:"rejected",reason:s}),t(s)},a}var n4=qI;function a4(){let e=[],t=0,a=c=>{c()},i=c=>{c()},s=n4;const r=c=>{t?e.push(c):s(()=>{a(c)})},o=()=>{const c=e;e=[],c.length&&s(()=>{i(()=>{c.forEach(u=>{a(u)})})})};return{batch:c=>{let u;t++;try{u=c()}finally{t--,t||o()}return u},batchCalls:c=>(...u)=>{r(()=>{c(...u)})},schedule:r,setNotifyFunction:c=>{a=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{s=c}}}var Sn=a4(),ao,Gi,io,cv,i4=(cv=class extends mf{constructor(){super();Ke(this,ao,!0);Ke(this,Gi);Ke(this,io);De(this,io,t=>{if(!pf&&window.addEventListener){const a=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",i)}}})}onSubscribe(){ne(this,Gi)||this.setEventListener(ne(this,io))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,Gi))==null||t.call(this),De(this,Gi,void 0))}setEventListener(t){var a;De(this,io,t),(a=ne(this,Gi))==null||a.call(this),De(this,Gi,t(this.setOnline.bind(this)))}setOnline(t){ne(this,ao)!==t&&(De(this,ao,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return ne(this,ao)}},ao=new WeakMap,Gi=new WeakMap,io=new WeakMap,cv),Dd=new i4;function s4(e){return Math.min(1e3*2**e,3e4)}function iN(e){return(e??"online")==="online"?Dd.isOnline():!0}var mp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sN(e){let t=!1,a=0,i;const s=t4(),r=()=>s.status!=="pending",o=b=>{var S;if(!r()){const g=new mp(b);m(g),(S=e.onCancel)==null||S.call(e,g)}},c=()=>{t=!0},u=()=>{t=!1},d=()=>aN.isFocused()&&(e.networkMode==="always"||Dd.isOnline())&&e.canRun(),p=()=>iN(e.networkMode)&&e.canRun(),f=b=>{r()||(i==null||i(),s.resolve(b))},m=b=>{r()||(i==null||i(),s.reject(b))},h=()=>new Promise(b=>{var S;i=g=>{(r()||d())&&b(g)},(S=e.onPause)==null||S.call(e)}).then(()=>{var b;i=void 0,r()||(b=e.onContinue)==null||b.call(e)}),x=()=>{if(r())return;let b;const S=a===0?e.initialPromise:void 0;try{b=S??e.fn()}catch(g){b=Promise.reject(g)}Promise.resolve(b).then(f).catch(g=>{var M;if(r())return;const y=e.retry??(pf?0:3),w=e.retryDelay??s4,E=typeof w=="function"?w(a,g):w,k=y===!0||typeof y=="number"&&a<y||typeof y=="function"&&y(a,g);if(t||!k){m(g);return}a++,(M=e.onFail)==null||M.call(e,a,g),XI(E).then(()=>d()?void 0:h()).then(()=>{t?m(g):x()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:c,continueRetry:u,canStart:p,start:()=>(p()?x():h().then(x),s)}}var Ls,uv,rN=(uv=class{constructor(){Ke(this,Ls)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VI(this.gcTime)&&De(this,Ls,dp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pf?1/0:5*60*1e3))}clearGcTimeout(){ne(this,Ls)&&(dp.clearTimeout(ne(this,Ls)),De(this,Ls,void 0))}},Ls=new WeakMap,uv),Us,so,na,Bs,Jt,ac,Ps,ba,ti,dv,r4=(dv=class extends rN{constructor(t){super();Ke(this,ba);Ke(this,Us);Ke(this,so);Ke(this,na);Ke(this,Bs);Ke(this,Jt);Ke(this,ac);Ke(this,Ps);De(this,Ps,!1),De(this,ac,t.defaultOptions),this.setOptions(t.options),this.observers=[],De(this,Bs,t.client),De(this,na,ne(this,Bs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,De(this,Us,Vy(this.options)),this.state=t.state??ne(this,Us),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ne(this,Jt))==null?void 0:t.promise}setOptions(t){if(this.options={...ne(this,ac),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Vy(this.options);a.data!==void 0&&(this.setState(Yy(a.data,a.dataUpdatedAt)),De(this,Us,a))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,na).remove(this)}setData(t,a){const i=ZI(this.state.data,t,this.options);return gn(this,ba,ti).call(this,{data:i,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),i}setState(t,a){gn(this,ba,ti).call(this,{type:"setState",state:t,setStateOptions:a})}cancel(t){var i,s;const a=(i=ne(this,Jt))==null?void 0:i.promise;return(s=ne(this,Jt))==null||s.cancel(t),a?a.then(xa).catch(xa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,Us))}isActive(){return this.observers.some(t=>KI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===h0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>fp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$I(this.state.dataUpdatedAt,t)}onFocus(){var a;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(a=ne(this,Jt))==null||a.continue()}onOnline(){var a;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(a=ne(this,Jt))==null||a.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ne(this,na).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(ne(this,Jt)&&(ne(this,Ps)?ne(this,Jt).cancel({revert:!0}):ne(this,Jt).cancelRetry()),this.scheduleGc()),ne(this,na).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||gn(this,ba,ti).call(this,{type:"invalidate"})}async fetch(t,a){var u,d,p,f,m,h,x,b,S,g,y,w;if(this.state.fetchStatus!=="idle"&&((u=ne(this,Jt))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(ne(this,Jt))return ne(this,Jt).continueRetry(),ne(this,Jt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const E=this.observers.find(k=>k.options.queryFn);E&&this.setOptions(E.options)}const i=new AbortController,s=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(De(this,Ps,!0),i.signal)})},r=()=>{const E=nN(this.options,a),M=(()=>{const A={client:ne(this,Bs),queryKey:this.queryKey,meta:this.meta};return s(A),A})();return De(this,Ps,!1),this.options.persister?this.options.persister(E,M,this):E(M)},c=(()=>{const E={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:ne(this,Bs),state:this.state,fetchFn:r};return s(E),E})();(d=this.options.behavior)==null||d.onFetch(c,this),De(this,so,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&gn(this,ba,ti).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta}),De(this,Jt,sN({initialPromise:a==null?void 0:a.initialPromise,fn:c.fetchFn,onCancel:E=>{E instanceof mp&&E.revert&&this.setState({...ne(this,so),fetchStatus:"idle"}),i.abort()},onFail:(E,k)=>{gn(this,ba,ti).call(this,{type:"failed",failureCount:E,error:k})},onPause:()=>{gn(this,ba,ti).call(this,{type:"pause"})},onContinue:()=>{gn(this,ba,ti).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const E=await ne(this,Jt).start();if(E===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(E),(h=(m=ne(this,na).config).onSuccess)==null||h.call(m,E,this),(b=(x=ne(this,na).config).onSettled)==null||b.call(x,E,this.state.error,this),E}catch(E){if(E instanceof mp){if(E.silent)return ne(this,Jt).promise;if(E.revert){if(this.state.data===void 0)throw E;return this.state.data}}throw gn(this,ba,ti).call(this,{type:"error",error:E}),(g=(S=ne(this,na).config).onError)==null||g.call(S,E,this),(w=(y=ne(this,na).config).onSettled)==null||w.call(y,this.state.data,E,this),E}finally{this.scheduleGc()}}},Us=new WeakMap,so=new WeakMap,na=new WeakMap,Bs=new WeakMap,Jt=new WeakMap,ac=new WeakMap,Ps=new WeakMap,ba=new WeakSet,ti=function(t){const a=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...o4(i.data,this.options),fetchMeta:t.meta??null};case"success":const s={...i,...Yy(t.data,t.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return De(this,so,t.manual?s:void 0),s;case"error":const r=t.error;return{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=a(this.state),Sn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ne(this,na).notify({query:this,type:"updated",action:t})})},dv);function o4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Yy(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Vy(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,a=t!==void 0,i=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}function $y(e){return{onFetch:(t,a)=>{var p,f,m,h,x;const i=t.options,s=(m=(f=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,r=((h=t.state.data)==null?void 0:h.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let b=!1;const S=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},g=nN(t.options,t.fetchOptions),y=async(w,E,k)=>{if(b)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const A=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:E,direction:k?"backward":"forward",meta:t.options.meta};return S(z),z})(),I=await g(A),{maxPages:j}=t.options,N=k?JI:QI;return{pages:N(w.pages,I,j),pageParams:N(w.pageParams,E,j)}};if(s&&r.length){const w=s==="backward",E=w?l4:Ky,k={pages:r,pageParams:o},M=E(i,k);c=await y(k,M,w)}else{const w=e??r.length;do{const E=u===0?o[0]??i.initialPageParam:Ky(i,c);if(u>0&&E==null)break;c=await y(c,E),u++}while(u<w)}return c};t.options.persister?t.fetchFn=()=>{var b,S;return(S=(b=t.options).persister)==null?void 0:S.call(b,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a)}:t.fetchFn=d}}}function Ky(e,{pages:t,pageParams:a}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,a[i],a):void 0}function l4(e,{pages:t,pageParams:a}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,a[0],a):void 0}var ic,Ca,yn,Fs,Ra,Di,fv,c4=(fv=class extends rN{constructor(t){super();Ke(this,Ra);Ke(this,ic);Ke(this,Ca);Ke(this,yn);Ke(this,Fs);De(this,ic,t.client),this.mutationId=t.mutationId,De(this,yn,t.mutationCache),De(this,Ca,[]),this.state=t.state||u4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ne(this,Ca).includes(t)||(ne(this,Ca).push(t),this.clearGcTimeout(),ne(this,yn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){De(this,Ca,ne(this,Ca).filter(a=>a!==t)),this.scheduleGc(),ne(this,yn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ne(this,Ca).length||(this.state.status==="pending"?this.scheduleGc():ne(this,yn).remove(this))}continue(){var t;return((t=ne(this,Fs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,c,u,d,p,f,m,h,x,b,S,g,y,w,E,k,M,A,I,j;const a=()=>{gn(this,Ra,Di).call(this,{type:"continue"})},i={client:ne(this,ic),meta:this.options.meta,mutationKey:this.options.mutationKey};De(this,Fs,sN({fn:()=>this.options.mutationFn?this.options.mutationFn(t,i):Promise.reject(new Error("No mutationFn found")),onFail:(N,z)=>{gn(this,Ra,Di).call(this,{type:"failed",failureCount:N,error:z})},onPause:()=>{gn(this,Ra,Di).call(this,{type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,yn).canRun(this)}));const s=this.state.status==="pending",r=!ne(this,Fs).canStart();try{if(s)a();else{gn(this,Ra,Di).call(this,{type:"pending",variables:t,isPaused:r}),await((c=(o=ne(this,yn).config).onMutate)==null?void 0:c.call(o,t,this,i));const z=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t,i));z!==this.state.context&&gn(this,Ra,Di).call(this,{type:"pending",context:z,variables:t,isPaused:r})}const N=await ne(this,Fs).start();return await((f=(p=ne(this,yn).config).onSuccess)==null?void 0:f.call(p,N,t,this.state.context,this,i)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,N,t,this.state.context,i)),await((b=(x=ne(this,yn).config).onSettled)==null?void 0:b.call(x,N,null,this.state.variables,this.state.context,this,i)),await((g=(S=this.options).onSettled)==null?void 0:g.call(S,N,null,t,this.state.context,i)),gn(this,Ra,Di).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(y=ne(this,yn).config).onError)==null?void 0:w.call(y,N,t,this.state.context,this,i)),await((k=(E=this.options).onError)==null?void 0:k.call(E,N,t,this.state.context,i)),await((A=(M=ne(this,yn).config).onSettled)==null?void 0:A.call(M,void 0,N,this.state.variables,this.state.context,this,i)),await((j=(I=this.options).onSettled)==null?void 0:j.call(I,void 0,N,t,this.state.context,i)),N}finally{gn(this,Ra,Di).call(this,{type:"error",error:N})}}finally{ne(this,yn).runNext(this)}}},ic=new WeakMap,Ca=new WeakMap,yn=new WeakMap,Fs=new WeakMap,Ra=new WeakSet,Di=function(t){const a=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),Sn.batch(()=>{ne(this,Ca).forEach(i=>{i.onMutationUpdate(t)}),ne(this,yn).notify({mutation:this,type:"updated",action:t})})},fv);function u4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ai,ya,sc,hv,d4=(hv=class extends mf{constructor(t={}){super();Ke(this,ai);Ke(this,ya);Ke(this,sc);this.config=t,De(this,ai,new Set),De(this,ya,new Map),De(this,sc,0)}build(t,a,i){const s=new c4({client:t,mutationCache:this,mutationId:++Uc(this,sc)._,options:t.defaultMutationOptions(a),state:i});return this.add(s),s}add(t){ne(this,ai).add(t);const a=du(t);if(typeof a=="string"){const i=ne(this,ya).get(a);i?i.push(t):ne(this,ya).set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ne(this,ai).delete(t)){const a=du(t);if(typeof a=="string"){const i=ne(this,ya).get(a);if(i)if(i.length>1){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}else i[0]===t&&ne(this,ya).delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=du(t);if(typeof a=="string"){const i=ne(this,ya).get(a),s=i==null?void 0:i.find(r=>r.state.status==="pending");return!s||s===t}else return!0}runNext(t){var i;const a=du(t);if(typeof a=="string"){const s=(i=ne(this,ya).get(a))==null?void 0:i.find(r=>r!==t&&r.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Sn.batch(()=>{ne(this,ai).forEach(t=>{this.notify({type:"removed",mutation:t})}),ne(this,ai).clear(),ne(this,ya).clear()})}getAll(){return Array.from(ne(this,ai))}find(t){const a={exact:!0,...t};return this.getAll().find(i=>Hy(a,i))}findAll(t={}){return this.getAll().filter(a=>Hy(t,a))}notify(t){Sn.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return Sn.batch(()=>Promise.all(t.map(a=>a.continue().catch(xa))))}},ai=new WeakMap,ya=new WeakMap,sc=new WeakMap,hv);function du(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Da,mv,f4=(mv=class extends mf{constructor(t={}){super();Ke(this,Da);this.config=t,De(this,Da,new Map)}build(t,a,i){const s=a.queryKey,r=a.queryHash??f0(s,a);let o=this.get(r);return o||(o=new r4({client:t,queryKey:s,queryHash:r,options:t.defaultQueryOptions(a),state:i,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){ne(this,Da).has(t.queryHash)||(ne(this,Da).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=ne(this,Da).get(t.queryHash);a&&(t.destroy(),a===t&&ne(this,Da).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ne(this,Da).get(t)}getAll(){return[...ne(this,Da).values()]}find(t){const a={exact:!0,...t};return this.getAll().find(i=>Fy(a,i))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(i=>Fy(t,i)):a}notify(t){Sn.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Sn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Da=new WeakMap,mv),Mt,qi,Yi,ro,oo,Vi,lo,co,pv,h4=(pv=class{constructor(e={}){Ke(this,Mt);Ke(this,qi);Ke(this,Yi);Ke(this,ro);Ke(this,oo);Ke(this,Vi);Ke(this,lo);Ke(this,co);De(this,Mt,e.queryCache||new f4),De(this,qi,e.mutationCache||new d4),De(this,Yi,e.defaultOptions||{}),De(this,ro,new Map),De(this,oo,new Map),De(this,Vi,0)}mount(){Uc(this,Vi)._++,ne(this,Vi)===1&&(De(this,lo,aN.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,Mt).onFocus())})),De(this,co,Dd.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,Mt).onOnline())})))}unmount(){var e,t;Uc(this,Vi)._--,ne(this,Vi)===0&&((e=ne(this,lo))==null||e.call(this),De(this,lo,void 0),(t=ne(this,co))==null||t.call(this),De(this,co,void 0))}isFetching(e){return ne(this,Mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ne(this,qi).findAll({...e,status:"pending"}).length}getQueryData(e){var a;const t=this.defaultQueryOptions({queryKey:e});return(a=ne(this,Mt).get(t.queryHash))==null?void 0:a.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),a=ne(this,Mt).build(this,t),i=a.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(fp(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return ne(this,Mt).findAll(e).map(({queryKey:t,state:a})=>{const i=a.data;return[t,i]})}setQueryData(e,t,a){const i=this.defaultQueryOptions({queryKey:e}),s=ne(this,Mt).get(i.queryHash),r=s==null?void 0:s.state.data,o=YI(t,r);if(o!==void 0)return ne(this,Mt).build(this,i).setData(o,{...a,manual:!0})}setQueriesData(e,t,a){return Sn.batch(()=>ne(this,Mt).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,a)]))}getQueryState(e){var a;const t=this.defaultQueryOptions({queryKey:e});return(a=ne(this,Mt).get(t.queryHash))==null?void 0:a.state}removeQueries(e){const t=ne(this,Mt);Sn.batch(()=>{t.findAll(e).forEach(a=>{t.remove(a)})})}resetQueries(e,t){const a=ne(this,Mt);return Sn.batch(()=>(a.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const a={revert:!0,...t},i=Sn.batch(()=>ne(this,Mt).findAll(e).map(s=>s.cancel(a)));return Promise.all(i).then(xa).catch(xa)}invalidateQueries(e,t={}){return Sn.batch(()=>(ne(this,Mt).findAll(e).forEach(a=>{a.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const a={...t,cancelRefetch:t.cancelRefetch??!0},i=Sn.batch(()=>ne(this,Mt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let r=s.fetch(void 0,a);return a.throwOnError||(r=r.catch(xa)),s.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(i).then(xa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const a=ne(this,Mt).build(this,t);return a.isStaleByTime(fp(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xa).catch(xa)}fetchInfiniteQuery(e){return e.behavior=$y(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xa).catch(xa)}ensureInfiniteQueryData(e){return e.behavior=$y(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dd.isOnline()?ne(this,qi).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,Mt)}getMutationCache(){return ne(this,qi)}getDefaultOptions(){return ne(this,Yi)}setDefaultOptions(e){De(this,Yi,e)}setQueryDefaults(e,t){ne(this,ro).set(tc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ne(this,ro).values()],a={};return t.forEach(i=>{nc(e,i.queryKey)&&Object.assign(a,i.defaultOptions)}),a}setMutationDefaults(e,t){ne(this,oo).set(tc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ne(this,oo).values()],a={};return t.forEach(i=>{nc(e,i.mutationKey)&&Object.assign(a,i.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ne(this,Yi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=f0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===h0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ne(this,Yi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ne(this,Mt).clear(),ne(this,qi).clear()}},Mt=new WeakMap,qi=new WeakMap,Yi=new WeakMap,ro=new WeakMap,oo=new WeakMap,Vi=new WeakMap,lo=new WeakMap,co=new WeakMap,pv),m4=V.createContext(void 0),p4=({client:e,children:t})=>(V.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(m4.Provider,{value:e,children:t}));function fu(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var oN={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(a){e.exports=a()})(function(){return function a(i,s,r){function o(d,p){if(!s[d]){if(!i[d]){var f=typeof fu=="function"&&fu;if(!p&&f)return f(d,!0);if(c)return c(d,!0);var m=new Error("Cannot find module '"+d+"'");throw m.code="MODULE_NOT_FOUND",m}var h=s[d]={exports:{}};i[d][0].call(h.exports,function(x){var b=i[d][1][x];return o(b||x)},h,h.exports,a,i,s,r)}return s[d].exports}for(var c=typeof fu=="function"&&fu,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(a,i,s){var r=a("./utils"),o=a("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(u){for(var d,p,f,m,h,x,b,S=[],g=0,y=u.length,w=y,E=r.getTypeOf(u)!=="string";g<u.length;)w=y-g,f=E?(d=u[g++],p=g<y?u[g++]:0,g<y?u[g++]:0):(d=u.charCodeAt(g++),p=g<y?u.charCodeAt(g++):0,g<y?u.charCodeAt(g++):0),m=d>>2,h=(3&d)<<4|p>>4,x=1<w?(15&p)<<2|f>>6:64,b=2<w?63&f:64,S.push(c.charAt(m)+c.charAt(h)+c.charAt(x)+c.charAt(b));return S.join("")},s.decode=function(u){var d,p,f,m,h,x,b=0,S=0,g="data:";if(u.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var y,w=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===c.charAt(64)&&w--,u.charAt(u.length-2)===c.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=o.uint8array?new Uint8Array(0|w):new Array(0|w);b<u.length;)d=c.indexOf(u.charAt(b++))<<2|(m=c.indexOf(u.charAt(b++)))>>4,p=(15&m)<<4|(h=c.indexOf(u.charAt(b++)))>>2,f=(3&h)<<6|(x=c.indexOf(u.charAt(b++))),y[S++]=d,h!==64&&(y[S++]=p),x!==64&&(y[S++]=f);return y}},{"./support":30,"./utils":32}],2:[function(a,i,s){var r=a("./external"),o=a("./stream/DataWorker"),c=a("./stream/Crc32Probe"),u=a("./stream/DataLengthProbe");function d(p,f,m,h,x){this.compressedSize=p,this.uncompressedSize=f,this.crc32=m,this.compression=h,this.compressedContent=x}d.prototype={getContentWorker:function(){var p=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),f=this;return p.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(p,f,m){return p.pipe(new c).pipe(new u("uncompressedSize")).pipe(f.compressWorker(m)).pipe(new u("compressedSize")).withStreamInfo("compression",f)},i.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,i,s){var r=a("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},s.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,i,s){var r=a("./utils"),o=function(){for(var c,u=[],d=0;d<256;d++){c=d;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;u[d]=c}return u}();i.exports=function(c,u){return c!==void 0&&c.length?r.getTypeOf(c)!=="string"?function(d,p,f,m){var h=o,x=m+f;d^=-1;for(var b=m;b<x;b++)d=d>>>8^h[255&(d^p[b])];return-1^d}(0|u,c,c.length,0):function(d,p,f,m){var h=o,x=m+f;d^=-1;for(var b=m;b<x;b++)d=d>>>8^h[255&(d^p.charCodeAt(b))];return-1^d}(0|u,c,c.length,0):0}},{"./utils":32}],5:[function(a,i,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(a,i,s){var r=null;r=typeof Promise<"u"?Promise:a("lie"),i.exports={Promise:r}},{lie:37}],7:[function(a,i,s){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=a("pako"),c=a("./utils"),u=a("./stream/GenericWorker"),d=r?"uint8array":"array";function p(f,m){u.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=m,this.meta={}}s.magic="\b\0",c.inherits(p,u),p.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(d,f.data),!1)},p.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(m){f.push({data:m,meta:f.meta})}},s.compressWorker=function(f){return new p("Deflate",f)},s.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,i,s){function r(h,x){var b,S="";for(b=0;b<x;b++)S+=String.fromCharCode(255&h),h>>>=8;return S}function o(h,x,b,S,g,y){var w,E,k=h.file,M=h.compression,A=y!==d.utf8encode,I=c.transformTo("string",y(k.name)),j=c.transformTo("string",d.utf8encode(k.name)),N=k.comment,z=c.transformTo("string",y(N)),T=c.transformTo("string",d.utf8encode(N)),C=j.length!==k.name.length,v=T.length!==N.length,D="",U="",H="",P=k.dir,X=k.date,$={crc32:0,compressedSize:0,uncompressedSize:0};x&&!b||($.crc32=h.crc32,$.compressedSize=h.compressedSize,$.uncompressedSize=h.uncompressedSize);var L=0;x&&(L|=8),A||!C&&!v||(L|=2048);var F=0,ue=0;P&&(F|=16),g==="UNIX"?(ue=798,F|=function(oe,Ue){var Fe=oe;return oe||(Fe=Ue?16893:33204),(65535&Fe)<<16}(k.unixPermissions,P)):(ue=20,F|=function(oe){return 63&(oe||0)}(k.dosPermissions)),w=X.getUTCHours(),w<<=6,w|=X.getUTCMinutes(),w<<=5,w|=X.getUTCSeconds()/2,E=X.getUTCFullYear()-1980,E<<=4,E|=X.getUTCMonth()+1,E<<=5,E|=X.getUTCDate(),C&&(U=r(1,1)+r(p(I),4)+j,D+="up"+r(U.length,2)+U),v&&(H=r(1,1)+r(p(z),4)+T,D+="uc"+r(H.length,2)+H);var le="";return le+=`
\0`,le+=r(L,2),le+=M.magic,le+=r(w,2),le+=r(E,2),le+=r($.crc32,4),le+=r($.compressedSize,4),le+=r($.uncompressedSize,4),le+=r(I.length,2),le+=r(D.length,2),{fileRecord:f.LOCAL_FILE_HEADER+le+I+D,dirRecord:f.CENTRAL_FILE_HEADER+r(ue,2)+le+r(z.length,2)+"\0\0\0\0"+r(F,4)+r(S,4)+I+D+z}}var c=a("../utils"),u=a("../stream/GenericWorker"),d=a("../utf8"),p=a("../crc32"),f=a("../signature");function m(h,x,b,S){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=b,this.encodeFileName=S,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(m,u),m.prototype.push=function(h){var x=h.meta.percent||0,b=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,u.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:b?(x+100*(b-S-1))/b:100}}))},m.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var x=this.streamFiles&&!h.file.dir;if(x){var b=o(h,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(h){this.accumulate=!1;var x=this.streamFiles&&!h.file.dir,b=o(h,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),x)this.push({data:function(S){return f.DATA_DESCRIPTOR+r(S.crc32,4)+r(S.compressedSize,4)+r(S.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var h=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var b=this.bytesWritten-h,S=function(g,y,w,E,k){var M=c.transformTo("string",k(E));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(g,2)+r(g,2)+r(y,4)+r(w,4)+r(M.length,2)+M}(this.dirRecords.length,b,h,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(h){this._sources.push(h);var x=this;return h.on("data",function(b){x.processChunk(b)}),h.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),h.on("error",function(b){x.error(b)}),this},m.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(h){var x=this._sources;if(!u.prototype.error.call(this,h))return!1;for(var b=0;b<x.length;b++)try{x[b].error(h)}catch{}return!0},m.prototype.lock=function(){u.prototype.lock.call(this);for(var h=this._sources,x=0;x<h.length;x++)h[x].lock()},i.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,i,s){var r=a("../compressions"),o=a("./ZipFileWorker");s.generateWorker=function(c,u,d){var p=new o(u.streamFiles,d,u.platform,u.encodeFileName),f=0;try{c.forEach(function(m,h){f++;var x=function(y,w){var E=y||w,k=r[E];if(!k)throw new Error(E+" is not a valid compression method !");return k}(h.options.compression,u.compression),b=h.options.compressionOptions||u.compressionOptions||{},S=h.dir,g=h.date;h._compressWorker(x,b).withStreamInfo("file",{name:m,dir:S,date:g,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(p)}),p.entriesCount=f}catch(m){p.error(m)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,i,s){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new r;for(var c in this)typeof this[c]!="function"&&(o[c]=this[c]);return o}}(r.prototype=a("./object")).loadAsync=a("./load"),r.support=a("./support"),r.defaults=a("./defaults"),r.version="3.10.1",r.loadAsync=function(o,c){return new r().loadAsync(o,c)},r.external=a("./external"),i.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,i,s){var r=a("./utils"),o=a("./external"),c=a("./utf8"),u=a("./zipEntries"),d=a("./stream/Crc32Probe"),p=a("./nodejsUtils");function f(m){return new o.Promise(function(h,x){var b=m.decompressed.getContentWorker().pipe(new d);b.on("error",function(S){x(S)}).on("end",function(){b.streamInfo.crc32!==m.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}i.exports=function(m,h){var x=this;return h=r.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),p.isNode&&p.isStream(m)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",m,!0,h.optimizedBinaryString,h.base64).then(function(b){var S=new u(h);return S.load(b),S}).then(function(b){var S=[o.Promise.resolve(b)],g=b.files;if(h.checkCRC32)for(var y=0;y<g.length;y++)S.push(f(g[y]));return o.Promise.all(S)}).then(function(b){for(var S=b.shift(),g=S.files,y=0;y<g.length;y++){var w=g[y],E=w.fileNameStr,k=r.resolve(w.fileNameStr);x.file(k,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:h.createFolders}),w.dir||(x.file(k).unsafeOriginalName=E)}return S.zipComment.length&&(x.comment=S.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,i,s){var r=a("../utils"),o=a("../stream/GenericWorker");function c(u,d){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(d)}r.inherits(c,o),c.prototype._bindStream=function(u){var d=this;(this._stream=u).pause(),u.on("data",function(p){d.push({data:p,meta:{percent:0}})}).on("error",function(p){d.isPaused?this.generatedError=p:d.error(p)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},c.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,i,s){var r=a("readable-stream").Readable;function o(c,u,d){r.call(this,u),this._helper=c;var p=this;c.on("data",function(f,m){p.push(f)||p._helper.pause(),d&&d(m)}).on("error",function(f){p.emit("error",f)}).on("end",function(){p.push(null)})}a("../utils").inherits(o,r),o.prototype._read=function(){this._helper.resume()},i.exports=o},{"../utils":32,"readable-stream":16}],14:[function(a,i,s){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,o);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,o)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var o=new Buffer(r);return o.fill(0),o},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(a,i,s){function r(k,M,A){var I,j=c.getTypeOf(M),N=c.extend(A||{},p);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(k=g(k)),N.createFolders&&(I=S(k))&&y.call(this,I,!0);var z=j==="string"&&N.binary===!1&&N.base64===!1;A&&A.binary!==void 0||(N.binary=!z),(M instanceof f&&M.uncompressedSize===0||N.dir||!M||M.length===0)&&(N.base64=!1,N.binary=!0,M="",N.compression="STORE",j="string");var T=null;T=M instanceof f||M instanceof u?M:x.isNode&&x.isStream(M)?new b(k,M):c.prepareContent(k,M,N.binary,N.optimizedBinaryString,N.base64);var C=new m(k,T,N);this.files[k]=C}var o=a("./utf8"),c=a("./utils"),u=a("./stream/GenericWorker"),d=a("./stream/StreamHelper"),p=a("./defaults"),f=a("./compressedObject"),m=a("./zipObject"),h=a("./generate"),x=a("./nodejsUtils"),b=a("./nodejs/NodejsStreamInputAdapter"),S=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var M=k.lastIndexOf("/");return 0<M?k.substring(0,M):""},g=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},y=function(k,M){return M=M!==void 0?M:p.createFolders,k=g(k),this.files[k]||r.call(this,k,null,{dir:!0,createFolders:M}),this.files[k]};function w(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var M,A,I;for(M in this.files)I=this.files[M],(A=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&k(A,I)},filter:function(k){var M=[];return this.forEach(function(A,I){k(A,I)&&M.push(I)}),M},file:function(k,M,A){if(arguments.length!==1)return k=this.root+k,r.call(this,k,M,A),this;if(w(k)){var I=k;return this.filter(function(N,z){return!z.dir&&I.test(N)})}var j=this.files[this.root+k];return j&&!j.dir?j:null},folder:function(k){if(!k)return this;if(w(k))return this.filter(function(j,N){return N.dir&&k.test(j)});var M=this.root+k,A=y.call(this,M),I=this.clone();return I.root=A.name,I},remove:function(k){k=this.root+k;var M=this.files[k];if(M||(k.slice(-1)!=="/"&&(k+="/"),M=this.files[k]),M&&!M.dir)delete this.files[k];else for(var A=this.filter(function(j,N){return N.name.slice(0,k.length)===k}),I=0;I<A.length;I++)delete this.files[A[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var M,A={};try{if((A=c.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");c.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var I=A.comment||this.comment||"";M=h.generateWorker(this,A,I)}catch(j){(M=new u("error")).error(j)}return new d(M,A.type||"string",A.mimeType)},generateAsync:function(k,M){return this.generateInternalStream(k).accumulate(M)},generateNodeStream:function(k,M){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(M)}};i.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,i,s){i.exports=a("stream")},{stream:void 0}],17:[function(a,i,s){var r=a("./DataReader");function o(c){r.call(this,c);for(var u=0;u<this.data.length;u++)c[u]=255&c[u]}a("../utils").inherits(o,r),o.prototype.byteAt=function(c){return this.data[this.zero+c]},o.prototype.lastIndexOfSignature=function(c){for(var u=c.charCodeAt(0),d=c.charCodeAt(1),p=c.charCodeAt(2),f=c.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===u&&this.data[m+1]===d&&this.data[m+2]===p&&this.data[m+3]===f)return m-this.zero;return-1},o.prototype.readAndCheckSignature=function(c){var u=c.charCodeAt(0),d=c.charCodeAt(1),p=c.charCodeAt(2),f=c.charCodeAt(3),m=this.readData(4);return u===m[0]&&d===m[1]&&p===m[2]&&f===m[3]},o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},i.exports=o},{"../utils":32,"./DataReader":18}],18:[function(a,i,s){var r=a("../utils");function o(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var u,d=0;for(this.checkOffset(c),u=this.index+c-1;u>=this.index;u--)d=(d<<8)+this.byteAt(u);return this.index+=c,d},readString:function(c){return r.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},i.exports=o},{"../utils":32}],19:[function(a,i,s){var r=a("./Uint8ArrayReader");function o(c){r.call(this,c)}a("../utils").inherits(o,r),o.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},i.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,i,s){var r=a("./DataReader");function o(c){r.call(this,c)}a("../utils").inherits(o,r),o.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},o.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},o.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},o.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},i.exports=o},{"../utils":32,"./DataReader":18}],21:[function(a,i,s){var r=a("./ArrayReader");function o(c){r.call(this,c)}a("../utils").inherits(o,r),o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},i.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(a,i,s){var r=a("../utils"),o=a("../support"),c=a("./ArrayReader"),u=a("./StringReader"),d=a("./NodeBufferReader"),p=a("./Uint8ArrayReader");i.exports=function(f){var m=r.getTypeOf(f);return r.checkSupport(m),m!=="string"||o.uint8array?m==="nodebuffer"?new d(f):o.uint8array?new p(r.transformTo("uint8array",f)):new c(r.transformTo("array",f)):new u(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,i,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,i,s){var r=a("./GenericWorker"),o=a("../utils");function c(u){r.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(c,r),c.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},i.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(a,i,s){var r=a("./GenericWorker"),o=a("../crc32");function c(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(c,r),c.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},i.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,i,s){var r=a("../utils"),o=a("./GenericWorker");function c(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}r.inherits(c,o),c.prototype.processChunk=function(u){if(u){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+u.data.length}o.prototype.processChunk.call(this,u)},i.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(a,i,s){var r=a("../utils"),o=a("./GenericWorker");function c(u){o.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(p){d.dataIsReady=!0,d.data=p,d.max=p&&p.length||0,d.type=r.getTypeOf(p),d.isPaused||d._tickAndRepeat()},function(p){d.error(p)})}r.inherits(c,o),c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,d);break;case"uint8array":u=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":u=this.data.slice(this.index,d)}return this.index=d,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(a,i,s){function r(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,c){return this._listeners[o].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,c){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,c)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var c=this;return o.on("data",function(u){c.processChunk(u)}),o.on("end",function(){c.end()}),o.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,c){return this.extraStreamInfo[o]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},i.exports=r},{}],29:[function(a,i,s){var r=a("../utils"),o=a("./ConvertWorker"),c=a("./GenericWorker"),u=a("../base64"),d=a("../support"),p=a("../external"),f=null;if(d.nodestream)try{f=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(x,b){return new p.Promise(function(S,g){var y=[],w=x._internalType,E=x._outputType,k=x._mimeType;x.on("data",function(M,A){y.push(M),b&&b(A)}).on("error",function(M){y=[],g(M)}).on("end",function(){try{var M=function(A,I,j){switch(A){case"blob":return r.newBlob(r.transformTo("arraybuffer",I),j);case"base64":return u.encode(I);default:return r.transformTo(A,I)}}(E,function(A,I){var j,N=0,z=null,T=0;for(j=0;j<I.length;j++)T+=I[j].length;switch(A){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(z=new Uint8Array(T),j=0;j<I.length;j++)z.set(I[j],N),N+=I[j].length;return z;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+A+"'")}}(w,y),k);S(M)}catch(A){g(A)}y=[]}).resume()})}function h(x,b,S){var g=b;switch(b){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=b,this._mimeType=S,r.checkSupport(g),this._worker=x.pipe(new o(g)),x.lock()}catch(y){this._worker=new c("error"),this._worker.error(y)}}h.prototype={accumulate:function(x){return m(this,x)},on:function(x,b){var S=this;return x==="data"?this._worker.on(x,function(g){b.call(S,g.data,g.meta)}):this._worker.on(x,function(){r.delay(b,arguments,S)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},x)}},i.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,i,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var r=new ArrayBuffer(0);try{s.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(r),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!a("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(a,i,s){for(var r=a("./utils"),o=a("./support"),c=a("./nodejsUtils"),u=a("./stream/GenericWorker"),d=new Array(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;d[254]=d[254]=1;function f(){u.call(this,"utf-8 decode"),this.leftOver=null}function m(){u.call(this,"utf-8 encode")}s.utf8encode=function(h){return o.nodebuffer?c.newBufferFrom(h,"utf-8"):function(x){var b,S,g,y,w,E=x.length,k=0;for(y=0;y<E;y++)(64512&(S=x.charCodeAt(y)))==55296&&y+1<E&&(64512&(g=x.charCodeAt(y+1)))==56320&&(S=65536+(S-55296<<10)+(g-56320),y++),k+=S<128?1:S<2048?2:S<65536?3:4;for(b=o.uint8array?new Uint8Array(k):new Array(k),y=w=0;w<k;y++)(64512&(S=x.charCodeAt(y)))==55296&&y+1<E&&(64512&(g=x.charCodeAt(y+1)))==56320&&(S=65536+(S-55296<<10)+(g-56320),y++),S<128?b[w++]=S:(S<2048?b[w++]=192|S>>>6:(S<65536?b[w++]=224|S>>>12:(b[w++]=240|S>>>18,b[w++]=128|S>>>12&63),b[w++]=128|S>>>6&63),b[w++]=128|63&S);return b}(h)},s.utf8decode=function(h){return o.nodebuffer?r.transformTo("nodebuffer",h).toString("utf-8"):function(x){var b,S,g,y,w=x.length,E=new Array(2*w);for(b=S=0;b<w;)if((g=x[b++])<128)E[S++]=g;else if(4<(y=d[g]))E[S++]=65533,b+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&b<w;)g=g<<6|63&x[b++],y--;1<y?E[S++]=65533:g<65536?E[S++]=g:(g-=65536,E[S++]=55296|g>>10&1023,E[S++]=56320|1023&g)}return E.length!==S&&(E.subarray?E=E.subarray(0,S):E.length=S),r.applyFromCharCode(E)}(h=r.transformTo(o.uint8array?"uint8array":"array",h))},r.inherits(f,u),f.prototype.processChunk=function(h){var x=r.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var b=x;(x=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),x.set(b,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var S=function(y,w){var E;for((w=w||y.length)>y.length&&(w=y.length),E=w-1;0<=E&&(192&y[E])==128;)E--;return E<0||E===0?w:E+d[y[E]]>w?E:w}(x),g=x;S!==x.length&&(o.uint8array?(g=x.subarray(0,S),this.leftOver=x.subarray(S,x.length)):(g=x.slice(0,S),this.leftOver=x.slice(S,x.length))),this.push({data:s.utf8decode(g),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=f,r.inherits(m,u),m.prototype.processChunk=function(h){this.push({data:s.utf8encode(h.data),meta:h.meta})},s.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,i,s){var r=a("./support"),o=a("./base64"),c=a("./nodejsUtils"),u=a("./external");function d(b){return b}function p(b,S){for(var g=0;g<b.length;++g)S[g]=255&b.charCodeAt(g);return S}a("setimmediate"),s.newBlob=function(b,S){s.checkSupport("blob");try{return new Blob([b],{type:S})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(b),g.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(b,S,g){var y=[],w=0,E=b.length;if(E<=g)return String.fromCharCode.apply(null,b);for(;w<E;)S==="array"||S==="nodebuffer"?y.push(String.fromCharCode.apply(null,b.slice(w,Math.min(w+g,E)))):y.push(String.fromCharCode.apply(null,b.subarray(w,Math.min(w+g,E)))),w+=g;return y.join("")},stringifyByChar:function(b){for(var S="",g=0;g<b.length;g++)S+=String.fromCharCode(b[g]);return S},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function m(b){var S=65536,g=s.getTypeOf(b),y=!0;if(g==="uint8array"?y=f.applyCanBeUsed.uint8array:g==="nodebuffer"&&(y=f.applyCanBeUsed.nodebuffer),y)for(;1<S;)try{return f.stringifyByChunk(b,g,S)}catch{S=Math.floor(S/2)}return f.stringifyByChar(b)}function h(b,S){for(var g=0;g<b.length;g++)S[g]=b[g];return S}s.applyFromCharCode=m;var x={};x.string={string:d,array:function(b){return p(b,new Array(b.length))},arraybuffer:function(b){return x.string.uint8array(b).buffer},uint8array:function(b){return p(b,new Uint8Array(b.length))},nodebuffer:function(b){return p(b,c.allocBuffer(b.length))}},x.array={string:m,array:d,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(b)}},x.arraybuffer={string:function(b){return m(new Uint8Array(b))},array:function(b){return h(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:d,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(new Uint8Array(b))}},x.uint8array={string:m,array:function(b){return h(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:d,nodebuffer:function(b){return c.newBufferFrom(b)}},x.nodebuffer={string:m,array:function(b){return h(b,new Array(b.length))},arraybuffer:function(b){return x.nodebuffer.uint8array(b).buffer},uint8array:function(b){return h(b,new Uint8Array(b.length))},nodebuffer:d},s.transformTo=function(b,S){if(S=S||"",!b)return S;s.checkSupport(b);var g=s.getTypeOf(S);return x[g][b](S)},s.resolve=function(b){for(var S=b.split("/"),g=[],y=0;y<S.length;y++){var w=S[y];w==="."||w===""&&y!==0&&y!==S.length-1||(w===".."?g.pop():g.push(w))}return g.join("/")},s.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":r.nodebuffer&&c.isBuffer(b)?"nodebuffer":r.uint8array&&b instanceof Uint8Array?"uint8array":r.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(b){if(!r[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(b){var S,g,y="";for(g=0;g<(b||"").length;g++)y+="\\x"+((S=b.charCodeAt(g))<16?"0":"")+S.toString(16).toUpperCase();return y},s.delay=function(b,S,g){setImmediate(function(){b.apply(g||null,S||[])})},s.inherits=function(b,S){function g(){}g.prototype=S.prototype,b.prototype=new g},s.extend=function(){var b,S,g={};for(b=0;b<arguments.length;b++)for(S in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],S)&&g[S]===void 0&&(g[S]=arguments[b][S]);return g},s.prepareContent=function(b,S,g,y,w){return u.Promise.resolve(S).then(function(E){return r.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new u.Promise(function(k,M){var A=new FileReader;A.onload=function(I){k(I.target.result)},A.onerror=function(I){M(I.target.error)},A.readAsArrayBuffer(E)}):E}).then(function(E){var k=s.getTypeOf(E);return k?(k==="arraybuffer"?E=s.transformTo("uint8array",E):k==="string"&&(w?E=o.decode(E):g&&y!==!0&&(E=function(M){return p(M,r.uint8array?new Uint8Array(M.length):new Array(M.length))}(E))),E):u.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,i,s){var r=a("./reader/readerFor"),o=a("./utils"),c=a("./signature"),u=a("./zipEntry"),d=a("./support");function p(f){this.files=[],this.loadOptions=f}p.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(m)+", expected "+o.pretty(f)+")")}},isSignature:function(f,m){var h=this.reader.index;this.reader.setIndex(f);var x=this.reader.readString(4)===m;return this.reader.setIndex(h),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),m=d.uint8array?"uint8array":"array",h=o.transformTo(m,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,m,h,x=this.zip64EndOfCentralSize-44;0<x;)f=this.reader.readInt(2),m=this.reader.readInt(4),h=this.reader.readData(m),this.zip64ExtensibleData[f]={id:f,length:m,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,m;for(f=0;f<this.files.length;f++)m=this.files[f],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(f=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var m=f;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var x=m-h;if(0<x)this.isSignature(m,c.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(f){this.reader=r(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,i,s){var r=a("./reader/readerFor"),o=a("./utils"),c=a("./compressedObject"),u=a("./crc32"),d=a("./utf8"),p=a("./compressions"),f=a("./support");function m(h,x){this.options=h,this.loadOptions=x}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var x,b;if(h.skip(22),this.fileNameLength=h.readInt(2),b=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(S){for(var g in p)if(Object.prototype.hasOwnProperty.call(p,g)&&p[g].magic===S)return p[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,x,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var x=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(x),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var x,b,S,g=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<g;)x=h.readInt(2),b=h.readInt(2),S=h.readData(b),this.extraFields[x]={id:x,length:b,value:S};h.setIndex(g)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var b=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var g=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var x=r(h.value);return x.readInt(1)!==1||u(this.fileName)!==x.readInt(4)?null:d.utf8decode(x.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var x=r(h.value);return x.readInt(1)!==1||u(this.fileComment)!==x.readInt(4)?null:d.utf8decode(x.readData(h.length-5))}return null}},i.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,i,s){function r(x,b,S){this.name=x,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=b,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var o=a("./stream/StreamHelper"),c=a("./stream/DataWorker"),u=a("./utf8"),d=a("./compressedObject"),p=a("./stream/GenericWorker");r.prototype={internalStream:function(x){var b=null,S="string";try{if(!x)throw new Error("No output type specified.");var g=(S=x.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),b=this._decompressWorker();var y=!this._dataBinary;y&&!g&&(b=b.pipe(new u.Utf8EncodeWorker)),!y&&g&&(b=b.pipe(new u.Utf8DecodeWorker))}catch(w){(b=new p("error")).error(w)}return new o(b,S,"")},async:function(x,b){return this.internalStream(x).accumulate(b)},nodeStream:function(x,b){return this.internalStream(x||"nodebuffer").toNodejsStream(b)},_compressWorker:function(x,b){if(this._data instanceof d&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new u.Utf8EncodeWorker)),d.createWorkerFrom(S,x,b)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof p?this._data:new c(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)r.prototype[f[h]]=m;i.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,i,s){(function(r){var o,c,u=r.MutationObserver||r.WebKitMutationObserver;if(u){var d=0,p=new u(x),f=r.document.createTextNode("");p.observe(f,{characterData:!0}),o=function(){f.data=d=++d%2}}else if(r.setImmediate||r.MessageChannel===void 0)o="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var b=r.document.createElement("script");b.onreadystatechange=function(){x(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},r.document.documentElement.appendChild(b)}:function(){setTimeout(x,0)};else{var m=new r.MessageChannel;m.port1.onmessage=x,o=function(){m.port2.postMessage(0)}}var h=[];function x(){var b,S;c=!0;for(var g=h.length;g;){for(S=h,h=[],b=-1;++b<g;)S[b]();g=h.length}c=!1}i.exports=function(b){h.push(b)!==1||c||o()}}).call(this,typeof ol<"u"?ol:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(a,i,s){var r=a("immediate");function o(){}var c={},u=["REJECTED"],d=["FULFILLED"],p=["PENDING"];function f(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,g!==o&&b(this,g)}function m(g,y,w){this.promise=g,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function h(g,y,w){r(function(){var E;try{E=y(w)}catch(k){return c.reject(g,k)}E===g?c.reject(g,new TypeError("Cannot resolve promise with itself")):c.resolve(g,E)})}function x(g){var y=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof y=="function")return function(){y.apply(g,arguments)}}function b(g,y){var w=!1;function E(A){w||(w=!0,c.reject(g,A))}function k(A){w||(w=!0,c.resolve(g,A))}var M=S(function(){y(k,E)});M.status==="error"&&E(M.value)}function S(g,y){var w={};try{w.value=g(y),w.status="success"}catch(E){w.status="error",w.value=E}return w}(i.exports=f).prototype.finally=function(g){if(typeof g!="function")return this;var y=this.constructor;return this.then(function(w){return y.resolve(g()).then(function(){return w})},function(w){return y.resolve(g()).then(function(){throw w})})},f.prototype.catch=function(g){return this.then(null,g)},f.prototype.then=function(g,y){if(typeof g!="function"&&this.state===d||typeof y!="function"&&this.state===u)return this;var w=new this.constructor(o);return this.state!==p?h(w,this.state===d?g:y,this.outcome):this.queue.push(new m(w,g,y)),w},m.prototype.callFulfilled=function(g){c.resolve(this.promise,g)},m.prototype.otherCallFulfilled=function(g){h(this.promise,this.onFulfilled,g)},m.prototype.callRejected=function(g){c.reject(this.promise,g)},m.prototype.otherCallRejected=function(g){h(this.promise,this.onRejected,g)},c.resolve=function(g,y){var w=S(x,y);if(w.status==="error")return c.reject(g,w.value);var E=w.value;if(E)b(g,E);else{g.state=d,g.outcome=y;for(var k=-1,M=g.queue.length;++k<M;)g.queue[k].callFulfilled(y)}return g},c.reject=function(g,y){g.state=u,g.outcome=y;for(var w=-1,E=g.queue.length;++w<E;)g.queue[w].callRejected(y);return g},f.resolve=function(g){return g instanceof this?g:c.resolve(new this(o),g)},f.reject=function(g){var y=new this(o);return c.reject(y,g)},f.all=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,E=!1;if(!w)return this.resolve([]);for(var k=new Array(w),M=0,A=-1,I=new this(o);++A<w;)j(g[A],A);return I;function j(N,z){y.resolve(N).then(function(T){k[z]=T,++M!==w||E||(E=!0,c.resolve(I,k))},function(T){E||(E=!0,c.reject(I,T))})}},f.race=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,E=!1;if(!w)return this.resolve([]);for(var k=-1,M=new this(o);++k<w;)A=g[k],y.resolve(A).then(function(I){E||(E=!0,c.resolve(M,I))},function(I){E||(E=!0,c.reject(M,I))});var A;return M}},{immediate:36}],38:[function(a,i,s){var r={};(0,a("./lib/utils/common").assign)(r,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),i.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,i,s){var r=a("./zlib/deflate"),o=a("./utils/common"),c=a("./utils/strings"),u=a("./zlib/messages"),d=a("./zlib/zstream"),p=Object.prototype.toString,f=0,m=-1,h=0,x=8;function b(g){if(!(this instanceof b))return new b(g);this.options=o.assign({level:m,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},g||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var w=r.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==f)throw new Error(u[w]);if(y.header&&r.deflateSetHeader(this.strm,y.header),y.dictionary){var E;if(E=typeof y.dictionary=="string"?c.string2buf(y.dictionary):p.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(w=r.deflateSetDictionary(this.strm,E))!==f)throw new Error(u[w]);this._dict_set=!0}}function S(g,y){var w=new b(y);if(w.push(g,!0),w.err)throw w.msg||u[w.err];return w.result}b.prototype.push=function(g,y){var w,E,k=this.strm,M=this.options.chunkSize;if(this.ended)return!1;E=y===~~y?y:y===!0?4:0,typeof g=="string"?k.input=c.string2buf(g):p.call(g)==="[object ArrayBuffer]"?k.input=new Uint8Array(g):k.input=g,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new o.Buf8(M),k.next_out=0,k.avail_out=M),(w=r.deflate(k,E))!==1&&w!==f)return this.onEnd(w),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(o.shrinkBuf(k.output,k.next_out))):this.onData(o.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&w!==1);return E===4?(w=r.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f):E!==2||(this.onEnd(f),!(k.avail_out=0))},b.prototype.onData=function(g){this.chunks.push(g)},b.prototype.onEnd=function(g){g===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Deflate=b,s.deflate=S,s.deflateRaw=function(g,y){return(y=y||{}).raw=!0,S(g,y)},s.gzip=function(g,y){return(y=y||{}).gzip=!0,S(g,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,i,s){var r=a("./zlib/inflate"),o=a("./utils/common"),c=a("./utils/strings"),u=a("./zlib/constants"),d=a("./zlib/messages"),p=a("./zlib/zstream"),f=a("./zlib/gzheader"),m=Object.prototype.toString;function h(b){if(!(this instanceof h))return new h(b);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},b||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||b&&b.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&!(15&S.windowBits)&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var g=r.inflateInit2(this.strm,S.windowBits);if(g!==u.Z_OK)throw new Error(d[g]);this.header=new f,r.inflateGetHeader(this.strm,this.header)}function x(b,S){var g=new h(S);if(g.push(b,!0),g.err)throw g.msg||d[g.err];return g.result}h.prototype.push=function(b,S){var g,y,w,E,k,M,A=this.strm,I=this.options.chunkSize,j=this.options.dictionary,N=!1;if(this.ended)return!1;y=S===~~S?S:S===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof b=="string"?A.input=c.binstring2buf(b):m.call(b)==="[object ArrayBuffer]"?A.input=new Uint8Array(b):A.input=b,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(I),A.next_out=0,A.avail_out=I),(g=r.inflate(A,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&j&&(M=typeof j=="string"?c.string2buf(j):m.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,g=r.inflateSetDictionary(this.strm,M)),g===u.Z_BUF_ERROR&&N===!0&&(g=u.Z_OK,N=!1),g!==u.Z_STREAM_END&&g!==u.Z_OK)return this.onEnd(g),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&g!==u.Z_STREAM_END&&(A.avail_in!==0||y!==u.Z_FINISH&&y!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=c.utf8border(A.output,A.next_out),E=A.next_out-w,k=c.buf2string(A.output,w),A.next_out=E,A.avail_out=I-E,E&&o.arraySet(A.output,A.output,w,E,0),this.onData(k)):this.onData(o.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(N=!0)}while((0<A.avail_in||A.avail_out===0)&&g!==u.Z_STREAM_END);return g===u.Z_STREAM_END&&(y=u.Z_FINISH),y===u.Z_FINISH?(g=r.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===u.Z_OK):y!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(A.avail_out=0))},h.prototype.onData=function(b){this.chunks.push(b)},h.prototype.onEnd=function(b){b===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},s.Inflate=h,s.inflate=x,s.inflateRaw=function(b,S){return(S=S||{}).raw=!0,x(b,S)},s.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,i,s){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(u){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var p=d.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var f in p)p.hasOwnProperty(f)&&(u[f]=p[f])}}return u},s.shrinkBuf=function(u,d){return u.length===d?u:u.subarray?u.subarray(0,d):(u.length=d,u)};var o={arraySet:function(u,d,p,f,m){if(d.subarray&&u.subarray)u.set(d.subarray(p,p+f),m);else for(var h=0;h<f;h++)u[m+h]=d[p+h]},flattenChunks:function(u){var d,p,f,m,h,x;for(d=f=0,p=u.length;d<p;d++)f+=u[d].length;for(x=new Uint8Array(f),d=m=0,p=u.length;d<p;d++)h=u[d],x.set(h,m),m+=h.length;return x}},c={arraySet:function(u,d,p,f,m){for(var h=0;h<f;h++)u[m+h]=d[p+h]},flattenChunks:function(u){return[].concat.apply([],u)}};s.setTyped=function(u){u?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,c))},s.setTyped(r)},{}],42:[function(a,i,s){var r=a("./common"),o=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var u=new r.Buf8(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function p(f,m){if(m<65537&&(f.subarray&&c||!f.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(f,m));for(var h="",x=0;x<m;x++)h+=String.fromCharCode(f[x]);return h}u[254]=u[254]=1,s.string2buf=function(f){var m,h,x,b,S,g=f.length,y=0;for(b=0;b<g;b++)(64512&(h=f.charCodeAt(b)))==55296&&b+1<g&&(64512&(x=f.charCodeAt(b+1)))==56320&&(h=65536+(h-55296<<10)+(x-56320),b++),y+=h<128?1:h<2048?2:h<65536?3:4;for(m=new r.Buf8(y),b=S=0;S<y;b++)(64512&(h=f.charCodeAt(b)))==55296&&b+1<g&&(64512&(x=f.charCodeAt(b+1)))==56320&&(h=65536+(h-55296<<10)+(x-56320),b++),h<128?m[S++]=h:(h<2048?m[S++]=192|h>>>6:(h<65536?m[S++]=224|h>>>12:(m[S++]=240|h>>>18,m[S++]=128|h>>>12&63),m[S++]=128|h>>>6&63),m[S++]=128|63&h);return m},s.buf2binstring=function(f){return p(f,f.length)},s.binstring2buf=function(f){for(var m=new r.Buf8(f.length),h=0,x=m.length;h<x;h++)m[h]=f.charCodeAt(h);return m},s.buf2string=function(f,m){var h,x,b,S,g=m||f.length,y=new Array(2*g);for(h=x=0;h<g;)if((b=f[h++])<128)y[x++]=b;else if(4<(S=u[b]))y[x++]=65533,h+=S-1;else{for(b&=S===2?31:S===3?15:7;1<S&&h<g;)b=b<<6|63&f[h++],S--;1<S?y[x++]=65533:b<65536?y[x++]=b:(b-=65536,y[x++]=55296|b>>10&1023,y[x++]=56320|1023&b)}return p(y,x)},s.utf8border=function(f,m){var h;for((m=m||f.length)>f.length&&(m=f.length),h=m-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?m:h+u[f[h]]>m?h:m}},{"./common":41}],43:[function(a,i,s){i.exports=function(r,o,c,u){for(var d=65535&r|0,p=r>>>16&65535|0,f=0;c!==0;){for(c-=f=2e3<c?2e3:c;p=p+(d=d+o[u++]|0)|0,--f;);d%=65521,p%=65521}return d|p<<16|0}},{}],44:[function(a,i,s){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,i,s){var r=function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c}();i.exports=function(o,c,u,d){var p=r,f=d+u;o^=-1;for(var m=d;m<f;m++)o=o>>>8^p[255&(o^c[m])];return-1^o}},{}],46:[function(a,i,s){var r,o=a("../utils/common"),c=a("./trees"),u=a("./adler32"),d=a("./crc32"),p=a("./messages"),f=0,m=4,h=0,x=-2,b=-1,S=4,g=2,y=8,w=9,E=286,k=30,M=19,A=2*E+1,I=15,j=3,N=258,z=N+j+1,T=42,C=113,v=1,D=2,U=3,H=4;function P(_,J){return _.msg=p[J],J}function X(_){return(_<<1)-(4<_?9:0)}function $(_){for(var J=_.length;0<=--J;)_[J]=0}function L(_){var J=_.state,K=J.pending;K>_.avail_out&&(K=_.avail_out),K!==0&&(o.arraySet(_.output,J.pending_buf,J.pending_out,K,_.next_out),_.next_out+=K,J.pending_out+=K,_.total_out+=K,_.avail_out-=K,J.pending-=K,J.pending===0&&(J.pending_out=0))}function F(_,J){c._tr_flush_block(_,0<=_.block_start?_.block_start:-1,_.strstart-_.block_start,J),_.block_start=_.strstart,L(_.strm)}function ue(_,J){_.pending_buf[_.pending++]=J}function le(_,J){_.pending_buf[_.pending++]=J>>>8&255,_.pending_buf[_.pending++]=255&J}function oe(_,J){var K,O,R=_.max_chain_length,Y=_.strstart,Q=_.prev_length,ee=_.nice_match,B=_.strstart>_.w_size-z?_.strstart-(_.w_size-z):0,W=_.window,te=_.w_mask,Z=_.prev,he=_.strstart+N,Ne=W[Y+Q-1],Te=W[Y+Q];_.prev_length>=_.good_match&&(R>>=2),ee>_.lookahead&&(ee=_.lookahead);do if(W[(K=J)+Q]===Te&&W[K+Q-1]===Ne&&W[K]===W[Y]&&W[++K]===W[Y+1]){Y+=2,K++;do;while(W[++Y]===W[++K]&&W[++Y]===W[++K]&&W[++Y]===W[++K]&&W[++Y]===W[++K]&&W[++Y]===W[++K]&&W[++Y]===W[++K]&&W[++Y]===W[++K]&&W[++Y]===W[++K]&&Y<he);if(O=N-(he-Y),Y=he-N,Q<O){if(_.match_start=J,ee<=(Q=O))break;Ne=W[Y+Q-1],Te=W[Y+Q]}}while((J=Z[J&te])>B&&--R!=0);return Q<=_.lookahead?Q:_.lookahead}function Ue(_){var J,K,O,R,Y,Q,ee,B,W,te,Z=_.w_size;do{if(R=_.window_size-_.lookahead-_.strstart,_.strstart>=Z+(Z-z)){for(o.arraySet(_.window,_.window,Z,Z,0),_.match_start-=Z,_.strstart-=Z,_.block_start-=Z,J=K=_.hash_size;O=_.head[--J],_.head[J]=Z<=O?O-Z:0,--K;);for(J=K=Z;O=_.prev[--J],_.prev[J]=Z<=O?O-Z:0,--K;);R+=Z}if(_.strm.avail_in===0)break;if(Q=_.strm,ee=_.window,B=_.strstart+_.lookahead,W=R,te=void 0,te=Q.avail_in,W<te&&(te=W),K=te===0?0:(Q.avail_in-=te,o.arraySet(ee,Q.input,Q.next_in,te,B),Q.state.wrap===1?Q.adler=u(Q.adler,ee,te,B):Q.state.wrap===2&&(Q.adler=d(Q.adler,ee,te,B)),Q.next_in+=te,Q.total_in+=te,te),_.lookahead+=K,_.lookahead+_.insert>=j)for(Y=_.strstart-_.insert,_.ins_h=_.window[Y],_.ins_h=(_.ins_h<<_.hash_shift^_.window[Y+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[Y+j-1])&_.hash_mask,_.prev[Y&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=Y,Y++,_.insert--,!(_.lookahead+_.insert<j)););}while(_.lookahead<z&&_.strm.avail_in!==0)}function Fe(_,J){for(var K,O;;){if(_.lookahead<z){if(Ue(_),_.lookahead<z&&J===f)return v;if(_.lookahead===0)break}if(K=0,_.lookahead>=j&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+j-1])&_.hash_mask,K=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),K!==0&&_.strstart-K<=_.w_size-z&&(_.match_length=oe(_,K)),_.match_length>=j)if(O=c._tr_tally(_,_.strstart-_.match_start,_.match_length-j),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=j){for(_.match_length--;_.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+j-1])&_.hash_mask,K=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart,--_.match_length!=0;);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else O=c._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(O&&(F(_,!1),_.strm.avail_out===0))return v}return _.insert=_.strstart<j-1?_.strstart:j-1,J===m?(F(_,!0),_.strm.avail_out===0?U:H):_.last_lit&&(F(_,!1),_.strm.avail_out===0)?v:D}function Ee(_,J){for(var K,O,R;;){if(_.lookahead<z){if(Ue(_),_.lookahead<z&&J===f)return v;if(_.lookahead===0)break}if(K=0,_.lookahead>=j&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+j-1])&_.hash_mask,K=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=j-1,K!==0&&_.prev_length<_.max_lazy_match&&_.strstart-K<=_.w_size-z&&(_.match_length=oe(_,K),_.match_length<=5&&(_.strategy===1||_.match_length===j&&4096<_.strstart-_.match_start)&&(_.match_length=j-1)),_.prev_length>=j&&_.match_length<=_.prev_length){for(R=_.strstart+_.lookahead-j,O=c._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-j),_.lookahead-=_.prev_length-1,_.prev_length-=2;++_.strstart<=R&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+j-1])&_.hash_mask,K=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),--_.prev_length!=0;);if(_.match_available=0,_.match_length=j-1,_.strstart++,O&&(F(_,!1),_.strm.avail_out===0))return v}else if(_.match_available){if((O=c._tr_tally(_,0,_.window[_.strstart-1]))&&F(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return v}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(O=c._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<j-1?_.strstart:j-1,J===m?(F(_,!0),_.strm.avail_out===0?U:H):_.last_lit&&(F(_,!1),_.strm.avail_out===0)?v:D}function ke(_,J,K,O,R){this.good_length=_,this.max_lazy=J,this.nice_length=K,this.max_chain=O,this.func=R}function Ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*A),this.dyn_dtree=new o.Buf16(2*(2*k+1)),this.bl_tree=new o.Buf16(2*(2*M+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(I+1),this.heap=new o.Buf16(2*E+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*E+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Be(_){var J;return _&&_.state?(_.total_in=_.total_out=0,_.data_type=g,(J=_.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?T:C,_.adler=J.wrap===2?0:1,J.last_flush=f,c._tr_init(J),h):P(_,x)}function jt(_){var J=Be(_);return J===h&&function(K){K.window_size=2*K.w_size,$(K.head),K.max_lazy_match=r[K.level].max_lazy,K.good_match=r[K.level].good_length,K.nice_match=r[K.level].nice_length,K.max_chain_length=r[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=j-1,K.match_available=0,K.ins_h=0}(_.state),J}function Et(_,J,K,O,R,Y){if(!_)return x;var Q=1;if(J===b&&(J=6),O<0?(Q=0,O=-O):15<O&&(Q=2,O-=16),R<1||w<R||K!==y||O<8||15<O||J<0||9<J||Y<0||S<Y)return P(_,x);O===8&&(O=9);var ee=new Ie;return(_.state=ee).strm=_,ee.wrap=Q,ee.gzhead=null,ee.w_bits=O,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=R+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+j-1)/j),ee.window=new o.Buf8(2*ee.w_size),ee.head=new o.Buf16(ee.hash_size),ee.prev=new o.Buf16(ee.w_size),ee.lit_bufsize=1<<R+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new o.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=J,ee.strategy=Y,ee.method=K,jt(_)}r=[new ke(0,0,0,0,function(_,J){var K=65535;for(K>_.pending_buf_size-5&&(K=_.pending_buf_size-5);;){if(_.lookahead<=1){if(Ue(_),_.lookahead===0&&J===f)return v;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var O=_.block_start+K;if((_.strstart===0||_.strstart>=O)&&(_.lookahead=_.strstart-O,_.strstart=O,F(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-z&&(F(_,!1),_.strm.avail_out===0))return v}return _.insert=0,J===m?(F(_,!0),_.strm.avail_out===0?U:H):(_.strstart>_.block_start&&(F(_,!1),_.strm.avail_out),v)}),new ke(4,4,8,4,Fe),new ke(4,5,16,8,Fe),new ke(4,6,32,32,Fe),new ke(4,4,16,16,Ee),new ke(8,16,32,32,Ee),new ke(8,16,128,128,Ee),new ke(8,32,128,256,Ee),new ke(32,128,258,1024,Ee),new ke(32,258,258,4096,Ee)],s.deflateInit=function(_,J){return Et(_,J,y,15,8,0)},s.deflateInit2=Et,s.deflateReset=jt,s.deflateResetKeep=Be,s.deflateSetHeader=function(_,J){return _&&_.state?_.state.wrap!==2?x:(_.state.gzhead=J,h):x},s.deflate=function(_,J){var K,O,R,Y;if(!_||!_.state||5<J||J<0)return _?P(_,x):x;if(O=_.state,!_.output||!_.input&&_.avail_in!==0||O.status===666&&J!==m)return P(_,_.avail_out===0?-5:x);if(O.strm=_,K=O.last_flush,O.last_flush=J,O.status===T)if(O.wrap===2)_.adler=0,ue(O,31),ue(O,139),ue(O,8),O.gzhead?(ue(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(O.gzhead.extra?4:0)+(O.gzhead.name?8:0)+(O.gzhead.comment?16:0)),ue(O,255&O.gzhead.time),ue(O,O.gzhead.time>>8&255),ue(O,O.gzhead.time>>16&255),ue(O,O.gzhead.time>>24&255),ue(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),ue(O,255&O.gzhead.os),O.gzhead.extra&&O.gzhead.extra.length&&(ue(O,255&O.gzhead.extra.length),ue(O,O.gzhead.extra.length>>8&255)),O.gzhead.hcrc&&(_.adler=d(_.adler,O.pending_buf,O.pending,0)),O.gzindex=0,O.status=69):(ue(O,0),ue(O,0),ue(O,0),ue(O,0),ue(O,0),ue(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),ue(O,3),O.status=C);else{var Q=y+(O.w_bits-8<<4)<<8;Q|=(2<=O.strategy||O.level<2?0:O.level<6?1:O.level===6?2:3)<<6,O.strstart!==0&&(Q|=32),Q+=31-Q%31,O.status=C,le(O,Q),O.strstart!==0&&(le(O,_.adler>>>16),le(O,65535&_.adler)),_.adler=1}if(O.status===69)if(O.gzhead.extra){for(R=O.pending;O.gzindex<(65535&O.gzhead.extra.length)&&(O.pending!==O.pending_buf_size||(O.gzhead.hcrc&&O.pending>R&&(_.adler=d(_.adler,O.pending_buf,O.pending-R,R)),L(_),R=O.pending,O.pending!==O.pending_buf_size));)ue(O,255&O.gzhead.extra[O.gzindex]),O.gzindex++;O.gzhead.hcrc&&O.pending>R&&(_.adler=d(_.adler,O.pending_buf,O.pending-R,R)),O.gzindex===O.gzhead.extra.length&&(O.gzindex=0,O.status=73)}else O.status=73;if(O.status===73)if(O.gzhead.name){R=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>R&&(_.adler=d(_.adler,O.pending_buf,O.pending-R,R)),L(_),R=O.pending,O.pending===O.pending_buf_size)){Y=1;break}Y=O.gzindex<O.gzhead.name.length?255&O.gzhead.name.charCodeAt(O.gzindex++):0,ue(O,Y)}while(Y!==0);O.gzhead.hcrc&&O.pending>R&&(_.adler=d(_.adler,O.pending_buf,O.pending-R,R)),Y===0&&(O.gzindex=0,O.status=91)}else O.status=91;if(O.status===91)if(O.gzhead.comment){R=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>R&&(_.adler=d(_.adler,O.pending_buf,O.pending-R,R)),L(_),R=O.pending,O.pending===O.pending_buf_size)){Y=1;break}Y=O.gzindex<O.gzhead.comment.length?255&O.gzhead.comment.charCodeAt(O.gzindex++):0,ue(O,Y)}while(Y!==0);O.gzhead.hcrc&&O.pending>R&&(_.adler=d(_.adler,O.pending_buf,O.pending-R,R)),Y===0&&(O.status=103)}else O.status=103;if(O.status===103&&(O.gzhead.hcrc?(O.pending+2>O.pending_buf_size&&L(_),O.pending+2<=O.pending_buf_size&&(ue(O,255&_.adler),ue(O,_.adler>>8&255),_.adler=0,O.status=C)):O.status=C),O.pending!==0){if(L(_),_.avail_out===0)return O.last_flush=-1,h}else if(_.avail_in===0&&X(J)<=X(K)&&J!==m)return P(_,-5);if(O.status===666&&_.avail_in!==0)return P(_,-5);if(_.avail_in!==0||O.lookahead!==0||J!==f&&O.status!==666){var ee=O.strategy===2?function(B,W){for(var te;;){if(B.lookahead===0&&(Ue(B),B.lookahead===0)){if(W===f)return v;break}if(B.match_length=0,te=c._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,te&&(F(B,!1),B.strm.avail_out===0))return v}return B.insert=0,W===m?(F(B,!0),B.strm.avail_out===0?U:H):B.last_lit&&(F(B,!1),B.strm.avail_out===0)?v:D}(O,J):O.strategy===3?function(B,W){for(var te,Z,he,Ne,Te=B.window;;){if(B.lookahead<=N){if(Ue(B),B.lookahead<=N&&W===f)return v;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=j&&0<B.strstart&&(Z=Te[he=B.strstart-1])===Te[++he]&&Z===Te[++he]&&Z===Te[++he]){Ne=B.strstart+N;do;while(Z===Te[++he]&&Z===Te[++he]&&Z===Te[++he]&&Z===Te[++he]&&Z===Te[++he]&&Z===Te[++he]&&Z===Te[++he]&&Z===Te[++he]&&he<Ne);B.match_length=N-(Ne-he),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=j?(te=c._tr_tally(B,1,B.match_length-j),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(te=c._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),te&&(F(B,!1),B.strm.avail_out===0))return v}return B.insert=0,W===m?(F(B,!0),B.strm.avail_out===0?U:H):B.last_lit&&(F(B,!1),B.strm.avail_out===0)?v:D}(O,J):r[O.level].func(O,J);if(ee!==U&&ee!==H||(O.status=666),ee===v||ee===U)return _.avail_out===0&&(O.last_flush=-1),h;if(ee===D&&(J===1?c._tr_align(O):J!==5&&(c._tr_stored_block(O,0,0,!1),J===3&&($(O.head),O.lookahead===0&&(O.strstart=0,O.block_start=0,O.insert=0))),L(_),_.avail_out===0))return O.last_flush=-1,h}return J!==m?h:O.wrap<=0?1:(O.wrap===2?(ue(O,255&_.adler),ue(O,_.adler>>8&255),ue(O,_.adler>>16&255),ue(O,_.adler>>24&255),ue(O,255&_.total_in),ue(O,_.total_in>>8&255),ue(O,_.total_in>>16&255),ue(O,_.total_in>>24&255)):(le(O,_.adler>>>16),le(O,65535&_.adler)),L(_),0<O.wrap&&(O.wrap=-O.wrap),O.pending!==0?h:1)},s.deflateEnd=function(_){var J;return _&&_.state?(J=_.state.status)!==T&&J!==69&&J!==73&&J!==91&&J!==103&&J!==C&&J!==666?P(_,x):(_.state=null,J===C?P(_,-3):h):x},s.deflateSetDictionary=function(_,J){var K,O,R,Y,Q,ee,B,W,te=J.length;if(!_||!_.state||(Y=(K=_.state).wrap)===2||Y===1&&K.status!==T||K.lookahead)return x;for(Y===1&&(_.adler=u(_.adler,J,te,0)),K.wrap=0,te>=K.w_size&&(Y===0&&($(K.head),K.strstart=0,K.block_start=0,K.insert=0),W=new o.Buf8(K.w_size),o.arraySet(W,J,te-K.w_size,K.w_size,0),J=W,te=K.w_size),Q=_.avail_in,ee=_.next_in,B=_.input,_.avail_in=te,_.next_in=0,_.input=J,Ue(K);K.lookahead>=j;){for(O=K.strstart,R=K.lookahead-(j-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[O+j-1])&K.hash_mask,K.prev[O&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=O,O++,--R;);K.strstart=O,K.lookahead=j-1,Ue(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=j-1,K.match_available=0,_.next_in=ee,_.input=B,_.avail_in=Q,K.wrap=Y,h},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,i,s){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,i,s){i.exports=function(r,o){var c,u,d,p,f,m,h,x,b,S,g,y,w,E,k,M,A,I,j,N,z,T,C,v,D;c=r.state,u=r.next_in,v=r.input,d=u+(r.avail_in-5),p=r.next_out,D=r.output,f=p-(o-r.avail_out),m=p+(r.avail_out-257),h=c.dmax,x=c.wsize,b=c.whave,S=c.wnext,g=c.window,y=c.hold,w=c.bits,E=c.lencode,k=c.distcode,M=(1<<c.lenbits)-1,A=(1<<c.distbits)-1;e:do{w<15&&(y+=v[u++]<<w,w+=8,y+=v[u++]<<w,w+=8),I=E[y&M];t:for(;;){if(y>>>=j=I>>>24,w-=j,(j=I>>>16&255)===0)D[p++]=65535&I;else{if(!(16&j)){if(!(64&j)){I=E[(65535&I)+(y&(1<<j)-1)];continue t}if(32&j){c.mode=12;break e}r.msg="invalid literal/length code",c.mode=30;break e}N=65535&I,(j&=15)&&(w<j&&(y+=v[u++]<<w,w+=8),N+=y&(1<<j)-1,y>>>=j,w-=j),w<15&&(y+=v[u++]<<w,w+=8,y+=v[u++]<<w,w+=8),I=k[y&A];n:for(;;){if(y>>>=j=I>>>24,w-=j,!(16&(j=I>>>16&255))){if(!(64&j)){I=k[(65535&I)+(y&(1<<j)-1)];continue n}r.msg="invalid distance code",c.mode=30;break e}if(z=65535&I,w<(j&=15)&&(y+=v[u++]<<w,(w+=8)<j&&(y+=v[u++]<<w,w+=8)),h<(z+=y&(1<<j)-1)){r.msg="invalid distance too far back",c.mode=30;break e}if(y>>>=j,w-=j,(j=p-f)<z){if(b<(j=z-j)&&c.sane){r.msg="invalid distance too far back",c.mode=30;break e}if(C=g,(T=0)===S){if(T+=x-j,j<N){for(N-=j;D[p++]=g[T++],--j;);T=p-z,C=D}}else if(S<j){if(T+=x+S-j,(j-=S)<N){for(N-=j;D[p++]=g[T++],--j;);if(T=0,S<N){for(N-=j=S;D[p++]=g[T++],--j;);T=p-z,C=D}}}else if(T+=S-j,j<N){for(N-=j;D[p++]=g[T++],--j;);T=p-z,C=D}for(;2<N;)D[p++]=C[T++],D[p++]=C[T++],D[p++]=C[T++],N-=3;N&&(D[p++]=C[T++],1<N&&(D[p++]=C[T++]))}else{for(T=p-z;D[p++]=D[T++],D[p++]=D[T++],D[p++]=D[T++],2<(N-=3););N&&(D[p++]=D[T++],1<N&&(D[p++]=D[T++]))}break}}break}}while(u<d&&p<m);u-=N=w>>3,y&=(1<<(w-=N<<3))-1,r.next_in=u,r.next_out=p,r.avail_in=u<d?d-u+5:5-(u-d),r.avail_out=p<m?m-p+257:257-(p-m),c.hold=y,c.bits=w}},{}],49:[function(a,i,s){var r=a("../utils/common"),o=a("./adler32"),c=a("./crc32"),u=a("./inffast"),d=a("./inftrees"),p=1,f=2,m=0,h=-2,x=1,b=852,S=592;function g(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(T){var C;return T&&T.state?(C=T.state,T.total_in=T.total_out=C.total=0,T.msg="",C.wrap&&(T.adler=1&C.wrap),C.mode=x,C.last=0,C.havedict=0,C.dmax=32768,C.head=null,C.hold=0,C.bits=0,C.lencode=C.lendyn=new r.Buf32(b),C.distcode=C.distdyn=new r.Buf32(S),C.sane=1,C.back=-1,m):h}function E(T){var C;return T&&T.state?((C=T.state).wsize=0,C.whave=0,C.wnext=0,w(T)):h}function k(T,C){var v,D;return T&&T.state?(D=T.state,C<0?(v=0,C=-C):(v=1+(C>>4),C<48&&(C&=15)),C&&(C<8||15<C)?h:(D.window!==null&&D.wbits!==C&&(D.window=null),D.wrap=v,D.wbits=C,E(T))):h}function M(T,C){var v,D;return T?(D=new y,(T.state=D).window=null,(v=k(T,C))!==m&&(T.state=null),v):h}var A,I,j=!0;function N(T){if(j){var C;for(A=new r.Buf32(512),I=new r.Buf32(32),C=0;C<144;)T.lens[C++]=8;for(;C<256;)T.lens[C++]=9;for(;C<280;)T.lens[C++]=7;for(;C<288;)T.lens[C++]=8;for(d(p,T.lens,0,288,A,0,T.work,{bits:9}),C=0;C<32;)T.lens[C++]=5;d(f,T.lens,0,32,I,0,T.work,{bits:5}),j=!1}T.lencode=A,T.lenbits=9,T.distcode=I,T.distbits=5}function z(T,C,v,D){var U,H=T.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new r.Buf8(H.wsize)),D>=H.wsize?(r.arraySet(H.window,C,v-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(D<(U=H.wsize-H.wnext)&&(U=D),r.arraySet(H.window,C,v-D,U,H.wnext),(D-=U)?(r.arraySet(H.window,C,v-D,D,0),H.wnext=D,H.whave=H.wsize):(H.wnext+=U,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=U))),0}s.inflateReset=E,s.inflateReset2=k,s.inflateResetKeep=w,s.inflateInit=function(T){return M(T,15)},s.inflateInit2=M,s.inflate=function(T,C){var v,D,U,H,P,X,$,L,F,ue,le,oe,Ue,Fe,Ee,ke,Ie,Be,jt,Et,_,J,K,O,R=0,Y=new r.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return h;(v=T.state).mode===12&&(v.mode=13),P=T.next_out,U=T.output,$=T.avail_out,H=T.next_in,D=T.input,X=T.avail_in,L=v.hold,F=v.bits,ue=X,le=$,J=m;e:for(;;)switch(v.mode){case x:if(v.wrap===0){v.mode=13;break}for(;F<16;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}if(2&v.wrap&&L===35615){Y[v.check=0]=255&L,Y[1]=L>>>8&255,v.check=c(v.check,Y,2,0),F=L=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&L)<<8)+(L>>8))%31){T.msg="incorrect header check",v.mode=30;break}if((15&L)!=8){T.msg="unknown compression method",v.mode=30;break}if(F-=4,_=8+(15&(L>>>=4)),v.wbits===0)v.wbits=_;else if(_>v.wbits){T.msg="invalid window size",v.mode=30;break}v.dmax=1<<_,T.adler=v.check=1,v.mode=512&L?10:12,F=L=0;break;case 2:for(;F<16;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}if(v.flags=L,(255&v.flags)!=8){T.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){T.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=L>>8&1),512&v.flags&&(Y[0]=255&L,Y[1]=L>>>8&255,v.check=c(v.check,Y,2,0)),F=L=0,v.mode=3;case 3:for(;F<32;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}v.head&&(v.head.time=L),512&v.flags&&(Y[0]=255&L,Y[1]=L>>>8&255,Y[2]=L>>>16&255,Y[3]=L>>>24&255,v.check=c(v.check,Y,4,0)),F=L=0,v.mode=4;case 4:for(;F<16;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}v.head&&(v.head.xflags=255&L,v.head.os=L>>8),512&v.flags&&(Y[0]=255&L,Y[1]=L>>>8&255,v.check=c(v.check,Y,2,0)),F=L=0,v.mode=5;case 5:if(1024&v.flags){for(;F<16;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}v.length=L,v.head&&(v.head.extra_len=L),512&v.flags&&(Y[0]=255&L,Y[1]=L>>>8&255,v.check=c(v.check,Y,2,0)),F=L=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(X<(oe=v.length)&&(oe=X),oe&&(v.head&&(_=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),r.arraySet(v.head.extra,D,H,oe,_)),512&v.flags&&(v.check=c(v.check,D,oe,H)),X-=oe,H+=oe,v.length-=oe),v.length))break e;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(X===0)break e;for(oe=0;_=D[H+oe++],v.head&&_&&v.length<65536&&(v.head.name+=String.fromCharCode(_)),_&&oe<X;);if(512&v.flags&&(v.check=c(v.check,D,oe,H)),X-=oe,H+=oe,_)break e}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(X===0)break e;for(oe=0;_=D[H+oe++],v.head&&_&&v.length<65536&&(v.head.comment+=String.fromCharCode(_)),_&&oe<X;);if(512&v.flags&&(v.check=c(v.check,D,oe,H)),X-=oe,H+=oe,_)break e}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;F<16;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}if(L!==(65535&v.check)){T.msg="header crc mismatch",v.mode=30;break}F=L=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),T.adler=v.check=0,v.mode=12;break;case 10:for(;F<32;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}T.adler=v.check=g(L),F=L=0,v.mode=11;case 11:if(v.havedict===0)return T.next_out=P,T.avail_out=$,T.next_in=H,T.avail_in=X,v.hold=L,v.bits=F,2;T.adler=v.check=1,v.mode=12;case 12:if(C===5||C===6)break e;case 13:if(v.last){L>>>=7&F,F-=7&F,v.mode=27;break}for(;F<3;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}switch(v.last=1&L,F-=1,3&(L>>>=1)){case 0:v.mode=14;break;case 1:if(N(v),v.mode=20,C!==6)break;L>>>=2,F-=2;break e;case 2:v.mode=17;break;case 3:T.msg="invalid block type",v.mode=30}L>>>=2,F-=2;break;case 14:for(L>>>=7&F,F-=7&F;F<32;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}if((65535&L)!=(L>>>16^65535)){T.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&L,F=L=0,v.mode=15,C===6)break e;case 15:v.mode=16;case 16:if(oe=v.length){if(X<oe&&(oe=X),$<oe&&(oe=$),oe===0)break e;r.arraySet(U,D,H,oe,P),X-=oe,H+=oe,$-=oe,P+=oe,v.length-=oe;break}v.mode=12;break;case 17:for(;F<14;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}if(v.nlen=257+(31&L),L>>>=5,F-=5,v.ndist=1+(31&L),L>>>=5,F-=5,v.ncode=4+(15&L),L>>>=4,F-=4,286<v.nlen||30<v.ndist){T.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;F<3;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}v.lens[Q[v.have++]]=7&L,L>>>=3,F-=3}for(;v.have<19;)v.lens[Q[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,K={bits:v.lenbits},J=d(0,v.lens,0,19,v.lencode,0,v.work,K),v.lenbits=K.bits,J){T.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;ke=(R=v.lencode[L&(1<<v.lenbits)-1])>>>16&255,Ie=65535&R,!((Ee=R>>>24)<=F);){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}if(Ie<16)L>>>=Ee,F-=Ee,v.lens[v.have++]=Ie;else{if(Ie===16){for(O=Ee+2;F<O;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}if(L>>>=Ee,F-=Ee,v.have===0){T.msg="invalid bit length repeat",v.mode=30;break}_=v.lens[v.have-1],oe=3+(3&L),L>>>=2,F-=2}else if(Ie===17){for(O=Ee+3;F<O;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}F-=Ee,_=0,oe=3+(7&(L>>>=Ee)),L>>>=3,F-=3}else{for(O=Ee+7;F<O;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}F-=Ee,_=0,oe=11+(127&(L>>>=Ee)),L>>>=7,F-=7}if(v.have+oe>v.nlen+v.ndist){T.msg="invalid bit length repeat",v.mode=30;break}for(;oe--;)v.lens[v.have++]=_}}if(v.mode===30)break;if(v.lens[256]===0){T.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,K={bits:v.lenbits},J=d(p,v.lens,0,v.nlen,v.lencode,0,v.work,K),v.lenbits=K.bits,J){T.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,K={bits:v.distbits},J=d(f,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,K),v.distbits=K.bits,J){T.msg="invalid distances set",v.mode=30;break}if(v.mode=20,C===6)break e;case 20:v.mode=21;case 21:if(6<=X&&258<=$){T.next_out=P,T.avail_out=$,T.next_in=H,T.avail_in=X,v.hold=L,v.bits=F,u(T,le),P=T.next_out,U=T.output,$=T.avail_out,H=T.next_in,D=T.input,X=T.avail_in,L=v.hold,F=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;ke=(R=v.lencode[L&(1<<v.lenbits)-1])>>>16&255,Ie=65535&R,!((Ee=R>>>24)<=F);){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}if(ke&&!(240&ke)){for(Be=Ee,jt=ke,Et=Ie;ke=(R=v.lencode[Et+((L&(1<<Be+jt)-1)>>Be)])>>>16&255,Ie=65535&R,!(Be+(Ee=R>>>24)<=F);){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}L>>>=Be,F-=Be,v.back+=Be}if(L>>>=Ee,F-=Ee,v.back+=Ee,v.length=Ie,ke===0){v.mode=26;break}if(32&ke){v.back=-1,v.mode=12;break}if(64&ke){T.msg="invalid literal/length code",v.mode=30;break}v.extra=15&ke,v.mode=22;case 22:if(v.extra){for(O=v.extra;F<O;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}v.length+=L&(1<<v.extra)-1,L>>>=v.extra,F-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;ke=(R=v.distcode[L&(1<<v.distbits)-1])>>>16&255,Ie=65535&R,!((Ee=R>>>24)<=F);){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}if(!(240&ke)){for(Be=Ee,jt=ke,Et=Ie;ke=(R=v.distcode[Et+((L&(1<<Be+jt)-1)>>Be)])>>>16&255,Ie=65535&R,!(Be+(Ee=R>>>24)<=F);){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}L>>>=Be,F-=Be,v.back+=Be}if(L>>>=Ee,F-=Ee,v.back+=Ee,64&ke){T.msg="invalid distance code",v.mode=30;break}v.offset=Ie,v.extra=15&ke,v.mode=24;case 24:if(v.extra){for(O=v.extra;F<O;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}v.offset+=L&(1<<v.extra)-1,L>>>=v.extra,F-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){T.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if($===0)break e;if(oe=le-$,v.offset>oe){if((oe=v.offset-oe)>v.whave&&v.sane){T.msg="invalid distance too far back",v.mode=30;break}Ue=oe>v.wnext?(oe-=v.wnext,v.wsize-oe):v.wnext-oe,oe>v.length&&(oe=v.length),Fe=v.window}else Fe=U,Ue=P-v.offset,oe=v.length;for($<oe&&(oe=$),$-=oe,v.length-=oe;U[P++]=Fe[Ue++],--oe;);v.length===0&&(v.mode=21);break;case 26:if($===0)break e;U[P++]=v.length,$--,v.mode=21;break;case 27:if(v.wrap){for(;F<32;){if(X===0)break e;X--,L|=D[H++]<<F,F+=8}if(le-=$,T.total_out+=le,v.total+=le,le&&(T.adler=v.check=v.flags?c(v.check,U,le,P-le):o(v.check,U,le,P-le)),le=$,(v.flags?L:g(L))!==v.check){T.msg="incorrect data check",v.mode=30;break}F=L=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;F<32;){if(X===0)break e;X--,L+=D[H++]<<F,F+=8}if(L!==(4294967295&v.total)){T.msg="incorrect length check",v.mode=30;break}F=L=0}v.mode=29;case 29:J=1;break e;case 30:J=-3;break e;case 31:return-4;case 32:default:return h}return T.next_out=P,T.avail_out=$,T.next_in=H,T.avail_in=X,v.hold=L,v.bits=F,(v.wsize||le!==T.avail_out&&v.mode<30&&(v.mode<27||C!==4))&&z(T,T.output,T.next_out,le-T.avail_out)?(v.mode=31,-4):(ue-=T.avail_in,le-=T.avail_out,T.total_in+=ue,T.total_out+=le,v.total+=le,v.wrap&&le&&(T.adler=v.check=v.flags?c(v.check,U,le,T.next_out-le):o(v.check,U,le,T.next_out-le)),T.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(ue==0&&le===0||C===4)&&J===m&&(J=-5),J)},s.inflateEnd=function(T){if(!T||!T.state)return h;var C=T.state;return C.window&&(C.window=null),T.state=null,m},s.inflateGetHeader=function(T,C){var v;return T&&T.state&&2&(v=T.state).wrap?((v.head=C).done=!1,m):h},s.inflateSetDictionary=function(T,C){var v,D=C.length;return T&&T.state?(v=T.state).wrap!==0&&v.mode!==11?h:v.mode===11&&o(1,C,D,0)!==v.check?-3:z(T,C,D,D)?(v.mode=31,-4):(v.havedict=1,m):h},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,i,s){var r=a("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(p,f,m,h,x,b,S,g){var y,w,E,k,M,A,I,j,N,z=g.bits,T=0,C=0,v=0,D=0,U=0,H=0,P=0,X=0,$=0,L=0,F=null,ue=0,le=new r.Buf16(16),oe=new r.Buf16(16),Ue=null,Fe=0;for(T=0;T<=15;T++)le[T]=0;for(C=0;C<h;C++)le[f[m+C]]++;for(U=z,D=15;1<=D&&le[D]===0;D--);if(D<U&&(U=D),D===0)return x[b++]=20971520,x[b++]=20971520,g.bits=1,0;for(v=1;v<D&&le[v]===0;v++);for(U<v&&(U=v),T=X=1;T<=15;T++)if(X<<=1,(X-=le[T])<0)return-1;if(0<X&&(p===0||D!==1))return-1;for(oe[1]=0,T=1;T<15;T++)oe[T+1]=oe[T]+le[T];for(C=0;C<h;C++)f[m+C]!==0&&(S[oe[f[m+C]]++]=C);if(A=p===0?(F=Ue=S,19):p===1?(F=o,ue-=257,Ue=c,Fe-=257,256):(F=u,Ue=d,-1),T=v,M=b,P=C=L=0,E=-1,k=($=1<<(H=U))-1,p===1&&852<$||p===2&&592<$)return 1;for(;;){for(I=T-P,N=S[C]<A?(j=0,S[C]):S[C]>A?(j=Ue[Fe+S[C]],F[ue+S[C]]):(j=96,0),y=1<<T-P,v=w=1<<H;x[M+(L>>P)+(w-=y)]=I<<24|j<<16|N|0,w!==0;);for(y=1<<T-1;L&y;)y>>=1;if(y!==0?(L&=y-1,L+=y):L=0,C++,--le[T]==0){if(T===D)break;T=f[m+S[C]]}if(U<T&&(L&k)!==E){for(P===0&&(P=U),M+=v,X=1<<(H=T-P);H+P<D&&!((X-=le[H+P])<=0);)H++,X<<=1;if($+=1<<H,p===1&&852<$||p===2&&592<$)return 1;x[E=L&k]=U<<24|H<<16|M-b|0}}return L!==0&&(x[M+L]=T-P<<24|64<<16|0),g.bits=U,0}},{"../utils/common":41}],51:[function(a,i,s){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,i,s){var r=a("../utils/common"),o=0,c=1;function u(R){for(var Y=R.length;0<=--Y;)R[Y]=0}var d=0,p=29,f=256,m=f+1+p,h=30,x=19,b=2*m+1,S=15,g=16,y=7,w=256,E=16,k=17,M=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(m+2));u(z);var T=new Array(2*h);u(T);var C=new Array(512);u(C);var v=new Array(256);u(v);var D=new Array(p);u(D);var U,H,P,X=new Array(h);function $(R,Y,Q,ee,B){this.static_tree=R,this.extra_bits=Y,this.extra_base=Q,this.elems=ee,this.max_length=B,this.has_stree=R&&R.length}function L(R,Y){this.dyn_tree=R,this.max_code=0,this.stat_desc=Y}function F(R){return R<256?C[R]:C[256+(R>>>7)]}function ue(R,Y){R.pending_buf[R.pending++]=255&Y,R.pending_buf[R.pending++]=Y>>>8&255}function le(R,Y,Q){R.bi_valid>g-Q?(R.bi_buf|=Y<<R.bi_valid&65535,ue(R,R.bi_buf),R.bi_buf=Y>>g-R.bi_valid,R.bi_valid+=Q-g):(R.bi_buf|=Y<<R.bi_valid&65535,R.bi_valid+=Q)}function oe(R,Y,Q){le(R,Q[2*Y],Q[2*Y+1])}function Ue(R,Y){for(var Q=0;Q|=1&R,R>>>=1,Q<<=1,0<--Y;);return Q>>>1}function Fe(R,Y,Q){var ee,B,W=new Array(S+1),te=0;for(ee=1;ee<=S;ee++)W[ee]=te=te+Q[ee-1]<<1;for(B=0;B<=Y;B++){var Z=R[2*B+1];Z!==0&&(R[2*B]=Ue(W[Z]++,Z))}}function Ee(R){var Y;for(Y=0;Y<m;Y++)R.dyn_ltree[2*Y]=0;for(Y=0;Y<h;Y++)R.dyn_dtree[2*Y]=0;for(Y=0;Y<x;Y++)R.bl_tree[2*Y]=0;R.dyn_ltree[2*w]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function ke(R){8<R.bi_valid?ue(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function Ie(R,Y,Q,ee){var B=2*Y,W=2*Q;return R[B]<R[W]||R[B]===R[W]&&ee[Y]<=ee[Q]}function Be(R,Y,Q){for(var ee=R.heap[Q],B=Q<<1;B<=R.heap_len&&(B<R.heap_len&&Ie(Y,R.heap[B+1],R.heap[B],R.depth)&&B++,!Ie(Y,ee,R.heap[B],R.depth));)R.heap[Q]=R.heap[B],Q=B,B<<=1;R.heap[Q]=ee}function jt(R,Y,Q){var ee,B,W,te,Z=0;if(R.last_lit!==0)for(;ee=R.pending_buf[R.d_buf+2*Z]<<8|R.pending_buf[R.d_buf+2*Z+1],B=R.pending_buf[R.l_buf+Z],Z++,ee===0?oe(R,B,Y):(oe(R,(W=v[B])+f+1,Y),(te=A[W])!==0&&le(R,B-=D[W],te),oe(R,W=F(--ee),Q),(te=I[W])!==0&&le(R,ee-=X[W],te)),Z<R.last_lit;);oe(R,w,Y)}function Et(R,Y){var Q,ee,B,W=Y.dyn_tree,te=Y.stat_desc.static_tree,Z=Y.stat_desc.has_stree,he=Y.stat_desc.elems,Ne=-1;for(R.heap_len=0,R.heap_max=b,Q=0;Q<he;Q++)W[2*Q]!==0?(R.heap[++R.heap_len]=Ne=Q,R.depth[Q]=0):W[2*Q+1]=0;for(;R.heap_len<2;)W[2*(B=R.heap[++R.heap_len]=Ne<2?++Ne:0)]=1,R.depth[B]=0,R.opt_len--,Z&&(R.static_len-=te[2*B+1]);for(Y.max_code=Ne,Q=R.heap_len>>1;1<=Q;Q--)Be(R,W,Q);for(B=he;Q=R.heap[1],R.heap[1]=R.heap[R.heap_len--],Be(R,W,1),ee=R.heap[1],R.heap[--R.heap_max]=Q,R.heap[--R.heap_max]=ee,W[2*B]=W[2*Q]+W[2*ee],R.depth[B]=(R.depth[Q]>=R.depth[ee]?R.depth[Q]:R.depth[ee])+1,W[2*Q+1]=W[2*ee+1]=B,R.heap[1]=B++,Be(R,W,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(Te,At){var En,tt,sn,Oe,Nn,mn,Ct=At.dyn_tree,Un=At.max_code,Jn=At.stat_desc.static_tree,Ta=At.stat_desc.has_stree,Ga=At.stat_desc.extra_bits,ae=At.stat_desc.extra_base,ie=At.stat_desc.max_length,de=0;for(Oe=0;Oe<=S;Oe++)Te.bl_count[Oe]=0;for(Ct[2*Te.heap[Te.heap_max]+1]=0,En=Te.heap_max+1;En<b;En++)ie<(Oe=Ct[2*Ct[2*(tt=Te.heap[En])+1]+1]+1)&&(Oe=ie,de++),Ct[2*tt+1]=Oe,Un<tt||(Te.bl_count[Oe]++,Nn=0,ae<=tt&&(Nn=Ga[tt-ae]),mn=Ct[2*tt],Te.opt_len+=mn*(Oe+Nn),Ta&&(Te.static_len+=mn*(Jn[2*tt+1]+Nn)));if(de!==0){do{for(Oe=ie-1;Te.bl_count[Oe]===0;)Oe--;Te.bl_count[Oe]--,Te.bl_count[Oe+1]+=2,Te.bl_count[ie]--,de-=2}while(0<de);for(Oe=ie;Oe!==0;Oe--)for(tt=Te.bl_count[Oe];tt!==0;)Un<(sn=Te.heap[--En])||(Ct[2*sn+1]!==Oe&&(Te.opt_len+=(Oe-Ct[2*sn+1])*Ct[2*sn],Ct[2*sn+1]=Oe),tt--)}}(R,Y),Fe(W,Ne,R.bl_count)}function _(R,Y,Q){var ee,B,W=-1,te=Y[1],Z=0,he=7,Ne=4;for(te===0&&(he=138,Ne=3),Y[2*(Q+1)+1]=65535,ee=0;ee<=Q;ee++)B=te,te=Y[2*(ee+1)+1],++Z<he&&B===te||(Z<Ne?R.bl_tree[2*B]+=Z:B!==0?(B!==W&&R.bl_tree[2*B]++,R.bl_tree[2*E]++):Z<=10?R.bl_tree[2*k]++:R.bl_tree[2*M]++,W=B,Ne=(Z=0)===te?(he=138,3):B===te?(he=6,3):(he=7,4))}function J(R,Y,Q){var ee,B,W=-1,te=Y[1],Z=0,he=7,Ne=4;for(te===0&&(he=138,Ne=3),ee=0;ee<=Q;ee++)if(B=te,te=Y[2*(ee+1)+1],!(++Z<he&&B===te)){if(Z<Ne)for(;oe(R,B,R.bl_tree),--Z!=0;);else B!==0?(B!==W&&(oe(R,B,R.bl_tree),Z--),oe(R,E,R.bl_tree),le(R,Z-3,2)):Z<=10?(oe(R,k,R.bl_tree),le(R,Z-3,3)):(oe(R,M,R.bl_tree),le(R,Z-11,7));W=B,Ne=(Z=0)===te?(he=138,3):B===te?(he=6,3):(he=7,4)}}u(X);var K=!1;function O(R,Y,Q,ee){le(R,(d<<1)+(ee?1:0),3),function(B,W,te,Z){ke(B),ue(B,te),ue(B,~te),r.arraySet(B.pending_buf,B.window,W,te,B.pending),B.pending+=te}(R,Y,Q)}s._tr_init=function(R){K||(function(){var Y,Q,ee,B,W,te=new Array(S+1);for(B=ee=0;B<p-1;B++)for(D[B]=ee,Y=0;Y<1<<A[B];Y++)v[ee++]=B;for(v[ee-1]=B,B=W=0;B<16;B++)for(X[B]=W,Y=0;Y<1<<I[B];Y++)C[W++]=B;for(W>>=7;B<h;B++)for(X[B]=W<<7,Y=0;Y<1<<I[B]-7;Y++)C[256+W++]=B;for(Q=0;Q<=S;Q++)te[Q]=0;for(Y=0;Y<=143;)z[2*Y+1]=8,Y++,te[8]++;for(;Y<=255;)z[2*Y+1]=9,Y++,te[9]++;for(;Y<=279;)z[2*Y+1]=7,Y++,te[7]++;for(;Y<=287;)z[2*Y+1]=8,Y++,te[8]++;for(Fe(z,m+1,te),Y=0;Y<h;Y++)T[2*Y+1]=5,T[2*Y]=Ue(Y,5);U=new $(z,A,f+1,m,S),H=new $(T,I,0,h,S),P=new $(new Array(0),j,0,x,y)}(),K=!0),R.l_desc=new L(R.dyn_ltree,U),R.d_desc=new L(R.dyn_dtree,H),R.bl_desc=new L(R.bl_tree,P),R.bi_buf=0,R.bi_valid=0,Ee(R)},s._tr_stored_block=O,s._tr_flush_block=function(R,Y,Q,ee){var B,W,te=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(Z){var he,Ne=4093624447;for(he=0;he<=31;he++,Ne>>>=1)if(1&Ne&&Z.dyn_ltree[2*he]!==0)return o;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return c;for(he=32;he<f;he++)if(Z.dyn_ltree[2*he]!==0)return c;return o}(R)),Et(R,R.l_desc),Et(R,R.d_desc),te=function(Z){var he;for(_(Z,Z.dyn_ltree,Z.l_desc.max_code),_(Z,Z.dyn_dtree,Z.d_desc.max_code),Et(Z,Z.bl_desc),he=x-1;3<=he&&Z.bl_tree[2*N[he]+1]===0;he--);return Z.opt_len+=3*(he+1)+5+5+4,he}(R),B=R.opt_len+3+7>>>3,(W=R.static_len+3+7>>>3)<=B&&(B=W)):B=W=Q+5,Q+4<=B&&Y!==-1?O(R,Y,Q,ee):R.strategy===4||W===B?(le(R,2+(ee?1:0),3),jt(R,z,T)):(le(R,4+(ee?1:0),3),function(Z,he,Ne,Te){var At;for(le(Z,he-257,5),le(Z,Ne-1,5),le(Z,Te-4,4),At=0;At<Te;At++)le(Z,Z.bl_tree[2*N[At]+1],3);J(Z,Z.dyn_ltree,he-1),J(Z,Z.dyn_dtree,Ne-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,te+1),jt(R,R.dyn_ltree,R.dyn_dtree)),Ee(R),ee&&ke(R)},s._tr_tally=function(R,Y,Q){return R.pending_buf[R.d_buf+2*R.last_lit]=Y>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&Y,R.pending_buf[R.l_buf+R.last_lit]=255&Q,R.last_lit++,Y===0?R.dyn_ltree[2*Q]++:(R.matches++,Y--,R.dyn_ltree[2*(v[Q]+f+1)]++,R.dyn_dtree[2*F(Y)]++),R.last_lit===R.lit_bufsize-1},s._tr_align=function(R){le(R,2,3),oe(R,w,z),function(Y){Y.bi_valid===16?(ue(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(a,i,s){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,i,s){(function(r){(function(o,c){if(!o.setImmediate){var u,d,p,f,m=1,h={},x=!1,b=o.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(o);S=S&&S.setTimeout?S:o,u={}.toString.call(o.process)==="[object process]"?function(E){process.nextTick(function(){y(E)})}:function(){if(o.postMessage&&!o.importScripts){var E=!0,k=o.onmessage;return o.onmessage=function(){E=!1},o.postMessage("","*"),o.onmessage=k,E}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",w,!1):o.attachEvent("onmessage",w),function(E){o.postMessage(f+E,"*")}):o.MessageChannel?((p=new MessageChannel).port1.onmessage=function(E){y(E.data)},function(E){p.port2.postMessage(E)}):b&&"onreadystatechange"in b.createElement("script")?(d=b.documentElement,function(E){var k=b.createElement("script");k.onreadystatechange=function(){y(E),k.onreadystatechange=null,d.removeChild(k),k=null},d.appendChild(k)}):function(E){setTimeout(y,0,E)},S.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var k=new Array(arguments.length-1),M=0;M<k.length;M++)k[M]=arguments[M+1];var A={callback:E,args:k};return h[m]=A,u(m),m++},S.clearImmediate=g}function g(E){delete h[E]}function y(E){if(x)setTimeout(y,0,E);else{var k=h[E];if(k){x=!0;try{(function(M){var A=M.callback,I=M.args;switch(I.length){case 0:A();break;case 1:A(I[0]);break;case 2:A(I[0],I[1]);break;case 3:A(I[0],I[1],I[2]);break;default:A.apply(c,I)}})(k)}finally{g(E),x=!1}}}}function w(E){E.source===o&&typeof E.data=="string"&&E.data.indexOf(f)===0&&y(+E.data.slice(f.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof ol<"u"?ol:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(oN);var g4=oN.exports;const x4=Md(g4);var st=(e=>(e.ADMIN="ADMIN",e.USER="USER",e.PHOTOGRAPHER="PHOTOGRAPHER",e))(st||{}),We=(e=>(e.FREE="FREE",e.BASIC="BASIC",e.PRO="PRO",e.STUDIO="STUDIO",e))(We||{});const Gn={FREE:{storageLimitMb:100,maxDurationHours:7,allowVideo:!1,allowBranding:!1,allowWatermark:!1},BASIC:{storageLimitMb:10240,maxDurationDays:30,allowVideo:!1,allowBranding:!1,allowWatermark:!1},PRO:{storageLimitMb:30720,maxDurationDays:30,allowVideo:!0,allowBranding:!0,allowWatermark:!0},STUDIO:{storageLimitMb:102400,maxDurationDays:null,allowVideo:!0,allowBranding:!0,allowWatermark:!0}},Th=e=>(e==null?void 0:e.role)==="ADMIN"?{storageLimitMb:1/0,maxDurationDays:null,allowVideo:!0,allowBranding:!0,allowWatermark:!0}:Gn[(e==null?void 0:e.tier)||"FREE"],b4=e=>Gn[e],dt="https://snapify.skytech.mk",ln=()=>{const e=localStorage.getItem("snapify_token");return e?{Authorization:`Bearer ${e}`}:{}},it={fetchUsers:async()=>(await fetch(`${dt}/api/users?_t=${Date.now()}`,{headers:{...ln()}})).json(),login:async(e,t)=>{const a=await fetch(`${dt}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!a.ok)throw new Error("Invalid credentials");return a.json()},googleLogin:async e=>{const t=await fetch(`${dt}/api/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:e})});if(!t.ok)throw new Error("Google login failed");return t.json()},createUser:async e=>{const t=await fetch(`${dt}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Registration failed");return t.json()},updateUser:async e=>{await fetch(`${dt}/api/users/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...ln()},body:JSON.stringify(e)})},upgradeUser:async(e,t)=>{await fetch(`${dt}/api/users/${e}/upgrade`,{method:"PUT",headers:{"Content-Type":"application/json",...ln()},body:JSON.stringify({tier:t})})},deleteUser:async e=>{await fetch(`${dt}/api/users/${e}`,{method:"DELETE",headers:{...ln()}})},fetchEvents:async()=>{const e=await fetch(`${dt}/api/events?_t=${Date.now()}`,{headers:{...ln()}});return e.ok?(await e.json()).map(a=>({...a,media:a.media.map(i=>({...i,isWatermarked:!!i.isWatermarked}))})):[]},fetchEventById:async e=>{const t=await fetch(`${dt}/api/events/${e}?_t=${Date.now()}`);if(!t.ok)throw new Error("Failed to fetch event");const a=await t.json();return{...a,media:a.media.map(i=>({...i,isWatermarked:!!i.isWatermarked}))}},createEvent:async e=>(await fetch(`${dt}/api/events`,{method:"POST",headers:{"Content-Type":"application/json",...ln()},body:JSON.stringify(e)})).json(),updateEvent:async e=>{await fetch(`${dt}/api/events/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...ln()},body:JSON.stringify(e)})},deleteEvent:async e=>{await fetch(`${dt}/api/events/${e}`,{method:"DELETE",headers:{...ln()}})},validateEventPin:async(e,t)=>(await(await fetch(`${dt}/api/events/${e}/validate-pin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:t})})).json()).success,fetchVendors:async e=>{let t=`${dt}/api/vendors`;e&&(t+=`?city=${encodeURIComponent(e)}`);const a=await fetch(t);return a.ok?a.json():[]},uploadMedia:async(e,t,a,i)=>{const s=new FormData;return s.append("file",e),s.append("id",t.id),s.append("eventId",a),s.append("type",t.type),s.append("caption",t.caption||""),s.append("uploadedAt",t.uploadedAt),s.append("uploaderName",t.uploaderName),s.append("uploaderId",t.uploaderId||""),s.append("isWatermarked",String(t.isWatermarked)),s.append("watermarkText",t.watermarkText||""),s.append("privacy",t.privacy||"public"),new Promise((r,o)=>{const c=new XMLHttpRequest;c.open("POST",`${dt}/api/media`);const u=localStorage.getItem("snapify_token");u&&c.setRequestHeader("Authorization",`Bearer ${u}`),i&&(c.upload.onprogress=d=>{if(d.lengthComputable){const p=Math.round(d.loaded/d.total*100);console.log("Upload progress:",p+"%"),i(p)}}),c.onload=()=>{if(console.log("Upload onload - status:",c.status,"response:",c.responseText),c.status>=200&&c.status<300)try{const d=JSON.parse(c.responseText);console.log("Upload success:",d),r(d)}catch(d){console.error("JSON parse error:",d,"response:",c.responseText),o(new Error("Invalid JSON response"))}else console.error("Upload failed - status:",c.status,"statusText:",c.statusText,"response:",c.responseText),o(new Error(`Upload failed: ${c.status} ${c.statusText}`))},c.onerror=()=>{console.error("Upload network error"),o(new Error("Network error during upload"))},c.ontimeout=()=>{console.error("Upload timeout"),o(new Error("Upload timeout"))},c.timeout=3e5,console.log("Starting upload to:",`${dt}/api/media`),c.send(s)})},generateImageCaption:async e=>(await(await fetch(`${dt}/api/ai/generate-caption`,{method:"POST",headers:{"Content-Type":"application/json",...ln()},body:JSON.stringify({imageData:e})})).json()).caption||"Captured moment",generateEventDescription:async(e,t,a)=>(await(await fetch(`${dt}/api/ai/generate-event-description`,{method:"POST",headers:{"Content-Type":"application/json",...ln()},body:JSON.stringify({title:e,date:t,type:a})})).json()).description||"Join us for an amazing celebration!",generateGuestReviews:async(e,t,a=6)=>{const i=`Generate ${a} diverse, authentic guest feedback reviews for a web app called Snapify, an event-sharing platform. The reviews should be from users in ${e}, written in ${t}, and reflect local cultural contexts, experiences, and perspectives.

Requirements:
- Mix of positive, neutral, and constructive criticism tones
- Varied lengths (short to medium)
- Include subtle references to local customs, cuisine, traditions, or events relevant to ${e}
- Use colloquial language and varied formality levels
- Make them feel genuine and realistic
- Each review should be in ${t}

Return the reviews as a JSON array of objects, each with:
- "review": the review text in ${t}
- "translation": English translation if not English
- "tone": "positive", "neutral", or "constructive"
- "rationale": brief explanation of realism

Example structure:
[
  {
    "review": "Review text here",
    "translation": "English translation",
    "tone": "positive",
    "rationale": "Reflects local culture..."
  }
]`;return(await(await fetch(`${dt}/api/ai/generate-guest-reviews`,{method:"POST",headers:{"Content-Type":"application/json",...ln()},body:JSON.stringify({prompt:i,country:e,language:t,count:a})})).json()).reviews||[]},likeMedia:async e=>{await fetch(`${dt}/api/media/${e}/like`,{method:"PUT"})},deleteMedia:async e=>{await fetch(`${dt}/api/media/${e}`,{method:"DELETE",headers:{...ln()}})},bulkDeleteMedia:async e=>{const a=await(await fetch(`${dt}/api/media/bulk-delete`,{method:"POST",headers:{"Content-Type":"application/json",...ln()},body:JSON.stringify({mediaIds:e})})).json();return{success:a.success||!1,deletedCount:a.deletedCount||0}},addGuestbookEntry:async e=>(await fetch(`${dt}/api/guestbook`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),addComment:async e=>(await fetch(`${dt}/api/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),getSystemStorage:async()=>{const e=await fetch(`${dt}/api/system/storage`,{headers:{...ln()}});if(!e.ok)throw new Error("Failed to get storage info");return e.json()},getSupportMessages:async()=>{const e=await fetch(`${dt}/api/support/messages`,{headers:{...ln()}});if(!e.ok)throw new Error("Failed to get support messages");return e.json()},sendAdminReply:async(e,t)=>{if(!(await fetch(`${dt}/api/support/admin-reply`,{method:"POST",headers:{"Content-Type":"application/json",...ln()},body:JSON.stringify({userId:e,message:t})})).ok)throw new Error("Failed to send reply")},markMessageAsRead:async e=>{if(!(await fetch(`${dt}/api/support/messages/${e}/read`,{method:"PUT",headers:{...ln()}})).ok)throw new Error("Failed to mark message as read")}},jh={en:{appName:"SnapifY",appSubtitle:"Event Sharing Platform",heroTitlePrefix:"Every Angle.",heroTitleSuffix:"Every Moment.",heroDesc:"The modern digital guestbook. Collect photos and videos from every guest in real-time without them downloading an app.",getStarted:"Get Started",adminDemo:"Admin Demo",signIn:"Sign In",signUp:"Sign Up",fullName:"Full Name",email:"Email Address",password:"Password",createAccount:"Create Account",continueGoogle:"Continue with Google",terms:"By continuing, you agree to our Terms & Conditions",pricingTitle:"Simple, Transparent Pricing",bestValue:"Best Value",forProfessionals:"For Professionals",event:"event",currentPlan:"Current Plan",contactSales:"Contact Sales",startFree:"Start for Free",myEvents:"My Events",manageEvents:"Manage your parties and albums",newEvent:"New Event",noEvents:"No events yet",createFirst:"Create your first event to start snapping memories with friends!",createNow:"Create an event now",dateTBD:"Date TBD",memories:"memories",owner:"Owner",expired:"Expired",active:"Active",forever:"Forever",copyLink:"Copy Link",hostedBy:"Hosted by",gallery:"Gallery",noPhotos:"No photos yet",beFirst:"Be the first to snap a moment!",snap:"Snap",upload:"Upload",joinParty:"Join the Party",enterName:"Enter your name to contribute photos",yourName:"Your Name",continue:"Continue",cancel:"Cancel",createEvent:"Create New Event",eventTitle:"Event Title",eventTheme:"Event Theme",eventDate:"Event Date",setDate:"Set Date",aiDesc:"AI Description",autoGenerate:"Auto-Generate",generating:"Generating...",aiPlaceholder:"Click auto-generate to let AI write a fun description...",createParty:"Create Party",guest:"Guest",logOut:"Log Out",home:"Home",adminDashboard:"SnapifY Admin",masterControl:"Master Control Dashboard",users:"Users",events:"Events",exit:"Exit",totalUsers:"Total Users",totalEvents:"Total Events",totalMedia:"Total Media",storage:"Storage",registeredUsers:"Registered Users",tier:"Tier",actions:"Actions",deleteUserConfirm:"Are you sure you want to delete this user and all their data?",storageUsage:"Storage Usage by User",systemEvents:"System Events",host:"Host",status:"Status",mediaCount:"Media Count",items:"items",noDate:"No Date",exp:"Exp",unlimited:"Unlimited",editEvent:"Edit Event",modifyExpiration:"Modify Expiration",neverExpires:"Never Expires",expireImmediately:"Expire Immediately",setNewDuration:"Set New Duration (from now)",saveChanges:"Save Changes",modifyExpirationNote:"Modifying expiration will reset the timer starting from the moment you click Save.",seconds:"Seconds",minutes:"Minutes",hours:"Hours",days:"Days",managing:"Managing",mediaItems:"media items",noMedia:"No media in this event",deleteEventConfirm:"Delete this event and all its media permanently?",cameraError:"Unable to access camera. Please check permissions.",takePhoto:"Take Photo",retry:"Retry",eventExpiredTitle:"Event Expired",eventExpiredMsg:"This event's access period has ended. The gallery is no longer accessible to the public. Contact the event organizer for more information.",goHome:"Go Home",adminModeExpired:"Admin Mode: Viewing Expired Event",unknownUser:"Unknown User",authErrorFill:"Please fill in all fields",authErrorEmail:"This email is already registered",authErrorInvalid:"Invalid credentials. Please try again.",authErrorRequired:"Email and password are required",authErrorInvalidEmail:"Please enter a valid email address",authErrorPasswordLength:"Password must be at least 6 characters",authErrorNameRequired:"Name is required and must be at least 2 characters",linkCopied:"Link copied to clipboard!",salesContactMsg:"Thank you for your interest! Our sales team will contact you shortly to upgrade your plan.",adminSettings:"Admin Settings: Expiration",customDuration:"Custom Duration",iAmPhotographer:"I am a Photographer / Studio",applyForPhotographer:"Apply for Photographer/Studio",studioName:"Studio / Business Name",studioDashboard:"Studio Dashboard",verifiedStudio:"Verified Studio",downloadAll:"Download All",views:"Views",watermark:"Apply Watermark",watermarkApplied:"Watermark will be applied",applyWatermark:"Apply Watermark",storageLimit:"Storage Limit Reached! Please upgrade to upload more.",videoRestricted:"Video uploads are available on Pro and Studio plans.",videoDurationLimit:"Videos must be 10 seconds or less",videoTooLong:"Video too long. Maximum duration is 10 seconds.",upgradeToUpload:"Upgrade to Upload",setCover:"Set as Cover",coverSet:"Cover image updated!",contactSalesTitle:"Upgrade Tier",contactSalesDesc:"To unlock this tier, please upgrade your account. An administrator will process your upgrade immediately.",openWhatsapp:"Open WhatsApp",openEmail:"Send Email",downloading:"Zipping...",downloadReady:"Download Ready",zipError:"Error creating zip file.",slideshow:"Slideshow",exitSlideshow:"Exit Slideshow",play:"Play",pause:"Pause",studioSettings:"Studio Settings",uploadLogo:"Upload Logo/Signature",logoDesc:"Upload a PNG with transparent background for best results. This will be applied to the bottom-right of all photos.",currentLogo:"Current Logo",removeLogo:"Remove Logo",saveSettings:"Save Settings",opacity:"Opacity",size:"Size",preview:"Watermark Preview",position:"Position",offsetX:"Horizontal Offset",offsetY:"Vertical Offset",topLeft:"Top Left",topRight:"Top Right",bottomLeft:"Bottom Left",bottomRight:"Bottom Right",center:"Center",guestbook:"Guestbook",leaveMessage:"Leave a message...",signGuestbook:"Sign Guestbook",noMessages:"No messages yet. Be the first!",messageSent:"Message sent!",pinRequired:"PIN Required",enterPin:"Enter Event PIN",submitPin:"Unlock Event",optionalPin:"Optional PIN Code",pinDesc:"Leave blank for public access",invalidPin:"Incorrect PIN",findMe:"Find Me",findMeTitle:"Find Me with AI",findMeDesc:"Upload a selfie and we'll highlight photos of you in this gallery.",uploadSelfie:"Take Selfie",scanning:"Scanning Gallery...",noFaceDetected:"No face detected in your selfie. Try again.",foundMatches:"Found Matches",noMatchesFound:"No photos of you found yet.",clearFilter:"Clear Filter",processing:"Processing Video...",switchCamera:"Switch Camera",backToApp:"Back to App",termsTitle:"Terms & Privacy Policy",effectiveDate:"Effective Date",introTitle:"Introduction",introText:'Welcome to SnapifY ("Service"). By accessing or using our Service, you agree to be bound by these Terms. This Service is a platform for creating shared event albums and capturing photos/videos.',gdprTitle:"GDPR Compliance & Data Privacy",gdprText:"We act as a Data Controller regarding your personal information. We are committed to protecting your privacy in accordance with the General Data Protection Regulation (GDPR).",dataCollectTitle:"Data We Collect",dataCollectList:` Name & Email (for Authentication)
 Uploaded Photos & Videos
 Metadata (Date, Time of upload)
 Device Fingerprint (for Security)`,yourRightsTitle:"Your Rights",yourRightsList:` Right to Access: View your data.
 Right to Rectification: Correct details.
 Right to Erasure: Request deletion.
 Right to Portability: Download ZIPs.`,gdprNote:"* Photos are stored based on the event host's plan. Expired events may be permanently deleted from our servers to ensure data minimization.",userRespTitle:"User Responsibilities",userRespText:"By using this Service, you agree NOT to:",userRespList:` Upload content that is illegal, pornographic, violent, or offensive.
 Infringe on the copyright or privacy rights of others.
 Use the Service for any purpose that violates local laws.`,userRespFooter:"We reserve the right to remove any content and suspend accounts that violate these terms without prior notice.",liabilityTitle:"Limitation of Liability",liabilityText1:'THE SERVICE IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND.',liabilityText2:"TO THE FULLEST EXTENT PERMITTED BY LAW, THE OWNER, ADMINISTRATORS, AND DEVELOPERS OF THIS SERVICE SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, OR ANY LOSS OF DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES, RESULTING FROM (A) YOUR ACCESS TO OR USE OF OR INABILITY TO ACCESS OR USE THE SERVICE; (B) ANY CONDUCT OR CONTENT OF ANY THIRD PARTY ON THE SERVICE.",contactUsTitle:"Contact Us",contactUsText:"For data deletion requests, privacy concerns, or legal inquiries, please contact the Data Protection Officer / Administrator at:",agreeFooter:"By using SnapifY, you agree to these terms.",iAgree:"I Understand & Agree",termsLink:"Terms & Privacy",loginForPrivacy:"Login for Privacy Control",privacyNote:"Register to enable Private Uploads and manage your history.",guestPublicNote:"Photos uploaded as a guest will be public.",private:"Private",public:"Public",loginRequired:"Login required for private uploads",uploadPrivacy:"Upload Privacy",myUploads:"My Uploads",allPhotos:"All Photos",deleteMediaConfirm:"Are you sure you want to delete this media? This cannot be undone.",liveWall:"Live Wall",shareLiveWall:"Share Live Wall",scanToView:"Scan to view this live wall",untitled:"Untitled",by:"by",close:"Close",findMeDevMode:" Experimental Feature: This feature is currently in development.",installApp:"Install App",installAppDesc:"Install SnapifY for a better experience.",addMemory:"Add Memory",tapToUpload:"TAP TO UPLOAD",loginHost:"Already have an account? Sign In",chooseAccess:"How would you like to join?",guestAccess:"Guest Access",continueAsGuest:"Continue as Guest",quickUpload:"Quick Uploads",publicGallery:"Public Gallery",memberLogin:"Login / Sign Up",privateUploadsHistory:"Private uploads & event history",mobileFriendly:"Mobile Optimized",callNow:"Call Now",sendSMS:"Send Text Message",mobileTips:"Mobile Tips: Tap any option above to instantly contact our admin for account upgrades and premium features.",city:"City",location:"Location",locationCity:"Location / City",locationHelpText:"We use this to find local photographers for you.",birthday:"Birthday",wedding:"Wedding",party:"Party",corporate:"Corporate",graduation:"Graduation",travel:"Travel",anniversary:"Anniversary",holiday:"Holiday",sports:"Sports",concert:"Concert",step1Title:"Create Event",step1Desc:"Set up your event in seconds. Choose a theme and privacy settings.",step2Title:"Share QR Code",step2Desc:"Guests scan the code to join. No app download required.",step3Title:"Watch Live",step3Desc:"Photos appear instantly on the Live Slideshow for everyone to see.",featNoApp:"No App Needed",featNoAppDesc:"Guests simply scan and snap. Frictionless participation.",featLiveWall:"Live Slideshow",featLiveWallDesc:"Project photos in real-time on big screens.",featAI:"AI Magic",featAIDesc:"Face detection helps guests find their photos instantly.",featPrivacy:"Total Privacy",featPrivacyDesc:"Secure your memories with PIN codes and admin controls.",proTitle:"For Event Professionals",proDesc:"Boost your photography business with instant delivery and branding.",statPhotos:"Photos Shared",statEvents:"Events Hosted"},mk:{appName:"SnapifY",appSubtitle:"   ",heroTitlePrefix:" .",heroTitleSuffix:" .",heroDesc:"    .              .",getStarted:"",adminDemo:" ",signIn:" ",signUp:" ",fullName:" ",email:"-",password:"",createAccount:" ",continueGoogle:"  Google",terms:" ,     ",pricingTitle:" ",bestValue:"",forProfessionals:" ",event:"",currentPlan:" ",contactSales:" ",startFree:" ",myEvents:" ",manageEvents:"     ",newEvent:" ",noEvents:"   ",createFirst:"      !",createNow:" ",dateTBD:" ",memories:"",owner:"",expired:"",active:"",forever:"",copyLink:" ",hostedBy:" ",gallery:"",noPhotos:" ",beFirst:"    !",snap:"",upload:"",joinParty:" ",enterName:"       ",yourName:" ",continue:"",cancel:"",createEvent:"  ",eventTitle:"  ",eventTheme:"  ",eventDate:"  ",setDate:" ",aiDesc:"AI ",autoGenerate:"",generating:" ...",aiPlaceholder:"   AI   ...",createParty:" ",guest:"",logOut:" ",home:"",adminDashboard:"SnapifY ",masterControl:"  ",users:"",events:"",exit:"",totalUsers:" ",totalEvents:" ",totalMedia:" ",storage:"",registeredUsers:" ",tier:"",actions:"",deleteUserConfirm:"        ?",storageUsage:"  ",systemEvents:" ",host:"",status:"",mediaCount:"  ",items:"",noDate:" ",exp:"",unlimited:"",editEvent:" ",modifyExpiration:" ",neverExpires:"  ",expireImmediately:" ",setNewDuration:"  ",saveChanges:" ",modifyExpirationNote:"          .",seconds:"",minutes:"",hours:"",days:"",managing:"",mediaItems:" ",noMedia:"    ",deleteEventConfirm:"   ?",cameraError:"   .",takePhoto:"",retry:"",eventExpiredTitle:"  ",eventExpiredMsg:"     .   .",goHome:"  ",adminModeExpired:" :    ",unknownUser:" ",authErrorFill:"     ",authErrorEmail:" -   ",authErrorInvalid:" .   .",authErrorRequired:"-    ",authErrorInvalidEmail:"    -",authErrorPasswordLength:"     6 ",authErrorNameRequired:"        2 ",linkCopied:"  !",salesContactMsg:" !     .",adminSettings:": ",customDuration:"",iAmPhotographer:"   / ",applyForPhotographer:"  /",studioName:"   / ",studioDashboard:" ",verifiedStudio:" ",downloadAll:" ",views:"",watermark:"  ",watermarkApplied:"    ",applyWatermark:"  ",storageLimit:"   !",videoRestricted:"     Pro  Studio.",videoDurationLimit:"    10   ",videoTooLong:"  .    10 .",upgradeToUpload:"  ",setCover:"  ",coverSet:"  !",contactSalesTitle:" ",contactSalesDesc:"     ,    .       .",openWhatsapp:" WhatsApp",openEmail:" -",downloading:"  ZIP...",downloadReady:"",zipError:"   ZIP",slideshow:"",exitSlideshow:"",play:"",pause:"",studioSettings:" ",uploadLogo:" /",logoDesc:" PNG   .       .",currentLogo:" ",removeLogo:" ",saveSettings:"",opacity:"",size:"",preview:"  ",position:"",offsetX:" ",offsetY:" ",topLeft:" ",topRight:" ",bottomLeft:" ",bottomRight:" ",center:"",guestbook:"  ",leaveMessage:" ...",signGuestbook:" ",noMessages:" .  !",messageSent:"  !",pinRequired:"  PIN",enterPin:" PIN",submitPin:"",optionalPin:" PIN ",pinDesc:"    ",invalidPin:" PIN",findMe:" ",findMeTitle:"   AI",findMeDesc:"        .",uploadSelfie:" ",scanning:"...",noFaceDetected:"   .",foundMatches:" ",noMatchesFound:"   .",clearFilter:" ",processing:"  ...",switchCamera:" ",backToApp:"  ",termsTitle:"  ",effectiveDate:"    ",introTitle:"",introText:"  SnapifY ().       ,        .            /.",gdprTitle:"GDPR     ",gdprText:"           .                 (GDPR).",dataCollectTitle:"   ",dataCollectList:`   - ( )
    
  (,   )
    ( )`,yourRightsTitle:" ",yourRightsList:`   :    .
   :   .
   :   .
   :  ZIP.`,gdprNote:"*           .                 .",userRespTitle:"  ",userRespText:"    ,    :",userRespList:`      , ,   .
           .
             .`,userRespFooter:"                   .",liabilityTitle:"  ",liabilityText1:"             .",liabilityText2:"     , ,             , , ,    ,     , ,      ,    ()             ; ()          .",contactUsTitle:"",contactUsText:"    ,      ,          /  :",agreeFooter:"   SnapifY,     .",iAgree:"   ",termsLink:"  ",loginForPrivacy:"   ",privacyNote:"        .",guestPublicNote:"     .",private:"",public:"",loginRequired:"    ",uploadPrivacy:"  ",myUploads:" ",allPhotos:" ",deleteMediaConfirm:"         ?",liveWall:" ",shareLiveWall:"  ",scanToView:"       ",untitled:" ",by:"",close:"",findMeDevMode:"  :      .",installApp:" ",installAppDesc:" SnapifY   .",install:"",offlineMode:"  ",chooseAccess:"    ?",guestAccess:" ",continueAsGuest:"  ",quickUpload:" ",publicGallery:" ",memberLogin:" / ",privateUploadsHistory:"   ",mobileFriendly:"  ",callNow:" ",sendSMS:" ",mobileTips:"  :                 .",city:"",location:"",locationCity:" / ",locationHelpText:"         .",birthday:"",wedding:"",party:"",corporate:"",graduation:"",travel:"",anniversary:"",holiday:"",sports:"",concert:"",loginHost:"  ?  ",addMemory:" ",tapToUpload:"  ",step1Title:" ",step1Desc:"      .    .",step2Title:" QR ",step2Desc:"       .    .",step3Title:"  ",step3Desc:"       .",featNoApp:" ",featNoAppDesc:"    .",featLiveWall:"  ",featLiveWallDesc:"       .",featAI:"AI ",featAIDesc:"            .",featPrivacy:" ",featPrivacyDesc:"     PIN    .",proTitle:" ",proDesc:"        .",statPhotos:" ",statEvents:" "},tr:{appName:"SnapifY",appSubtitle:"Etkinlik Paylam Platformu",heroTitlePrefix:"Her A.",heroTitleSuffix:"Her An.",heroDesc:"Modern dijital ziyareti defteri. Uygulama indirmeden her misafirden gerek zamanl fotoraf ve video toplayn.",getStarted:"Balayn",adminDemo:"Ynetici Demo",signIn:"Giri Yap",signUp:"Kayt Ol",fullName:"Ad Soyad",email:"E-posta Adresi",password:"ifre",createAccount:"Hesap Olutur",continueGoogle:"Google ile Devam Et",terms:"Devam ederek, artlar ve Koullar kabul etmi olursunuz",pricingTitle:"Basit, effaf Fiyatlandrma",bestValue:"En yi Deer",forProfessionals:"Profesyoneller in",event:"etkinlik",currentPlan:"Mevcut Plan",contactSales:"Sat Ekibiyle letiime Ge",startFree:"cretsiz Bala",myEvents:"Etkinliklerim",manageEvents:"Partilerinizi ve albmlerinizi ynetin",newEvent:"Yeni Etkinlik",noEvents:"Henz etkinlik yok",createFirst:"Arkadalarnzla an yakalamak iin ilk etkinliinizi oluturun!",createNow:"imdi etkinlik olutur",dateTBD:"Tarih Belirlenecek",memories:"anlar",owner:"Sahip",expired:"Sresi Doldu",active:"Aktif",forever:"Sonsuza Dek",copyLink:"Balanty Kopyala",hostedBy:"Ev Sahibi",gallery:"Galeri",noPhotos:"Henz fotoraf yok",beFirst:"lk fotoraf eken siz olun!",snap:"ek",upload:"Ykle",joinParty:"Partiye Katl",enterName:"Fotoraf yklemek iin adnz girin",yourName:"Adnz",continue:"Devam Et",cancel:"ptal",createEvent:"Yeni Etkinlik Olutur",eventTitle:"Etkinlik Bal",eventTheme:"Etkinlik Temas",eventDate:"Etkinlik Tarihi",setDate:"Tarih Ayarla",aiDesc:"AI Aklamas",autoGenerate:"Otomatik Olutur",generating:"Oluturuluyor...",aiPlaceholder:"AI'n elenceli bir aklama yazmas iin tklayn...",createParty:"Parti Olutur",guest:"Misafir",logOut:"k Yap",home:"Ana Sayfa",adminDashboard:"SnapifY Ynetici",masterControl:"Ana Kontrol Paneli",users:"Kullanclar",events:"Etkinlikler",exit:"k",totalUsers:"Toplam Kullanc",totalEvents:"Toplam Etkinlik",totalMedia:"Toplam Medya",storage:"Depolama",registeredUsers:"Kaytl Kullanclar",tier:"Seviye",actions:"lemler",deleteUserConfirm:"Bu kullancy ve tm verilerini silmek istediinizden emin misiniz?",storageUsage:"Kullanc Depolama Kullanm",systemEvents:"Sistem Etkinlikleri",host:"Ev Sahibi",status:"Durum",mediaCount:"Medya Says",items:"e",noDate:"Tarih Yok",exp:"Biti",unlimited:"Snrsz",editEvent:"Etkinlii Dzenle",modifyExpiration:"Sreyi Deitir",neverExpires:"Asla Sona Ermez",expireImmediately:"Hemen Sona Erdir",setNewDuration:"Yeni Sre Belirle",saveChanges:"Deiiklikleri Kaydet",modifyExpirationNote:"Sreyi deitirmek, kaydettiiniz andan itibaren zamanlaycy sfrlar.",seconds:"Saniye",minutes:"Dakika",hours:"Saat",days:"Gn",managing:"Ynetiliyor",mediaItems:"medya esi",noMedia:"Bu etkinlikte medya yok",deleteEventConfirm:"Bu etkinlii kalc olarak sil?",cameraError:"Kameraya eriilemiyor. zinleri kontrol edin.",takePhoto:"Fotoraf ek",retry:"Tekrar Dene",eventExpiredTitle:"Etkinlik Sona Erdi",eventExpiredMsg:"Bu etkinlie eriim sresi doldu. Daha fazla bilgi iin organizatrle iletiime gein.",goHome:"Ana Sayfaya Git",adminModeExpired:"Ynetici Modu: Sresi Dolmu Etkinlik",unknownUser:"Bilinmeyen Kullanc",authErrorFill:"Ltfen tm alanlar doldurun",authErrorEmail:"Bu e-posta zaten kaytl",authErrorInvalid:"Geersiz bilgiler. Tekrar deneyin.",authErrorRequired:"E-posta ve ifre gerekli",authErrorInvalidEmail:"Ltfen geerli bir e-posta adresi girin",authErrorPasswordLength:"ifre en az 6 karakter olmaldr",authErrorNameRequired:"Ad gerekli ve en az 2 karakter olmaldr",linkCopied:"Balant panoya kopyaland!",salesContactMsg:"lginiz iin teekkrler! Sat ekibimiz sizinle iletiime geecek.",adminSettings:"Ynetici Ayarlar: Sre",customDuration:"zel Sre",iAmPhotographer:"Ben Bir Fotorafym / Stdyoyum",applyForPhotographer:"Fotoraf/Stdyo Bavurusu",studioName:"Stdyo / letme Ad",studioDashboard:"Stdyo Paneli",verifiedStudio:"Onayl Stdyo",downloadAll:"Tmn ndir",views:"Grntleme",watermark:"Filigran Ekle",watermarkApplied:"Filigran uygulanacak",applyWatermark:"Filigran Uygula",storageLimit:"Depolama Snrna Ulald!",videoRestricted:"Video yklemeleri Pro ve Studio planlarnda mevcuttur.",videoDurationLimit:"Videolar 10 saniye veya daha az olmaldr",videoTooLong:"Video ok uzun. Maksimum sre 10 saniyedir.",upgradeToUpload:"Yklemek iin Ykselt",setCover:"Kapak Olarak Ayarla",coverSet:"Kapak gncellendi!",contactSalesTitle:"Seviye Ykselt",contactSalesDesc:"Bu seviyenin kilidini amak iin ltfen hesabnz ykseltin. Bir ynetici ykseltmenizi ileyecektir.",openWhatsapp:"WhatsApp' A",openEmail:"E-posta Gnder",downloading:"Sktrlyor...",downloadReady:"ndirme Hazr",zipError:"ZIP hatas",slideshow:"Slayt Gsterisi",exitSlideshow:"k",play:"Oynat",pause:"Duraklat",studioSettings:"Stdyo Ayarlar",uploadLogo:"Logo/mza Ykle",logoDesc:"En iyi sonu iin effaf arka planl PNG ykleyin. Tm fotoraflarn sa alt kesine uygulanacaktr.",currentLogo:"Mevcut Logo",removeLogo:"Logoyu Kaldr",saveSettings:"Ayarlar Kaydet",opacity:"Opaklk",size:"Boyut",preview:"Filigran nizleme",position:"Pozisyon",offsetX:"Yatay Ofset",offsetY:"Dikey Ofset",topLeft:"Sol st",topRight:"Sa st",bottomLeft:"Sol Alt",bottomRight:"Sa Alt",center:"Orta",guestbook:"Ziyareti Defteri",leaveMessage:"Mesaj brakn...",signGuestbook:"mzala",noMessages:"Henz mesaj yok. lk siz olun!",messageSent:"Mesaj gnderildi!",pinRequired:"PIN Gerekli",enterPin:"Etkinlik PIN'ini Girin",submitPin:"Etkinlii A",optionalPin:"stee Bal PIN Kodu",pinDesc:"Herkese ak eriim iin bo brakn",invalidPin:"Hatal PIN",findMe:"Beni Bul",findMeTitle:"AI ile Beni Bul",findMeDesc:"Bir selfie ykleyin ve bu galerideki fotoraflarnz vurgulayalm.",uploadSelfie:"Selfie ek",scanning:"Galeri Taranyor...",noFaceDetected:"Yz alglanamad. Tekrar deneyin.",foundMatches:"Elemeler Bulundu",noMatchesFound:"Henz fotorafnz bulunamad.",clearFilter:"Filtreyi Temizle",processing:"Video leniyor...",switchCamera:"Kameray Deitir",backToApp:"Uygulamaya Dn",termsTitle:"artlar ve Gizlilik Politikas",effectiveDate:"Yrrlk Tarihi",introTitle:"Giri",introText:`SnapifY'a ("Hizmet") ho geldiniz. Hizmetimize erierek veya kullanarak, bu artlara bal kalmay kabul edersiniz. Bu Hizmet, paylalan etkinlik albmleri oluturmak ve fotoraf/video ekmek iin bir platformdur.`,gdprTitle:"GDPR Uyumluluu ve Veri Gizlilii",gdprText:"Kiisel bilgilerinizle ilgili olarak Veri Sorumlusu olarak hareket ediyoruz. Gizliliinizi Genel Veri Koruma Ynetmelii (GDPR) uyarnca korumay taahht ediyoruz.",dataCollectTitle:"Topladmz Veriler",dataCollectList:` Ad ve E-posta (Kimlik Dorulama iin)
 Yklenen Fotoraflar ve Videolar
 Meta Veriler (Ykleme Tarihi, Saati)
 Cihaz Parmak zi (Gvenlik iin)`,yourRightsTitle:"Haklarnz",yourRightsList:` Eriim Hakk: Verilerinizi grntleyin.
 Dzeltme Hakk: Ayrntlar dzeltin.
 Silme Hakk: Silme talebinde bulunun.
 Tanabilirlik Hakk: ZIP indirin.`,gdprNote:"* Fotoraflar, etkinlik sahibinin planna gre saklanr. Sresi dolan etkinlikler, veri minimizasyonunu salamak iin sunucularmzdan kalc olarak silinebilir.",userRespTitle:"Kullanc Sorumluluklar",userRespText:"Bu Hizmeti kullanarak, aadakileri YAPMAMAYI kabul edersiniz:",userRespList:` Yasa d, pornografik, iddet ieren veya saldrgan ierik yklemek.
 Bakalarnn telif hakk veya gizlilik haklarn ihlal etmek.
 Hizmeti yerel yasalar ihlal eden herhangi bir ama iin kullanmak.`,userRespFooter:"Bu artlar ihlal eden herhangi bir ierii kaldrma ve hesaplar nceden haber vermeksizin askya alma hakkmz sakl tutarz.",liabilityTitle:"Sorumluluk Snrlamas",liabilityText1:'HZMET "OLDUU GB" VE "MEVCUT OLDUU EKLDE" HERHANG BR GARANT OLMAKSIZIN SALANIR.',liabilityText2:"YASALARIN ZN VERD EN GEN LDE, BU HZMETN SAHB, YNETCLER VE GELTRCLER; (A) HZMETE ERMNZ VEYA KULLANIMINIZ VEYA EREMEMENZ VEYA KULLANAMAMANIZ; (B) HZMETTEK HERHANG BR NC TARAFIN HERHANG BR DAVRANII VEYA ERNDEN KAYNAKLANAN HERHANG BR DOLAYLI, ARIZ, ZEL, SONU OLARAK ORTAYA IKAN VEYA CEZA HASARLARDAN VEYA VER, KULLANIM, Y NYET VEYA DER MADD OLMAYAN KAYIPLARDAN SORUMLU OLMAYACAKTIR.",contactUsTitle:"Bize Ulan",contactUsText:"Veri silme talepleri, gizlilik endieleri veya yasal sorular iin ltfen Veri Koruma Grevlisi / Ynetici ile u adresten iletiime gein:",agreeFooter:"SnapifY' kullanarak, bu artlar kabul etmi olursunuz.",iAgree:"Anlyorum ve Kabul Ediyorum",termsLink:"artlar ve Gizlilik",loginForPrivacy:"Gizlilik Kontrol iin Giri Yapn",privacyNote:"zel Yklemeleri etkinletirmek ve gemiinizi ynetmek iin kaydolun.",guestPublicNote:"Misafir olarak yklenen fotoraflar herkese ak olacaktr.",private:"zel",public:"Genel",loginRequired:"zel yklemeler iin giri gerekli",uploadPrivacy:"Ykleme Gizlilii",myUploads:"Yklemelerim",allPhotos:"Tm Fotoraflar",deleteMediaConfirm:"Bu medyay silmek istediinizden emin misiniz?",liveWall:"Canl Duvar",shareLiveWall:"Canl Duvar Payla",scanToView:"Bu canl duvar grmek iin tarayn",untitled:"Balksz",by:"tarafndan",close:"Kapat",findMeDevMode:" Deneysel zellik: Bu zellik u anda gelitirme aamasndadr.",installApp:"Uygulamay Ykle",installAppDesc:"Daha iyi bir deneyim iin SnapifY' ykleyin.",install:"Ykle",offlineMode:"u anda evrimdsnz",chooseAccess:"Nasl katlmak istersiniz?",guestAccess:"Misafir Girii",continueAsGuest:"Misafir Olarak Devam Et",quickUpload:"Hzl Ykleme",publicGallery:"Herkese Ak Galeri",memberLogin:"Giri Yap / Kayt Ol",privateUploadsHistory:"zel yklemeler ve etkinlik gemii",mobileFriendly:"Mobil Optimize",callNow:"Hemen Ara",sendSMS:"SMS Gnder",mobileTips:"Mobil pular: Hesap ykseltmeleri ve premium zellikler iin yneticimizle annda iletiime gemek iin yukardaki herhangi bir seenee dokunun.",city:"ehir",location:"Konum",locationCity:"Konum / ehir",locationHelpText:"Bununla size yerel fotoraflar buluyoruz.",birthday:"Doum Gn",wedding:"Dn",party:"Parti",corporate:"Kurumsal",graduation:"Mezuniyet",travel:"Seyahat",anniversary:"Yldnm",holiday:"Tatil",sports:"Spor",concert:"Konser",loginHost:"Zaten hesabnz var m? Giri Yap",addMemory:"An Ekle",tapToUpload:"YKLEMEK N DOKUN",step1Title:"Etkinlik Olutur",step1Desc:"Saniyeler iinde etkinliinizi kurun. Tema ve ayarlar sein.",step2Title:"QR Payla",step2Desc:"Misafirler katlmak iin kodu tarar. Uygulama gerekmez.",step3Title:"Canl zle",step3Desc:"Fotoraflar annda byk ekranda slayt gsterisi olarak grnr.",featNoApp:"Uygulama Yok",featNoAppDesc:"Misafirler sadece tarar ve eker. Kesintisiz katlm.",featLiveWall:"Canl Slayt Gsterisi",featLiveWallDesc:"Fotoraflar gerek zamanl olarak byk ekranlara yanstn.",featAI:"AI Sihri",featAIDesc:"Yz alglama, misafirlerin fotoraflarn annda bulmasna yardmc olur.",featPrivacy:"Tam Gizlilik",featPrivacyDesc:"Anlarnz PIN kodlar ve ynetici kontrolleriyle koruyun.",proTitle:"Profesyoneller in",proDesc:"Annda teslimat ve markalama ile fotoraflk iinizi bytn.",statPhotos:"Paylalan Fotoraf",statEvents:"Dzenlenen Etkinlik"},sq:{appName:"SnapifY",appSubtitle:"Platform pr Ndarjen e Ngjarjeve",heroTitlePrefix:"do Knd.",heroTitleSuffix:"do Moment.",heroDesc:"Libri modern digjital i mysafirve. Mblidhni foto dhe video nga do mysafir n koh reale pa shkarkuar aplikacion.",getStarted:"Fillo Tani",adminDemo:"Demo Admin",signIn:"Hyni",signUp:"Regjistrohu",fullName:"Emri i Plot",email:"Adresa Email",password:"Fjalkalimi",createAccount:"Krijo Llogari",continueGoogle:"Vazhdo me Google",terms:"Duke vazhduar, ju pajtoheni me Kushtet tona",pricingTitle:"mime t Thjeshta",bestValue:"Vlera m e mir",forProfessionals:"Pr Profesionistt",event:"ngjarje",currentPlan:"Plani Aktual",contactSales:"Kontakto Shitjet",startFree:"Fillo Falas",myEvents:"Ngjarjet e Mia",manageEvents:"Menaxho festat dhe albumet e tua",newEvent:"Ngjarje e Re",noEvents:"Ende asnj ngjarje",createFirst:"Krijo ngjarjen tnde t par!",createNow:"Krijo ngjarje tani",dateTBD:"Data s shpejti",memories:"kujtime",owner:"Pronari",expired:"Skaduar",active:"Aktive",forever:"Prgjithmon",copyLink:"Kopjo Linkun",hostedBy:"Organizuar nga",gallery:"Galeria",noPhotos:"Asnj foto ende",beFirst:"Bhu i pari q shkrep nj moment!",snap:"Shkrep",upload:"Ngarko",joinParty:"Bashkohu n Fest",enterName:"Shkruani emrin tuaj pr t ngarkuar foto",yourName:"Emri Juaj",continue:"Vazhdo",cancel:"Anulo",createEvent:"Krijo Ngjarje t Re",eventTitle:"Titulli i Ngjarjes",eventTheme:"Tema e Ngjarjes",eventDate:"Data e Ngjarjes",setDate:"Cakto Datn",aiDesc:"Prshkrim AI",autoGenerate:"Gjenero",generating:"Po gjenerohet...",aiPlaceholder:"Kliko pr t gjeneruar nj prshkrim...",createParty:"Krijo Fest",guest:"Mysafir",logOut:"Dil",home:"Kreu",adminDashboard:"SnapifY Admin",masterControl:"Paneli Kryesor i Kontrollit",users:"Prdoruesit",events:"Ngjarjet",exit:"Dalja",totalUsers:"Gjithsej Prdorues",totalEvents:"Gjithsej Ngjarje",totalMedia:"Gjithsej Media",storage:"Hapsira",registeredUsers:"Prdoruesit e Regjistruar",tier:"Niveli",actions:"Veprime",deleteUserConfirm:"A jeni t sigurt q doni ta fshini kt prdorues?",storageUsage:"Prdorimi i Hapsirs",systemEvents:"Ngjarjet e Sistemit",host:"Mikpritsi",status:"Statusi",mediaCount:"Numri i Mediave",items:"artikuj",noDate:"Pa Dat",exp:"Skadon",unlimited:"Pa limit",editEvent:"Ndrysho Ngjarjen",modifyExpiration:"Ndrysho Skadimin",neverExpires:"Nuk Skadon Kurr",expireImmediately:"Skado Menjher",setNewDuration:"Cakto Kohzgjatje t Re",saveChanges:"Ruaj Ndryshimet",modifyExpirationNote:"Ndryshimi i skadimit do t rifilloj kohmatsin.",seconds:"Sekonda",minutes:"Minuta",hours:"Or",days:"Dit",managing:"Duke menaxhuar",mediaItems:"artikuj media",noMedia:"Asnj media n kt ngjarje",deleteEventConfirm:"Fshi kt ngjarje prgjithmon?",cameraError:"Nuk mund t qaset kamera.",takePhoto:"Bj Foto",retry:"Provo Prsri",eventExpiredTitle:"Ngjarja ka Skaduar",eventExpiredMsg:"Qasja n kt ngjarje ka prfunduar.",goHome:"Shko n Kreu",adminModeExpired:"Admin: Po shikon ngjarje t skaduar",unknownUser:"Prdorues i Panjohur",authErrorFill:"Ju lutemi plotsoni t gjitha fushat",authErrorEmail:"Kjo email sht regjistruar tashm",authErrorInvalid:"T dhna t pasakta. Provo prsri.",authErrorRequired:"Email dhe fjalkalimi krkohen",authErrorInvalidEmail:"Ju lutemi shkruani nj adres email t vlefshme",authErrorPasswordLength:"Fjalkalimi duhet t ket t paktn 6 karaktere",authErrorNameRequired:"Emri krkohet dhe duhet t ket t paktn 2 karaktere",linkCopied:"Linku u kopjua!",salesContactMsg:"Faleminderit! Ekipi yn do t'ju kontaktoj.",adminSettings:"Cilsimet Admin: Skadimi",customDuration:"Kohzgjatje e Veant",iAmPhotographer:"Jam Fotograf / Studio",applyForPhotographer:"Apliko pr Fotograf/Studi",studioName:"Emri i Studios / Biznesit",studioDashboard:"Paneli i Studios",verifiedStudio:"Studio e Verifikuar",downloadAll:"Shkarko T Gjitha",views:"Shikime",watermark:"Apliko Watermark",watermarkApplied:"Watermark do t aplikohet",applyWatermark:"Apliko Watermark",storageLimit:"Kufiri i Hapsirs u Arrit!",videoRestricted:"Videot jan vetm pr planet Pro dhe Studio.",videoDurationLimit:"Videot duhet t jen 10 sekonda ose m pak",videoTooLong:"Video shum i gjat. Kohzgjatja maksimale sht 10 sekonda.",upgradeToUpload:"Prmirso pr t Ngarkuar",setCover:"Cakto si Kopertin",coverSet:"Kopertina u prditsua!",contactSalesTitle:"Prmirso Nivelin",contactSalesDesc:"Pr t zhbllokuar kt nivel, prmirsoni llogarin tuaj. Nj administrator do ta prpunoj prmirsimin tuaj menjher.",openWhatsapp:"Hap WhatsApp",openEmail:"Drgo Email",downloading:"Po krijon ZIP...",downloadReady:"Gati pr Shkarkim",zipError:"Gabim n krijimin e ZIP",slideshow:"Slideshow",exitSlideshow:"Dil",play:"Luaj",pause:"Pusho",studioSettings:"Cilsimet e Studios",uploadLogo:"Ngarko Logo/Nnshkrim",logoDesc:"Ngarkoni nj PNG me sfond transparent. Do t vendoset n cepin e djatht posht.",currentLogo:"Logo Aktuale",removeLogo:"Fshi Logo",saveSettings:"Ruaj Cilsimet",opacity:"Opaciteti",size:"Madhsia",preview:"Pamje paraprake",position:"Pozicioni",offsetX:"Zhvendosje Horizontale",offsetY:"Zhvendosje Vertikale",topLeft:"Lart Majtas",topRight:"Lart Djathtas",bottomLeft:"Posht Majtas",bottomRight:"Posht Djathtas",center:"Qendr",guestbook:"Libri i Mysafirve",leaveMessage:"Lini nj mesazh...",signGuestbook:"Nnshkruaj",noMessages:"Asnj mesazh ende. Bhu i pari!",messageSent:"Mesazhi u drgua!",pinRequired:"Krkohet PIN",enterPin:"Shkruani PIN-in",submitPin:"Zhblloko",optionalPin:"Kodi PIN Opsional",pinDesc:"Lreni bosh pr qasje publike",invalidPin:"PIN i Gabuar",findMe:"M Gjej",findMeTitle:"M Gjej me AI",findMeDesc:"Ngarkoni nj selfie dhe do t gjejm fotot tuaja.",uploadSelfie:"Bj Selfie",scanning:"Po skanon galerin...",noFaceDetected:"Nuk u gjet fytyr. Provo prsri.",foundMatches:"U Gjetn",noMatchesFound:"Asnj foto e juaja ende.",clearFilter:"Pastro",processing:"Duke procesuar videon...",switchCamera:"Ndrysho Kamern",backToApp:"Kthehu n Aplikacion",termsTitle:"Kushtet dhe Privatsia",effectiveDate:"Data e Hyjes n Fuqi",introTitle:"Hyrje",introText:'Mirsevini n SnapifY ("Shrbimi"). Duke hyr ose prdorur Shrbimin ton, ju pajtoheni q t jeni t detyruar nga kto Kushte. Ky Shrbim sht nj platform pr krijimin e albumeve t prbashkta t ngjarjeve dhe kapjen e fotove/videove.',gdprTitle:"Prputhshmria me GDPR dhe Privatsia e t Dhnave",gdprText:"Ne veprojm si Kontrollues t Dhnash n lidhje me informacionin tuaj personal. Ne jemi t prkushtuar t mbrojm privatsin tuaj n prputhje me Rregulloren e Prgjithshme pr Mbrojtjen e t Dhnave (GDPR).",dataCollectTitle:"T Dhnat q Mbledhim",dataCollectList:` Emri dhe Email-i (pr Autentifikim)
 Fotot dhe Videot e Ngarkuara
 T dhnat meta (Data, Koha e ngarkimit)
 Gjurmt e Pajisjes (pr Siguri)`,yourRightsTitle:"T Drejtat Tuaja",yourRightsList:` E drejta pr qasje: Shikoni t dhnat tuaja.
 E drejta pr korrigjim: Korrigjoni detajet.
 E drejta pr fshirje: Krkoni fshirjen.
 E drejta pr transportueshmri: Shkarkoni ZIP.`,gdprNote:"* Fotot ruhen bazuar n planin e organizatorit t ngjarjes. Ngjarjet e skaduara mund t fshihen prgjithmon nga servert tan pr t siguruar minimizimin e t dhnave.",userRespTitle:"Prgjegjsit e Prdoruesit",userRespText:"Duke prdorur kt Shrbim, ju pajtoheni t MOS:",userRespList:` Ngarkoni prmbajtje q sht e paligjshme, pornografike, e dhunshme ose ofenduese.
 Shkelni t drejtat e autorit ose t drejtat e privatsis s t tjerve.
 Prdorni Shrbimin pr ndonj qllim q shkel ligjet vendore.`,userRespFooter:"Ne rezervojm t drejtn t heqim do prmbajtje dhe t pezullojm llogarit q shkelin kto kushte pa njoftim paraprak.",liabilityTitle:"Kufizimi i Prgjegjsis",liabilityText1:'SHRBIMI OFROHET "SI SHT" DHE "SI SHT I DISPONUESHM" PA ASNJ LLOJ GARANCIE.',liabilityText2:"N SHKALLN M T PLOT T LEJUAR NGA LIGJI, PRONARI, ADMINISTRATORT DHE ZHVILLUESIT E KTIJ SHRBIMI NUK DO T JEN PRGJEGJS PR ASNJ DM T TRTHORT, AKSIDENTAL, T VEANT, T RNDSISHM OSE NDSHKUES, OSE NDONJ HUMBJE T T DHNAVE, PRDORIMIT, EMRIT T MIR OSE HUMBJE T TJERA T PAPREKSHME, Q RRJEDHIN NGA (A) QASJA JUAJ OSE PRDORIMI OSE PAMUNDSIA PR T HYR OSE PRDORUR SHRBIMIN; (B) DO SJELLJE OSE PRMBAJTJE E NDONJ PALE T TRET N SHRBIM.",contactUsTitle:"Na Kontaktoni",contactUsText:"Pr krkesa pr fshirjen e t dhnave, shqetsime pr privatsin ose pyetje ligjore, ju lutemi kontaktoni Zyrtarin pr Mbrojtjen e t Dhnave / Administratorin n:",agreeFooter:"Duke prdorur SnapifY, ju pajtoheni me kto kushte.",iAgree:"Kuptoj dhe Pajtohem",termsLink:"Kushtet dhe Privatsia",loginForPrivacy:"Hyni pr Kontrollin e Privatsis",privacyNote:"Regjistrohuni pr t aktivizuar Ngarkimet Private dhe pr t menaxhuar historin tuaj.",guestPublicNote:"Fotot e ngarkuara si mysafir do t jen publike.",private:"Private",public:"Publike",loginRequired:"Krkohet hyrja pr ngarkime private",uploadPrivacy:"Privatsia e Ngarkimit",myUploads:"Ngarkimet e Mia",allPhotos:"T Gjitha Fotot",deleteMediaConfirm:"A jeni i sigurt se doni t fshini kt media?",liveWall:"Mur i Gjall",shareLiveWall:"Ndaj Murin e Gjall",scanToView:"Skano pr t par kt mur t gjall",untitled:"Pa Titull",by:"nga",close:"Mbyll",findMeDevMode:" Veori Eksperimentale: Kjo veori sht aktualisht n zhvillim.",installApp:"Instalo Aplikacionin",installAppDesc:"Instalo SnapifY pr nj prvoj m t mir.",install:"Instalo",offlineMode:"Ju jeni aktualisht offline",chooseAccess:"Si dshironi t bashkoheni?",guestAccess:"Qasje si Mysafir",continueAsGuest:"Vazhdo si Mysafir",quickUpload:"Ngarkime t Shpejta",publicGallery:"Galeri Publike",memberLogin:"Hyni / Regjistrohuni",privateUploadsHistory:"Ngarkime private & historia e ngjarjeve",mobileFriendly:"Optimizuar pr Mobile",callNow:"Thirr Tani",sendSMS:"Drgo SMS",mobileTips:"Kshilla pr Mobile: Prekni do opsion pr t kontaktuar menjher adminin pr prmirsime t llogaris dhe veori premium.",city:"Qyteti",location:"Vendndodhja",locationCity:"Vendndodhja / Qyteti",locationHelpText:"E prdorim kt pr t gjetur fotograf lokal pr ju.",birthday:"Ditlindje",wedding:"Dasma",party:"Fest",corporate:"Korporative",graduation:"Diplomim",travel:"Udhtim",anniversary:"Prvjetor",holiday:"Pushime",sports:"Sport",concert:"Koncert",loginHost:"Keni llogari? Hyni",addMemory:"Shto Kujtime",tapToUpload:"PREK PR T NGARKUAR",step1Title:"Krijo Ngjarje",step1Desc:"Konfiguroni ngjarjen n sekonda. Zgjidhni temn dhe cilsimet.",step2Title:"Ndaj QR Kodin",step2Desc:"Mysafirt skanojn kodin pr t'u bashkuar. Nuk krkohet aplikacion.",step3Title:"Shiko Live",step3Desc:"Fotot shfaqen menjher n Slideshow.",featNoApp:"Pa Aplikacion",featNoAppDesc:"Mysafirt thjesht skanojn dhe shkrepin.",featLiveWall:"Slideshow Live",featLiveWallDesc:"Projektoni fotot n koh reale n ekrane t mdha.",featAI:"Magjia AI",featAIDesc:"Detektimi i fytyrs i ndihmon mysafirt t gjejn fotot e tyre menjher.",featPrivacy:"Privatsi Totale",featPrivacyDesc:"Siguroni kujtimet tuaja me PIN dhe kontrolle admini.",proTitle:"Pr Profesionistt",proDesc:"Prmirsoni biznesin tuaj t fotografis me shprndarje t menjhershme.",statPhotos:"Foto t Ndara",statEvents:"Ngjarje t Organizuara"}},y4=e=>[{id:We.FREE,name:"Party Starter",price:"Free",features:["7 Hours Access Limit","100MB Storage","Standard Support","Ad-supported"],cta:e("startFree"),limit:"7 Hours Active Time"},{id:We.BASIC,name:"Celebration Plus",price:"$9.99",features:["10GB Storage","30 Days Active","HD Photo Uploads","AI Auto-Captioning"],cta:e("contactSales"),limit:"30 Days Access"},{id:We.PRO,name:"Gala Elite",price:"$29.99",features:["30GB Storage","30 Days Active","4K Video Support","Priority Support","Custom Branding"],cta:e("contactSales"),limit:"30 Days Access"},{id:We.STUDIO,name:"Studio Enterprise",price:"$99",features:["Unlimited Events","Auto Watermarking","Studio Branding","Client Analytics","Instant ZIP Download"],cta:e("applyForPhotographer"),limit:"Professional Suite"}],v4=[{id:"Birthday",labelKey:"birthday",emoji:""},{id:"Wedding",labelKey:"wedding",emoji:""},{id:"Party",labelKey:"party",emoji:""},{id:"Corporate",labelKey:"corporate",emoji:""},{id:"Graduation",labelKey:"graduation",emoji:""},{id:"Travel",labelKey:"travel",emoji:""},{id:"Anniversary",labelKey:"anniversary",emoji:""},{id:"Holiday",labelKey:"holiday",emoji:""},{id:"Sports",labelKey:"sports",emoji:""},{id:"Concert",labelKey:"concert",emoji:""}],Wy=["https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80&w=1920","https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&q=80&w=1920","https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?auto=format&fit=crop&q=80&w=1920","https://images.unsplash.com/photo-1513151233558-d860c5398176?auto=format&fit=crop&q=80&w=1920"],S4="modulepreload",_4=function(e){return"/"+e},Xy={},w4=function(t,a,i){let s=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(a.map(u=>{if(u=_4(u),u in Xy)return;Xy[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":S4,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&r(c.reason);return t().catch(r)})};function E4(e={}){const{immediate:t=!1,onNeedRefresh:a,onOfflineReady:i,onRegistered:s,onRegisteredSW:r,onRegisterError:o}=e;let c,u;const d=async(f=!0)=>{await u};async function p(){if("serviceWorker"in navigator){if(c=await w4(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/sw.js",{scope:"/",type:"classic"})).catch(f=>{o==null||o(f)}),!c)return;c.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),c.addEventListener("installed",f=>{f.isUpdate||i==null||i()}),c.register({immediate:t}).then(f=>{r?r("/sw.js",f):s==null||s(f)}).catch(f=>{o==null||o(f)})}}return u=p(),d}function lN(e={}){const{immediate:t=!0,onNeedRefresh:a,onOfflineReady:i,onRegistered:s,onRegisteredSW:r,onRegisterError:o}=e,[c,u]=V.useState(!1),[d,p]=V.useState(!1),[f]=V.useState(()=>E4({immediate:t,onOfflineReady(){p(!0),i==null||i()},onNeedRefresh(){u(!0),a==null||a()},onRegistered:s,onRegisteredSW:r,onRegisterError:o}));return{needRefresh:[c,u],offlineReady:[d,p],updateServiceWorker:f}}const N4="https://snapify.skytech.mk";class k4{constructor(){this.socket=null}connect(t){this.socket&&this.socket.connected||(this.socket&&!this.socket.connected&&(this.socket.disconnect(),this.socket=null),this.socket=yN(N4,{transports:["websocket","polling"],timeout:2e4,forceNew:!1,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{var a;t&&((a=this.socket)==null||a.emit("authenticate",t))}),this.socket.on("disconnect",a=>{(a==="io client disconnect"||document.hidden)&&(this.socket=null)}),this.socket.on("connect_error",a=>{}))}joinEvent(t){this.socket&&this.socket.emit("join_event",t)}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}on(t,a){this.socket&&this.socket.on(t,a)}off(t,a){this.socket&&(a?this.socket.off(t,a):this.socket.off(t))}}const Qe=new k4,T4=({users:e,events:t,onDeleteUser:a,onDeleteEvent:i,onDeleteMedia:s,onUpdateEvent:r,onUpdateUser:o,onNewEvent:c,onDownloadEvent:u,onClose:d,onLogout:p,t:f})=>{var de,be,He,yt,ve,ze;const[m,h]=V.useState("users"),{updateServiceWorker:x}=lN(),[b,S]=V.useState(null),[g,y]=V.useState(null),[w,E]=V.useState(null),[k,M]=V.useState(null),[A,I]=V.useState(null),[j,N]=V.useState(!1),[z,T]=V.useState([]),[C,v]=V.useState(!1),[D,U]=V.useState(null),[H,P]=V.useState(!1),[X,$]=V.useState(null),[L,F]=V.useState(""),[ue,le]=V.useState("custom"),[oe,Ue]=V.useState(30),[Fe,Ee]=V.useState("minutes"),[ke,Ie]=V.useState(null),[Be,jt]=V.useState(""),[Et,_]=V.useState(""),[J,K]=V.useState(""),[O,R]=V.useState(We.FREE),[Y,Q]=V.useState(st.USER),ee=e.map(G=>({name:G.name.split(" ")[0],used:G.storageUsedMb,limit:G.storageLimitMb}));V.useEffect(()=>{m==="system"&&!A&&(async()=>{N(!0);try{const ce=await it.getSystemStorage();I(ce)}catch{}finally{N(!1)}})()},[m,A]),V.useEffect(()=>{const G=ce=>{ce.key==="Escape"&&(w?E(null):X?$(null):ke&&Ie(null))};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[w,X,ke]),V.useEffect(()=>{Qe.connect();const G=ce=>{var ge;T($e=>[ce,...$e]),"Notification"in window&&Notification.permission==="granted"&&new Notification("New Upgrade Request",{body:`${((ge=ce.userInfo)==null?void 0:ge.name)||"Anonymous user"} requested upgrade to ${ce.tier}`,icon:"/icon-192x192.png"})};return Qe.on("upgrade_request",G),()=>{Qe.off("upgrade_request",G)}},[]),V.useEffect(()=>{const G=ce=>{C&&!ce.target.closest(".notification-container")&&v(!1)};return C&&document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[C]);const B=G=>{var ce;return((ce=e.find(ge=>ge.id===G))==null?void 0:ce.name)||f("unknownUser")},W=G=>G?new Date>new Date(G):!1,te=G=>t.filter(ce=>ce.hostId===G),Z=G=>t.filter(ce=>ce.hostId===G).length,he=G=>{let ce="bg-green-50 text-green-700 border-green-200",ge=null;return G===We.STUDIO?(ce="bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-900 border-amber-300",ge=l.jsx(Ma,{size:10,className:"mr-1 fill-amber-700"})):G===We.PRO?(ce="bg-purple-50 text-purple-700 border-purple-200",ge=l.jsx(wa,{size:10,className:"mr-1 fill-purple-500"})):G===We.BASIC?(ce="bg-blue-50 text-blue-700 border-blue-200",ge=l.jsx(Od,{size:10,className:"mr-1 fill-blue-500"})):ce="bg-slate-100 text-slate-600 border-slate-200",l.jsxs("span",{className:`px-2.5 py-1 inline-flex items-center text-xs leading-5 font-bold rounded-full border ${ce}`,children:[ge,G]})},Ne=G=>{M({isOpen:!0,type:"user",id:G.id,title:"Delete User Account",message:`Are you sure you want to delete ${G.name}? This will permanently remove their account AND all ${Z(G.id)} events associated with them.`})},Te=G=>{M({isOpen:!0,type:"event",id:G.id,title:"Delete Event",message:`Are you sure you want to delete "${G.title}"? This will permanently delete the event gallery and all ${G.media.length} media items inside it.`})},At=(G,ce)=>{M({isOpen:!0,type:"media",id:ce,parentId:G,title:"Delete Media Item",message:"Are you sure you want to delete this photo/video? It will be permanently removed from the gallery."})},En=async()=>{if(!k)return;const{type:G,id:ce,parentId:ge}=k;G==="user"?a(ce):G==="event"?(i(ce),(b==null?void 0:b.id)===ce&&S(null)):G==="media"&&ge&&(s(ge,ce),S($e=>$e?{...$e,media:$e.media.filter(vt=>vt.id!==ce)}:null),(w==null?void 0:w.id)===ce&&E(null)),M(null)},tt=G=>{$(G),F(G.title),G.expiresAt?(le("custom"),Ue(30),Ee("minutes")):le("unlimited")},sn=()=>{if(!X)return;let G=X.expiresAt;if(ue==="unlimited")G=null;else if(ue==="immediate")G=new Date().toISOString();else{const ge=new Date().getTime();let $e=1e3;Fe==="minutes"&&($e=60*1e3),Fe==="hours"&&($e=60*60*1e3),Fe==="days"&&($e=24*60*60*1e3),G=new Date(ge+oe*$e).toISOString()}const ce={...X,title:L,expiresAt:G};r(ce),$(null)},Oe=G=>{Ie(G),jt(G.name),_(G.email),K(Gn[G.tier].allowBranding&&G.studioName||""),R(G.tier),Q(G.role)},Nn=()=>{if(!ke)return;const G=Gn[O],ce={...ke,name:Be,email:Et,studioName:G.allowBranding?J:void 0,role:Y,tier:O};o(ce),Ie(null)},mn=G=>{y(G),h("userEvents")},Ct=()=>{y(null),h("users")},Un=async()=>{if(confirm("Force update app to latest version? This will unregister all service workers and reload the page.")){try{await x(!0)}catch(G){console.error(G)}if("serviceWorker"in navigator){const G=await navigator.serviceWorker.getRegistrations();for(const ce of G)await ce.unregister()}window.location.reload()}},Jn=()=>{if(confirm(` FORCE RELOAD ALL CLIENTS?

This will cause every user currently on the site to refresh their page immediately. Use this only after pushing a critical update.`)){const G=localStorage.getItem("snapify_token");G&&(Qe.socket?(Qe.socket.emit("admin_trigger_reload",G),alert("Signal sent. Clients should reload momentarily.")):alert("Socket not connected."))}},Ta=()=>{if(!g)return null;const G=te(g.id);return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-4 bg-slate-50",children:[l.jsxs("button",{onClick:Ct,className:"flex items-center gap-2 text-slate-600 hover:text-slate-800 transition-colors bg-white border border-slate-300 px-3 py-1.5 rounded-lg text-sm font-medium",children:[l.jsx(yv,{size:16}),"Back to Users"]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:[g.name,"'s Events"]}),l.jsxs("p",{className:"text-xs text-slate-500",children:[G.length," events found"]})]})]}),l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Event"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Media"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:G.map(ce=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-1",children:[ce.title,ce.pin&&l.jsx(es,{size:12,className:"text-amber-500"})]}),l.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1 mt-1",children:[l.jsx(Rs,{size:12})," ",ce.date||f("noDate")]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:W(ce.expiresAt)?l.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold bg-red-100 text-red-700 flex items-center w-fit border border-red-200",children:[l.jsx(hu,{size:12,className:"mr-1"})," ",f("expired")]}):l.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold bg-green-100 text-green-700 flex items-center w-fit border border-green-200",children:[l.jsx(wa,{size:12,className:"mr-1"})," ",f("active")]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 font-medium",children:[ce.media.length," ",f("items")]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>u(ce),className:"text-green-600 hover:bg-green-50 p-2 rounded-lg transition-colors",title:f("downloadAll"),children:l.jsx(Qs,{size:18})}),l.jsx("button",{onClick:()=>tt(ce),className:"text-blue-600 hover:bg-blue-50 p-2 rounded-lg transition-colors",title:"Edit Event",children:l.jsx(Nf,{size:18})}),l.jsx("button",{onClick:()=>S(ce),className:"text-indigo-600 hover:bg-indigo-50 p-2 rounded-lg transition-colors",title:"View Media",children:l.jsx(Ef,{size:18})}),l.jsx("button",{onClick:()=>Te(ce),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Delete Event",children:l.jsx(Ds,{size:18})})]})]},ce.id))})]}),G.length===0&&l.jsxs("div",{className:"p-12 text-center text-slate-500",children:[l.jsx(Rs,{size:48,className:"mx-auto mb-4 text-slate-300"}),l.jsx("p",{className:"font-medium",children:"No events found for this user"})]})]})]})},Ga=()=>{const[G,ce]=V.useState([]),[ge,$e]=V.useState(null),[vt,rn]=V.useState(""),[Yt,ki]=V.useState(!1);V.useEffect(()=>{(async()=>{try{const Nt=await it.getSupportMessages();ce(Nt)}catch{}})()},[]),V.useEffect(()=>{Qe.connect();const _e=Nt=>{ce(Ge=>Ge.find(xe=>xe.id===Nt.id)?Ge:[...Ge,Nt])};return Qe.on("new_support_message",_e),()=>{Qe.off("new_support_message",_e)}},[]);const Ti=G.reduce((_e,Nt)=>{const Ge=Nt.userId||"anonymous";return _e[Ge]||(_e[Ge]={userId:Ge,userName:Nt.userName,userEmail:Nt.userEmail,messages:[],lastMessage:Nt.createdAt,unreadCount:0}),_e[Ge].messages.push(Nt),_e[Ge].lastMessage=Nt.createdAt,!Nt.isFromAdmin&&!Nt.isRead&&_e[Ge].unreadCount++,_e},{}),ji=Object.values(Ti).sort((_e,Nt)=>new Date(Nt.lastMessage).getTime()-new Date(_e.lastMessage).getTime()),pt=ge?Ti[ge]:null,gr=async()=>{if(!(!vt.trim()||!ge||Yt)){ki(!0);try{await it.sendAdminReply(ge,vt.trim()),rn("")}catch{}finally{ki(!1)}}};return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center",children:l.jsx($i,{className:"text-indigo-600",size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Support Chat Management"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Manage customer support conversations"})]})]}),l.jsxs("div",{className:"flex h-[600px]",children:[l.jsxs("div",{className:"w-1/3 border-r border-slate-200 flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-slate-100",children:l.jsxs("h4",{className:"font-bold text-slate-900",children:["Conversations (",ji.length,")"]})}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:ji.length===0?l.jsxs("div",{className:"p-8 text-center text-slate-500",children:[l.jsx($i,{size:48,className:"mx-auto mb-4 text-slate-300"}),l.jsx("p",{className:"font-medium",children:"No conversations yet"}),l.jsx("p",{className:"text-sm",children:"Support messages will appear here"})]}):ji.map(_e=>{const Nt=e.find(Ge=>Ge.id===_e.userId);return l.jsx("div",{onClick:()=>$e(_e.userId),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${ge===_e.userId?"bg-indigo-50 border-l-4 border-l-indigo-500":""}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-bold",children:_e.userName.charAt(0).toUpperCase()}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"font-bold text-slate-900 truncate",children:_e.userName}),_e.unreadCount>0&&l.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:_e.unreadCount})]}),l.jsx("p",{className:"text-sm text-slate-500 truncate",children:_e.userEmail||"No email"}),Nt&&l.jsx("div",{className:"flex items-center gap-2 mt-1",children:he(Nt.tier)}),l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(_e.lastMessage).toLocaleString()})]})]})},_e.userId)})})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:pt?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-bold",children:pt.userName.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-900",children:pt.userName}),l.jsx("p",{className:"text-sm text-slate-500",children:pt.userEmail||"No email provided"})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:pt.messages.map(_e=>l.jsx("div",{className:`flex ${_e.isFromAdmin?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${_e.isFromAdmin?"bg-indigo-600 text-white":"bg-slate-100 text-slate-900"}`,children:[l.jsx("p",{className:"text-sm",children:_e.message}),l.jsx("p",{className:`text-xs mt-1 ${_e.isFromAdmin?"text-indigo-200":"text-slate-500"}`,children:new Date(_e.createdAt).toLocaleTimeString()})]})},_e.id))}),l.jsx("div",{className:"p-4 border-t border-slate-100 bg-white",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:vt,onChange:_e=>rn(_e.target.value),onKeyPress:_e=>_e.key==="Enter"&&gr(),placeholder:"Type your reply...",className:"flex-1 px-4 py-2 border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none"}),l.jsxs("button",{onClick:gr,disabled:!vt.trim()||Yt,className:"px-6 py-2 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[Yt?l.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):l.jsx(Cl,{size:16}),"Send"]})]})})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx($i,{size:64,className:"mx-auto mb-4 text-slate-300"}),l.jsx("p",{className:"font-medium",children:"Select a conversation to start chatting"}),l.jsx("p",{className:"text-sm",children:"Choose a user from the list to view their messages"})]})})})]})]})},ae=()=>l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden p-8 animate-in fade-in duration-300",children:l.jsxs("div",{className:"max-w-3xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4 border border-red-100",children:l.jsx(I0,{className:"text-red-600",size:40})}),l.jsx("h2",{className:"text-3xl font-black text-slate-900 mb-2",children:"System Settings"}),l.jsx("p",{className:"text-slate-500",children:"Manage global configurations and perform critical maintenance tasks."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"border border-indigo-200 rounded-2xl p-6 bg-indigo-50/50 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"text-lg font-bold text-indigo-900 mb-1 flex items-center gap-2",children:[l.jsx(mu,{size:18})," App Updates"]}),l.jsx("p",{className:"text-sm text-indigo-700",children:"Force this browser to fetch the latest version of the application immediately."})]}),l.jsxs("button",{onClick:Un,className:"py-2.5 px-5 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all shadow-md flex items-center gap-2",children:[l.jsx(mu,{size:16}),"Force Reload App"]})]}),l.jsxs("div",{className:"border border-amber-200 rounded-2xl p-6 bg-amber-50/50 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"text-lg font-bold text-amber-900 mb-1 flex items-center gap-2",children:[l.jsx(wa,{size:18})," Global Client Refresh"]}),l.jsxs("p",{className:"text-sm text-amber-700 max-w-md",children:["Send a signal to ",l.jsx("strong",{children:"ALL connected users"})," to unregister their service worker and reload the page. Use this after deploying a new version to ensure everyone gets it immediately."]})]}),l.jsxs("button",{onClick:Jn,className:"py-2.5 px-5 bg-amber-600 text-white font-bold rounded-xl hover:bg-amber-700 transition-all shadow-md flex items-center gap-2",children:[l.jsx(mu,{size:16}),"Reload All Clients"]})]})]})]})}),ie=()=>l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden p-8 animate-in fade-in duration-300",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("div",{className:"w-20 h-20 bg-green-50 rounded-full flex items-center justify-center mx-auto mb-4 border border-green-100",children:l.jsx(Ns,{className:"text-green-600",size:40})}),l.jsx("h2",{className:"text-3xl font-black text-slate-900 mb-2",children:"System Storage"}),l.jsx("p",{className:"text-slate-500",children:"Real-time monitoring of system and storage capacity."})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"border border-slate-200 rounded-2xl p-6 bg-slate-50/50",children:[l.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[l.jsx(Ns,{size:18})," System Disk Usage"]}),j?l.jsxs("div",{className:"flex items-center justify-center py-8",children:[l.jsx("div",{className:"animate-spin border-2 border-slate-300 border-t-slate-600 rounded-full w-8 h-8"}),l.jsx("span",{className:"ml-3 text-slate-600",children:"Loading storage info..."})]}):A?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[l.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Filesystem"}),l.jsx("div",{className:"text-lg font-black text-slate-900",children:A.system.filesystem})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[l.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Size"}),l.jsx("div",{className:"text-lg font-black text-slate-900",children:A.system.size})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[l.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Used"}),l.jsx("div",{className:"text-lg font-black text-slate-900",children:A.system.used})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[l.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Available"}),l.jsx("div",{className:"text-lg font-black text-slate-900",children:A.system.available})]})]}):l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(Ns,{size:48,className:"mx-auto mb-4 text-slate-300"}),l.jsx("p",{children:"Unable to load storage information"})]})]}),l.jsxs("div",{className:"border border-slate-200 rounded-2xl p-6 bg-slate-50/50",children:[l.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[l.jsx(Ns,{size:18})," MinIO Storage Usage"]}),A?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[l.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Filesystem"}),l.jsx("div",{className:"text-lg font-black text-slate-900",children:A.minio.filesystem})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[l.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Size"}),l.jsx("div",{className:"text-lg font-black text-slate-900",children:A.minio.size})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[l.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Used"}),l.jsx("div",{className:"text-lg font-black text-slate-900",children:A.minio.used})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:[l.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Available"}),l.jsx("div",{className:"text-lg font-black text-slate-900",children:A.minio.available})]})]}):l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx(Ns,{size:48,className:"mx-auto mb-4 text-slate-300"}),l.jsx("p",{children:"Unable to load MinIO information"})]})]}),A&&l.jsxs("div",{className:"text-center text-xs text-slate-400",children:["Last updated: ",new Date(A.timestamp).toLocaleString()]})]})]})});return l.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[l.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40 px-4 md:px-8 py-4 shadow-sm",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg shadow-indigo-200 shadow-md",children:l.jsx(wa,{className:"text-white",size:24})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-black text-slate-900 tracking-tight",children:"SnapifY Admin"}),l.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wide",children:"Master Control"})]})]}),l.jsx("div",{className:"flex items-center gap-2 bg-slate-100 p-1.5 rounded-xl border border-slate-200",children:[{id:"users",icon:Mh,label:"Users"},{id:"events",icon:Rs,label:"Events"},{id:"support",icon:$i,label:"Support"},{id:"system",icon:Ns,label:"System"},{id:"settings",icon:Oh,label:"Settings"}].map(G=>l.jsxs("button",{onClick:()=>{h(G.id),y(null)},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${m===G.id?"bg-white text-indigo-600 shadow-sm ring-1 ring-slate-200":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}`,children:[l.jsx(G.icon,{size:16}),G.label]},G.id))}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:c,className:"flex items-center gap-2 bg-slate-900 text-white px-4 py-2.5 rounded-xl font-bold hover:bg-slate-800 transition-colors shadow-lg shadow-slate-500/20 text-sm",children:[l.jsx(Pu,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:f("newEvent")})]}),l.jsx("div",{className:"h-8 w-px bg-slate-200 mx-1"}),l.jsxs("div",{className:"relative notification-container",children:[l.jsxs("button",{onClick:()=>v(!C),className:"p-2.5 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-colors relative",title:"Notifications",children:[l.jsx(O0,{size:20}),z.length>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:z.length>9?"9+":z.length})]}),C&&l.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-slate-200 z-50 max-h-96 overflow-y-auto notification-container",children:[l.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between",children:[l.jsx("h4",{className:"font-bold text-slate-900",children:"Notifications"}),l.jsx("button",{onClick:()=>T([]),className:"text-xs text-slate-500 hover:text-slate-700",children:"Clear All"})]}),z.length===0?l.jsxs("div",{className:"p-8 text-center text-slate-500",children:[l.jsx(O0,{size:32,className:"mx-auto mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"No notifications"})]}):l.jsx("div",{className:"divide-y divide-slate-100",children:z.map((G,ce)=>{var ge;return l.jsx("div",{onClick:()=>{U(G),P(!0),v(!1)},className:"p-4 hover:bg-slate-50 cursor-pointer transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Ma,{size:16,className:"text-indigo-600"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Upgrade Request"}),l.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[((ge=G.userInfo)==null?void 0:ge.name)||"Anonymous user","  ",G.tier]}),l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(G.timestamp).toLocaleString()})]}),l.jsx("div",{className:"text-slate-400",children:l.jsx(Ma,{size:14})})]})},G.id||ce)})})]})]}),l.jsx("button",{onClick:d,className:"p-2.5 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-colors",title:f("backToApp"),children:l.jsx(bp,{size:20})}),l.jsx("button",{onClick:p,className:"p-2.5 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-xl transition-colors",title:f("logOut"),children:l.jsx(Ih,{size:20})})]})]})}),l.jsxs("div",{className:"flex-1 p-4 md:p-8 max-w-7xl mx-auto w-full",children:[m!=="settings"&&!g&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 animate-in slide-in-from-top-2",children:[l.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("span",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:f("totalUsers")}),l.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg text-indigo-600",children:l.jsx(Mh,{size:20})})]}),l.jsx("span",{className:"text-4xl font-black text-slate-900",children:e.length})]}),l.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("span",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:f("totalEvents")}),l.jsx("div",{className:"p-2 bg-pink-50 rounded-lg text-pink-600",children:l.jsx(Rs,{size:20})})]}),l.jsx("span",{className:"text-4xl font-black text-slate-900",children:t.length})]}),l.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("span",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:f("storage")}),l.jsx("div",{className:"p-2 bg-green-50 rounded-lg text-green-600",children:l.jsx(Ns,{size:20})})]}),l.jsxs("span",{className:"text-4xl font-black text-slate-900",children:[e.reduce((G,ce)=>G+ce.storageUsedMb,0).toFixed(1)," ",l.jsx("span",{className:"text-lg font-medium text-slate-400",children:"MB"})]})]})]}),m==="settings"?ae():m==="system"?ie():m==="support"?Ga():m==="userEvents"?Ta():m==="users"?l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:f("registeredUsers")}),l.jsx("span",{className:"bg-slate-100 text-slate-600 text-xs font-bold px-2.5 py-1 rounded-full",children:e.length})]}),l.jsx("div",{className:"overflow-x-auto flex-1",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider pl-8",children:f("users")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Stats"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:f("tier")}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase tracking-wider pr-8",children:f("actions")})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:e.map(G=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[l.jsx("td",{className:"px-6 py-4 pl-8 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center text-white font-bold shadow-sm ${G.role===st.PHOTOGRAPHER?"bg-slate-900 border-2 border-amber-400":"bg-gradient-to-br from-indigo-500 to-purple-600"}`,children:G.role===st.PHOTOGRAPHER?l.jsx(Ji,{size:16,className:"text-amber-400"}):G.name.charAt(0).toUpperCase()}),l.jsxs("div",{className:"ml-4",children:[l.jsxs("div",{className:"text-sm font-bold text-slate-900 flex flex-wrap items-center gap-2",children:[G.name,G.role===st.ADMIN&&l.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-red-100 text-red-700 border border-red-200 uppercase tracking-wide",children:"ADMIN"})]}),l.jsx("div",{className:"text-xs text-slate-500",children:G.email})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:"text-xs font-medium text-slate-700",children:[Z(G.id)," Events"]}),l.jsx("div",{className:"w-24 bg-slate-200 rounded-full h-1.5",children:l.jsx("div",{className:"bg-indigo-500 h-1.5 rounded-full",style:{width:`${Math.min(G.storageUsedMb/G.storageLimitMb*100,100)}%`}})})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:he(G.tier)}),l.jsx("td",{className:"px-6 py-4 pr-8 whitespace-nowrap text-right text-sm font-medium",children:G.role!==st.ADMIN&&l.jsxs("div",{className:"flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>mn(G),className:"text-slate-500 hover:text-indigo-600 p-2 hover:bg-indigo-50 rounded-lg transition-colors",title:"View Events",children:l.jsx(Ef,{size:16})}),l.jsx("button",{onClick:()=>Oe(G),className:"text-slate-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit User",children:l.jsx(Nf,{size:16})}),l.jsx("button",{onClick:()=>Ne(G),className:"text-slate-500 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Delete User",children:l.jsx(Ds,{size:16})})]})})]},G.id))})]})})]}),l.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200 flex flex-col",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6",children:f("storageUsage")}),l.jsx("div",{className:"flex-1 min-h-[300px]",children:l.jsx(vN,{width:"100%",height:"100%",children:l.jsxs(SN,{data:ee,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[l.jsx(_N,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0"}),l.jsx(wN,{type:"number",hide:!0}),l.jsx(EN,{dataKey:"name",type:"category",width:80,tick:{fontSize:12}}),l.jsx(NN,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),l.jsx(kN,{dataKey:"used",fill:"#6366f1",radius:[0,4,4,0],barSize:20,name:"Used (MB)"})]})})})]})]}):l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:f("systemEvents")}),l.jsx("span",{className:"bg-slate-100 text-slate-600 text-xs font-bold px-2.5 py-1 rounded-full",children:t.length})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider pl-8",children:f("event")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:f("host")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:f("status")}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:f("mediaCount")}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-slate-500 uppercase tracking-wider pr-8",children:f("actions")})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-slate-100",children:t.map(G=>{var ce;return l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[l.jsx("td",{className:"px-6 py-4 pl-8 whitespace-nowrap",children:l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-1",children:[G.title,G.pin&&l.jsx(es,{size:12,className:"text-amber-500"})]}),l.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1 mt-1",children:[l.jsx(Rs,{size:12})," ",G.date||f("noDate")]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"text-sm font-medium text-slate-700 flex items-center gap-1.5",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-200 flex items-center justify-center text-xs font-bold text-slate-600",children:B(G.hostId).charAt(0)}),B(G.hostId),((ce=e.find(ge=>ge.id===G.hostId))==null?void 0:ce.role)===st.PHOTOGRAPHER&&l.jsx(gv,{size:12,className:"text-amber-500"})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:W(G.expiresAt)?l.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold bg-red-100 text-red-700 flex items-center w-fit border border-red-200",children:[l.jsx(hu,{size:12,className:"mr-1"})," ",f("expired")]}):l.jsxs("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold bg-green-100 text-green-700 flex items-center w-fit border border-green-200",children:[l.jsx(wa,{size:12,className:"mr-1"})," ",f("active")]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-700 font-bold",children:G.media.length}),l.jsx("td",{className:"px-6 py-4 pr-8 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>u(G),className:"text-slate-500 hover:text-green-600 p-2 hover:bg-green-50 rounded-lg transition-colors",title:f("downloadAll"),children:l.jsx(Qs,{size:16})}),l.jsx("button",{onClick:()=>tt(G),className:"text-slate-500 hover:text-blue-600 p-2 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Event",children:l.jsx(Nf,{size:16})}),l.jsx("button",{onClick:()=>S(G),className:"text-slate-500 hover:text-indigo-600 p-2 hover:bg-indigo-50 rounded-lg transition-colors",title:"View Media",children:l.jsx(Ef,{size:16})}),l.jsx("button",{onClick:()=>Te(G),className:"text-slate-500 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Event",children:l.jsx(Ds,{size:16})})]})})]},G.id)})})]})})]})]}),ke&&l.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden scale-100",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[l.jsx("h3",{className:"text-xl font-black text-slate-900",children:"Edit User Profile"}),l.jsx("button",{onClick:()=>Ie(null),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:l.jsx(Kt,{size:20})})]}),l.jsxs("div",{className:"p-6 space-y-5",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Display Name"}),l.jsx("input",{type:"text",value:Be,onChange:G=>jt(G.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all font-medium"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Email Address"}),l.jsxs("div",{className:"flex items-center px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-500",children:[l.jsx(xv,{size:18,className:"mr-3 text-slate-400"}),l.jsx("input",{type:"text",value:Et,onChange:G=>_(G.target.value),className:"bg-transparent w-full focus:outline-none font-medium"})]})]}),Gn[O].allowBranding&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Studio / Business"}),l.jsxs("div",{className:"flex items-center px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-900",children:[l.jsx(TN,{size:18,className:"mr-3 text-slate-400"}),l.jsx("input",{type:"text",value:J,onChange:G=>K(G.target.value),className:"bg-transparent w-full focus:outline-none font-medium",placeholder:"No studio name"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"System Role"}),l.jsx("select",{value:Y,onChange:G=>Q(G.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-white text-slate-900 focus:ring-2 focus:ring-indigo-500 outline-none font-medium cursor-pointer",children:Object.values(st).map(G=>l.jsx("option",{value:G,children:G},G))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Tier Plan"}),l.jsx("select",{value:O,onChange:G=>R(G.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-white text-slate-900 focus:ring-2 focus:ring-indigo-500 outline-none font-medium cursor-pointer",children:Object.values(We).map(G=>l.jsx("option",{value:G,children:G},G))})]})]}),l.jsxs("button",{onClick:Nn,className:"w-full py-4 bg-black text-white rounded-xl font-bold hover:bg-slate-800 transition-all shadow-lg shadow-slate-200 flex items-center justify-center gap-2 mt-4",children:[l.jsx(zh,{size:18}),"Save Changes"]})]})]})}),X&&l.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[l.jsx("h3",{className:"text-xl font-black text-slate-900",children:f("editEvent")}),l.jsx("button",{onClick:()=>$(null),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:l.jsx(Kt,{size:20})})]}),l.jsxs("div",{className:"p-6 space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:f("eventTitle")}),l.jsx("input",{type:"text",value:L,onChange:G=>F(G.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-slate-50 text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all font-medium"})]}),l.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100",children:[l.jsxs("label",{className:"block text-xs font-bold text-amber-800 uppercase tracking-wider mb-3 flex items-center",children:[l.jsx(hu,{size:16,className:"mr-2"})," ",f("modifyExpiration")]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("label",{className:"flex items-center p-3 bg-white rounded-xl border border-amber-100 cursor-pointer hover:border-amber-300 transition-all",children:[l.jsx("input",{type:"radio",name:"expiryType",checked:ue==="unlimited",onChange:()=>le("unlimited"),className:"w-4 h-4 text-amber-600 border-slate-300 focus:ring-amber-500"}),l.jsx("span",{className:"ml-3 text-sm font-bold text-slate-900",children:f("unlimited")}),l.jsx("span",{className:"ml-auto text-xs text-amber-600 font-medium",children:f("neverExpires")})]}),l.jsxs("label",{className:"flex items-center p-3 bg-white rounded-xl border border-amber-100 cursor-pointer hover:border-amber-300 transition-all",children:[l.jsx("input",{type:"radio",name:"expiryType",checked:ue==="immediate",onChange:()=>le("immediate"),className:"w-4 h-4 text-amber-600 border-slate-300 focus:ring-amber-500"}),l.jsx("span",{className:"ml-3 text-sm font-bold text-slate-900",children:f("expireImmediately")})]}),l.jsxs("label",{className:"flex items-center p-3 bg-white rounded-xl border border-amber-100 cursor-pointer hover:border-amber-300 transition-all",children:[l.jsx("input",{type:"radio",name:"expiryType",checked:ue==="custom",onChange:()=>le("custom"),className:"w-4 h-4 text-amber-600 border-slate-300 focus:ring-amber-500"}),l.jsx("span",{className:"ml-3 text-sm font-bold text-slate-900",children:f("setNewDuration")})]})]}),ue==="custom"&&l.jsxs("div",{className:"flex gap-2 animate-in fade-in slide-in-from-top-2",children:[l.jsx("input",{type:"number",min:"1",value:oe,onChange:G=>Ue(parseInt(G.target.value)||0),className:"w-1/3 px-4 py-3 border border-amber-200 rounded-xl text-sm font-bold text-slate-900 focus:ring-2 focus:ring-amber-500 outline-none"}),l.jsxs("select",{value:Fe,onChange:G=>Ee(G.target.value),className:"flex-1 px-4 py-3 border border-amber-200 rounded-xl text-sm font-bold text-slate-900 focus:ring-2 focus:ring-amber-500 outline-none bg-white cursor-pointer",children:[l.jsx("option",{value:"seconds",children:f("seconds")}),l.jsx("option",{value:"minutes",children:f("minutes")}),l.jsx("option",{value:"hours",children:f("hours")}),l.jsx("option",{value:"days",children:f("days")})]})]})]}),l.jsxs("button",{onClick:sn,className:"w-full py-4 bg-black text-white rounded-xl font-bold hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[l.jsx(zh,{size:18}),f("saveChanges")]})]})]})}),b&&l.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white w-full max-w-6xl h-[90vh] rounded-3xl shadow-2xl flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-black text-slate-900",children:[f("managing"),": ",b.title]}),l.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-1",children:[b.media.length," ",f("mediaItems"),"  ",f("totalMedia")]})]}),l.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:l.jsx(Kt,{size:24})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50",children:b.media.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[l.jsx(yp,{size:64,className:"mb-4 opacity-50"}),l.jsx("p",{className:"font-bold text-lg",children:f("noMedia")})]}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:b.media.map(G=>l.jsxs("div",{className:"relative group aspect-square bg-slate-200 rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all cursor-pointer border border-slate-200",onClick:()=>E(G),children:[G.type==="video"?l.jsx("video",{src:G.previewUrl||G.url,className:"w-full h-full object-cover",muted:!0}):l.jsx("img",{src:G.url,alt:"content",className:"w-full h-full object-cover"}),l.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 backdrop-blur-[2px]",children:[l.jsx("div",{className:"bg-white/20 p-2 rounded-full backdrop-blur-md text-white hover:bg-white/40 transition-colors",children:l.jsx(jN,{size:20})}),l.jsx("button",{onClick:ce=>{ce.stopPropagation(),At(b.id,G.id)},className:"bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transform hover:scale-110 transition-all shadow-lg",children:l.jsx(Ds,{size:20})})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/80 via-black/50 to-transparent",children:l.jsx("p",{className:"text-white text-xs font-medium truncate",children:G.uploaderName})})]},G.id))})})]})}),w&&l.jsxs("div",{className:"fixed inset-0 z-[70] bg-black/95 backdrop-blur-xl flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>E(null),children:[l.jsx("button",{className:"absolute top-6 right-6 text-white/70 hover:text-white p-3 bg-white/10 hover:bg-white/20 rounded-full transition-all z-50",onClick:()=>E(null),children:l.jsx(Kt,{size:32})}),l.jsx("div",{className:"max-w-full max-h-full overflow-hidden flex items-center justify-center relative w-full h-full",onClick:G=>G.stopPropagation(),children:w.type==="video"?l.jsx("video",{src:w.url,controls:!0,autoPlay:!0,className:"max-w-full max-h-[90vh] rounded-2xl shadow-2xl ring-1 ring-white/10"}):l.jsx("img",{src:w.url,alt:"preview",className:"max-w-full max-h-[90vh] object-contain rounded-2xl shadow-2xl ring-1 ring-white/10"})}),l.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white pointer-events-none",children:[l.jsx("p",{className:"font-black text-xl drop-shadow-lg mb-1",children:w.caption||"No caption"}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-white/60 font-medium",children:[l.jsx(Ji,{size:14}),l.jsxs("span",{children:["Uploaded by ",w.uploaderName]}),l.jsx("span",{children:""}),l.jsx("span",{children:new Date(w.uploadedAt).toLocaleDateString()})]})]})]}),k&&l.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden p-8 animate-in zoom-in-95",children:[l.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-full flex items-center justify-center mb-6 mx-auto border border-red-100",children:k.type==="system"?l.jsx(I0,{className:"text-red-600",size:32}):l.jsx(bv,{className:"text-red-600",size:32})}),l.jsx("h3",{className:"text-2xl font-black text-slate-900 text-center mb-3",children:k.title}),l.jsx("p",{className:"text-slate-500 text-center mb-8 text-sm leading-relaxed font-medium",children:k.message}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>M(null),className:"flex-1 py-3.5 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Cancel"}),l.jsxs("button",{onClick:En,className:"flex-1 py-3.5 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-red-500/20",children:[l.jsx(Ds,{size:18}),"Delete"]})]})]})}),H&&D&&l.jsx("div",{className:"fixed inset-0 z-[80] bg-black/60 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden p-6 animate-in zoom-in-95",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ma,{size:32})}),l.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Upgrade User"}),l.jsx("p",{className:"text-slate-500 mt-2",children:"Confirm upgrade for this user"})]}),l.jsx("div",{className:"space-y-4 mb-6",children:l.jsx("div",{className:"bg-slate-50 p-4 rounded-xl",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Full Name"}),l.jsx("p",{className:"text-slate-900 font-medium",children:((de=D.userInfo)==null?void 0:de.name)||"Anonymous User"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Email Address"}),l.jsx("p",{className:"text-slate-900 font-medium",children:((be=D.userInfo)==null?void 0:be.email)||"Not provided"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Requested Tier"}),l.jsx("p",{className:"text-slate-900 font-medium",children:D.tier})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Current Tier"}),l.jsx("p",{className:"text-slate-900 font-medium",children:((He=D.userInfo)==null?void 0:He.currentTier)||"FREE"})]}),!((yt=D.userInfo)!=null&&yt.id)&&l.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-3 rounded-lg",children:[l.jsx("p",{className:"text-sm text-amber-800 font-medium",children:" Anonymous Request"}),l.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"This user is not registered. You cannot upgrade anonymous users."})]})]})})}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{P(!1),U(null)},className:"flex-1 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:(ve=D.userInfo)!=null&&ve.id?"Cancel":"Close"}),(ze=D.userInfo)!=null&&ze.id?l.jsxs("button",{onClick:async()=>{try{await it.upgradeUser(D.userInfo.id,D.tier);const G=e.find(ce=>ce.id===D.userInfo.id);G&&o({...G,tier:D.tier}),T(ce=>ce.filter(ge=>ge.id!==D.id)),P(!1),U(null),alert("User upgraded successfully!")}catch{alert("Failed to upgrade user. Please try again.")}},className:"flex-1 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[l.jsx(Ma,{size:16}),"Confirm Upgrade"]}):l.jsx("button",{onClick:()=>{P(!1),U(null)},className:"flex-1 py-3 bg-slate-500 text-white font-bold rounded-xl cursor-not-allowed flex items-center justify-center gap-2",disabled:!0,children:"Cannot Upgrade Anonymous User"})]})]})})]})},j4=({currentUser:e,guestName:t,view:a,currentEventTitle:i,language:s,onChangeLanguage:r,onLogout:o,onSignIn:c,onHome:u,onBack:d,onToAdmin:p,onOpenSettings:f,adminStatus:m=[],t:h})=>{const[x,b]=xp.useState(!1),S=()=>b(!x),g=()=>l.jsxs("div",{className:"flex items-center bg-slate-100 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>r("en"),className:`px-2 py-1 rounded text-xs font-bold transition-colors ${s==="en"?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"}`,children:"EN"}),l.jsx("button",{onClick:()=>r("mk"),className:`px-2 py-1 rounded text-xs font-bold transition-colors ${s==="mk"?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"}`,children:"MK"}),l.jsx("button",{onClick:()=>r("sq"),className:`px-2 py-1 rounded text-xs font-bold transition-colors ${s==="sq"?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"}`,children:"SQ"}),l.jsx("button",{onClick:()=>r("tr"),className:`px-2 py-1 rounded text-xs font-bold transition-colors ${s==="tr"?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"}`,children:"TR"})]});return l.jsxs("nav",{className:"px-4 py-3 md:px-8 md:py-4 max-w-7xl mx-auto flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[a==="event"?l.jsx("button",{onClick:d,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 text-slate-600 transition-colors",children:l.jsx(yv,{size:20})}):a!=="landing"&&a!=="dashboard"&&l.jsx("button",{onClick:u,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 text-slate-600 transition-colors",children:l.jsx(AN,{size:20})}),l.jsxs("div",{className:"flex flex-col justify-center",children:[l.jsxs("div",{onClick:u,className:"flex items-center gap-2 cursor-pointer select-none",children:[l.jsx("div",{className:"w-8 h-8 bg-black text-white rounded-lg flex items-center justify-center font-black text-lg shadow-md",children:"S"}),l.jsx("span",{className:"font-black text-xl tracking-tight text-slate-900 hidden sm:block",children:"SnapifY"}),l.jsx("span",{className:"text-[10px] text-slate-400 font-mono mt-1",children:"v2.1"})]}),i&&a==="event"&&l.jsx("p",{className:"text-xs font-bold text-indigo-600 truncate max-w-[150px] md:max-w-xs animate-in slide-in-from-left-2",children:i})]})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[g(),e?l.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-slate-200",children:[e.role===st.ADMIN&&l.jsxs("button",{onClick:p,className:"flex items-center gap-2 text-sm font-bold text-slate-600 hover:text-slate-900 transition-colors",children:[l.jsx(uo,{size:16})," Admin"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-sm",children:e.name.charAt(0).toUpperCase()}),l.jsx("span",{className:"text-sm font-bold text-slate-700",children:e.name})]}),Gn[e.tier].allowBranding&&l.jsx("button",{onClick:f,className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:l.jsx(Oh,{size:18})}),l.jsx("button",{onClick:o,className:"p-2 text-red-400 hover:text-red-600 transition-colors",children:l.jsx(Ih,{size:18})})]}):l.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-slate-200",children:[t&&l.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["Hi, ",t]}),l.jsx("button",{onClick:o,className:"text-sm font-bold text-slate-600 hover:text-slate-900",children:h("logOut")})]})]}),l.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[e&&l.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-sm border border-indigo-200",children:e.name.charAt(0).toUpperCase()}),l.jsx("button",{onClick:S,className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:x?l.jsx(Kt,{size:24}):l.jsx(vv,{size:24})})]}),x&&l.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border-b border-slate-200 shadow-xl p-4 flex flex-col gap-4 z-50 md:hidden animate-in slide-in-from-top-5",children:[l.jsx("div",{className:"flex justify-center pb-2",children:g()}),e?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-white shadow-sm text-indigo-600 flex items-center justify-center font-bold text-lg",children:e.name.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("p",{className:"font-bold text-slate-900",children:e.name}),l.jsx("p",{className:"text-xs text-slate-500",children:e.email})]})]}),e.role===st.ADMIN&&l.jsxs("button",{onClick:()=>{p(),b(!1)},className:"w-full py-3 px-4 bg-slate-100 rounded-xl font-bold text-slate-700 flex items-center gap-3",children:[l.jsx(uo,{size:18})," Admin Dashboard"]}),e&&Gn[e.tier].allowBranding&&l.jsxs("button",{onClick:()=>{f(),b(!1)},className:"w-full py-3 px-4 bg-slate-100 rounded-xl font-bold text-slate-700 flex items-center gap-3",children:[l.jsx(Oh,{size:18})," ",h("studioSettings")]}),l.jsxs("button",{onClick:o,className:"w-full py-3 px-4 bg-red-50 text-red-600 rounded-xl font-bold flex items-center gap-3",children:[l.jsx(Ih,{size:18})," ",h("logOut")]})]}):l.jsx("button",{onClick:o,className:"w-full py-3 bg-slate-100 rounded-xl font-bold text-slate-700",children:h("logOut")})]})]})},A4=({onClose:e,t})=>{const a=i=>l.jsx("ul",{className:"text-xs space-y-1.5 text-slate-600",children:i.split(`
`).map((s,r)=>l.jsx("li",{children:s},r))});return l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl h-[85vh] flex flex-col overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/80 backdrop-blur-sm flex-shrink-0 sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-indigo-100 p-2 rounded-xl text-indigo-600",children:l.jsx(uo,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-slate-900",children:t("termsTitle")}),l.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:[t("effectiveDate"),": ",new Date().toLocaleDateString()]})]})]}),l.jsx("button",{onClick:e,className:"p-2 bg-white rounded-full hover:bg-slate-100 transition-colors border border-slate-200",children:l.jsx(Kt,{size:20,className:"text-slate-500"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 text-slate-600 space-y-8 custom-scrollbar",children:[l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center mr-3 text-slate-700 font-black text-xs",children:"01"}),t("introTitle")]}),l.jsx("p",{className:"text-sm leading-relaxed mb-2 pl-11",children:t("introText")})]}),l.jsxs("section",{className:"bg-indigo-50/50 p-6 rounded-2xl border border-indigo-100",children:[l.jsxs("h4",{className:"text-lg font-bold text-indigo-900 mb-4 flex items-center",children:[l.jsx(CN,{size:20,className:"mr-2 text-indigo-600"})," ",t("gdprTitle")]}),l.jsx("p",{className:"text-sm leading-relaxed mb-4 text-indigo-800",children:t("gdprText")}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-indigo-100 shadow-sm",children:[l.jsx("h5",{className:"font-bold text-indigo-900 text-xs uppercase tracking-wider mb-2",children:t("dataCollectTitle")}),a(t("dataCollectList"))]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-indigo-100 shadow-sm",children:[l.jsx("h5",{className:"font-bold text-indigo-900 text-xs uppercase tracking-wider mb-2",children:t("yourRightsTitle")}),a(t("yourRightsList"))]})]}),l.jsx("p",{className:"text-xs text-indigo-700/70 mt-4 italic",children:t("gdprNote")})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[l.jsx(RN,{size:20,className:"mr-2 text-slate-700"})," ",t("userRespTitle")]}),l.jsxs("div",{className:"pl-8",children:[l.jsx("p",{className:"text-sm leading-relaxed mb-3",children:t("userRespText")}),l.jsx("ul",{className:"list-disc pl-5 text-sm space-y-1 mb-3",children:t("userRespList").split(`
`).map((i,s)=>l.jsx("li",{children:i.replace(/^\s*/,"")},s))}),l.jsx("p",{className:"text-sm leading-relaxed",children:t("userRespFooter")})]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[l.jsx(es,{size:20,className:"mr-2 text-amber-600"})," ",t("liabilityTitle")]}),l.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100 text-amber-900 text-sm leading-relaxed font-medium",children:[l.jsx("p",{className:"mb-3",children:t("liabilityText1")}),l.jsx("p",{children:t("liabilityText2")})]})]}),l.jsxs("section",{children:[l.jsx("h4",{className:"text-lg font-bold text-slate-900 mb-2",children:t("contactUsTitle")}),l.jsxs("p",{className:"text-sm leading-relaxed",children:[t("contactUsText")," ",l.jsx("a",{href:"mailto:admin@skytech.mk",className:"text-indigo-600 font-bold hover:underline",children:"admin@skytech.mk"})]})]})]}),l.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 flex-shrink-0 flex flex-col sm:flex-row gap-3 justify-between items-center",children:[l.jsx("p",{className:"text-xs text-slate-400",children:t("agreeFooter")}),l.jsx("button",{onClick:e,className:"w-full sm:w-auto px-8 bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition-colors shadow-lg",children:t("iAgree")})]})]})})},C4=({onGoogleLogin:e,onEmailAuth:t,onContactSales:a,isLoggingIn:i,authError:s,language:r,onChangeLanguage:o,t:c})=>{const[u,d]=V.useState(0),[p,f]=V.useState(!1),[m,h]=V.useState(!1),[x,b]=V.useState(!1),S=V.useRef(null),[g,y]=V.useState(!1),[w,E]=V.useState(""),[k,M]=V.useState(""),[A,I]=V.useState(""),[j,N]=V.useState(!1),[z,T]=V.useState("");V.useEffect(()=>{const D=setInterval(()=>{d(U=>(U+1)%Wy.length)},5e3);return()=>clearInterval(D)},[]),V.useEffect(()=>{const D=()=>{if(window.google&&window.google.accounts&&window.google.accounts.id&&window.googleSignInInitialized&&S.current)try{S.current.innerHTML="",window.google.accounts.id.renderButton(S.current,{theme:"filled_black",size:"large",width:"100%",text:"continue_with",shape:"pill"})}catch(U){console.error("GSI Render Error",U),S.current&&(S.current.innerHTML='<button class="w-full bg-white text-black font-bold py-3 rounded-full flex items-center justify-center gap-2"><span>Continue with Google</span></button>')}};if(window.google&&window.google.accounts&&window.google.accounts.id&&window.googleSignInInitialized)D();else{const U=()=>{window.google&&window.google.accounts&&window.google.accounts.id&&window.googleSignInInitialized?D():setTimeout(U,100)},H=setTimeout(U,100),P=setTimeout(()=>{S.current&&!S.current.innerHTML.includes("Google")&&(S.current.innerHTML='<button class="w-full bg-white text-black font-bold py-3 rounded-full flex items-center justify-center gap-2"><span>Continue with Google</span></button>')},5e3);return()=>{clearTimeout(H),clearTimeout(P)}}},[]);const C=D=>{D.preventDefault(),t({name:w,email:k,password:A,isPhotographer:j,studioName:z},g)},v=()=>{var D;(D=document.getElementById("auth-card"))==null||D.scrollIntoView({behavior:"smooth"})};return l.jsxs("div",{className:"min-h-screen bg-[#050505] text-white overflow-x-hidden font-sans selection:bg-indigo-500/30",role:"main",children:[l.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[Wy.map((D,U)=>l.jsxs("div",{className:`absolute inset-0 transition-opacity duration-[2000ms] ease-in-out ${U===u?"opacity-30":"opacity-0"}`,children:[l.jsx("img",{src:D,alt:"Background",className:"w-full h-full object-cover scale-105"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-black/80 to-[#050505]"})]},U)),l.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay"})]}),l.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-xl border-b border-white/5 bg-black/50 supports-[backdrop-filter]:bg-black/20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[l.jsx("div",{className:"bg-gradient-to-tr from-indigo-600 to-purple-600 p-2 rounded-xl shadow-lg shadow-indigo-500/20",children:l.jsx(wa,{size:20,className:"text-white fill-white"})}),l.jsx("span",{className:"text-xl font-bold tracking-tight",children:c("appName")})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[l.jsx("button",{onClick:()=>{var D;return(D=document.getElementById("how-it-works"))==null?void 0:D.scrollIntoView({behavior:"smooth"})},className:"text-sm font-medium text-slate-300 hover:text-white transition-colors",children:"How it Works"}),l.jsx("button",{onClick:()=>{var D;return(D=document.getElementById("features"))==null?void 0:D.scrollIntoView({behavior:"smooth"})},className:"text-sm font-medium text-slate-300 hover:text-white transition-colors",children:"Features"}),l.jsx("button",{onClick:()=>{var D;return(D=document.getElementById("pricing"))==null?void 0:D.scrollIntoView({behavior:"smooth"})},className:"text-sm font-medium text-slate-300 hover:text-white transition-colors",children:"Pricing"}),l.jsx("div",{className:"h-4 w-px bg-white/10"}),l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{onClick:()=>h(!m),className:"flex items-center text-sm text-slate-300 hover:text-white gap-2 px-2 py-1 rounded-lg hover:bg-white/5 transition-colors",children:[l.jsx(Sv,{size:14,className:"text-slate-400"}),l.jsx("span",{className:"font-semibold",children:r.toUpperCase()})]}),m&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)}),l.jsx("div",{className:"absolute top-full right-0 mt-4 w-32 bg-[#1a1a1a] border border-white/10 rounded-xl shadow-2xl overflow-hidden py-1 z-50",children:["en","mk","tr","sq"].map(D=>l.jsx("button",{onClick:()=>{o(D),h(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-white/5 ${r===D?"text-indigo-400 font-bold":"text-slate-300"}`,children:D.toUpperCase()},D))})]})]}),l.jsx("button",{onClick:v,className:"bg-white text-black px-5 py-2.5 rounded-full text-sm font-bold hover:bg-indigo-50 hover:scale-105 transition-all shadow-lg shadow-white/10","aria-label":"Sign in to your account",children:c("signIn")})]}),l.jsx("button",{className:"md:hidden text-white p-2",onClick:()=>f(!p),children:p?l.jsx(Kt,{}):l.jsx(vv,{})})]})}),p&&l.jsx("div",{className:"fixed inset-0 z-40 bg-black pt-24 px-6 md:hidden animate-in slide-in-from-top-10",children:l.jsxs("div",{className:"flex flex-col gap-6 text-xl font-bold",children:[l.jsx("button",{onClick:()=>{f(!1),v()},className:"text-left text-slate-300 hover:text-white transition-colors py-2 touch-manipulation min-h-[48px]",children:c("signIn")}),l.jsx("button",{onClick:()=>{var D;f(!1),(D=document.getElementById("how-it-works"))==null||D.scrollIntoView()},className:"text-left text-slate-300 hover:text-white transition-colors py-2 touch-manipulation min-h-[48px]",children:"How It Works"}),l.jsx("button",{onClick:()=>{var D;f(!1),(D=document.getElementById("features"))==null||D.scrollIntoView()},className:"text-left text-slate-300 hover:text-white transition-colors py-2 touch-manipulation min-h-[48px]",children:"Features"}),l.jsx("button",{onClick:()=>{var D;f(!1),(D=document.getElementById("pricing"))==null||D.scrollIntoView()},className:"text-left text-slate-300 hover:text-white transition-colors py-2 touch-manipulation min-h-[48px]",children:"Pricing"}),l.jsx("div",{className:"h-px bg-white/10"}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:["en","mk","tr","sq"].map(D=>l.jsx("button",{onClick:()=>{o(D),f(!1)},className:`p-3 rounded-lg text-sm text-center border touch-manipulation min-h-[48px] transition-all ${r===D?"bg-indigo-600 border-indigo-500":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:D.toUpperCase()},D))})]})}),l.jsx("main",{className:"relative z-10 pt-32 pb-20 px-6 max-w-7xl mx-auto min-h-screen flex flex-col justify-center",children:l.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-20",children:[l.jsxs("div",{className:"flex-1 text-center lg:text-left space-y-8",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-300 text-xs font-bold uppercase tracking-wider mb-2 animate-pulse",children:[l.jsxs("span",{className:"relative flex h-2 w-2",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),"The #1 Event Sharing Platform"]}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tight leading-[1.1]",children:[c("heroTitlePrefix")," ",l.jsx("br",{}),l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400",children:c("heroTitleSuffix")})]}),l.jsx("p",{className:"text-lg text-slate-400 leading-relaxed max-w-xl mx-auto lg:mx-0",children:c("heroDesc")}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-2xl mx-auto lg:mx-0 mt-8 mb-8",children:[{icon:"",text:"Setup in 30 seconds"},{icon:"",text:"Works on any device"},{icon:"",text:"Private & secure"}].map((D,U)=>l.jsxs("div",{className:"flex items-center gap-3 text-slate-300",children:[l.jsx("span",{className:"text-2xl",children:D.icon}),l.jsx("span",{className:"text-sm font-medium",children:D.text})]},U))}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 justify-center lg:justify-start",children:[l.jsxs("button",{onClick:v,className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-500 active:bg-indigo-700 text-white px-8 py-4 rounded-full font-bold transition-all shadow-lg shadow-indigo-500/25 flex items-center justify-center gap-2 group touch-manipulation min-h-[48px]",children:[c("getStarted")," ",l.jsx(DN,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),l.jsxs("button",{className:"w-full sm:w-auto px-8 py-4 rounded-full border border-white/10 hover:bg-white/5 active:bg-white/10 font-semibold transition-all flex items-center justify-center gap-2 backdrop-blur-sm touch-manipulation min-h-[48px]",children:[l.jsx(Rl,{size:18,className:"fill-white"})," Watch Demo"]})]}),l.jsxs("div",{className:"pt-8 flex items-center justify-center lg:justify-start gap-12 opacity-80",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-3xl font-bold text-white tracking-tighter",children:"1M+"}),l.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider font-semibold",children:c("statPhotos")||"Photos Shared"})]}),l.jsx("div",{className:"w-px h-10 bg-white/10"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-3xl font-bold text-white tracking-tighter",children:"50k+"}),l.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider font-semibold",children:c("statEvents")||"Events Hosted"})]})]})]}),l.jsxs("div",{className:"flex-1 w-full max-w-md relative group perspective-1000",children:[l.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-[2rem] blur opacity-30 group-hover:opacity-50 transition duration-1000"}),l.jsxs("div",{id:"auth-card",className:"relative bg-[#0A0A0A]/90 backdrop-blur-xl border border-white/10 p-8 rounded-[1.8rem] shadow-2xl",children:[l.jsxs("div",{className:"flex mb-8 bg-black/40 p-1.5 rounded-xl border border-white/5",children:[l.jsx("button",{onClick:()=>y(!1),className:`flex-1 py-3 text-sm font-bold rounded-lg transition-all duration-300 touch-manipulation min-h-[48px] ${g?"text-slate-500 hover:text-white active:bg-white/10":"bg-white text-black shadow-lg"}`,children:c("signIn")}),l.jsx("button",{onClick:()=>y(!0),className:`flex-1 py-3 text-sm font-bold rounded-lg transition-all duration-300 touch-manipulation min-h-[48px] ${g?"bg-white text-black shadow-lg":"text-slate-500 hover:text-white active:bg-white/10"}`,children:c("signUp")})]}),l.jsxs("form",{onSubmit:C,className:"space-y-4",children:[g&&l.jsxs("div",{className:"animate-in fade-in slide-in-from-top-4 duration-300 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-slate-500 ml-1 uppercase tracking-wider",children:c("fullName")}),l.jsx("input",{type:"text",value:w,onChange:D=>E(D.target.value),className:"w-full mt-1.5 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-all placeholder:text-slate-600",placeholder:"Jane Doe"})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-white/5 border border-white/10 hover:border-indigo-500/30 transition-colors cursor-pointer",onClick:()=>N(!j),children:[l.jsx("input",{type:"checkbox",checked:j,onChange:D=>N(D.target.checked),className:"w-5 h-5 rounded border-slate-600 text-indigo-600 focus:ring-indigo-600 bg-transparent"}),l.jsx("span",{className:"text-sm font-medium text-slate-300",children:c("iAmPhotographer")})]}),j&&l.jsx("div",{className:"animate-in fade-in",children:l.jsx("input",{type:"text",value:z,onChange:D=>T(D.target.value),className:"w-full bg-amber-500/10 border border-amber-500/30 rounded-xl px-4 py-3 text-amber-200 placeholder-amber-500/50 focus:border-amber-500 outline-none transition-all",placeholder:c("studioName")})})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"text-xs font-bold text-slate-500 ml-1 uppercase tracking-wider",children:c("email")}),l.jsx("input",{id:"email",type:"email",value:k,onChange:D=>M(D.target.value),className:"w-full mt-1.5 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-all placeholder:text-slate-600",placeholder:"name@example.com","aria-describedby":"email-error",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"text-xs font-bold text-slate-500 ml-1 uppercase tracking-wider",children:c("password")}),l.jsx("input",{id:"password",type:"password",value:A,onChange:D=>I(D.target.value),className:"w-full mt-1.5 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-all placeholder:text-slate-600",placeholder:"","aria-describedby":"password-error",required:!0})]}),s&&l.jsx("div",{id:"auth-error",className:"text-red-400 text-sm bg-red-500/10 p-3 rounded-xl border border-red-500/20 text-center animate-in fade-in",role:"alert","aria-live":"polite",children:s}),l.jsx("button",{disabled:i,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 active:from-indigo-700 active:to-purple-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-indigo-500/20 active:scale-95 transition-all flex justify-center items-center touch-manipulation min-h-[48px]",children:i?l.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):c(g?"createAccount":"signIn")})]}),l.jsxs("div",{className:"flex items-center gap-4 my-6 opacity-50",children:[l.jsx("div",{className:"h-px bg-white flex-1"}),l.jsx("span",{className:"text-xs font-bold tracking-widest",children:"OR"}),l.jsx("div",{className:"h-px bg-white flex-1"})]}),l.jsx("div",{ref:S,className:"h-[44px] w-full flex justify-center"}),l.jsxs("p",{className:"text-center text-xs text-slate-500 mt-6",children:[c("terms")," ",l.jsx("button",{onClick:()=>b(!0),className:"text-indigo-400 hover:underline underline-offset-2",children:c("termsLink")})]})]})]})]})}),l.jsx("section",{id:"how-it-works",className:"py-24 bg-[#0A0A0A] relative border-y border-white/5 scroll-mt-20 animate-in fade-in slide-in-from-bottom-4 duration-1000",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-3xl md:text-5xl font-black mb-4",children:["Three Steps to ",l.jsx("span",{className:"text-indigo-400",children:"Magic"})]}),l.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto text-lg",children:"Forget complex apps and signup forms for guests. We made it frictionless."})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8 relative",children:[l.jsx("div",{className:"hidden md:block absolute top-12 left-[16%] right-[16%] h-0.5 bg-gradient-to-r from-indigo-500/0 via-indigo-500/20 to-indigo-500/0 border-t border-dashed border-white/10"}),[{icon:_v,title:c("step1Title")||"1. Create",desc:c("step1Desc")||"Setup event in 30s"},{icon:wv,title:c("step2Title")||"2. Scan",desc:c("step2Desc")||"Guests scan QR to join"},{icon:z0,title:c("step3Title")||"3. Show",desc:c("step3Desc")||"Watch live on the big screen"}].map((D,U)=>l.jsxs("div",{className:"relative z-10 bg-[#050505] border border-white/10 p-8 rounded-3xl text-center hover:border-indigo-500/30 transition-all group hover:-translate-y-2 duration-300 shadow-2xl shadow-black",children:[l.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-indigo-500/10 to-purple-500/10 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 border border-white/5",children:l.jsx(D.icon,{className:"text-indigo-400",size:32})}),l.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:D.title}),l.jsx("p",{className:"text-slate-400 leading-relaxed",children:D.desc})]},U))]})]})}),l.jsxs("section",{id:"features",className:"py-24 px-6 max-w-7xl mx-auto scroll-mt-20 animate-in fade-in slide-in-from-bottom-4 duration-1000 delay-200",children:[l.jsxs("h2",{className:"text-3xl md:text-5xl font-black mb-16 text-center",children:["Everything you need to ",l.jsx("br",{}),"capture the ",l.jsx("span",{className:"text-purple-400",children:"Chaos & Joy"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 md:grid-rows-2 gap-6 h-auto md:h-[600px]",children:[l.jsxs("div",{className:"md:col-span-4 md:row-span-2 bg-[#111] border border-white/10 rounded-[2rem] overflow-hidden relative group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent z-10"}),l.jsx("img",{src:"https://images.unsplash.com/photo-1511795409834-ef04bbd61622?auto=format&fit=crop&q=80",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 opacity-60 grayscale group-hover:grayscale-0",alt:"Live Wall"}),l.jsxs("div",{className:"absolute bottom-0 left-0 p-8 md:p-12 z-20",children:[l.jsx("div",{className:"w-14 h-14 bg-white/10 backdrop-blur-md rounded-2xl flex items-center justify-center mb-6 border border-white/10",children:l.jsx(z0,{className:"text-white",size:28})}),l.jsx("h3",{className:"text-3xl font-bold mb-3",children:c("featLiveWall")||"Live Slideshow"}),l.jsx("p",{className:"text-slate-300 max-w-md text-lg leading-relaxed",children:c("featLiveWallDesc")||"Turn any TV or projector into a live social feed. Photos pop up seconds after they're snapped."})]})]}),l.jsxs("div",{className:"md:col-span-2 bg-[#111] border border-white/10 rounded-[2rem] p-8 hover:bg-[#161616] transition-colors relative overflow-hidden group",children:[l.jsx("div",{className:"absolute top-[-20px] right-[-20px] p-0 opacity-5 group-hover:opacity-10 transition-opacity rotate-12",children:l.jsx(MN,{size:180})}),l.jsxs("h3",{className:"text-xl font-bold mb-3 flex items-center gap-2",children:[l.jsx("span",{className:"text-pink-500",children:""})," ",c("featAI")||"AI Find Me"]}),l.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-6",children:c("featAIDesc")||"Guests take a selfie and our AI instantly filters the gallery to show only their photos."}),l.jsx("div",{className:"w-full h-24 bg-gradient-to-r from-pink-500/20 to-purple-600/20 rounded-xl border border-pink-500/20 flex items-center justify-center",children:l.jsx("span",{className:"text-pink-300 text-xs font-mono",children:"Face Detection Active"})})]}),l.jsxs("div",{className:"md:col-span-2 bg-[#111] border border-white/10 rounded-[2rem] p-8 hover:bg-[#161616] transition-colors relative",children:[l.jsxs("h3",{className:"text-xl font-bold mb-3 flex items-center gap-2",children:[l.jsx(Ev,{className:"text-emerald-400",size:24})," ",c("featPrivacy")||"Private & Secure"]}),l.jsx("p",{className:"text-slate-400 text-sm mb-6 leading-relaxed",children:c("featPrivacyDesc")||"Optional PIN codes, admin moderation, and private uploads."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{className:"h-3 flex-1 rounded-full bg-emerald-500/20 border border-emerald-500/30"}),l.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500 animate-pulse"})]})]})]})]}),l.jsx("section",{className:"py-24 bg-gradient-to-b from-[#0A0A0A] to-black border-t border-white/5",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6",children:l.jsxs("div",{className:"bg-gradient-to-br from-amber-500/5 to-orange-600/5 border border-amber-500/20 rounded-[2.5rem] p-8 md:p-16 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-amber-500/10 blur-[120px] rounded-full pointer-events-none"}),l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-12 relative z-10",children:[l.jsxs("div",{className:"flex-1 space-y-8 text-center md:text-left",children:[l.jsx("div",{className:"inline-block px-4 py-1.5 rounded-full bg-amber-500/10 border border-amber-500/20 text-amber-300 font-bold text-xs uppercase tracking-wider",children:c("studioDashboard")||"SnapifY for Professionals"}),l.jsx("h2",{className:"text-3xl md:text-5xl font-black text-amber-50",children:c("proTitle")}),l.jsxs("p",{className:"text-amber-100/70 text-lg max-w-lg leading-relaxed mx-auto md:mx-0",children:[c("proDesc")," Instant delivery, automated watermarking, and lead generation. Stop chasing clients for emails."]}),l.jsx("ul",{className:"space-y-4 inline-block text-left",children:["Automated Watermarking","Instant ZIP Delivery","Client Data Capture","White-label Galleries"].map((D,U)=>l.jsxs("li",{className:"flex items-center gap-3 text-amber-100/80",children:[l.jsx(ON,{size:20,className:"text-amber-400 shrink-0"})," ",D]},U))}),l.jsx("div",{className:"pt-4",children:l.jsx("button",{onClick:()=>{N(!0),y(!0),v()},className:"bg-amber-500 hover:bg-amber-400 text-black px-8 py-4 rounded-xl font-bold transition-all shadow-lg shadow-amber-500/20",children:"Apply for Studio Account"})})]}),l.jsx("div",{className:"flex-1 w-full relative perspective-1000",children:l.jsxs("div",{className:"bg-[#0f0f0f] border border-amber-500/20 rounded-2xl p-6 shadow-2xl rotate-y-12 md:rotate-6 hover:rotate-0 transition-transform duration-700 max-w-sm mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-white/5 pb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/20 flex items-center justify-center text-amber-400 font-bold border border-amber-500/30",children:"LS"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white",children:"Luxe Studios"}),l.jsx("div",{className:"text-xs text-slate-400",children:"Pro Dashboard"})]})]}),l.jsx("div",{className:"text-emerald-400 text-xs font-bold bg-emerald-500/10 px-2 py-1 rounded border border-emerald-500/20",children:"+24 Leads"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-white/5 rounded-lg border border-white/5 p-4",children:[l.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-2",children:[l.jsx("span",{children:"Storage Used"}),l.jsx("span",{children:"75GB / 100GB"})]}),l.jsx("div",{className:"h-2 w-full bg-white/10 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full w-3/4 bg-amber-500 rounded-full"})})]}),l.jsx("div",{className:"h-32 bg-[url('https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=80')] bg-cover rounded-lg opacity-50 flex items-end p-2 relative",children:l.jsx("div",{className:"absolute bottom-2 right-2 text-[10px] text-white/50 font-bold",children:"Luxe Studios "})})]})]})})]})]})})}),l.jsxs("section",{id:"pricing",className:"py-24 px-6 max-w-7xl mx-auto scroll-mt-20",children:[l.jsx("h2",{className:"text-3xl md:text-5xl font-black mb-6 text-center",children:"Contact Sales"}),l.jsx("p",{className:"text-slate-400 text-center max-w-2xl mx-auto mb-16 text-lg",children:"Get in touch with our team to discuss your event needs."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[{icon:"",method:"WhatsApp",contact:"+41 77 958 68 45",link:"https://wa.me/41779586845"},{icon:"",method:"Viber",contact:"+41 77 958 68 45",link:"viber://chat?number=%2B41779586845"},{icon:"",method:"Email",contact:"admin@skytech.mk",link:"mailto:admin@skytech.mk"}].map((D,U)=>l.jsxs("a",{href:D.link,target:"_blank",rel:"noopener noreferrer",className:"bg-[#111] border border-white/10 p-8 rounded-3xl text-center hover:border-indigo-500/30 transition-all group hover:-translate-y-1 duration-300 shadow-2xl shadow-black",children:[l.jsx("div",{className:"text-4xl mb-4",children:D.icon}),l.jsx("h3",{className:"text-xl font-bold mb-2 text-white",children:D.method}),l.jsx("p",{className:"text-slate-400",children:D.contact})]},U))})]}),l.jsx("section",{className:"py-24 bg-[#0A0A0A] border-y border-white/5",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("h2",{className:"text-3xl md:text-5xl font-black mb-4",children:["Frequently Asked ",l.jsx("span",{className:"text-blue-400",children:"Questions"})]}),l.jsx("p",{className:"text-slate-400 text-lg",children:"Everything you need to know about SnapifY"})]}),l.jsx("div",{className:"space-y-6",children:[{question:"How does the live slideshow work?",answer:"Photos appear on the big screen within seconds of being taken. Our real-time system ensures instant sharing without any lag or delays."},{question:"Is my event data secure?",answer:"Absolutely. All photos are encrypted, and you control privacy settings. Optional PIN codes and admin moderation keep everything secure."},{question:"Do guests need to download an app?",answer:"No apps required! Guests simply scan a QR code with their phone's camera and can start sharing photos immediately."},{question:"What happens to photos after the event?",answer:"You get a complete gallery with all photos organized by AI. Professional accounts include automated watermarking and instant ZIP delivery."},{question:"Can I use this for corporate events?",answer:"Definitely! SnapifY works perfectly for conferences, team building, product launches, and any event where engagement matters."},{question:"What's the difference between free and paid plans?",answer:"Free plan includes basic event creation and sharing. Paid plans add unlimited events, advanced moderation, custom branding, and priority support."}].map((D,U)=>l.jsxs("details",{className:"group bg-[#111] border border-white/10 rounded-2xl p-6 hover:border-blue-500/30 transition-all",children:[l.jsxs("summary",{className:"cursor-pointer text-lg font-bold text-white flex items-center justify-between group-open:text-blue-400",children:[D.question,l.jsx("span",{className:"text-slate-400 group-open:rotate-45 transition-transform",children:""})]}),l.jsx("p",{className:"text-slate-400 mt-4 leading-relaxed",children:D.answer})]},U))}),l.jsxs("div",{className:"text-center mt-12",children:[l.jsx("p",{className:"text-slate-400 mb-4",children:"Still have questions?"}),l.jsx("button",{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-3 rounded-full font-bold transition-all",children:"Contact Support"})]})]})}),l.jsx("footer",{className:"bg-black border-t border-white/10 py-12 px-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"bg-white/10 p-2 rounded-lg",children:l.jsx(wa,{size:16})}),l.jsx("span",{className:"font-bold tracking-tight",children:c("appName")})]}),l.jsxs("div",{className:"text-sm text-slate-500",children:[" ",new Date().getFullYear()," ",c("appName"),". All rights reserved."]}),l.jsx("button",{onClick:()=>b(!0),className:"text-sm text-slate-400 hover:text-white transition-colors underline decoration-slate-600 underline-offset-4",children:c("termsLink")})]})}),x&&l.jsx(A4,{onClose:()=>b(!1),t:c})]})},R4=({events:e,currentUser:t,onNewEvent:a,onSelectEvent:i,onRequestUpgrade:s,t:r})=>{const o=c=>{if(c===We.FREE)return l.jsx("span",{className:"flex items-center px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider border bg-slate-100 text-slate-500 border-slate-200",children:"FREE PLAN"});let u="bg-indigo-100 text-indigo-700 border-indigo-200",d=null,p=c;return c===We.STUDIO?(u="bg-gradient-to-r from-amber-200 to-yellow-400 text-amber-900 border-amber-300 shadow-sm",d=l.jsx(Ma,{size:12,className:"mr-1.5 fill-amber-700"}),p="STUDIO PLAN"):c===We.PRO?(u="bg-purple-100 text-purple-700 border-purple-200",d=l.jsx(wa,{size:12,className:"mr-1.5 fill-purple-500"}),p="PRO PLAN"):c===We.BASIC&&(u="bg-blue-100 text-blue-700 border-blue-200",d=l.jsx(Od,{size:12,className:"mr-1.5 fill-blue-500"}),p="BASIC PLAN"),l.jsxs("span",{className:`flex items-center px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider border ${u}`,children:[d,p]})};return l.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4 bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:r("myEvents")}),o(t.tier)]}),l.jsx("p",{className:"text-slate-500",children:r("manageEvents")})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[t.tier===We.FREE&&l.jsxs("button",{onClick:s,className:"w-full sm:w-auto bg-gradient-to-r from-amber-200 to-yellow-400 text-amber-900 px-5 py-2.5 rounded-xl font-bold flex items-center justify-center space-x-2 hover:shadow-lg hover:scale-[1.02] transition-all",title:"Upgrade your plan",children:[l.jsx(Ma,{size:20}),l.jsx("span",{children:r("contactSales")})]}),l.jsxs("button",{onClick:a,className:"w-full sm:w-auto bg-black text-white px-5 py-2.5 rounded-xl font-medium flex items-center justify-center space-x-2 hover:bg-slate-800 transition-all shadow-lg hover:shadow-xl",children:[l.jsx(Pu,{size:20}),l.jsx("span",{children:r("newEvent")})]})]})]}),e.length===0?l.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl border border-dashed border-slate-300 shadow-sm mx-4 sm:mx-0",children:[l.jsx("div",{className:"bg-indigo-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Nv,{className:"text-indigo-500",size:32})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900",children:r("noEvents")}),l.jsx("p",{className:"text-slate-500 mb-8 max-w-xs mx-auto",children:r("createFirst")}),l.jsx("button",{onClick:a,className:"text-indigo-600 font-bold hover:underline",children:r("createNow")})]}):l.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.filter(c=>!((c.expiresAt?new Date>new Date(c.expiresAt):!1)&&(t.tier===We.FREE||t.tier===We.BASIC||t.tier===We.PRO))).map(c=>{const u=c.expiresAt?new Date>new Date(c.expiresAt):!1,d=c.hostId===(t==null?void 0:t.id);return l.jsxs("div",{onClick:()=>i(c.id),className:`bg-white p-6 rounded-2xl border transition-all cursor-pointer group relative overflow-hidden ${u?"border-red-100 opacity-75 grayscale-[0.5]":"border-slate-200 shadow-sm hover:shadow-md"}`,children:[l.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:l.jsx(wa,{size:100})}),l.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[l.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold text-xl shadow-md",children:c.title.charAt(0)}),l.jsxs("div",{className:"flex gap-2",children:[u&&l.jsxs("span",{className:"bg-red-100 text-red-600 px-3 py-1 rounded-full text-xs font-bold border border-red-200 flex items-center",children:[l.jsx(hu,{size:10,className:"mr-1"})," ",r("expired")]}),d&&l.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-3 py-1 rounded-full text-xs font-bold border border-indigo-200",children:r("owner")}),!d&&t.role===st.ADMIN&&l.jsxs("span",{className:"bg-amber-100 text-amber-700 px-3 py-1 rounded-full text-xs font-bold border border-amber-200 flex items-center",children:[l.jsx(kv,{size:10,className:"mr-1"})," User Event"]})]})]}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1 group-hover:text-indigo-600 transition-colors relative z-10",children:c.title}),l.jsxs("p",{className:"text-sm text-slate-500 mb-4 flex items-center relative z-10",children:[l.jsx(Rs,{size:14,className:"mr-1.5"}),c.date||r("dateTBD")]}),l.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mb-4 relative z-10 bg-slate-50 p-3 rounded-lg",children:c.description}),l.jsxs("div",{className:"pt-4 border-t border-slate-100 flex items-center text-sm text-slate-500 font-medium",children:[l.jsx(yp,{size:16,className:"mr-2 text-indigo-500"}),c.media.length," ",r("memories")]})]},c.id)})}),t.tier===We.PRO&&l.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(L0,{className:"text-purple-600",size:24}),l.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Analytics & Insights"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-4 rounded-xl border border-purple-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(IN,{className:"text-purple-600",size:20}),l.jsx("span",{className:"text-2xl font-bold text-purple-900",children:e.length})]}),l.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Total Events"}),l.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Events created this month"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-4 rounded-xl border border-blue-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Mh,{className:"text-blue-600",size:20}),l.jsx("span",{className:"text-2xl font-bold text-blue-900",children:e.reduce((c,u)=>c+u.media.length,0)})]}),l.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Total Photos"}),l.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Across all events"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl border border-green-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Qs,{className:"text-green-600",size:20}),l.jsx("span",{className:"text-2xl font-bold text-green-900",children:e.reduce((c,u)=>c+(u.downloads||0),0)})]}),l.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Downloads"}),l.jsx("p",{className:"text-xs text-green-600 mt-1",children:"ZIP downloads requested"})]})]})]}),t.tier===We.BASIC&&l.jsxs("div",{className:"mt-8 space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(wa,{className:"text-blue-600",size:24}),l.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Quick Actions"})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:a,className:"flex items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100 hover:shadow-md transition-all",children:[l.jsx(Pu,{className:"text-blue-600",size:20}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-bold text-blue-900",children:"Create Event"}),l.jsx("p",{className:"text-sm text-blue-700",children:"Start a new photo session"})]})]}),l.jsxs("button",{onClick:()=>{},className:"flex items-center gap-3 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100 hover:shadow-md transition-all",children:[l.jsx(Ji,{className:"text-green-600",size:20}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-bold text-green-900",children:"Bulk Upload"}),l.jsx("p",{className:"text-sm text-green-700",children:"Upload multiple photos"})]})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-2xl border border-amber-200 p-6",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(Ma,{className:"text-amber-600",size:24}),l.jsx("h3",{className:"text-xl font-bold text-amber-900",children:"Unlock Premium Features"})]}),l.jsx("p",{className:"text-amber-700 mb-6",children:"Upgrade to PRO for advanced features and unlimited possibilities."}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(Tv,{className:"text-amber-600",size:18}),l.jsx("span",{className:"text-sm font-medium text-amber-900",children:"4K Video Support"})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(zN,{className:"text-amber-600",size:18}),l.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Custom Branding"})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(L0,{className:"text-amber-600",size:18}),l.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Analytics Dashboard"})]})]}),l.jsx("button",{onClick:s,className:"w-full bg-gradient-to-r from-amber-500 to-yellow-500 text-white py-3 rounded-xl font-bold hover:shadow-lg transition-all",children:"Upgrade to PRO - $29.99/month"})]})]})]})},m0=()=>{if(typeof window>"u")return!1;const e="ontouchstart"in window||navigator.maxTouchPoints>0,t=window.innerWidth<=768,a=navigator.userAgent.toLowerCase(),i=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(a);return e&&(t||i)},D4=({eventId:e,eventTitle:t,onClose:a,t:i})=>{const s=`${window.location.origin}?event=${e}`,[r,o]=xp.useState(!1),c=async()=>{try{await navigator.clipboard.writeText(s),o(!0),setTimeout(()=>o(!1),2e3)}catch(p){console.error("Failed to copy",p)}},u=async()=>{if(navigator.share)try{await navigator.share({title:"SnapifY Event",text:`Join the party! ${t}`,url:s})}catch{}else c()},d=()=>{const p=document.getElementById("share-qr");if(p){const f=new XMLSerializer().serializeToString(p),m=document.createElement("canvas"),h=m.getContext("2d"),x=new Image;x.onload=()=>{m.width=x.width,m.height=x.height,h==null||h.drawImage(x,0,0);const b=m.toDataURL("image/png"),S=document.createElement("a");S.download=`QR_${t.replace(/\s+/g,"_")}.png`,S.href=b,S.click()},x.src="data:image/svg+xml;base64,"+btoa(f)}};return l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Share Event"}),l.jsx("button",{onClick:a,className:"p-2 bg-white rounded-full hover:bg-slate-100 transition-colors",children:l.jsx(Kt,{size:20,className:"text-slate-500"})})]}),l.jsxs("div",{className:"p-8 flex flex-col items-center space-y-6",children:[l.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-indigo-100",children:l.jsx(vp,{id:"share-qr",value:s,size:180,level:"H",includeMargin:!0})}),l.jsxs("div",{className:"w-full space-y-3",children:[typeof navigator<"u"&&navigator.share&&l.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 py-3.5 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200",children:[l.jsx(Sp,{size:20})," Share via..."]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 rounded-xl border border-slate-200",children:[l.jsx(jv,{size:16,className:"text-slate-400 flex-shrink-0"}),l.jsx("input",{type:"text",readOnly:!0,value:s,className:"bg-transparent text-sm text-slate-600 flex-1 outline-none truncate"}),l.jsx("button",{onClick:c,className:`p-2 rounded-lg transition-colors ${r?"bg-green-100 text-green-600":"hover:bg-white text-slate-500"}`,children:r?l.jsx(Lh,{size:16}):l.jsx(LN,{size:16})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("a",{href:`https://wa.me/?text=${encodeURIComponent(`Join the party! ${t}: ${s}`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 py-3 bg-[#25D366] text-white rounded-xl font-bold hover:opacity-90 transition-opacity",children:[l.jsx($i,{size:18})," WhatsApp"]}),l.jsxs("button",{onClick:d,className:"flex items-center justify-center gap-2 py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition-colors",children:[l.jsx(Qs,{size:18})," Save QR"]})]})]})]})]})})},M4=({vendor:e})=>l.jsxs("div",{className:"relative group rounded-2xl overflow-hidden bg-white shadow-sm border border-indigo-100 hover:shadow-md transition-all cursor-pointer flex flex-col break-inside-avoid mb-4",children:[l.jsxs("div",{className:"absolute top-2 left-2 bg-black/70 backdrop-blur-sm text-white text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wider z-10",children:["Featured ",e.category]}),e.coverImage?l.jsx("div",{className:"h-48 w-full overflow-hidden",children:l.jsx("img",{src:e.coverImage,alt:e.businessName,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"})}):l.jsx("div",{className:"h-32 bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center text-white",children:l.jsx("span",{className:"font-bold text-2xl opacity-50",children:e.businessName.charAt(0)})}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"flex items-start justify-between mb-2",children:l.jsxs("h3",{className:"font-bold text-slate-900 text-lg leading-tight",children:[e.businessName,e.isVerified&&l.jsx(Av,{size:14,className:"inline ml-1 text-blue-500"})]})}),l.jsxs("p",{className:"text-slate-500 text-xs mb-3 flex items-center",children:[l.jsx(_p,{size:12,className:"mr-1"})," ",e.city]}),l.jsx("p",{className:"text-slate-600 text-sm line-clamp-2 mb-4",children:e.description}),l.jsxs("a",{href:e.website||`mailto:${e.contactEmail}`,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-slate-50 hover:bg-slate-100 text-slate-900 font-bold text-sm py-2.5 rounded-xl flex items-center justify-center transition-colors border border-slate-200",children:["Contact ",l.jsx(UN,{size:14,className:"ml-2"})]})]})]}),Zy=e=>{if(!e||e===1)return"";switch(e){case 2:return"scaleX(-1)";case 3:return"rotate(180deg)";case 4:return"scaleY(-1)";case 5:return"scaleX(-1) rotate(90deg)";case 6:return"rotate(90deg)";case 7:return"scaleX(-1) rotate(-90deg)";case 8:return"rotate(-90deg)";default:return""}},O4=({item:e,onClick:t})=>{const a=V.useRef(null),[i,s]=V.useState(!1),r=m0();return V.useEffect(()=>{if(r)return;const o=new IntersectionObserver(c=>{c.forEach(u=>{if(a.current)if(u.isIntersecting){const d=a.current.play();d!==void 0&&d.then(()=>s(!0)).catch(()=>{s(!1)})}else a.current.pause(),s(!1)})},{threshold:.25});return a.current&&o.observe(a.current),()=>{a.current&&o.unobserve(a.current)}},[r]),e.isProcessing?l.jsxs("div",{className:"w-full aspect-video bg-slate-200 flex flex-col items-center justify-center text-slate-500",onClick:t,children:[l.jsx($r,{className:"animate-spin mb-2"}),l.jsx("span",{className:"text-xs font-bold",children:"Processing..."})]}):l.jsxs("div",{className:"relative group cursor-pointer",onClick:t,children:[l.jsx("video",{ref:a,src:e.previewUrl||e.url,className:"w-full h-auto object-cover rounded-lg pointer-events-none bg-black min-h-[150px]",muted:!0,playsInline:!0,loop:!0,preload:"metadata"}),l.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-colors pointer-events-none ${r?"bg-black/10":i?"bg-transparent":"bg-black/20 group-hover:bg-black/30"}`,children:(!i||r)&&l.jsx("div",{className:"bg-black/40 rounded-full p-3 backdrop-blur-sm border border-white/20",children:l.jsx(Rl,{className:"text-white fill-white",size:24})})}),l.jsx("div",{className:"absolute top-2 right-2 bg-black/60 p-1.5 rounded-md pointer-events-none z-10 backdrop-blur-md",children:l.jsx(Tv,{className:"text-white",size:12})})]})},I4=({event:e,currentUser:t,hostUser:a,isEventExpired:i,isOwner:s,isHostPhotographer:r,downloadingZip:o,applyWatermark:c,setApplyWatermark:u,onDownloadAll:d,onSetCover:p,onUpload:f,onLike:m,onOpenLiveSlideshow:h,t:x})=>{var Ge;const[b,S]=V.useState(e.media),[g,y]=V.useState(e.guestbook||[]),[w,E]=V.useState(!1),[k,M]=V.useState(null),[A,I]=V.useState(!1),[j,N]=V.useState(0),[z,T]=V.useState(!1),[C,v]=V.useState(!1),[D,U]=V.useState(!1),H=V.useRef(null),[P,X]=V.useState(""),[$,L]=V.useState(!1),[F,ue]=V.useState("gallery"),[le,oe]=V.useState(""),[Ue,Fe]=V.useState((t==null?void 0:t.name)||""),Ee=`unlocked_event_${e.id}`,[ke,Ie]=V.useState(()=>s||(t==null?void 0:t.role)===st.ADMIN||sessionStorage.getItem(Ee)==="true"?!1:!!e.hasPin||!!e.pin&&e.pin.length>0),[Be,jt]=V.useState(""),[Et,_]=V.useState(""),[J,K]=V.useState(!1),[O,R]=V.useState(null),[Y,Q]=V.useState(null),[ee,B]=V.useState(""),[W,te]=V.useState(!1),[Z,he]=V.useState(!1),[Ne,Te]=V.useState(!1),[At,En]=V.useState(!1),[tt,sn]=V.useState(new Set),[Oe,Nn]=V.useState(!1),[mn,Ct]=V.useState(!1),[Un,Jn]=V.useState([]),Ta=se=>t?t.role===st.ADMIN||s?!0:se.uploaderId===t.id:!1,Ga=()=>t?ie.some(se=>Ta(se)):!1;V.useEffect(()=>(Qe.connect(),Qe.joinEvent(e.id),Qe.on("media_uploaded",se=>{S(xe=>xe.some(me=>me.id===se.id)?xe:[se,...xe])}),Qe.on("media_processed",se=>{S(xe=>xe.map(me=>me.id===se.id?{...me,isProcessing:!1,previewUrl:se.previewUrl,url:se.url||me.url}:me))}),Qe.on("new_like",se=>{S(xe=>xe.map(me=>me.id===se.id?{...me,likes:se.likes}:me))}),Qe.on("new_message",se=>{y(xe=>xe.some(me=>me.id===se.id)?xe:[se,...xe])}),Qe.on("new_comment",se=>{S(xe=>xe.map(me=>me.id===se.mediaId?{...me,comments:[...me.comments||[],se]}:me))}),En(m0()),()=>{Qe.disconnect()}),[e.id]),V.useEffect(()=>{S(e.media)},[e.media]),V.useEffect(()=>{(s||(t==null?void 0:t.role)===st.ADMIN)&&Ie(!1)},[s,t]),V.useEffect(()=>{(async()=>{if(e.city)try{const xe=await it.fetchVendors(e.city);Jn(xe)}catch(xe){console.error("Failed to fetch vendors",xe)}})()},[e.city]),V.useEffect(()=>{(async()=>{if(window.faceapi&&!Z)try{await Promise.all([window.faceapi.nets.ssdMobilenetv1.loadFromUri("https://cdn.jsdelivr.net/npm/@vladmandic/face-api/model"),window.faceapi.nets.faceLandmark68Net.loadFromUri("https://cdn.jsdelivr.net/npm/@vladmandic/face-api/model"),window.faceapi.nets.faceRecognitionNet.loadFromUri("https://cdn.jsdelivr.net/npm/@vladmandic/face-api/model")]),he(!0)}catch(xe){console.error("Failed to load FaceAPI models",xe)}})()},[]);const ie=(()=>{let se=Y||b;if(!s&&(t==null?void 0:t.role)!==st.ADMIN&&(se=se.filter(xe=>xe.privacy!=="private"||t&&xe.uploaderId===t.id)),Ne&&t&&(se=se.filter(xe=>xe.uploaderId===t.id)),ee.trim()){const xe=ee.toLowerCase();se=se.filter(me=>me.caption&&me.caption.toLowerCase().includes(xe)||me.uploaderName&&me.uploaderName.toLowerCase().includes(xe))}return se})(),de=(a==null?void 0:a.tier)===We.STUDIO,be=de?"#4f46e5":"#000000",He=se=>{M(se),I(!1),N(0),document.body.style.overflow="hidden"},yt=V.useCallback(()=>{M(null),I(!1),document.body.style.overflow="unset"},[]),ve=V.useCallback(se=>{if(k===null||C)return;const xe=window.innerWidth,me=se==="next"?-xe:xe;v(!0),N(me),setTimeout(()=>{const Zt=ie.length;let zt;se==="next"?zt=(k+1)%Zt:zt=(k-1+Zt)%Zt,U(!0),M(zt),N(0),v(!1),setTimeout(()=>{U(!1)},50)},300)},[k,ie.length,C]),ze=se=>{C||(H.current=se.clientX,T(!0))},G=se=>{if(!H.current||C||!z)return;const me=se.clientX-H.current;N(me)},ce=()=>{if(!H.current||C||!z){T(!1);return}T(!1);const se=window.innerWidth/4;j<-se?ve("next"):j>se?ve("prev"):(v(!0),N(0),setTimeout(()=>v(!1),300)),H.current=null};V.useEffect(()=>{const se=xe=>{k!==null&&(xe.key==="Escape"&&yt(),xe.key==="ArrowRight"&&ve("next"),xe.key==="ArrowLeft"&&ve("prev"))};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},[k,yt,ve]),V.useEffect(()=>{let se;return A&&k!==null&&(se=setInterval(()=>{ve("next")},3e3)),()=>clearInterval(se)},[A,k,ve]);const ge=async()=>{const se=`${window.location.origin}?event=${e.id}`;try{await navigator.clipboard.writeText(se),E(!0),setTimeout(()=>E(!1),2e3)}catch{prompt(x("copyLink"),se)}},$e=async se=>{se.preventDefault(),await it.validateEventPin(e.id,Be)?(Ie(!1),sessionStorage.setItem(Ee,"true")):_(x("invalidPin"))},vt=async se=>{if(se.preventDefault(),!le.trim()||!Ue.trim())return;const xe={id:crypto.randomUUID(),eventId:e.id,senderName:Ue,message:le,createdAt:new Date().toISOString()};await it.addGuestbookEntry(xe),oe("")},rn=async se=>{if(se.preventDefault(),!P.trim()||k===null)return;const xe=ie[k],me=t?t.name:localStorage.getItem("snapify_guest_name")||"Guest",Zt={id:crypto.randomUUID(),mediaId:xe.id,eventId:e.id,senderName:me,text:P,createdAt:new Date().toISOString()};await it.addComment(Zt),X("")},Yt=async se=>{if(!se.target.files||!se.target.files[0]||!window.faceapi)return;const xe=se.target.files[0],me=URL.createObjectURL(xe);R(me),te(!0);try{const Zt=await window.faceapi.fetchImage(me),zt=await window.faceapi.detectSingleFace(Zt).withFaceLandmarks().withFaceDescriptor();if(!zt){alert(x("noFaceDetected")),te(!1),R(null);return}const Cc=new window.faceapi.FaceMatcher(zt),Wo=[],Ai=b.filter(qa=>qa.type==="image");for(const qa of Ai)try{const ja=await window.faceapi.fetchImage(qa.url);(await window.faceapi.detectAllFaces(ja).withFaceLandmarks().withFaceDescriptors()).some(Ci=>Cc.findBestMatch(Ci.descriptor).label!=="unknown")&&Wo.push(qa)}catch{}Q(Wo)}catch{alert(x("scanError"))}finally{te(!1)}},ki=()=>{Oe?(sn(new Set),Nn(!1)):Nn(!0)},Ti=se=>{const xe=new Set(tt);xe.has(se)?xe.delete(se):xe.add(se),sn(xe)},ji=()=>{tt.size===ie.length?sn(new Set):sn(new Set(ie.map(se=>se.id)))},pt=async()=>{if(tt.size!==0&&confirm(x("confirmBulkDelete").replace("{count}",tt.size.toString()))){Ct(!0);try{const se=Array.from(tt);(await it.bulkDeleteMedia(se)).success&&(S(me=>me.filter(Zt=>!tt.has(Zt.id))),sn(new Set),Nn(!1))}catch{}finally{Ct(!1)}}},_e=(()=>{const se=[];let xe=0;(s||(t==null?void 0:t.role)===st.ADMIN||t)&&!Oe&&!ee&&se.push({type:"add-memory"});for(let me=0;me<ie.length;me++){const Zt=ie[me];if(Un.length>0&&!Oe&&me>0&&me%8===0){const zt=Un[xe%Un.length];se.push({type:"ad",vendor:zt}),xe++}se.push(Zt)}return se})(),Nt=se=>{const xe=_e[se];if(xe.type==="add-memory")return l.jsxs("div",{onClick:()=>f("upload"),className:"relative group rounded-2xl overflow-hidden bg-gradient-to-br from-indigo-50 to-white border-2 border-dashed border-indigo-200 shadow-sm hover:shadow-md hover:border-indigo-400 transition-all cursor-pointer flex flex-col items-center justify-center min-h-[250px] animate-in fade-in slide-in-from-bottom-4 h-full",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mb-4 shadow-inner group-hover:scale-110 transition-transform duration-300",children:l.jsx(Pu,{size:32,strokeWidth:3})}),l.jsx("h4",{className:"font-black text-indigo-900 text-lg",children:x("addMemory")}),l.jsx("p",{className:"text-indigo-500/80 text-xs font-bold uppercase tracking-wider mt-1",children:x("tapToUpload")})]});if(xe.type==="ad")return l.jsx(M4,{vendor:xe.vendor},`ad-${se}`);{const me=xe,Zt=ie.indexOf(me);return l.jsxs("div",{className:"relative group rounded-2xl overflow-hidden bg-slate-100 shadow-sm hover:shadow-md transition-all cursor-pointer h-full",onClick:()=>!Oe&&He(Zt),children:[Oe&&Ta(me)&&l.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 z-20 bg-black/10 flex items-start justify-end p-3",children:l.jsx("button",{onClick:zt=>{zt.stopPropagation(),Ti(me.id)},className:`w-6 h-6 rounded-full flex items-center justify-center transition-all shadow-sm ${tt.has(me.id)?"bg-indigo-600 text-white":"bg-white text-slate-400"}`,children:tt.has(me.id)?l.jsx(P0,{size:14}):l.jsx(qN,{size:14})})}),me.type==="video"?l.jsx(O4,{item:me,onClick:()=>!Oe&&He(Zt)}):l.jsx("div",{className:"w-full aspect-square bg-slate-200 relative overflow-hidden",children:l.jsx("img",{src:me.previewUrl||me.url,alt:me.caption||"Photo",className:"w-full h-full object-cover",style:{transform:Zy(me.orientation)},onError:zt=>{console.error("Image failed to load:",me.previewUrl||me.url),zt.currentTarget.src===(me.previewUrl||me.url)&&(zt.currentTarget.src=me.url)}})}),me.isWatermarked&&me.watermarkText&&l.jsx("div",{className:"absolute bottom-2 right-2 pointer-events-none",children:l.jsx("p",{className:"text-white/60 text-[10px] font-bold uppercase tracking-widest drop-shadow-md px-1.5 py-0.5 rounded bg-black/30 backdrop-blur-sm",children:me.watermarkText})}),me.privacy==="private"&&l.jsx("div",{className:"absolute top-2 right-2 bg-black/60 text-white p-1 rounded-full shadow-sm backdrop-blur-sm z-10",children:l.jsx(es,{size:12})}),l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4 pointer-events-none",children:[l.jsx("p",{className:"text-white text-sm font-medium truncate",children:me.caption}),l.jsxs("div",{className:"flex justify-between items-end mt-0.5",children:[l.jsxs("p",{className:"text-white/60 text-xs",children:["by ",me.uploaderName]}),me.comments&&me.comments.length>0&&l.jsxs("div",{className:"flex items-center gap-1 text-white/80 text-xs",children:[l.jsx(Rv,{size:12})," ",me.comments.length]})]})]}),!Oe&&l.jsxs("button",{onClick:zt=>{zt.stopPropagation(),m(me)},className:"absolute bottom-3 right-3 bg-white/90 backdrop-blur-md rounded-full p-2 text-slate-400 shadow-lg hover:text-red-500 hover:scale-110 transition-all flex items-center gap-1 pointer-events-auto z-10",children:[l.jsx(Uh,{size:16,className:me.likes?"fill-red-500 text-red-500":""}),xe.likes?l.jsx("span",{className:"text-xs font-bold text-red-500",children:me.likes}):null]}),(s||(t==null?void 0:t.role)===st.ADMIN)&&me.type==="image"&&!Oe&&l.jsx("button",{onClick:zt=>{zt.stopPropagation(),p(me)},className:"absolute top-3 left-3 bg-black/40 backdrop-blur-md rounded-full p-1.5 text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-indigo-600 pointer-events-auto z-10",children:l.jsx(Od,{size:14})})]},me.id)}};return ke?l.jsx("div",{className:"min-h-[60vh] flex items-center justify-center px-4",children:l.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-sm w-full text-center border border-slate-200",children:[l.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(es,{size:32,className:"text-slate-700"})}),l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:x("pinRequired")}),l.jsxs("form",{onSubmit:$e,children:[l.jsx("input",{type:"text",value:Be,onChange:se=>{jt(se.target.value),_("")},placeholder:"PIN Code",className:"w-full text-center text-2xl tracking-widest font-bold p-3 rounded-xl border border-slate-300 mb-4 uppercase",maxLength:6}),Et&&l.jsx("p",{className:"text-red-500 font-bold text-sm mb-4",children:Et}),l.jsx("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold",children:x("submitPin")})]})]})}):i&&(t==null?void 0:t.role)!==st.ADMIN&&(t==null?void 0:t.id)!==e.hostId?l.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-20 text-center",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:x("eventExpiredTitle")}),l.jsx("p",{className:"text-slate-500 mb-8",children:x("eventExpiredMsg")}),l.jsx("button",{onClick:()=>window.location.href="/",className:"bg-slate-900 text-white px-8 py-3 rounded-xl font-bold",children:x("goHome")})]}):l.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-8 pb-32",children:[i&&(t==null?void 0:t.role)===st.ADMIN&&l.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-700 p-4 rounded-xl mb-6 flex items-center font-bold",children:[l.jsx(uo,{className:"mr-2"})," ",x("adminModeExpired")]}),l.jsxs("div",{className:"bg-white rounded-3xl p-6 md:p-8 shadow-sm border border-slate-200 mb-8 relative overflow-hidden group",children:[e.coverImage?l.jsxs("div",{className:"absolute inset-0 z-0",children:[e.coverMediaType==="video"?l.jsx("video",{src:e.coverImage,className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}):l.jsx("img",{src:e.coverImage,alt:"Cover",className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-white/90 backdrop-blur-sm"})]}):l.jsx("div",{className:"absolute -top-20 -right-20 opacity-[0.03] pointer-events-none z-0",children:l.jsx("div",{className:"w-96 h-96 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-full blur-3xl"})}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-8 relative z-10 items-center md:items-start",children:[l.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center",children:[l.jsx("div",{className:`bg-white p-4 rounded-2xl shadow-lg border inline-block ${de?"border-amber-200 ring-4 ring-amber-50":"border-slate-100"}`,children:l.jsx(vp,{value:`${window.location.origin}?event=${e.id}`,size:140,fgColor:be})}),l.jsxs("button",{onClick:ge,className:`mt-3 flex items-center gap-2 text-sm font-bold px-3 py-1.5 rounded-lg transition-all ${w?"bg-green-100 text-green-700":"text-indigo-600 hover:bg-indigo-50"}`,children:[w?l.jsx(Av,{size:14}):l.jsx(jv,{size:14}),x(w?"linkCopied":"copyLink")]})]}),l.jsxs("div",{className:"flex-1 text-center md:text-left w-full",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 tracking-tight mb-2",children:e.title}),l.jsxs("p",{className:"text-slate-500 flex items-center justify-center md:justify-start mb-2 font-medium",children:[l.jsx(Rs,{size:18,className:"mr-2 text-indigo-500"})," ",e.date||x("dateTBD")]}),e.city&&l.jsxs("p",{className:"text-slate-500 flex items-center justify-center md:justify-start mb-6 font-medium",children:[l.jsx(_p,{size:18,className:"mr-2 text-red-500"})," ",x("city"),": ",e.city]}),l.jsx("div",{className:"text-slate-700 bg-slate-50 p-5 rounded-2xl border border-slate-200 w-full text-left shadow-sm relative",children:l.jsx("p",{className:"italic",children:e.description})})]})]})]}),l.jsx("div",{className:"flex justify-center mb-8",children:l.jsxs("div",{className:"bg-white p-1.5 rounded-xl shadow-sm border border-slate-200 flex gap-2",children:[l.jsxs("button",{onClick:()=>ue("gallery"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${F==="gallery"?"bg-indigo-600 text-white shadow-md":"text-slate-600 hover:bg-slate-50"}`,children:[l.jsx(bp,{size:18})," ",x("gallery")]}),l.jsxs("button",{onClick:()=>ue("guestbook"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${F==="guestbook"?"bg-indigo-600 text-white shadow-md":"text-slate-600 hover:bg-slate-50"}`,children:[l.jsx(BN,{size:18})," ",x("guestbook")]})]})}),F==="gallery"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between bg-white p-4 rounded-2xl shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(U0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",value:ee,onChange:se=>B(se.target.value),placeholder:"Search memories...",className:"w-full pl-10 pr-4 py-2 rounded-xl border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none text-sm"}),ee&&l.jsx("button",{onClick:()=>B(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:l.jsx(Kt,{size:14})})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[Y&&l.jsxs("button",{onClick:()=>{Q(null),R(null)},className:"flex items-center gap-1 px-3 py-2 text-sm font-bold text-red-600 bg-red-50 rounded-xl hover:bg-red-100",children:[l.jsx(Kt,{size:16})," ",x("clearFilter")]}),t&&!Oe&&l.jsx("button",{onClick:()=>Te(!Ne),className:`p-2 rounded-xl transition-colors ${Ne?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,title:x(Ne?"allPhotos":"myUploads"),children:l.jsx(B0,{size:20})}),Ga()&&ie.length>0&&l.jsx("button",{onClick:ki,className:`p-2 rounded-xl transition-colors ${Oe?"bg-slate-900 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,title:x(Oe?"cancel":"selectMedia"),children:Oe?l.jsx(Kt,{size:20}):l.jsx(P0,{size:20})}),Oe&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:ji,className:"px-3 py-2 text-xs font-bold bg-slate-100 rounded-xl hover:bg-slate-200",children:tt.size===ie.length?"Deselect All":"Select All"}),tt.size>0&&l.jsxs("button",{onClick:pt,disabled:mn,className:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white bg-red-600 hover:bg-red-700 rounded-xl",children:[mn?l.jsx($r,{size:16,className:"animate-spin"}):l.jsx(Ds,{size:16}),tt.size]})]}),Z&&b.length>0&&!Oe&&l.jsx("button",{onClick:()=>K(!J),className:`p-2 rounded-xl transition-colors ${J?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,title:x("findMe"),children:l.jsx(PN,{size:20})}),ie.length>0&&!Oe&&l.jsxs("button",{onClick:()=>{He(0),I(!0)},className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-xl hover:bg-slate-800 font-bold text-sm",children:[l.jsx(Rl,{size:16})," ",l.jsx("span",{className:"hidden sm:inline",children:x("slideshow")})]}),ie.length>0&&!Oe&&l.jsx("button",{onClick:()=>d(b),disabled:o,className:"p-2 text-indigo-600 bg-indigo-50 hover:bg-indigo-100 rounded-xl transition-colors disabled:opacity-50",title:x("downloadAll"),children:o?l.jsx($r,{size:20,className:"animate-spin"}):l.jsx(Qs,{size:20})})]})]}),J&&l.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-md border border-indigo-100 mb-6 animate-in slide-in-from-top-2 flex flex-col items-center text-center relative overflow-hidden",children:[l.jsxs("div",{className:"w-full bg-amber-50 border-b border-amber-100 p-2 mb-4 flex items-center justify-center gap-2 text-amber-700 text-xs font-bold",children:[l.jsx(bv,{size:14}),x("findMeDevMode")]}),l.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:x("findMeTitle")}),l.jsx("p",{className:"text-sm text-slate-500 mb-4",children:x("findMeDesc")}),W?l.jsxs("div",{className:"flex items-center justify-center py-4 text-indigo-600",children:[l.jsx($r,{className:"animate-spin mr-2"})," ",x("scanning")]}):l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"cursor-pointer bg-indigo-600 text-white px-6 py-3 rounded-full font-bold text-sm hover:bg-indigo-700 transition-colors flex items-center gap-2 shadow-lg shadow-indigo-200",children:[l.jsx(Ji,{size:18}),x("uploadSelfie"),l.jsx("input",{type:"file",accept:"image/*",capture:"user",className:"hidden",onChange:Yt})]}),O&&l.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-indigo-500 shadow-sm",children:l.jsx("img",{src:O,className:"w-full h-full object-cover",alt:"Selfie"})})]})]}),l.jsx("div",{className:"mb-24",children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:_e.map((se,xe)=>Nt(xe))})}),ie.length===0&&l.jsxs("div",{className:"text-center py-20 bg-slate-50 rounded-3xl border-2 border-dashed border-slate-200",children:[l.jsx("div",{className:"mx-auto w-16 h-16 bg-white rounded-full shadow-sm flex items-center justify-center mb-4",children:ee?l.jsx(U0,{className:"text-slate-300",size:32}):l.jsx(Ji,{className:"text-slate-300",size:32})}),l.jsx("h3",{className:"text-lg font-medium text-slate-900",children:ee?"No matches found":x("noPhotos")}),s&&!ee&&l.jsxs("div",{className:"mt-4",children:[l.jsx("p",{className:"text-slate-500 mb-4",children:"Your event is live! Start the gallery."}),l.jsxs("button",{onClick:()=>f("upload"),className:"bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors flex items-center gap-2 mx-auto shadow-lg",children:[l.jsx(B0,{size:18}),x("upload")]})]}),!s&&!ee&&l.jsx("p",{className:"text-slate-500",children:x("beFirst")}),ee&&l.jsx("button",{onClick:()=>B(""),className:"mt-4 text-indigo-600 font-bold hover:underline",children:"Clear Search"})]})]}):l.jsxs("div",{className:"max-w-2xl mx-auto mb-24",children:[l.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 mb-8",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:x("signGuestbook")}),l.jsxs("form",{onSubmit:vt,className:"space-y-4",children:[l.jsx("input",{type:"text",value:Ue,onChange:se=>Fe(se.target.value),placeholder:x("yourName"),required:!0,className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none"}),l.jsx("textarea",{value:le,onChange:se=>oe(se.target.value),placeholder:x("leaveMessage"),required:!0,className:"w-full px-4 py-3 rounded-xl bg-slate-50 border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none h-24 resize-none"}),l.jsxs("button",{type:"submit",className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[l.jsx(Cl,{size:18})," ",x("signGuestbook")]})]})]}),l.jsx("div",{className:"space-y-4",children:g.map(se=>l.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm animate-in slide-in-from-top-1",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"font-bold text-slate-900",children:se.senderName}),l.jsx("span",{className:"text-xs text-slate-400",children:new Date(se.createdAt).toLocaleDateString()})]}),l.jsx("p",{className:"text-slate-600",children:se.message})]},se.id))})]}),l.jsx("div",{className:"fixed bottom-[calc(2rem+env(safe-area-inset-bottom))] left-0 right-0 flex justify-center z-40 pointer-events-auto",children:l.jsxs("div",{className:"flex items-center gap-4 p-2 pr-3 pl-3 bg-black/80 backdrop-blur-xl rounded-full shadow-2xl border border-white/10 text-white",children:[At&&l.jsx("button",{onClick:()=>f("camera"),className:"flex flex-col items-center justify-center w-12 h-12 rounded-full bg-white text-black shadow-lg active:scale-95 transition-transform",children:l.jsx(Ji,{size:24})}),l.jsx("button",{onClick:()=>f("upload"),className:`flex flex-col items-center justify-center w-12 h-12 rounded-full transition-colors ${At?"bg-white/10 hover:bg-white/20":"bg-white text-black shadow-lg hover:bg-slate-100"}`,children:l.jsx(FN,{size:24})}),l.jsx("div",{className:"w-px h-8 bg-white/20"}),l.jsx("button",{onClick:()=>L(!0),className:"flex flex-col items-center justify-center w-10 h-10 rounded-full text-white/80 hover:text-white hover:bg-white/10 transition-colors",children:l.jsx(Sp,{size:20})}),(t==null?void 0:t.role)===st.PHOTOGRAPHER&&l.jsx("button",{onClick:()=>u(!c),className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${c?"bg-amber-400 text-black":"text-white/50 hover:text-white"}`,children:l.jsx(uo,{size:20})})]})}),k!==null&&l.jsxs("div",{className:"fixed inset-0 z-[60] bg-black flex items-center justify-center backdrop-blur-2xl animate-in fade-in duration-200 touch-none",onPointerDown:ze,onPointerMove:G,onPointerUp:ce,onPointerCancel:ce,onPointerLeave:ce,children:[l.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-50 bg-gradient-to-b from-black/60 to-transparent pt-[env(safe-area-inset-top)]",children:[l.jsxs("div",{className:"text-white/80 text-sm font-medium",children:[k+1," / ",ie.length]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>I(!A),className:"p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:A?l.jsx(Cv,{size:20}):l.jsx(Rl,{size:20})}),l.jsx("button",{onClick:()=>{const se=document.createElement("a");se.href=ie[k].url,se.download=`snapify_${ie[k].id}`,se.click()},className:"p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:l.jsx(Qs,{size:20})}),l.jsx("button",{onClick:yt,className:"p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:l.jsx(Kt,{size:20})})]})]}),l.jsx("button",{onClick:()=>ve("prev"),className:"absolute left-4 p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors z-50 hidden md:block",children:l.jsx(HN,{size:32})}),l.jsx("button",{onClick:()=>ve("next"),className:"absolute right-4 p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors z-50 hidden md:block",children:l.jsx(GN,{size:32})}),l.jsxs("div",{className:"w-full h-full relative overflow-hidden",onClick:yt,children:[l.jsx("div",{className:"absolute top-0 left-0 h-full flex items-center",style:{transform:`translateX(calc(-100vw + ${j}px))`,transition:z||D?"none":"transform 0.3s ease-out",width:"300vw"},onClick:se=>se.stopPropagation(),children:[-1,0,1].map(se=>{const xe=(k+se+ie.length)%ie.length,me=ie[xe];return l.jsx("div",{className:"w-[100vw] h-full flex-shrink-0 flex items-center justify-center p-2 md:p-10",children:me.type==="video"?l.jsx("video",{src:me.url,controls:!0,autoPlay:se===0&&A,className:"max-w-full max-h-full rounded-lg shadow-2xl object-contain bg-black pointer-events-none",playsInline:!0,muted:!0}):l.jsx("img",{src:me.previewUrl||me.url,alt:me.caption,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl select-none",style:{transform:Zy(me.orientation)},draggable:!1})},`${xe}-${se}`)})}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/70 to-transparent p-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))] flex flex-col gap-4 max-h-[40vh] overflow-y-auto pointer-events-auto",onClick:se=>se.stopPropagation(),children:[l.jsxs("div",{className:"text-center mb-2",children:[ie[k].privacy==="private"&&l.jsxs("div",{className:"flex items-center justify-center gap-1 text-amber-400 mb-1 text-xs font-bold uppercase tracking-wider",children:[l.jsx(es,{size:12})," Private"]}),l.jsx("p",{className:"text-white text-lg font-bold drop-shadow-md",children:ie[k].caption}),l.jsxs("p",{className:"text-white/60 text-sm mt-1",children:[new Date(ie[k].uploadedAt).toLocaleDateString(),"  ",ie[k].uploaderName]})]}),l.jsxs("div",{className:"w-full max-w-lg mx-auto bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/10",children:[l.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2 mb-3 custom-scrollbar",children:(Ge=ie[k].comments)!=null&&Ge.length?ie[k].comments.map(se=>l.jsxs("div",{className:"text-sm",children:[l.jsxs("span",{className:"font-bold text-white mr-2",children:[se.senderName,":"]}),l.jsx("span",{className:"text-white/80",children:se.text})]},se.id)):l.jsx("p",{className:"text-white/40 text-xs text-center italic",children:"No comments yet."})}),l.jsxs("form",{onSubmit:rn,className:"flex gap-2",children:[l.jsx("input",{type:"text",value:P,onChange:se=>X(se.target.value),placeholder:"Add a comment...",className:"flex-1 bg-black/20 text-white text-sm rounded-lg px-3 py-2 border border-white/20 focus:outline-none focus:border-white/50 placeholder:text-white/30"}),l.jsx("button",{type:"submit",className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 text-white transition-colors",children:l.jsx(Cl,{size:16})})]})]})]})]})]}),$&&l.jsx(D4,{eventId:e.id,eventTitle:e.title,onClose:()=>L(!1),t:x})]})},z4=({currentUser:e,onClose:t,onCreate:a,t:i})=>{const[s,r]=V.useState(""),[o,c]=V.useState(""),[u,d]=V.useState(""),[p,f]=V.useState([]),[m,h]=V.useState(!1),[x,b]=V.useState(!1),[S,g]=V.useState(!1),[y,w]=V.useState("Birthday"),[E,k]=V.useState(""),[M,A]=V.useState(""),[I,j]=V.useState(!1),[N,z]=V.useState("30d"),[T,C]=V.useState(30),[v,D]=V.useState("minutes"),U=V.useRef(null);V.useEffect(()=>{const L=F=>{U.current&&!U.current.contains(F.target)&&b(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const H=async L=>{if(d(L),L.length<3){f([]),b(!1);return}h(!0),b(!0);try{const ue=await(await fetch(`https://photon.komoot.io/api/?q=${encodeURIComponent(L)}&limit=5&lang=en`)).json();f(ue.features||[])}catch(F){console.error("City search failed",F)}finally{h(!1)}},P=L=>{const F=L.properties,ue=F.city||F.name,le=F.country,oe=le?`${ue}, ${le}`:ue;d(oe),f([]),b(!1)},X=async()=>{if(!s)return;j(!0);const L=S&&o?o:"soon";try{const F=await it.generateEventDescription(s,L,y);k(F)}catch(F){console.error("Failed to generate description",F),k(`Join us for a amazing ${y.toLowerCase()}!`)}finally{j(!1)}},$=L=>{L.preventDefault(),a({title:s,date:S?o:"",city:u.trim(),theme:y,description:E||`Join us for a amazing ${y.toLowerCase()}!`,pin:M,adminOptions:e.role===st.ADMIN?{expiryType:N,durationValue:T,durationUnit:v}:void 0})};return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all max-h-[90vh] overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-900",children:i("createEvent")}),l.jsx("button",{onClick:t,className:"p-2 bg-white rounded-full hover:bg-slate-100 transition-colors",children:l.jsx(Kt,{size:20,className:"text-slate-500"})})]}),l.jsxs("form",{onSubmit:$,className:"p-6 space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:i("eventTitle")}),l.jsx("input",{type:"text",required:!0,value:s,onChange:L=>r(L.target.value),placeholder:"e.g., Sarah's 30th Birthday",className:"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all"})]}),l.jsxs("div",{className:"relative",ref:U,children:[l.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[l.jsx(_p,{size:16,className:"text-slate-400"})," ",i("locationCity")]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:u,onChange:L=>H(L.target.value),placeholder:"Type to search city (e.g. Skopje)...",className:"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all",autoComplete:"off"}),m&&l.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:l.jsx($r,{size:16,className:"animate-spin text-indigo-500"})})]}),x&&p.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-xl shadow-xl border border-slate-100 z-20 max-h-48 overflow-y-auto custom-scrollbar",children:p.map((L,F)=>l.jsxs("button",{type:"button",onClick:()=>P(L),className:"w-full text-left px-4 py-3 text-sm hover:bg-slate-50 border-b border-slate-50 last:border-0 flex flex-col",children:[l.jsx("span",{className:"font-bold text-slate-800",children:L.properties.name}),l.jsx("span",{className:"text-xs text-slate-500",children:[L.properties.state,L.properties.country].filter(Boolean).join(", ")})]},F))}),l.jsx("p",{className:"text-[10px] text-slate-400 mt-1 ml-1",children:i("locationHelpText")})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:i("eventTheme")}),l.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2",children:v4.map(L=>l.jsxs("button",{type:"button",onClick:()=>w(L.id),className:`flex flex-col items-center justify-center p-3 rounded-xl border-2 transition-all duration-200 min-h-[70px] ${y===L.id?"border-indigo-500 bg-indigo-50 text-indigo-700 shadow-sm":"border-slate-200 text-slate-500 hover:border-slate-300 hover:bg-slate-50"}`,children:[l.jsx("span",{className:"text-2xl mb-2",children:L.emoji}),l.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wide text-center leading-tight break-words px-1",children:i(L.labelKey)})]},L.id))})]}),(e==null?void 0:e.role)===st.ADMIN&&l.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-100",children:[l.jsxs("label",{className:"block text-sm font-bold text-amber-800 mb-2 flex items-center",children:[l.jsx(uo,{size:16,className:"mr-2"})," ",i("adminSettings")]}),l.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:["10d","20d","30d","unlimited","custom"].map(L=>l.jsx("button",{type:"button",onClick:()=>z(L),className:`px-3 py-2 rounded-lg text-sm font-medium border transition-colors text-left ${N===L?"bg-amber-100 border-amber-300 text-amber-900":"bg-white border-amber-200 text-slate-600 hover:bg-amber-50"}`,children:L==="unlimited"?i("unlimited"):L==="custom"?i("customDuration"):`${L.replace("d","")} ${i("days")}`},L))}),N==="custom"&&l.jsxs("div",{className:"flex gap-2 animate-in fade-in slide-in-from-top-2",children:[l.jsx("input",{type:"number",min:"1",value:T,onChange:L=>C(parseInt(L.target.value)||0),className:"w-1/3 px-3 py-2 border border-slate-300 rounded-lg text-sm bg-white text-slate-900 focus:ring-2 focus:ring-amber-200 outline-none"}),l.jsxs("select",{value:v,onChange:L=>D(L.target.value),className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm bg-white text-slate-900 focus:ring-2 focus:ring-amber-200 outline-none",children:[l.jsx("option",{value:"seconds",children:i("seconds")}),l.jsx("option",{value:"minutes",children:i("minutes")}),l.jsx("option",{value:"hours",children:i("hours")}),l.jsx("option",{value:"days",children:i("days")})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2",children:[l.jsx(es,{size:16,className:"text-slate-400"})," ",i("optionalPin")]}),l.jsx("input",{type:"text",value:M,onChange:L=>A(L.target.value),placeholder:i("pinDesc"),className:"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700",children:i("eventDate")}),l.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[l.jsx("div",{className:`w-10 h-5 rounded-full p-1 transition-colors ${S?"bg-indigo-600":"bg-slate-300"}`,children:l.jsx("div",{className:`w-3 h-3 bg-white rounded-full shadow-md transform transition-transform ${S?"translate-x-5":""}`})}),l.jsx("input",{type:"checkbox",checked:S,onChange:L=>g(L.target.checked),className:"hidden"}),l.jsx("span",{className:"text-xs font-semibold text-slate-500",children:i("setDate")})]})]}),S&&l.jsx("input",{type:"date",value:o,onChange:L=>c(L.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all animate-in fade-in slide-in-from-top-1"})]}),l.jsxs("div",{className:"bg-indigo-50/50 p-4 rounded-xl border border-indigo-100",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("label",{className:"text-sm font-bold text-indigo-900 flex items-center",children:[l.jsx(Nv,{size:14,className:"mr-1.5 text-indigo-500"}),i("aiDesc")]}),l.jsx("button",{type:"button",onClick:X,disabled:!s||I,className:"text-xs bg-white text-indigo-600 px-3 py-1 rounded-full shadow-sm font-bold hover:shadow-md transition-all disabled:opacity-50 disabled:shadow-none",children:i(I?"generating":"autoGenerate")})]}),l.jsx("textarea",{value:E,onChange:L=>k(L.target.value),placeholder:i("aiPlaceholder"),className:"w-full px-3 py-2 bg-white rounded-lg border border-indigo-200 text-sm focus:outline-none focus:border-indigo-400 h-24 resize-none text-slate-900"})]}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{type:"submit",className:"w-full bg-black text-white py-4 rounded-xl font-bold text-lg hover:bg-slate-800 shadow-lg hover:shadow-xl transition-all transform active:scale-95",children:i("createParty")})})]})]})})},Qy=({onClose:e,t,tier:a})=>{const[i,s]=V.useState(a||null);m0();const r="+41779586845",o="+41 77 958 68 45",c="admin@skytech.mk",u=y4(t),d=m=>{const h=u.find(x=>x.id===m);return(h==null?void 0:h.name)||""},p=(m,h)=>{const x=d(m),b=`Hello! I'm interested in upgrading to the ${x} tier for SnapifY. Please provide me with pricing details and next steps.`;return h==="whatsapp"||h==="viber"?encodeURIComponent(b):h==="email"?encodeURIComponent(`Subject: SnapifY ${x} Tier Inquiry

${b}`):""},f=m=>{if(m.id===We.FREE)return null;let h="bg-indigo-100 text-indigo-700 border-indigo-200",x=null;return m.id===We.STUDIO?(h="bg-gradient-to-r from-amber-200 to-yellow-400 text-amber-900 border-amber-300 shadow-sm",x=l.jsx(Ma,{size:12,className:"mr-1.5 fill-amber-700"})):m.id===We.PRO?(h="bg-purple-100 text-purple-700 border-purple-200",x=l.jsx(wa,{size:12,className:"mr-1.5 fill-purple-500"})):m.id===We.BASIC&&(h="bg-blue-100 text-blue-700 border-blue-200",x=l.jsx(Od,{size:12,className:"mr-1.5 fill-blue-500"})),l.jsxs("span",{className:`flex items-center px-2 py-1 rounded-full text-xs font-bold border ${h}`,children:[x,m.id===We.STUDIO?"PROFESSIONAL":m.id===We.PRO?"PREMIUM":"PLUS"]})};return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden p-6 relative",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-slate-100 rounded-full hover:bg-slate-200 transition-colors",children:l.jsx(Kt,{size:20,className:"text-slate-500"})}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ma,{size:32})}),l.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:"Contact Sales"}),l.jsxs("p",{className:"text-slate-500 mt-2",children:["Choose your preferred contact method to discuss ",i?d(i):"your"," plan upgrade."]})]}),l.jsxs("div",{className:"space-y-4 mb-6",children:[l.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Select Plan:"}),u.filter(m=>m.id!==We.FREE).map(m=>l.jsxs("div",{onClick:()=>s(m.id),className:`relative p-4 border rounded-xl cursor-pointer transition-all ${i===m.id?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-200":"border-slate-200 bg-white hover:border-slate-300 hover:bg-slate-50"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[f(m),l.jsx("h4",{className:"font-bold text-slate-900",children:m.name})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-2xl font-black text-slate-900",children:m.price}),m.id!==We.STUDIO&&l.jsxs("span",{className:"text-slate-500",children:["/",t("event")]})]})]}),l.jsx("p",{className:"text-sm text-slate-600",children:m.limit}),i===m.id&&l.jsx("div",{className:"absolute top-2 right-2 w-4 h-4 bg-indigo-500 rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]},m.id))]}),i&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-slate-900",children:"Contact Methods:"}),l.jsxs("a",{href:`https://wa.me/${r}?text=${p(i,"whatsapp")}`,target:"_blank",rel:"noreferrer",className:"flex items-center justify-center p-4 bg-green-50 rounded-xl border border-green-100 hover:border-green-300 hover:bg-green-100 transition-all group",children:[l.jsx($i,{size:24,className:"mr-3 text-green-600"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-bold text-green-900",children:"WhatsApp"}),l.jsx("div",{className:"text-sm text-green-700",children:o})]})]}),l.jsxs("a",{href:`viber://chat?number=${r}&text=${p(i,"viber")}`,className:"flex items-center justify-center p-4 bg-purple-50 rounded-xl border border-purple-100 hover:border-purple-300 hover:bg-purple-100 transition-all group",children:[l.jsx(wv,{size:24,className:"mr-3 text-purple-600"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-bold text-purple-900",children:"Viber"}),l.jsx("div",{className:"text-sm text-purple-700",children:o})]})]}),l.jsxs("a",{href:`mailto:${c}?body=${p(i,"email")}`,className:"flex items-center justify-center p-4 bg-slate-50 rounded-xl border border-slate-200 hover:border-indigo-300 hover:bg-indigo-50 transition-all group",children:[l.jsx(xv,{size:24,className:"mr-3 group-hover:text-indigo-600"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-bold text-slate-900",children:"Email"}),l.jsx("div",{className:"text-sm text-slate-600",children:c})]})]})]}),l.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200",children:l.jsx("button",{onClick:e,className:"w-full py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Close"})})]})})},L4=({onLogin:e,onRegister:t,onCancel:a,t:i})=>{const[s,r]=V.useState(""),o=c=>{c.preventDefault(),s.trim()&&e(s)};return l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-[60] flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden relative flex flex-col",children:[l.jsx("button",{onClick:a,className:"absolute top-4 right-4 p-2 hover:bg-slate-100 rounded-full transition-colors z-10",children:""}),l.jsxs("div",{className:"p-8 pb-6 text-center",children:[l.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:i("joinParty")}),l.jsx("p",{className:"text-slate-500 text-sm",children:i("chooseAccess")})]}),l.jsxs("div",{className:"px-8 space-y-6 pb-8",children:[l.jsxs("div",{className:"bg-indigo-50 p-6 rounded-2xl border border-indigo-100 relative group",children:[l.jsx("div",{className:"absolute -top-3 left-4 bg-indigo-600 text-white text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wide shadow-sm",children:i("guestAccess")}),l.jsxs("form",{onSubmit:o,className:"mt-2",children:[l.jsx("div",{className:"mb-4",children:l.jsx("input",{type:"text",value:s,onChange:c=>r(c.target.value),placeholder:i("yourName"),className:"bg-white text-slate-900 w-full px-4 py-3.5 rounded-xl border border-indigo-200 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all font-medium"})}),l.jsxs("button",{type:"submit",disabled:!s.trim(),className:"w-full bg-indigo-600 text-white py-3.5 rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:shadow-none",children:[i("continueAsGuest")," ",l.jsx(Ji,{size:18})]})]}),l.jsxs("div",{className:"mt-3 flex items-center justify-center gap-4 text-[10px] text-indigo-400 font-medium",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(Lh,{size:10,className:"mr-1"})," ",i("quickUpload")]}),l.jsxs("span",{className:"flex items-center",children:[l.jsx(Lh,{size:10,className:"mr-1"})," ",i("publicGallery")]})]})]}),l.jsxs("div",{className:"relative flex items-center justify-center",children:[l.jsx("div",{className:"border-t border-slate-200 w-full absolute"}),l.jsx("span",{className:"bg-white px-3 text-xs font-bold text-slate-400 uppercase tracking-wider relative z-10",children:"OR"})]}),l.jsx("div",{children:l.jsxs("button",{onClick:t,className:"w-full py-3.5 rounded-xl border-2 border-slate-200 text-slate-700 font-bold hover:bg-slate-50 hover:border-slate-300 transition-all flex items-center justify-center gap-3 group",children:[l.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center text-slate-500 group-hover:bg-white group-hover:text-slate-900 transition-colors",children:l.jsx(YN,{size:16})}),l.jsxs("div",{className:"text-left",children:[l.jsx("span",{className:"block text-sm",children:i("memberLogin")}),l.jsx("span",{className:"block text-[10px] text-slate-400 font-normal",children:i("privateUploadsHistory")})]})]})})]})]})})},U4=({currentUser:e,onClose:t,onSave:a,t:i})=>{if(!Gn[e.tier].allowBranding)return t(),null;const[s,r]=V.useState(e.studioName||""),[o,c]=V.useState(e.logoUrl||""),[u,d]=V.useState(e.watermarkOpacity||.85),[p,f]=V.useState(e.watermarkSize||20),[m,h]=V.useState(e.watermarkPosition||"bottom-right"),[x,b]=V.useState(e.watermarkOffsetX||2),[S,g]=V.useState(e.watermarkOffsetY||2),y=V.useRef(null),w=M=>{var j;const A=(j=M.target.files)==null?void 0:j[0];if(!A)return;const I=new FileReader;I.onload=N=>{var T;const z=new Image;z.onload=()=>{const C=document.createElement("canvas"),D=Math.min(1,300/z.width);C.width=z.width*D,C.height=z.height*D;const U=C.getContext("2d");U&&(U.drawImage(z,0,0,C.width,C.height),c(C.toDataURL("image/png")))},z.src=(T=N.target)==null?void 0:T.result},I.readAsDataURL(A)},E=()=>{a({studioName:s,logoUrl:o,watermarkOpacity:u,watermarkSize:p,watermarkPosition:m,watermarkOffsetX:x,watermarkOffsetY:S}),t()},k=()=>{const M={position:"absolute",width:`${p}%`,opacity:u,height:"auto"};switch(m){case"top-left":M.top=`${S}%`,M.left=`${x}%`;break;case"top-right":M.top=`${S}%`,M.right=`${x}%`;break;case"bottom-left":M.bottom=`${S}%`,M.left=`${x}%`;break;case"bottom-right":M.bottom=`${S}%`,M.right=`${x}%`;break;case"center":M.top="50%",M.left="50%",M.transform=`translate(-50%, -50%) translate(${x}%, ${S}%)`;break}return M};return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-xl overflow-hidden max-h-[90vh] overflow-y-auto custom-scrollbar",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gv,{className:"text-indigo-600",size:24}),l.jsx("h3",{className:"text-xl font-bold text-slate-900",children:i("studioSettings")})]}),l.jsx("button",{onClick:t,className:"p-2 bg-white rounded-full hover:bg-slate-100 transition-colors",children:l.jsx(Kt,{size:20,className:"text-slate-500"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:i("studioName")}),l.jsx("input",{type:"text",value:s,onChange:M=>r(M.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-300 bg-white text-slate-900 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 outline-none transition-all"})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[l.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2 flex items-center justify-between",children:[l.jsx("span",{children:i("uploadLogo")}),l.jsx("span",{className:"text-xs font-normal bg-indigo-100 text-indigo-700 px-2 py-0.5 rounded",children:"PNG / Transparent"})]}),l.jsx("p",{className:"text-xs text-slate-500 mb-4",children:i("logoDesc")}),o?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"relative w-full aspect-video bg-slate-200 rounded-lg overflow-hidden border border-slate-300 shadow-inner",children:[l.jsx("img",{src:"https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&q=60&w=600",className:"w-full h-full object-cover opacity-75 grayscale-[0.2]",alt:"Preview Background"}),l.jsx("img",{src:o,alt:"Watermark Preview",style:k()}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx("button",{onClick:()=>c(""),className:"bg-white/80 text-red-600 p-1.5 rounded-full hover:bg-white transition-colors shadow-sm",title:i("removeLogo"),children:l.jsx(Ds,{size:14})})})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-2 flex items-center gap-2",children:[l.jsx(bp,{size:14})," ",i("position")]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 w-32 mb-4 mx-auto md:mx-0",children:[l.jsx("button",{onClick:()=>h("top-left"),className:`aspect-square border rounded flex items-start justify-start p-1 hover:bg-indigo-50 ${m==="top-left"?"border-indigo-600 bg-indigo-100":"border-slate-300"}`,children:l.jsx("div",{className:`w-2 h-2 rounded-sm ${m==="top-left"?"bg-indigo-600":"bg-slate-300"}`})}),l.jsx("div",{className:"aspect-square"}),l.jsx("button",{onClick:()=>h("top-right"),className:`aspect-square border rounded flex items-start justify-end p-1 hover:bg-indigo-50 ${m==="top-right"?"border-indigo-600 bg-indigo-100":"border-slate-300"}`,children:l.jsx("div",{className:`w-2 h-2 rounded-sm ${m==="top-right"?"bg-indigo-600":"bg-slate-300"}`})}),l.jsx("div",{className:"aspect-square"}),l.jsx("button",{onClick:()=>h("center"),className:`aspect-square border rounded flex items-center justify-center p-1 hover:bg-indigo-50 ${m==="center"?"border-indigo-600 bg-indigo-100":"border-slate-300"}`,children:l.jsx("div",{className:`w-2 h-2 rounded-sm ${m==="center"?"bg-indigo-600":"bg-slate-300"}`})}),l.jsx("div",{className:"aspect-square"}),l.jsx("button",{onClick:()=>h("bottom-left"),className:`aspect-square border rounded flex items-end justify-start p-1 hover:bg-indigo-50 ${m==="bottom-left"?"border-indigo-600 bg-indigo-100":"border-slate-300"}`,children:l.jsx("div",{className:`w-2 h-2 rounded-sm ${m==="bottom-left"?"bg-indigo-600":"bg-slate-300"}`})}),l.jsx("div",{className:"aspect-square"}),l.jsx("button",{onClick:()=>h("bottom-right"),className:`aspect-square border rounded flex items-end justify-end p-1 hover:bg-indigo-50 ${m==="bottom-right"?"border-indigo-600 bg-indigo-100":"border-slate-300"}`,children:l.jsx("div",{className:`w-2 h-2 rounded-sm ${m==="bottom-right"?"bg-indigo-600":"bg-slate-300"}`})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:[i("opacity"),": ",Math.round(u*100),"%"]}),l.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:u,onChange:M=>d(parseFloat(M.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:[i("size"),": ",p,"%"]}),l.jsx("input",{type:"range",min:"5",max:"50",step:"1",value:p,onChange:M=>f(parseInt(M.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 bg-slate-100 p-3 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:[i("offsetX"),": ",x,"%"]}),l.jsx("input",{type:"range",min:"0",max:"30",step:"1",value:x,onChange:M=>b(parseInt(M.target.value)),className:"w-full h-2 bg-slate-300 rounded-lg appearance-none cursor-pointer accent-slate-600"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-slate-600 mb-1",children:[i("offsetY"),": ",S,"%"]}),l.jsx("input",{type:"range",min:"0",max:"30",step:"1",value:S,onChange:M=>g(parseInt(M.target.value)),className:"w-full h-2 bg-slate-300 rounded-lg appearance-none cursor-pointer accent-slate-600"})]})]})]}):l.jsxs("button",{onClick:()=>{var M;return(M=y.current)==null?void 0:M.click()},className:"w-full h-32 border-2 border-dashed border-slate-300 rounded-xl flex flex-col items-center justify-center text-slate-400 hover:border-indigo-400 hover:text-indigo-500 hover:bg-indigo-50 transition-all cursor-pointer",children:[l.jsx(yp,{size:32,className:"mb-2"}),l.jsx("span",{className:"text-sm font-bold",children:i("upload")})]}),l.jsx("input",{type:"file",ref:y,className:"hidden",accept:"image/png,image/jpeg",onChange:w})]}),l.jsxs("button",{onClick:E,className:"w-full bg-black text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-slate-800 shadow-lg transition-all",children:[l.jsx(zh,{size:18}),i("saveSettings")]})]})]})})};var pp={exports:{}};(function(e,t){(function(){var a=function(j){if(j instanceof a)return j;if(!(this instanceof a))return new a(j);this.EXIFwrapped=j};e.exports&&(t=e.exports=a),t.EXIF=a;var i=a.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},s=a.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},r=a.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},o=a.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},c=a.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function u(j){return!!j.exifdata}function d(j,N){N=N||j.match(/^data\:([^\;]+)\;base64,/mi)[1]||"",j=j.replace(/^data\:([^\;]+)\;base64,/gmi,"");for(var z=atob(j),T=z.length,C=new ArrayBuffer(T),v=new Uint8Array(C),D=0;D<T;D++)v[D]=z.charCodeAt(D);return C}function p(j,N){var z=new XMLHttpRequest;z.open("GET",j,!0),z.responseType="blob",z.onload=function(T){(this.status==200||this.status===0)&&N(this.response)},z.send()}function f(j,N){function z(D){var U=m(D);j.exifdata=U||{};var H=h(D);if(j.iptcdata=H||{},a.isXmpEnabled){var P=M(D);j.xmpdata=P||{}}N&&N.call(j)}if(j.src)if(/^data\:/i.test(j.src)){var T=d(j.src);z(T)}else if(/^blob\:/i.test(j.src)){var C=new FileReader;C.onload=function(D){z(D.target.result)},p(j.src,function(D){C.readAsArrayBuffer(D)})}else{var v=new XMLHttpRequest;v.onload=function(){if(this.status==200||this.status===0)z(v.response);else throw"Could not load image";v=null},v.open("GET",j.src,!0),v.responseType="arraybuffer",v.send(null)}else if(self.FileReader&&(j instanceof self.Blob||j instanceof self.File)){var C=new FileReader;C.onload=function(U){z(U.target.result)},C.readAsArrayBuffer(j)}}function m(j){var N=new DataView(j);if(N.getUint8(0)!=255||N.getUint8(1)!=216)return!1;for(var z=2,T=j.byteLength,C;z<T;){if(N.getUint8(z)!=255)return!1;if(C=N.getUint8(z+1),C==225)return k(N,z+4,N.getUint16(z+2)-2);z+=2+N.getUint16(z+2)}}function h(j){var N=new DataView(j);if(N.getUint8(0)!=255||N.getUint8(1)!=216)return!1;for(var z=2,T=j.byteLength,C=function(H,P){return H.getUint8(P)===56&&H.getUint8(P+1)===66&&H.getUint8(P+2)===73&&H.getUint8(P+3)===77&&H.getUint8(P+4)===4&&H.getUint8(P+5)===4};z<T;){if(C(N,z)){var v=N.getUint8(z+7);v%2!==0&&(v+=1),v===0&&(v=4);var D=z+8+v,U=N.getUint16(z+6+v);return b(j,D,U)}z++}}var x={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function b(j,N,z){for(var T=new DataView(j),C={},v,D,U,H,P=N;P<N+z;)T.getUint8(P)===28&&T.getUint8(P+1)===2&&(H=T.getUint8(P+2),H in x&&(U=T.getInt16(P+3),D=x[H],v=E(T,P+5,U),C.hasOwnProperty(D)?C[D]instanceof Array?C[D].push(v):C[D]=[C[D],v]:C[D]=v)),P++;return C}function S(j,N,z,T,C){var v=j.getUint16(z,!C),D={},U,H,P;for(P=0;P<v;P++)U=z+P*12+2,H=T[j.getUint16(U,!C)],D[H]=g(j,U,N,z,C);return D}function g(j,N,z,T,C){var v=j.getUint16(N+2,!C),D=j.getUint32(N+4,!C),U=j.getUint32(N+8,!C)+z,H,P,X,$,L,F;switch(v){case 1:case 7:if(D==1)return j.getUint8(N+8,!C);for(H=D>4?U:N+8,P=[],$=0;$<D;$++)P[$]=j.getUint8(H+$);return P;case 2:return H=D>4?U:N+8,E(j,H,D-1);case 3:if(D==1)return j.getUint16(N+8,!C);for(H=D>2?U:N+8,P=[],$=0;$<D;$++)P[$]=j.getUint16(H+2*$,!C);return P;case 4:if(D==1)return j.getUint32(N+8,!C);for(P=[],$=0;$<D;$++)P[$]=j.getUint32(U+4*$,!C);return P;case 5:if(D==1)return L=j.getUint32(U,!C),F=j.getUint32(U+4,!C),X=new Number(L/F),X.numerator=L,X.denominator=F,X;for(P=[],$=0;$<D;$++)L=j.getUint32(U+8*$,!C),F=j.getUint32(U+4+8*$,!C),P[$]=new Number(L/F),P[$].numerator=L,P[$].denominator=F;return P;case 9:if(D==1)return j.getInt32(N+8,!C);for(P=[],$=0;$<D;$++)P[$]=j.getInt32(U+4*$,!C);return P;case 10:if(D==1)return j.getInt32(U,!C)/j.getInt32(U+4,!C);for(P=[],$=0;$<D;$++)P[$]=j.getInt32(U+8*$,!C)/j.getInt32(U+4+8*$,!C);return P}}function y(j,N,z){var T=j.getUint16(N,!z);return j.getUint32(N+2+T*12,!z)}function w(j,N,z,T){var C=y(j,N+z,T);if(C){if(C>j.byteLength)return{}}else return{};var v=S(j,N,N+C,o,T);if(v.Compression)switch(v.Compression){case 6:if(v.JpegIFOffset&&v.JpegIFByteCount){var D=N+v.JpegIFOffset,U=v.JpegIFByteCount;v.blob=new Blob([new Uint8Array(j.buffer,D,U)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",v.Compression)}else v.PhotometricInterpretation==2&&console.log("Thumbnail image format is RGB, which is not implemented.");return v}function E(j,N,z){var T="";for(n=N;n<N+z;n++)T+=String.fromCharCode(j.getUint8(n));return T}function k(j,N){if(E(j,N,4)!="Exif")return!1;var z,T,C,v,D,U=N+6;if(j.getUint16(U)==18761)z=!1;else if(j.getUint16(U)==19789)z=!0;else return!1;if(j.getUint16(U+2,!z)!=42)return!1;var H=j.getUint32(U+4,!z);if(H<8)return!1;if(T=S(j,U,U+H,s,z),T.ExifIFDPointer){v=S(j,U,U+T.ExifIFDPointer,i,z);for(C in v){switch(C){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":v[C]=c[C][v[C]];break;case"ExifVersion":case"FlashpixVersion":v[C]=String.fromCharCode(v[C][0],v[C][1],v[C][2],v[C][3]);break;case"ComponentsConfiguration":v[C]=c.Components[v[C][0]]+c.Components[v[C][1]]+c.Components[v[C][2]]+c.Components[v[C][3]];break}T[C]=v[C]}}if(T.GPSInfoIFDPointer){D=S(j,U,U+T.GPSInfoIFDPointer,r,z);for(C in D){switch(C){case"GPSVersionID":D[C]=D[C][0]+"."+D[C][1]+"."+D[C][2]+"."+D[C][3];break}T[C]=D[C]}}return T.thumbnail=w(j,U,H,z),T}function M(j){if("DOMParser"in self){var N=new DataView(j);if(N.getUint8(0)!=255||N.getUint8(1)!=216)return!1;for(var z=2,T=j.byteLength,C=new DOMParser;z<T-4;)if(E(N,z,4)=="http"){var v=z-1,D=N.getUint16(z-2)-1,U=E(N,v,D),H=U.indexOf("xmpmeta>")+8;U=U.substring(U.indexOf("<x:xmpmeta"),H);var P=U.indexOf("x:xmpmeta")+10;U=U.slice(0,P)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+U.slice(P);var X=C.parseFromString(U,"text/xml");return I(X)}else z++}}function A(j){var N={};if(j.nodeType==1){if(j.attributes.length>0){N["@attributes"]={};for(var z=0;z<j.attributes.length;z++){var T=j.attributes.item(z);N["@attributes"][T.nodeName]=T.nodeValue}}}else if(j.nodeType==3)return j.nodeValue;if(j.hasChildNodes())for(var C=0;C<j.childNodes.length;C++){var v=j.childNodes.item(C),D=v.nodeName;if(N[D]==null)N[D]=A(v);else{if(N[D].push==null){var U=N[D];N[D]=[],N[D].push(U)}N[D].push(A(v))}}return N}function I(j){try{var N={};if(j.children.length>0)for(var z=0;z<j.children.length;z++){var T=j.children.item(z),C=T.attributes;for(var v in C){var D=C[v],U=D.nodeName,H=D.nodeValue;U!==void 0&&(N[U]=H)}var P=T.nodeName;if(typeof N[P]>"u")N[P]=A(T);else{if(typeof N[P].push>"u"){var X=N[P];N[P]=[],N[P].push(X)}N[P].push(A(T))}}else N=j.textContent;return N}catch($){console.log($.message)}}a.enableXmp=function(){a.isXmpEnabled=!0},a.disableXmp=function(){a.isXmpEnabled=!1},a.getData=function(j,N){return(self.Image&&j instanceof self.Image||self.HTMLImageElement&&j instanceof self.HTMLImageElement)&&!j.complete?!1:(u(j)?N&&N.call(j):f(j,N),!0)},a.getTag=function(j,N){if(u(j))return j.exifdata[N]},a.getIptcTag=function(j,N){if(u(j))return j.iptcdata[N]},a.getAllTags=function(j){if(!u(j))return{};var N,z=j.exifdata,T={};for(N in z)z.hasOwnProperty(N)&&(T[N]=z[N]);return T},a.getAllIptcTags=function(j){if(!u(j))return{};var N,z=j.iptcdata,T={};for(N in z)z.hasOwnProperty(N)&&(T[N]=z[N]);return T},a.pretty=function(j){if(!u(j))return"";var N,z=j.exifdata,T="";for(N in z)z.hasOwnProperty(N)&&(typeof z[N]=="object"?z[N]instanceof Number?T+=N+" : "+z[N]+" ["+z[N].numerator+"/"+z[N].denominator+`]\r
`:T+=N+" : ["+z[N].length+` values]\r
`:T+=N+" : "+z[N]+`\r
`);return T},a.readFromBinaryFile=function(j){return m(j)}}).call(ol)})(pp,pp.exports);var B4=pp.exports;const Jy=Md(B4),P4=e=>new Promise(t=>{try{Jy.getData(e,function(){const a=Jy.getTag(this,"Orientation");t(a||1)})}catch{t(1)}}),ev=async(e,t,a,i=.85,s=20,r="bottom-right",o=2,c=2)=>new Promise(u=>{const d=new Image;d.crossOrigin="anonymous",d.onload=async()=>{const p=document.createElement("canvas");p.width=d.width,p.height=d.height;const f=p.getContext("2d");if(!f){u(e);return}if(f.drawImage(d,0,0),a){const m=new Image;m.src=a,await new Promise(M=>{m.onload=()=>M(null),m.onerror=()=>M(null)});const h=s/100,b=d.width*h/m.width,S=m.width*b,g=m.height*b,y=d.width*(o/100),w=d.height*(c/100);let E=0,k=0;switch(r){case"top-left":E=y,k=w;break;case"top-right":E=d.width-S-y,k=w;break;case"bottom-left":E=y,k=d.height-g-w;break;case"bottom-right":E=d.width-S-y,k=d.height-g-w;break;case"center":E=d.width/2-S/2+y,k=d.height/2-g/2+w;break}f.globalAlpha=i,f.drawImage(m,E,k,S,g),f.globalAlpha=1}else if(t){const m=Math.max(24,d.width*(s/300));f.font=`bold ${m}px sans-serif`,f.fillStyle=`rgba(255, 255, 255, ${i})`,f.shadowColor="rgba(0,0,0,0.7)",f.shadowBlur=4,f.shadowOffsetX=2,f.shadowOffsetY=2;const h=d.width*(o/100),x=d.height*(c/100);let b=0,S=0;switch(r){case"top-left":f.textAlign="left",f.textBaseline="top",b=h,S=x;break;case"top-right":f.textAlign="right",f.textBaseline="top",b=d.width-h,S=x;break;case"bottom-left":f.textAlign="left",f.textBaseline="bottom",b=h,S=d.height-x;break;case"bottom-right":f.textAlign="right",f.textBaseline="bottom",b=d.width-h,S=d.height-x;break;case"center":f.textAlign="center",f.textBaseline="middle",b=d.width/2+h,S=d.height/2+x;break}f.fillText(t.toUpperCase(),b,S)}u(p.toDataURL("image/jpeg",.95))},d.onerror=()=>u(e),d.src=e}),F4=({type:e,src:t,onConfirm:a,onRetake:i,onCancel:s,isUploading:r,uploadProgress:o=0,isRegistered:c,t:u,file:d})=>{const[p,f]=V.useState(""),[m,h]=V.useState("public"),[x,b]=V.useState(0),S=V.useRef(null);V.useEffect(()=>{e==="image"&&d&&P4(d).then(y=>{switch(y){case 3:b(180);break;case 6:b(90);break;case 8:b(-90);break;default:b(0);break}})},[d,e]);const g=y=>{if(y==="private"&&!c){alert("Please login or register to upload private photos.");return}h(y)};return l.jsxs("div",{className:"fixed inset-0 z-[60] bg-black flex flex-col animate-in fade-in duration-200 h-[100dvh]",children:[l.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-20 bg-gradient-to-b from-black/60 to-transparent",children:[l.jsx("button",{onClick:s,disabled:r,className:"p-2 bg-black/20 backdrop-blur-md rounded-full text-white hover:bg-black/40 transition-colors disabled:opacity-0",children:l.jsx(Kt,{size:24})}),l.jsx("h3",{className:"text-white font-bold text-lg drop-shadow-md",children:"Preview"}),l.jsx("div",{className:"w-10"})]}),l.jsx("div",{className:"flex-1 min-h-0 flex items-center justify-center bg-black relative overflow-hidden",children:e==="video"?l.jsx("video",{src:t,autoPlay:!0,controls:!0,loop:!0,playsInline:!0,className:"max-w-full max-h-full object-contain"}):l.jsx("img",{ref:S,src:t,alt:"Preview",className:"max-w-full max-h-full object-contain transition-transform duration-300",style:{transform:`rotate(${x}deg)`}})}),l.jsxs("div",{className:"bg-black/80 backdrop-blur-xl p-6 pb-8 z-20 border-t border-white/10",children:[e==="video"&&l.jsxs("div",{className:"flex items-center justify-center mb-4 p-2 bg-amber-500/20 border border-amber-500/30 rounded-lg",children:[l.jsx(F0,{size:14,className:"text-amber-400 mr-2 flex-shrink-0"}),l.jsx("p",{className:"text-amber-200 text-xs font-medium text-center",children:u("videoDurationLimit")||"Videos must be 10 seconds or less"})]}),l.jsxs("div",{className:"flex flex-col items-center mb-4",children:[l.jsxs("div",{className:"bg-white/10 rounded-full p-1 flex relative",children:[l.jsxs("button",{onClick:()=>g("public"),className:`flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-bold transition-all ${m==="public"?"bg-white text-black":"text-white/60 hover:text-white"}`,children:[l.jsx(Sv,{size:12}),u("public")]}),l.jsxs("button",{onClick:()=>g("private"),className:`flex items-center gap-2 px-4 py-1.5 rounded-full text-xs font-bold transition-all ${m==="private"?"bg-white text-black":c?"text-white/60 hover:text-white":"text-white/20 cursor-not-allowed"}`,children:[l.jsx(es,{size:12}),u("private")]})]}),!c&&l.jsxs("p",{className:"text-[10px] text-white/40 mt-2 flex items-center gap-1",children:[l.jsx(F0,{size:10})," ",u("loginRequired")]})]}),l.jsxs("div",{className:"relative mb-4",children:[l.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/50",children:l.jsx(VN,{size:16})}),l.jsx("input",{type:"text",value:p,onChange:y=>f(y.target.value),placeholder:u("leaveMessage")||"Add a caption...",className:"w-full bg-white/10 border border-white/20 rounded-xl py-3 pl-10 pr-4 text-white placeholder:text-white/30 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:i,disabled:r,className:"flex-1 py-3.5 bg-white/10 text-white font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-white/20 transition-colors disabled:opacity-50",children:[l.jsx(Dv,{size:18}),u("retry")||"Retake"]}),l.jsx("button",{onClick:()=>a(p,m),disabled:r,className:"flex-[2] py-3.5 bg-indigo-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-indigo-700 transition-colors disabled:opacity-70 shadow-lg shadow-indigo-900/30 relative overflow-hidden",children:r?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 bg-indigo-500 transition-all duration-200 ease-out",style:{width:`${o}%`}}),l.jsxs("div",{className:"relative z-10 flex items-center gap-2",children:[l.jsx($r,{size:18,className:"animate-spin"}),l.jsxs("span",{children:[o,"%"]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Cl,{size:18}),u("upload")||"Upload"]})})]})]})]})},H4=({event:e,currentUser:t,hostUser:a,onClose:i,t:s})=>{const[r,o]=V.useState(e.media),[c,u]=V.useState(0),[d,p]=V.useState(!0),[f,m]=V.useState("next"),[h,x]=V.useState(!1),[b,S]=V.useState(!0),[g,y]=V.useState(!1),w=V.useRef(null),E=V.useRef(null),k=V.useRef(null),A=(a==null?void 0:a.tier)===We.STUDIO?"#4f46e5":"#000000";V.useEffect(()=>(Qe.connect(),Qe.joinEvent(e.id),Qe.on("media_uploaded",C=>{o(v=>v.some(D=>D.id===C.id)?v:[C,...v])}),Qe.on("media_processed",C=>{o(v=>v.map(D=>D.id===C.id?{...D,isProcessing:!1,previewUrl:C.previewUrl,url:C.url||D.url}:D))}),Qe.on("new_like",C=>{o(v=>v.map(D=>D.id===C.id?{...D,likes:C.likes}:D))}),()=>{Qe.disconnect()}),[e.id]),V.useEffect(()=>(d&&r.length>0?w.current=setInterval(()=>{I("next")},4e3):w.current&&clearInterval(w.current),()=>{w.current&&clearInterval(w.current)}),[d,r.length]),V.useEffect(()=>(b&&(E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{S(!1)},3e3)),()=>{E.current&&clearTimeout(E.current)}),[b]);const I=V.useCallback(C=>{h||r.length===0||(x(!0),m(C),setTimeout(()=>{u(C==="next"?v=>(v+1)%r.length:v=>(v-1+r.length)%r.length),x(!1)},600))},[h,r.length]),j=async C=>{await it.likeMedia(C.id)},N=C=>{const v=document.createElement("a");v.href=C.url,v.download=`snapify_${C.id}`,v.click()},z=()=>{const C=`${window.location.origin}?event=${e.id}`;navigator.clipboard.writeText(C).then(()=>{alert(s("linkCopied"))})},T=r[c];return T?l.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center overflow-hidden",onClick:()=>S(C=>!C),children:[l.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[l.jsx("div",{ref:k,className:`absolute inset-0 transition-all duration-1000 ease-in-out ${h?f==="next"?"opacity-0 scale-110 translate-x-4":"opacity-0 scale-90 -translate-x-4":"opacity-100 scale-100 translate-x-0"}`,children:T.type==="video"?l.jsx("video",{src:T.url,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"w-full h-full object-contain"}):l.jsxs("div",{className:"w-full h-full relative",children:[l.jsx("img",{src:T.previewUrl||T.url,alt:T.caption,className:"w-full h-full object-contain animate-ken-burns",draggable:!1}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/20 animate-ken-burns-overlay"})]})}),l.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/70 to-transparent p-8 transition-all duration-300 ${b?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-6",children:[T.privacy==="private"&&l.jsxs("div",{className:"flex items-center justify-center gap-2 text-amber-400 mb-2 text-sm font-bold uppercase tracking-wider",children:[l.jsx("span",{children:""})," ",s("private")]}),l.jsx("h2",{className:"text-3xl font-bold text-white mb-2 drop-shadow-lg",children:T.caption||s("untitled")}),l.jsxs("p",{className:"text-white/70 text-lg",children:[s("by")," ",T.uploaderName,"  ",new Date(T.uploadedAt).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center justify-center gap-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[l.jsx(Uh,{size:20,className:T.likes?"fill-red-500 text-red-500":""}),l.jsx("span",{className:"font-bold",children:T.likes||0})]}),T.comments&&T.comments.length>0&&l.jsxs("div",{className:"flex items-center gap-2 text-white/80",children:[l.jsx(Rv,{size:20}),l.jsx("span",{className:"font-bold",children:T.comments.length})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:C=>{C.stopPropagation(),j(T)},className:"p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:l.jsx(Uh,{size:20,className:T.likes?"fill-red-500 text-red-500":""})}),l.jsx("button",{onClick:C=>{C.stopPropagation(),N(T)},className:"p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:l.jsx(Qs,{size:20})})]})]})]})}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-white/20",children:l.jsx("div",{className:"h-full bg-white transition-all duration-4000 linear",style:{width:d&&!h?"100%":"0%",transition:d&&!h?"width 4s linear":"none"}},c)}),l.jsxs("div",{className:`absolute top-0 left-0 right-0 p-6 flex justify-between items-center transition-all duration-300 ${b?"translate-y-0 opacity-100":"-translate-y-full opacity-0"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:C=>{C.stopPropagation(),i()},className:"p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:l.jsx(Kt,{size:24})}),l.jsxs("div",{className:"text-white/80 font-medium",children:[c+1," / ",r.length]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:C=>{C.stopPropagation(),y(!0)},className:"p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:l.jsx(_v,{size:20})}),l.jsx("button",{onClick:C=>{C.stopPropagation(),z()},className:"p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:l.jsx(Sp,{size:20})}),l.jsx("button",{onClick:C=>{C.stopPropagation(),p(!d)},className:"p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors",children:d?l.jsx(Cv,{size:20}):l.jsx(Rl,{size:20})})]})]}),l.jsx("button",{onClick:C=>{C.stopPropagation(),I("prev")},className:"absolute left-6 p-4 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors opacity-0 hover:opacity-100",children:""}),l.jsx("button",{onClick:C=>{C.stopPropagation(),I("next")},className:"absolute right-6 p-4 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors opacity-0 hover:opacity-100",children:""})]}),g&&l.jsx("div",{className:"absolute inset-0 bg-black/90 flex items-center justify-center z-10",children:l.jsxs("div",{className:"bg-white p-8 rounded-3xl text-center max-w-sm mx-4",children:[l.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:s("shareLiveWall")}),l.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-lg border border-slate-100 inline-block mb-4",children:l.jsx(vp,{value:`${window.location.origin}?event=${e.id}`,size:200,fgColor:A})}),l.jsx("p",{className:"text-slate-600 text-sm mb-4",children:s("scanToView")}),l.jsx("button",{onClick:C=>{C.stopPropagation(),y(!1)},className:"w-full bg-slate-900 text-white py-3 rounded-xl font-bold hover:bg-slate-800 transition-colors",children:s("close")})]})}),l.jsx("style",{children:`
        @keyframes ken-burns {
          0% {
            transform: scale(1) translate(0, 0);
          }
          100% {
            transform: scale(1.1) translate(-1%, -1%);
          }
        }
        
        @keyframes ken-burns-overlay {
          0% {
            opacity: 0;
          }
          50% {
            opacity: 0.3;
          }
          100% {
            opacity: 0;
          }
        }
        
        .animate-ken-burns {
          animation: ken-burns 8s ease-in-out infinite alternate;
        }
        
        .animate-ken-burns-overlay {
          animation: ken-burns-overlay 8s ease-in-out infinite;
        }
      `})]}):l.jsx("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-white text-center",children:[l.jsx(Ji,{size:64,className:"mx-auto mb-4 opacity-50"}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:s("noPhotos")}),l.jsx("p",{className:"text-white/60",children:s("beFirst")}),l.jsx("button",{onClick:i,className:"mt-6 px-6 py-3 bg-white/20 rounded-xl hover:bg-white/30 transition-colors",children:s("close")})]})})},tv=({t:e})=>null,G4=({t:e})=>{const[t,a]=V.useState(navigator.onLine);return V.useEffect(()=>{const i=()=>a(!0),s=()=>a(!1);return window.addEventListener("online",i),window.addEventListener("offline",s),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",s)}},[]),t?null:l.jsxs("div",{className:"bg-red-500 text-white px-4 py-2 text-center text-xs font-bold flex items-center justify-center gap-2 sticky top-0 z-[60] shadow-md animate-in slide-in-from-top-full",children:[l.jsx($N,{size:14}),l.jsx("span",{children:e("offlineMode")})]})},q4=({onShareReceive:e})=>(V.useEffect(()=>{const t=new URLSearchParams(window.location.search),a=t.get("title"),i=t.get("text"),s=t.get("url");if(a||i||s){const r=[a,i,s].filter(Boolean).join(`
`);if(r){e(r);const o=window.location.pathname;window.history.replaceState({},"",o)}}},[e]),null),Y4=()=>{const[e]=V.useState(()=>!1),[t,a]=V.useState(!1),{offlineReady:[i,s],needRefresh:[r,o],updateServiceWorker:c}=lN({onRegistered(p){p&&setInterval(()=>{document.hidden||p.update()},e?3e4:3e5)},onRegisterError(p){console.warn("Service Worker registration error:",p)}}),u=()=>{s(!1),o(!1)},d=async()=>{a(!0);try{"serviceWorker"in navigator&&await(await navigator.serviceWorker.ready).update(),setTimeout(()=>a(!1),1e3)}catch(p){console.error("Failed to check for updates:",p),a(!1)}};return V.useEffect(()=>{if(!e)return;const p=f=>{(f.ctrlKey||f.metaKey)&&f.shiftKey&&f.key==="R"&&(f.preventDefault(),d())};return window.forceAppUpdate=d,window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[e]),!e&&!i&&!r?null:l.jsxs("div",{className:"fixed bottom-6 right-6 z-[100] bg-slate-900 text-white p-4 rounded-xl shadow-2xl border border-slate-700 flex flex-col gap-3 max-w-sm animate-in slide-in-from-bottom-4",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-sm",children:i?"App ready to work offline":r?"New content available, click on reload button to update.":"Development Mode"}),!r&&!i&&l.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Auto-checks for updates every 5 seconds",e?"  Ctrl+Shift+R or use forceAppUpdate() in console":""]})]}),!e&&l.jsx("button",{onClick:u,className:"text-slate-400 hover:text-white",children:l.jsx(Kt,{size:16})})]}),l.jsxs("div",{className:"flex gap-2",children:[r&&l.jsxs("button",{onClick:()=>c(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors flex-1",children:[l.jsx(Dv,{size:16})," Reload & Update"]}),e&&l.jsxs("button",{onClick:d,disabled:t,className:"bg-green-600 hover:bg-green-700 disabled:bg-green-800 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors flex-1",children:[l.jsx(mu,{size:16,className:t?"animate-spin":""}),t?"Checking...":"Check Updates"]})]})]})};var V4={};const $4=({isOpen:e,onClose:t,currentUser:a,t:i})=>{const[s,r]=V.useState([]),[o,c]=V.useState(""),[u,d]=V.useState(!1),[p,f]=V.useState(!1),m=V.useRef(null),h=V.useRef(null),x=()=>{var k;(k=m.current)==null||k.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>{var k;e&&(b(),(k=h.current)==null||k.focus(),a&&"serviceWorker"in navigator&&"PushManager"in window&&y())},[e,a]),V.useEffect(()=>{x()},[s]),V.useEffect(()=>{const k=M=>{((a==null?void 0:a.role)==="ADMIN"||M.userId===(a==null?void 0:a.id)||!a&&!M.userId)&&r(A=>A.some(I=>I.id===M.id)?A:[...A,M])};return Qe.on("new_support_message",k),()=>{Qe.off("new_support_message",k)}},[a]);const b=async()=>{if(a){d(!0);try{const M=await(await fetch("/api/support/messages",{headers:{Authorization:`Bearer ${localStorage.getItem("snapify_token")}`}})).json();r(M)}catch(k){console.error("Failed to load support messages:",k)}finally{d(!1)}}},S=async()=>{if(!(!o.trim()||p)){f(!0);try{const k=await fetch("/api/support/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:a?`Bearer ${localStorage.getItem("snapify_token")}`:void 0},body:JSON.stringify({message:o.trim()})});k.ok?c(""):console.error("Failed to send message:",k.statusText)}catch(k){console.error("Failed to send message:",k)}finally{f(!1)}}},g=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),S())},y=async()=>{try{const M=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:w(V4.VITE_VAPID_PUBLIC_KEY||"")});await fetch("/api/push/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("snapify_token")}`},body:JSON.stringify({subscription:M})})}catch(k){console.warn("Push notification subscription failed:",k)}},w=k=>{const M="=".repeat((4-k.length%4)%4),A=(k+M).replace(/-/g,"+").replace(/_/g,"/"),I=window.atob(A),j=new Uint8Array(I.length);for(let N=0;N<I.length;++N)j[N]=I.charCodeAt(N);return j},E=k=>new Date(k).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e?l.jsx("div",{className:"fixed inset-0 z-[100] flex items-end justify-center p-4 pointer-events-none",children:l.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl border border-slate-200 pointer-events-auto max-h-[80vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-indigo-100 p-2 rounded-full",children:l.jsx($i,{className:"w-5 h-5 text-indigo-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-900",children:"Support Chat"}),l.jsx("p",{className:"text-xs text-slate-500",children:(a==null?void 0:a.role)==="ADMIN"?"Administrator":"Get help from our team"})]})]}),l.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 p-1",children:l.jsx(Kt,{size:20})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[u?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"})}):s.length===0?l.jsxs("div",{className:"text-center py-8 text-slate-500",children:[l.jsx($i,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),l.jsx("p",{className:"text-sm",children:"No messages yet. How can we help you?"})]}):s.map(k=>l.jsx("div",{className:`flex ${k.isFromAdmin?"justify-start":"justify-end"}`,children:l.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${k.isFromAdmin?"bg-slate-100 text-slate-900":"bg-indigo-600 text-white"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[k.isFromAdmin?l.jsx(Ev,{size:14,className:"text-slate-600"}):l.jsx(kv,{size:14,className:"opacity-80"}),l.jsx("span",{className:"text-xs font-medium opacity-75",children:k.userName}),l.jsx("span",{className:"text-xs opacity-60",children:E(k.createdAt)})]}),l.jsx("p",{className:"text-sm leading-relaxed",children:k.message})]})},k.id)),l.jsx("div",{ref:m})]}),l.jsxs("div",{className:"p-4 border-t border-slate-200",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{ref:h,type:"text",value:o,onChange:k=>c(k.target.value),onKeyPress:g,placeholder:"Type your message...",className:"flex-1 px-4 py-2 border border-slate-300 rounded-full focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm",disabled:p}),l.jsx("button",{onClick:S,disabled:!o.trim()||p,className:"bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 text-white p-2 rounded-full transition-colors disabled:cursor-not-allowed",children:l.jsx(Cl,{size:18})})]}),l.jsxs("p",{className:"text-xs text-slate-500 mt-2 text-center",children:[a?"":"Continue as guest  ","Messages are responded to during business hours"]})]})]})}):null},K4=()=>{localStorage.removeItem("snapify_device_fingerprint")};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */var Ah,nv;function av(){if(nv)return Ah;nv=1;const{entries:e,setPrototypeOf:t,isFrozen:a,getPrototypeOf:i,getOwnPropertyDescriptor:s}=Object;let{freeze:r,seal:o,create:c}=Object,{apply:u,construct:d}=typeof Reflect<"u"&&Reflect;r||(r=function(W){return W}),o||(o=function(W){return W}),u||(u=function(W,te){for(var Z=arguments.length,he=new Array(Z>2?Z-2:0),Ne=2;Ne<Z;Ne++)he[Ne-2]=arguments[Ne];return W.apply(te,he)}),d||(d=function(W){for(var te=arguments.length,Z=new Array(te>1?te-1:0),he=1;he<te;he++)Z[he-1]=arguments[he];return new W(...Z)});const p=I(Array.prototype.forEach),f=I(Array.prototype.lastIndexOf),m=I(Array.prototype.pop),h=I(Array.prototype.push),x=I(Array.prototype.splice),b=I(String.prototype.toLowerCase),S=I(String.prototype.toString),g=I(String.prototype.match),y=I(String.prototype.replace),w=I(String.prototype.indexOf),E=I(String.prototype.trim),k=I(Object.prototype.hasOwnProperty),M=I(RegExp.prototype.test),A=j(TypeError);function I(B){return function(W){W instanceof RegExp&&(W.lastIndex=0);for(var te=arguments.length,Z=new Array(te>1?te-1:0),he=1;he<te;he++)Z[he-1]=arguments[he];return u(B,W,Z)}}function j(B){return function(){for(var W=arguments.length,te=new Array(W),Z=0;Z<W;Z++)te[Z]=arguments[Z];return d(B,te)}}function N(B,W){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b;t&&t(B,null);let Z=W.length;for(;Z--;){let he=W[Z];if(typeof he=="string"){const Ne=te(he);Ne!==he&&(a(W)||(W[Z]=Ne),he=Ne)}B[he]=!0}return B}function z(B){for(let W=0;W<B.length;W++)k(B,W)||(B[W]=null);return B}function T(B){const W=c(null);for(const[te,Z]of e(B))k(B,te)&&(Array.isArray(Z)?W[te]=z(Z):Z&&typeof Z=="object"&&Z.constructor===Object?W[te]=T(Z):W[te]=Z);return W}function C(B,W){for(;B!==null;){const Z=s(B,W);if(Z){if(Z.get)return I(Z.get);if(typeof Z.value=="function")return I(Z.value)}B=i(B)}function te(){return null}return te}const v=r(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D=r(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U=r(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),H=r(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=r(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),X=r(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$=r(["#text"]),L=r(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),F=r(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ue=r(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),le=r(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),oe=o(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ue=o(/<%[\w\W]*|[\w\W]*%>/gm),Fe=o(/\$\{[\w\W]*/gm),Ee=o(/^data-[\-\w.\u00B7-\uFFFF]+$/),ke=o(/^aria-[\-\w]+$/),Ie=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Be=o(/^(?:\w+script|data):/i),jt=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Et=o(/^html$/i),_=o(/^[a-z][.\w]*(-[.\w]+)+$/i);var J=Object.freeze({__proto__:null,ARIA_ATTR:ke,ATTR_WHITESPACE:jt,CUSTOM_ELEMENT:_,DATA_ATTR:Ee,DOCTYPE_NAME:Et,ERB_EXPR:Ue,IS_ALLOWED_URI:Ie,IS_SCRIPT_OR_DATA:Be,MUSTACHE_EXPR:oe,TMPLIT_EXPR:Fe});const K={element:1,text:3,progressingInstruction:7,comment:8,document:9},O=function(){return typeof window>"u"?null:window},R=function(W,te){if(typeof W!="object"||typeof W.createPolicy!="function")return null;let Z=null;const he="data-tt-policy-suffix";te&&te.hasAttribute(he)&&(Z=te.getAttribute(he));const Ne="dompurify"+(Z?"#"+Z:"");try{return W.createPolicy(Ne,{createHTML(Te){return Te},createScriptURL(Te){return Te}})}catch{return console.warn("TrustedTypes policy "+Ne+" could not be created."),null}},Y=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Q(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O();const W=we=>Q(we);if(W.version="3.3.0",W.removed=[],!B||!B.document||B.document.nodeType!==K.document||!B.Element)return W.isSupported=!1,W;let{document:te}=B;const Z=te,he=Z.currentScript,{DocumentFragment:Ne,HTMLTemplateElement:Te,Node:At,Element:En,NodeFilter:tt,NamedNodeMap:sn=B.NamedNodeMap||B.MozNamedAttrMap,HTMLFormElement:Oe,DOMParser:Nn,trustedTypes:mn}=B,Ct=En.prototype,Un=C(Ct,"cloneNode"),Jn=C(Ct,"remove"),Ta=C(Ct,"nextSibling"),Ga=C(Ct,"childNodes"),ae=C(Ct,"parentNode");if(typeof Te=="function"){const we=te.createElement("template");we.content&&we.content.ownerDocument&&(te=we.content.ownerDocument)}let ie,de="";const{implementation:be,createNodeIterator:He,createDocumentFragment:yt,getElementsByTagName:ve}=te,{importNode:ze}=Z;let G=Y();W.isSupported=typeof e=="function"&&typeof ae=="function"&&be&&be.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ce,ERB_EXPR:ge,TMPLIT_EXPR:$e,DATA_ATTR:vt,ARIA_ATTR:rn,IS_SCRIPT_OR_DATA:Yt,ATTR_WHITESPACE:ki,CUSTOM_ELEMENT:Ti}=J;let{IS_ALLOWED_URI:ji}=J,pt=null;const gr=N({},[...v,...D,...U,...P,...$]);let _e=null;const Nt=N({},[...L,...F,...ue,...le]);let Ge=Object.seal(c(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),se=null,xe=null;const me=Object.seal(c(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Zt=!0,zt=!0,Cc=!1,Wo=!0,Ai=!1,qa=!0,ja=!1,Rc=!1,Dc=!1,Ci=!1,Xo=!1,Mc=!1,p0=!0,g0=!1;const uN="user-content-";let gf=!0,Zo=!1,xr={},br=null;const x0=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let b0=null;const y0=N({},["audio","video","img","source","image","track"]);let xf=null;const v0=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oc="http://www.w3.org/1998/Math/MathML",Ic="http://www.w3.org/2000/svg",Ya="http://www.w3.org/1999/xhtml";let yr=Ya,bf=!1,yf=null;const dN=N({},[Oc,Ic,Ya],S);let zc=N({},["mi","mo","mn","ms","mtext"]),Lc=N({},["annotation-xml"]);const fN=N({},["title","style","font","a","script"]);let Qo=null;const hN=["application/xhtml+xml","text/html"],mN="text/html";let Qt=null,vr=null;const pN=te.createElement("form"),S0=function(q){return q instanceof RegExp||q instanceof Function},vf=function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(vr&&vr===q)){if((!q||typeof q!="object")&&(q={}),q=T(q),Qo=hN.indexOf(q.PARSER_MEDIA_TYPE)===-1?mN:q.PARSER_MEDIA_TYPE,Qt=Qo==="application/xhtml+xml"?S:b,pt=k(q,"ALLOWED_TAGS")?N({},q.ALLOWED_TAGS,Qt):gr,_e=k(q,"ALLOWED_ATTR")?N({},q.ALLOWED_ATTR,Qt):Nt,yf=k(q,"ALLOWED_NAMESPACES")?N({},q.ALLOWED_NAMESPACES,S):dN,xf=k(q,"ADD_URI_SAFE_ATTR")?N(T(v0),q.ADD_URI_SAFE_ATTR,Qt):v0,b0=k(q,"ADD_DATA_URI_TAGS")?N(T(y0),q.ADD_DATA_URI_TAGS,Qt):y0,br=k(q,"FORBID_CONTENTS")?N({},q.FORBID_CONTENTS,Qt):x0,se=k(q,"FORBID_TAGS")?N({},q.FORBID_TAGS,Qt):T({}),xe=k(q,"FORBID_ATTR")?N({},q.FORBID_ATTR,Qt):T({}),xr=k(q,"USE_PROFILES")?q.USE_PROFILES:!1,Zt=q.ALLOW_ARIA_ATTR!==!1,zt=q.ALLOW_DATA_ATTR!==!1,Cc=q.ALLOW_UNKNOWN_PROTOCOLS||!1,Wo=q.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ai=q.SAFE_FOR_TEMPLATES||!1,qa=q.SAFE_FOR_XML!==!1,ja=q.WHOLE_DOCUMENT||!1,Ci=q.RETURN_DOM||!1,Xo=q.RETURN_DOM_FRAGMENT||!1,Mc=q.RETURN_TRUSTED_TYPE||!1,Dc=q.FORCE_BODY||!1,p0=q.SANITIZE_DOM!==!1,g0=q.SANITIZE_NAMED_PROPS||!1,gf=q.KEEP_CONTENT!==!1,Zo=q.IN_PLACE||!1,ji=q.ALLOWED_URI_REGEXP||Ie,yr=q.NAMESPACE||Ya,zc=q.MATHML_TEXT_INTEGRATION_POINTS||zc,Lc=q.HTML_INTEGRATION_POINTS||Lc,Ge=q.CUSTOM_ELEMENT_HANDLING||{},q.CUSTOM_ELEMENT_HANDLING&&S0(q.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ge.tagNameCheck=q.CUSTOM_ELEMENT_HANDLING.tagNameCheck),q.CUSTOM_ELEMENT_HANDLING&&S0(q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ge.attributeNameCheck=q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),q.CUSTOM_ELEMENT_HANDLING&&typeof q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ge.allowCustomizedBuiltInElements=q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ai&&(zt=!1),Xo&&(Ci=!0),xr&&(pt=N({},$),_e=[],xr.html===!0&&(N(pt,v),N(_e,L)),xr.svg===!0&&(N(pt,D),N(_e,F),N(_e,le)),xr.svgFilters===!0&&(N(pt,U),N(_e,F),N(_e,le)),xr.mathMl===!0&&(N(pt,P),N(_e,ue),N(_e,le))),q.ADD_TAGS&&(typeof q.ADD_TAGS=="function"?me.tagCheck=q.ADD_TAGS:(pt===gr&&(pt=T(pt)),N(pt,q.ADD_TAGS,Qt))),q.ADD_ATTR&&(typeof q.ADD_ATTR=="function"?me.attributeCheck=q.ADD_ATTR:(_e===Nt&&(_e=T(_e)),N(_e,q.ADD_ATTR,Qt))),q.ADD_URI_SAFE_ATTR&&N(xf,q.ADD_URI_SAFE_ATTR,Qt),q.FORBID_CONTENTS&&(br===x0&&(br=T(br)),N(br,q.FORBID_CONTENTS,Qt)),gf&&(pt["#text"]=!0),ja&&N(pt,["html","head","body"]),pt.table&&(N(pt,["tbody"]),delete se.tbody),q.TRUSTED_TYPES_POLICY){if(typeof q.TRUSTED_TYPES_POLICY.createHTML!="function")throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof q.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ie=q.TRUSTED_TYPES_POLICY,de=ie.createHTML("")}else ie===void 0&&(ie=R(mn,he)),ie!==null&&typeof de=="string"&&(de=ie.createHTML(""));r&&r(q),vr=q}},_0=N({},[...D,...U,...H]),w0=N({},[...P,...X]),gN=function(q){let fe=ae(q);(!fe||!fe.tagName)&&(fe={namespaceURI:yr,tagName:"template"});const ye=b(q.tagName),kt=b(fe.tagName);return yf[q.namespaceURI]?q.namespaceURI===Ic?fe.namespaceURI===Ya?ye==="svg":fe.namespaceURI===Oc?ye==="svg"&&(kt==="annotation-xml"||zc[kt]):!!_0[ye]:q.namespaceURI===Oc?fe.namespaceURI===Ya?ye==="math":fe.namespaceURI===Ic?ye==="math"&&Lc[kt]:!!w0[ye]:q.namespaceURI===Ya?fe.namespaceURI===Ic&&!Lc[kt]||fe.namespaceURI===Oc&&!zc[kt]?!1:!w0[ye]&&(fN[ye]||!_0[ye]):!!(Qo==="application/xhtml+xml"&&yf[q.namespaceURI]):!1},Aa=function(q){h(W.removed,{element:q});try{ae(q).removeChild(q)}catch{Jn(q)}},Es=function(q,fe){try{h(W.removed,{attribute:fe.getAttributeNode(q),from:fe})}catch{h(W.removed,{attribute:null,from:fe})}if(fe.removeAttribute(q),q==="is")if(Ci||Xo)try{Aa(fe)}catch{}else try{fe.setAttribute(q,"")}catch{}},E0=function(q){let fe=null,ye=null;if(Dc)q="<remove></remove>"+q;else{const Bt=g(q,/^[\r\n\t ]+/);ye=Bt&&Bt[0]}Qo==="application/xhtml+xml"&&yr===Ya&&(q='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+q+"</body></html>");const kt=ie?ie.createHTML(q):q;if(yr===Ya)try{fe=new Nn().parseFromString(kt,Qo)}catch{}if(!fe||!fe.documentElement){fe=be.createDocument(yr,"template",null);try{fe.documentElement.innerHTML=bf?de:kt}catch{}}const pn=fe.body||fe.documentElement;return q&&ye&&pn.insertBefore(te.createTextNode(ye),pn.childNodes[0]||null),yr===Ya?ve.call(fe,ja?"html":"body")[0]:ja?fe.documentElement:pn},N0=function(q){return He.call(q.ownerDocument||q,q,tt.SHOW_ELEMENT|tt.SHOW_COMMENT|tt.SHOW_TEXT|tt.SHOW_PROCESSING_INSTRUCTION|tt.SHOW_CDATA_SECTION,null)},Sf=function(q){return q instanceof Oe&&(typeof q.nodeName!="string"||typeof q.textContent!="string"||typeof q.removeChild!="function"||!(q.attributes instanceof sn)||typeof q.removeAttribute!="function"||typeof q.setAttribute!="function"||typeof q.namespaceURI!="string"||typeof q.insertBefore!="function"||typeof q.hasChildNodes!="function")},k0=function(q){return typeof At=="function"&&q instanceof At};function Va(we,q,fe){p(we,ye=>{ye.call(W,q,fe,vr)})}const T0=function(q){let fe=null;if(Va(G.beforeSanitizeElements,q,null),Sf(q))return Aa(q),!0;const ye=Qt(q.nodeName);if(Va(G.uponSanitizeElement,q,{tagName:ye,allowedTags:pt}),qa&&q.hasChildNodes()&&!k0(q.firstElementChild)&&M(/<[/\w!]/g,q.innerHTML)&&M(/<[/\w!]/g,q.textContent)||q.nodeType===K.progressingInstruction||qa&&q.nodeType===K.comment&&M(/<[/\w]/g,q.data))return Aa(q),!0;if(!(me.tagCheck instanceof Function&&me.tagCheck(ye))&&(!pt[ye]||se[ye])){if(!se[ye]&&A0(ye)&&(Ge.tagNameCheck instanceof RegExp&&M(Ge.tagNameCheck,ye)||Ge.tagNameCheck instanceof Function&&Ge.tagNameCheck(ye)))return!1;if(gf&&!br[ye]){const kt=ae(q)||q.parentNode,pn=Ga(q)||q.childNodes;if(pn&&kt){const Bt=pn.length;for(let kn=Bt-1;kn>=0;--kn){const $a=Un(pn[kn],!0);$a.__removalCount=(q.__removalCount||0)+1,kt.insertBefore($a,Ta(q))}}}return Aa(q),!0}return q instanceof En&&!gN(q)||(ye==="noscript"||ye==="noembed"||ye==="noframes")&&M(/<\/no(script|embed|frames)/i,q.innerHTML)?(Aa(q),!0):(Ai&&q.nodeType===K.text&&(fe=q.textContent,p([ce,ge,$e],kt=>{fe=y(fe,kt," ")}),q.textContent!==fe&&(h(W.removed,{element:q.cloneNode()}),q.textContent=fe)),Va(G.afterSanitizeElements,q,null),!1)},j0=function(q,fe,ye){if(p0&&(fe==="id"||fe==="name")&&(ye in te||ye in pN))return!1;if(!(zt&&!xe[fe]&&M(vt,fe))){if(!(Zt&&M(rn,fe))){if(!(me.attributeCheck instanceof Function&&me.attributeCheck(fe,q))){if(!_e[fe]||xe[fe]){if(!(A0(q)&&(Ge.tagNameCheck instanceof RegExp&&M(Ge.tagNameCheck,q)||Ge.tagNameCheck instanceof Function&&Ge.tagNameCheck(q))&&(Ge.attributeNameCheck instanceof RegExp&&M(Ge.attributeNameCheck,fe)||Ge.attributeNameCheck instanceof Function&&Ge.attributeNameCheck(fe,q))||fe==="is"&&Ge.allowCustomizedBuiltInElements&&(Ge.tagNameCheck instanceof RegExp&&M(Ge.tagNameCheck,ye)||Ge.tagNameCheck instanceof Function&&Ge.tagNameCheck(ye))))return!1}else if(!xf[fe]){if(!M(ji,y(ye,ki,""))){if(!((fe==="src"||fe==="xlink:href"||fe==="href")&&q!=="script"&&w(ye,"data:")===0&&b0[q])){if(!(Cc&&!M(Yt,y(ye,ki,"")))){if(ye)return!1}}}}}}}return!0},A0=function(q){return q!=="annotation-xml"&&g(q,Ti)},C0=function(q){Va(G.beforeSanitizeAttributes,q,null);const{attributes:fe}=q;if(!fe||Sf(q))return;const ye={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_e,forceKeepAttr:void 0};let kt=fe.length;for(;kt--;){const pn=fe[kt],{name:Bt,namespaceURI:kn,value:$a}=pn,Sr=Qt(Bt),_f=$a;let on=Bt==="value"?_f:E(_f);if(ye.attrName=Sr,ye.attrValue=on,ye.keepAttr=!0,ye.forceKeepAttr=void 0,Va(G.uponSanitizeAttribute,q,ye),on=ye.attrValue,g0&&(Sr==="id"||Sr==="name")&&(Es(Bt,q),on=uN+on),qa&&M(/((--!?|])>)|<\/(style|title|textarea)/i,on)){Es(Bt,q);continue}if(Sr==="attributename"&&g(on,"href")){Es(Bt,q);continue}if(ye.forceKeepAttr)continue;if(!ye.keepAttr){Es(Bt,q);continue}if(!Wo&&M(/\/>/i,on)){Es(Bt,q);continue}Ai&&p([ce,ge,$e],D0=>{on=y(on,D0," ")});const R0=Qt(q.nodeName);if(!j0(R0,Sr,on)){Es(Bt,q);continue}if(ie&&typeof mn=="object"&&typeof mn.getAttributeType=="function"&&!kn)switch(mn.getAttributeType(R0,Sr)){case"TrustedHTML":{on=ie.createHTML(on);break}case"TrustedScriptURL":{on=ie.createScriptURL(on);break}}if(on!==_f)try{kn?q.setAttributeNS(kn,Bt,on):q.setAttribute(Bt,on),Sf(q)?Aa(q):m(W.removed)}catch{Es(Bt,q)}}Va(G.afterSanitizeAttributes,q,null)},xN=function we(q){let fe=null;const ye=N0(q);for(Va(G.beforeSanitizeShadowDOM,q,null);fe=ye.nextNode();)Va(G.uponSanitizeShadowNode,fe,null),T0(fe),C0(fe),fe.content instanceof Ne&&we(fe.content);Va(G.afterSanitizeShadowDOM,q,null)};return W.sanitize=function(we){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=null,ye=null,kt=null,pn=null;if(bf=!we,bf&&(we="<!-->"),typeof we!="string"&&!k0(we))if(typeof we.toString=="function"){if(we=we.toString(),typeof we!="string")throw A("dirty is not a string, aborting")}else throw A("toString is not a function");if(!W.isSupported)return we;if(Rc||vf(q),W.removed=[],typeof we=="string"&&(Zo=!1),Zo){if(we.nodeName){const $a=Qt(we.nodeName);if(!pt[$a]||se[$a])throw A("root node is forbidden and cannot be sanitized in-place")}}else if(we instanceof At)fe=E0("<!---->"),ye=fe.ownerDocument.importNode(we,!0),ye.nodeType===K.element&&ye.nodeName==="BODY"||ye.nodeName==="HTML"?fe=ye:fe.appendChild(ye);else{if(!Ci&&!Ai&&!ja&&we.indexOf("<")===-1)return ie&&Mc?ie.createHTML(we):we;if(fe=E0(we),!fe)return Ci?null:Mc?de:""}fe&&Dc&&Aa(fe.firstChild);const Bt=N0(Zo?we:fe);for(;kt=Bt.nextNode();)T0(kt),C0(kt),kt.content instanceof Ne&&xN(kt.content);if(Zo)return we;if(Ci){if(Xo)for(pn=yt.call(fe.ownerDocument);fe.firstChild;)pn.appendChild(fe.firstChild);else pn=fe;return(_e.shadowroot||_e.shadowrootmode)&&(pn=ze.call(Z,pn,!0)),pn}let kn=ja?fe.outerHTML:fe.innerHTML;return ja&&pt["!doctype"]&&fe.ownerDocument&&fe.ownerDocument.doctype&&fe.ownerDocument.doctype.name&&M(Et,fe.ownerDocument.doctype.name)&&(kn="<!DOCTYPE "+fe.ownerDocument.doctype.name+`>
`+kn),Ai&&p([ce,ge,$e],$a=>{kn=y(kn,$a," ")}),ie&&Mc?ie.createHTML(kn):kn},W.setConfig=function(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vf(we),Rc=!0},W.clearConfig=function(){vr=null,Rc=!1},W.isValidAttribute=function(we,q,fe){vr||vf({});const ye=Qt(we),kt=Qt(q);return j0(ye,kt,fe)},W.addHook=function(we,q){typeof q=="function"&&h(G[we],q)},W.removeHook=function(we,q){if(q!==void 0){const fe=f(G[we],q);return fe===-1?void 0:x(G[we],fe,1)[0]}return m(G[we])},W.removeHooks=function(we){G[we]=[]},W.removeAllHooks=function(){G=Y()},W}var ee=Q();return Ah=ee,Ah}var W4=self.DOMPurify||(self.DOMPurify=av().default||av());const X4=Md(W4),Z4=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)&&e.length<=254,iv=e=>e.length>=2&&e.length<=50&&/^[a-zA-Z\s\-']+$/.test(e),Q4=e=>e.length>=8&&e.length<=128,J4=e=>e.length>=1&&e.length<=100,ez=e=>e.length<=500,Ch=e=>typeof e!="string"?"":X4.sanitize(e.trim(),{ALLOWED_TAGS:[]}),sv=async(e={})=>{const{clearLocalStorage:t=!1,clearSessionStorage:a=!1,clearServiceWorker:i=!0,reloadData:s=!1}=e;if(t&&localStorage.clear(),a&&sessionStorage.clear(),i&&"serviceWorker"in navigator&&"caches"in window)try{const r=await navigator.serviceWorker.getRegistrations();for(const c of r)await c.unregister();const o=await caches.keys();await Promise.all(o.map(c=>caches.delete(c)))}catch{}s&&window.location.reload()},tz={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"admin@skytech.mk",VITE_ADMIN_PASSWORD:"Nanaipi123@",VITE_API_URL:"https://snapify.skytech.mk",VITE_GEMINI_API_KEY:"AIzaSyA0TYo3zhiQNyoDN-LgyuIR5IX7KR_OXww",VITE_GOOGLE_CLIENT_ID:"223882036926-6dibdklep37f9853o2p0ema52vloh6tq.apps.googleusercontent.com",VITE_MINIO_CONTAINER_SIZE_MB:"21504",VITE_OLLAMA_MODEL:"phi4:latest",VITE_OLLAMA_URL:"http://192.168.20.30:11434"},Rh=tz||{},Dh="",nz=(e,t)=>{try{localStorage.setItem(e,t)}catch(a){console.warn("Failed to save to localStorage:",a)}},az=e=>{try{return localStorage.getItem(e)||""}catch{return""}},iz=e=>{try{localStorage.removeItem(e)}catch{}};function sz(){const[e,t]=V.useState("landing"),[a,i]=V.useState(null),[s,r]=V.useState([]),[o,c]=V.useState(null),[u,d]=V.useState([]),[p,f]=V.useState(!1),[m,h]=V.useState("en"),[x,b]=V.useState(""),[S,g]=V.useState(()=>az("snapify_guest_name")||""),[y,w]=V.useState(!1),[E,k]=V.useState(null),[M,A]=V.useState("upload"),[I,j]=V.useState(!1),[N,z]=V.useState(!1),[T,C]=V.useState(void 0),[v,D]=V.useState(!1),[U,H]=V.useState(!1),[P,X]=V.useState(!1),[$,L]=V.useState(null),[F,ue]=V.useState(!1),[le,oe]=V.useState(0),[Ue,Fe]=V.useState([]),[Ee,ke]=V.useState(!1),Ie=V.useRef(null),Be=V.useRef(null);V.useEffect(()=>{a&&localStorage.setItem("snapify_user_obj",JSON.stringify(a))},[a]),V.useEffect(()=>{const ae=()=>{if(!document.hidden){const ve=localStorage.getItem("snapify_token");Qe.connect(ve||void 0)}};if(!document.hidden){const ve=localStorage.getItem("snapify_token");Qe.connect(ve||void 0)}document.addEventListener("visibilitychange",ae);let ie=0;const de=async()=>{const ve=Date.now();if(ve-ie<3e4){console.log("Ignoring rapid reload request");return}if(ie=ve,"serviceWorker"in navigator){const ze=await navigator.serviceWorker.getRegistrations();for(const G of ze)await G.unregister()}"caches"in window&&(await caches.keys()).forEach(G=>caches.delete(G)),window.location.reload()};Qe.on("force_client_reload",de);const be=ve=>{Fe(ze=>ze.find(ce=>ce.adminId===ve.adminId)?ze.map(ce=>ce.adminId===ve.adminId?ve:ce):[...ze,ve])};Qe.on("admin_status_update",be);const He=async ve=>{console.log("Cache invalidation received:",ve),ve.type==="full_reset"?(await sv({clearLocalStorage:!0,clearServiceWorker:!0}),r([]),c(null),i(null),d([]),g(""),jt()):ve.type==="force_refresh"&&(await sv({clearServiceWorker:!0}),console.log("Admin triggered data refresh"),jt())};return Qe.on("cache_invalidate",He),(async()=>{try{const ze=await(await fetch(`${Dh}/api/admin/status`)).json();Fe(ze.admins||[])}catch(ve){console.warn("Failed to load admin status:",ve)}})(),()=>{document.removeEventListener("visibilitychange",ae),Qe.off("force_client_reload",de),Qe.off("admin_status_update",be),Qe.off("cache_invalidate",He)}},[]),V.useEffect(()=>{if(a!=null&&a.id){const ae=ie=>{ie.id===a.id&&i(de=>de?{...de,...ie}:null),d(de=>de.map(be=>be.id===ie.id?{...be,...ie}:be))};return Qe.on("user_updated",ae),()=>{Qe.off("user_updated",ae)}}},[a==null?void 0:a.id]);const jt=async()=>{try{const ae=localStorage.getItem("snapify_token"),ie=localStorage.getItem("snapify_user_id");let de=null,be=!1;if(ae&&ie)try{const ve=localStorage.getItem("snapify_user_obj");if(ve&&(de=JSON.parse(ve),i(de),be=!0),be){const ze=await it.fetchEvents();if(r(ze),(de==null?void 0:de.role)===st.ADMIN){const G=await it.fetchUsers();d(G)}}}catch(ve){console.warn("Auth validation failed, logging out:",ve),Jn(),de=null,be=!1}const yt=new URLSearchParams(window.location.search).get("event");if(yt)try{const ve=await it.fetchEventById(yt);if(ve){r(ze=>ze.find(G=>G.id===yt)?ze:[...ze,ve]),c(yt),t("event"),J(yt,[ve]);return}}catch(ve){console.warn("Failed to load shared event:",ve)}t(be&&de?de.role===st.ADMIN?"admin":"dashboard":"landing")}catch(ae){console.error("Error in loadInitialData:",ae),t("landing")}};V.useEffect(()=>{jt();const ae=()=>{if(window.google&&Rh.VITE_GOOGLE_CLIENT_ID&&!window.googleSignInInitialized)try{window.google.accounts.id.initialize({client_id:Rh.VITE_GOOGLE_CLIENT_ID,callback:Et}),window.googleSignInInitialized=!0}catch(ie){console.warn("Google Sign-In initialization failed:",ie)}};if(window.google)ae();else{const ie=setInterval(()=>{window.google&&(ae(),clearInterval(ie))},500);setTimeout(()=>clearInterval(ie),15e3)}},[]);const Et=async ae=>{try{const ie=ae.credential;try{const de=await it.googleLogin(ie);_(de.user,de.token)}catch{b("Authentication failed")}}catch{b(jh[m].authErrorInvalid)}},_=async(ae,ie)=>{i(ae),localStorage.setItem("snapify_token",ie),localStorage.setItem("snapify_user_id",ae.id),localStorage.setItem("snapify_user_obj",JSON.stringify(ae));try{const de=await it.fetchEvents();r(de);const He=new URLSearchParams(window.location.search).get("event");if(He)if(de.find(ve=>ve.id===He))c(He),t("event");else try{const ve=await it.fetchEventById(He);r(ze=>[...ze,ve]),c(He),t("event")}catch{t("dashboard")}else ae.role===st.ADMIN?(it.fetchUsers().then(d),t("admin")):t("dashboard")}catch{t("dashboard")}},J=async(ae,ie)=>{const de=ie.map(be=>be.id===ae?{...be,views:(be.views||0)+1}:be);r(de),await fetch(`${Dh}/api/events/${ae}/view`,{method:"POST"})};V.useEffect(()=>{localStorage.setItem("snapify_lang",m)},[m]);const K=ae=>jh[m][ae]||jh.en[ae]||ae,O=ae=>h(ae),R=s.find(ae=>ae.id===o),Y=a&&R&&a.id===R.hostId,Q=R!=null&&R.expiresAt?new Date>new Date(R.expiresAt):!1,ee=u.find(ae=>ae.id===(R==null?void 0:R.hostId))||((a==null?void 0:a.id)===(R==null?void 0:R.hostId)?a:void 0),B=(ee==null?void 0:ee.role)===st.PHOTOGRAPHER,W=async(ae,ie)=>{if(!p){b(""),f(!0);try{const{email:de,password:be,name:He,isPhotographer:yt,studioName:ve}=ae;if(!de||!be)return b(K("authErrorRequired"));if(!Z4(de))return b(K("authErrorInvalidEmail"));if(!Q4(be))return b(K("authErrorPasswordLength"));if(ie){if(!He||!iv(He))return b(K("authErrorNameRequired"));const ze=Ch(He),G=yt&&ve?Ch(ve):void 0,ce={id:`user-${Date.now()}`,name:ze,email:de.toLowerCase().trim(),role:st.USER,tier:We.FREE,storageUsedMb:0,storageLimitMb:100,joinedDate:new Date().toISOString().split("T")[0],studioName:G},ge=await it.createUser(ce);await _(ge.user,ge.token)}else{const ze=await it.login(de.toLowerCase().trim(),be);await _(ze.user,ze.token)}}catch{b(K("authErrorInvalid"))}finally{f(!1)}}},te=ae=>{var de,be;if(!iv(ae)){alert(K("authErrorNameRequired"));return}const ie=Ch(ae);g(ie),nz("snapify_guest_name",ie),w(!1),o&&t("event"),E==="camera"?(de=Be.current)==null||de.click():E==="upload"&&((be=Ie.current)==null||be.click()),k(null)},Z=()=>{w(!1),t("landing")},he=async ae=>{if(!a)return;const{title:ie,date:de,theme:be,description:He,pin:yt,adminOptions:ve}=ae;if(!J4(ie)){alert("Event title must be 1-100 characters long");return}if(!ez(He)){alert("Event description must be less than 500 characters");return}let ze=null;const G=new Date().getTime();if(a.role===st.ADMIN&&ve){const{expiryType:ge,durationValue:$e,durationUnit:vt}=ve;if(ge==="unlimited")ze=null;else if(ge==="custom"){let rn=1e3;vt==="minutes"&&(rn=60*1e3),vt==="hours"&&(rn=60*60*1e3),vt==="days"&&(rn=24*60*60*1e3),ze=new Date(G+$e*rn).toISOString()}else{const rn=parseInt(ge.replace("d",""));ze=new Date(G+(rn||30)*24*60*60*1e3).toISOString()}}else{const ge=Th(a);ge.maxDurationDays===null?ze=null:a.tier===We.FREE&&ge.maxDurationHours?ze=new Date(G+ge.maxDurationHours*60*60*1e3).toISOString():ze=new Date(G+(ge.maxDurationDays||30)*24*60*60*1e3).toISOString()}const ce={id:crypto.randomUUID(),title:ie,date:de,description:He,hostId:a.id,code:Math.random().toString(36).substring(2,8).toUpperCase(),media:[],expiresAt:ze,pin:yt,views:0,downloads:0};try{const ge=await it.createEvent(ce);r($e=>[ge,...$e]),j(!1),c(ge.id),t("event")}catch{alert("Failed to create event")}},Ne=async ae=>{await it.updateEvent(ae),r(ie=>ie.map(de=>de.id===ae.id?ae:de))},Te=async ae=>{if(!o||!R)return;const ie={...R,coverImage:ae.url,coverMediaType:ae.type};await it.updateEvent(ie),r(de=>de.map(be=>be.id===o?ie:be)),alert(K("coverSet"))},At=async ae=>{o&&(r(ie=>ie.map(de=>de.id===o?{...de,media:de.media.map(be=>be.id===ae.id?{...be,likes:(be.likes||0)+1}:be)}:de)),await it.likeMedia(ae.id))},En=async ae=>{await it.deleteEvent(ae),r(ie=>ie.filter(de=>de.id!==ae)),o===ae&&c(null)},tt=async ae=>{const ie=Gn[ae.tier].storageLimitMb,de={...ae,storageLimitMb:ie};await it.updateUser(de),d(be=>be.map(He=>He.id===ae.id?de:He)),a&&a.id===ae.id&&(i(de),localStorage.setItem("snapify_user_obj",JSON.stringify(de)))},sn=async(ae,ie)=>{await it.deleteMedia(ie),r(de=>de.map(be=>be.id===ae?{...be,media:be.media.filter(He=>He.id!==ie)}:be))},Oe=async ae=>{if(!a)return;const ie={...a,...ae};await it.updateUser(ie),i(ie),d(de=>de.map(be=>be.id===a.id?ie:be)),localStorage.setItem("snapify_user_obj",JSON.stringify(ie))},Nn=ae=>{var ie,de;A(ae),a||S?ae==="camera"?(ie=Be.current)==null||ie.click():(de=Ie.current)==null||de.click():(k(ae),w(!0))},mn=ae=>{if(!ae.target.files||!ae.target.files[0]||!R)return;const ie=ae.target.files[0],de=ie.type.startsWith("video")?"video":"image",be=URL.createObjectURL(ie);L({type:de,src:be,file:ie})},Ct=async(ae,ie)=>{if(!(!R||!$)){ue(!0),oe(0);try{const{type:de,src:be,file:He}=$,yt=a?Gn[a.tier].allowBranding&&a.studioName?a.studioName:a.name:S||"Guest";if(de==="video"){let Yt;if(a&&R.hostId===a.id?Yt=Th(a):R.hostTier?Yt=b4(R.hostTier):Yt=Gn[We.FREE],!Yt.allowVideo){alert(K("videoRestricted")),ue(!1);return}}const ve=He?He.size/(1024*1024):0;a&&a.storageLimitMb!==-1&&a.storageUsedMb+ve>a.storageLimitMb;let ze=ae;!ze&&de==="image"&&(ze=await it.generateImageCaption(be));const G=a?Th(a):Gn[We.FREE],ce=(a==null?void 0:a.role)===st.PHOTOGRAPHER&&G.allowWatermark,ge=a?Gn[a.tier].allowBranding:!1,$e=U&&ce;let vt=He;if($e&&de==="image"&&a||!He&&de==="image"){let Yt=be;$e&&a&&(Yt=await ev(be,ge&&a.studioName||null,ge&&a.logoUrl||null,ge?a.watermarkOpacity:void 0,ge?a.watermarkSize:void 0,ge?a.watermarkPosition:void 0,ge?a.watermarkOffsetX:void 0,ge?a.watermarkOffsetY:void 0));const Ti=await(await fetch(Yt)).blob();vt=new File([Ti],"capture.jpg",{type:"image/jpeg"})}const rn={id:`media-${Date.now()}`,type:de,caption:ze,uploadedAt:new Date().toISOString(),uploaderName:yt,uploaderId:a?a.id:`guest-${S}-${Date.now()}`,isWatermarked:$e,watermarkText:$e&&ge?a==null?void 0:a.studioName:void 0,privacy:ie};vt&&(console.log("Starting upload:",{source:He?"photo_library":"camera_capture",fileSize:vt.size,fileType:vt.type,fileName:vt.name,metadata:rn}),await it.uploadMedia(vt,rn,R.id,Yt=>{oe(Yt)})),L(null),Ie.current&&(Ie.current.value=""),Be.current&&(Be.current.value="")}catch(de){console.error("Upload failed",de),de.message==="Storage limit exceeded"||de.response&&de.response.status===413?alert(K("storageLimit")):alert("Upload failed. Please try again.")}finally{ue(!1),oe(0)}}},Un=async ae=>{if(!(!ae||ae.media.length===0)){X(!0);try{const ie=new x4,de=ie.folder(ae.title.replace(/[^a-z0-9]/gi,"_")),be=u.find(ce=>ce.id===ae.hostId),He=!be||be.tier===We.FREE,yt=async ce=>{const ge=ce.startsWith("http")||ce.startsWith("data:")?ce:`${Rh.VITE_API_URL||""}${ce}`;return(await fetch(ge)).blob()},ve=ce=>new Promise(ge=>{const $e=new FileReader;$e.onloadend=()=>ge($e.result),$e.readAsDataURL(ce)});for(const ce of ae.media){const ge=`${ce.id}.${ce.type==="video"?"mp4":"jpg"}`;if(!ce.url)continue;let $e=await yt(ce.url);if(He&&ce.type==="image")try{const vt=await ve($e),Yt=(await ev(vt,"SnapifY",null,.5,30,"center",0,0)).split(",")[1];de&&de.file(ge,Yt,{base64:!0});continue}catch(vt){console.warn("Failed to watermark image for zip",vt)}de&&de.file(ge,$e)}const ze=await ie.generateAsync({type:"blob"}),G=document.createElement("a");G.href=URL.createObjectURL(ze),G.download=`${ae.title.replace(/[^a-z0-9]/gi,"_")}_memories.zip`,document.body.appendChild(G),G.click(),document.body.removeChild(G),await it.updateEvent({...ae,downloads:(ae.downloads||0)+1}),r(ce=>ce.map(ge=>ge.id===ae.id?{...ge,downloads:(ge.downloads||0)+1}:ge))}catch{alert(K("zipError"))}finally{X(!1)}}},Jn=async()=>{if(a)try{await fetch(`${Dh}/api/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("snapify_token")}`,"Content-Type":"application/json"}})}catch(ae){console.warn("Logout API call failed:",ae)}if(i(null),g(""),t("landing"),c(null),localStorage.removeItem("snapify_token"),localStorage.removeItem("snapify_user_id"),localStorage.removeItem("snapify_user_obj"),iz("snapify_guest_name"),K4(),typeof window<"u"){const ae=new URL(window.location.href);ae.search="",window.history.pushState({},"",ae.toString()),window.location.href="/"}},Ta=()=>{if(e==="event"){c(null);const ae=new URL(window.location.href);ae.searchParams.has("event")&&(ae.searchParams.delete("event"),window.history.replaceState({},"",ae.toString())),t(a?a.role===st.ADMIN?"admin":"dashboard":"landing")}else(e==="dashboard"||e==="admin")&&Jn()},Ga=ae=>{o?alert(`Shared to SnapifY: ${ae}`):localStorage.setItem("snapify_shared_pending",ae)};return l.jsxs("div",{className:"h-[100dvh] w-full flex flex-col bg-slate-50",children:[l.jsx(G4,{t:K}),l.jsx(q4,{onShareReceive:Ga}),l.jsx(Y4,{}),l.jsxs("div",{className:"flex-shrink-0 z-50 w-full bg-slate-50/95 backdrop-blur-md border-b border-slate-200",children:[l.jsx(j4,{currentUser:a,guestName:S,view:e,currentEventTitle:R==null?void 0:R.title,language:m,onChangeLanguage:O,onLogout:Jn,onSignIn:Z,onHome:()=>{c(null),t(a?a.role===st.ADMIN?"admin":"dashboard":"landing")},onBack:Ta,onToAdmin:()=>t("admin"),onOpenSettings:()=>D(!0),t:K}),a&&l.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-3 z-60",children:[l.jsx("div",{className:"flex items-center gap-2 bg-white/90 backdrop-blur rounded-full px-3 py-1.5 shadow-sm border border-slate-200",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${Ue.some(ae=>ae.online)?"bg-green-500":"bg-red-500"}`}),l.jsx("span",{className:"text-xs font-medium text-slate-700",children:Ue.some(ae=>ae.online)?"Admin Online":"Admin Offline"})]})}),l.jsx("button",{onClick:()=>ke(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white rounded-full p-2.5 shadow-lg hover:shadow-xl transition-all",title:"Contact Support",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden scroll-smooth w-full relative no-scrollbar",children:[e==="landing"?l.jsxs("div",{className:"min-h-full w-full",children:[l.jsx(C4,{onGoogleLogin:()=>{window.google&&window.google.accounts.id.prompt()},onEmailAuth:W,onContactSales:ae=>{C(ae),z(!0)},isLoggingIn:p,authError:x,language:m,onChangeLanguage:O,t:K}),l.jsx(tv,{t:K}),N&&l.jsx(Qy,{onClose:()=>{z(!1),C(void 0)},t:K,tier:T})]}):l.jsx("div",{className:"flex flex-col min-h-full",children:l.jsxs("div",{className:"flex-1 pb-32",children:[e==="admin"&&(a==null?void 0:a.role)===st.ADMIN&&l.jsx(T4,{users:u,events:s,onClose:()=>t("dashboard"),onLogout:Jn,onDeleteUser:async ae=>{await it.deleteUser(ae),d(ie=>ie.filter(de=>de.id!==ae))},onDeleteEvent:En,onDeleteMedia:sn,onUpdateEvent:Ne,onUpdateUser:tt,onNewEvent:()=>j(!0),onDownloadEvent:Un,t:K}),e==="dashboard"&&a&&l.jsx(R4,{events:s,currentUser:a,onNewEvent:()=>j(!0),onSelectEvent:ae=>{c(ae),t("event")},onRequestUpgrade:()=>z(!0),t:K}),e==="event"&&R&&l.jsx(I4,{event:R,currentUser:a,hostUser:ee,isEventExpired:Q,isOwner:!!Y,isHostPhotographer:!!B,downloadingZip:P,applyWatermark:U,setApplyWatermark:H,onDownloadAll:ae=>Un({...R,media:ae||R.media}),onSetCover:Te,onUpload:Nn,onLike:At,onOpenLiveSlideshow:()=>t("live"),t:K},R.id)]})}),e==="live"&&R&&l.jsx(H4,{event:R,currentUser:a,hostUser:ee,onClose:()=>t("event"),t:K})]}),l.jsx(tv,{t:K}),l.jsx("input",{type:"file",ref:Ie,className:"hidden",accept:"image/*,video/*",onChange:mn}),l.jsx("input",{type:"file",ref:Be,className:"hidden",accept:"image/*",capture:"environment",onChange:mn},"camera-input-v2"),$&&l.jsx(F4,{type:$.type,src:$.src,onConfirm:Ct,onRetake:()=>{var ae,ie;L(null),M==="camera"?(ae=Be.current)==null||ae.click():(ie=Ie.current)==null||ie.click()},onCancel:()=>L(null),isUploading:F,uploadProgress:le,isRegistered:!!a,t:K,file:$.file}),l.jsx("div",{className:"fixed bottom-4 left-4 z-[9999] pointer-events-none bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-lg opacity-80",children:"v2.1 NATIVE"}),N&&l.jsx(Qy,{onClose:()=>{z(!1),C(void 0)},t:K,tier:T}),y&&l.jsx(L4,{onLogin:te,onRegister:Z,onCancel:()=>w(!1),t:K}),I&&a&&l.jsx(z4,{currentUser:a,onClose:()=>j(!1),onCreate:he,t:K}),v&&a&&l.jsx(U4,{currentUser:a,onClose:()=>D(!1),onSave:Oe,t:K}),l.jsx($4,{isOpen:Ee,onClose:()=>ke(!1),currentUser:a,t:K})]})}class rz extends V.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("ErrorBoundary caught an error:",t,a),Ig(t,{contexts:{react:{componentStack:a.componentStack}}}),this.props.onError&&this.props.onError(t,a)}render(){var t;return this.state.hasError?this.props.fallback?this.props.fallback:l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md font-medium transition-colors",children:"Refresh Page"}),l.jsxs("details",{className:"mt-4 text-left",children:[l.jsx("summary",{className:"cursor-pointer text-sm text-gray-500 hover:text-gray-700",children:"Error Details"}),l.jsx("pre",{className:"mt-2 text-xs bg-gray-100 p-2 rounded overflow-auto",children:(t=this.state.error)==null?void 0:t.message})]})]})}):this.props.children}}const oz=e=>{typeof gtag<"u"&&gtag("event",e.name,{event_category:"Web Vitals",event_label:e.id,value:Math.round(e.value),custom_map:{metric_value:e.value}})};var lz={};FI({dsn:lz.VITE_SENTRY_DSN||"https://placeholder-dsn@sentry.io/placeholder",environment:"production",integrations:[zI(),xI()],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1});const cz=new h4,cN=document.getElementById("root");if(!cN)throw new Error("Could not find root element to mount to");const uz=Nj.createRoot(cN);window.addEventListener("load",()=>{const e=performance.getEntriesByType("navigation")[0];e&&oz({name:"TTFB",value:e.responseStart-e.requestStart,id:"ttfb"})});uz.render(l.jsx(xp.StrictMode,{children:l.jsx(p4,{client:cz,children:l.jsx(rz,{children:l.jsx(sz,{})})})}));
